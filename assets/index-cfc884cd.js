var Ey=Object.defineProperty;var Cy=(e,c,x)=>c in e?Ey(e,c,{enumerable:!0,configurable:!0,writable:!0,value:x}):e[c]=x;var Qt=(e,c,x)=>(Cy(e,typeof c!="symbol"?c+"":c,x),x);(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const P of document.querySelectorAll('link[rel="modulepreload"]'))w(P);new MutationObserver(P=>{for(const F of P)if(F.type==="childList")for(const p of F.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&w(p)}).observe(document,{childList:!0,subtree:!0});function x(P){const F={};return P.integrity&&(F.integrity=P.integrity),P.referrerPolicy&&(F.referrerPolicy=P.referrerPolicy),P.crossOrigin==="use-credentials"?F.credentials="include":P.crossOrigin==="anonymous"?F.credentials="omit":F.credentials="same-origin",F}function w(P){if(P.ep)return;P.ep=!0;const F=x(P);fetch(P.href,F)}})();var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ff(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h0={exports:{}},Tl={},u0={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ma=Symbol.for("react.element"),Ay=Symbol.for("react.portal"),wy=Symbol.for("react.fragment"),My=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),Ry=Symbol.for("react.provider"),Ly=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),Oy=Symbol.for("react.suspense"),Dy=Symbol.for("react.memo"),Iy=Symbol.for("react.lazy"),Fc=Symbol.iterator;function Ny(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var f0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d0=Object.assign,c0={};function _r(e,c,x){this.props=e,this.context=c,this.refs=c0,this.updater=x||f0}_r.prototype.isReactComponent={};_r.prototype.setState=function(e,c){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,c,"setState")};_r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v0(){}v0.prototype=_r.prototype;function Of(e,c,x){this.props=e,this.context=c,this.refs=c0,this.updater=x||f0}var Df=Of.prototype=new v0;Df.constructor=Of;d0(Df,_r.prototype);Df.isPureReactComponent=!0;var Oc=Array.isArray,p0=Object.prototype.hasOwnProperty,If={current:null},g0={key:!0,ref:!0,__self:!0,__source:!0};function m0(e,c,x){var w,P={},F=null,p=null;if(c!=null)for(w in c.ref!==void 0&&(p=c.ref),c.key!==void 0&&(F=""+c.key),c)p0.call(c,w)&&!g0.hasOwnProperty(w)&&(P[w]=c[w]);var S=arguments.length-2;if(S===1)P.children=x;else if(1<S){for(var t=Array(S),l=0;l<S;l++)t[l]=arguments[l+2];P.children=t}if(e&&e.defaultProps)for(w in S=e.defaultProps,S)P[w]===void 0&&(P[w]=S[w]);return{$$typeof:Ma,type:e,key:F,ref:p,props:P,_owner:If.current}}function By(e,c){return{$$typeof:Ma,type:e.type,key:c,ref:e.ref,props:e.props,_owner:e._owner}}function Nf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ma}function Gy(e){var c={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(x){return c[x]})}var Dc=/\/+/g;function _l(e,c){return typeof e=="object"&&e!==null&&e.key!=null?Gy(""+e.key):c.toString(36)}function So(e,c,x,w,P){var F=typeof e;(F==="undefined"||F==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(F){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case Ma:case Ay:p=!0}}if(p)return p=e,P=P(p),e=w===""?"."+_l(p,0):w,Oc(P)?(x="",e!=null&&(x=e.replace(Dc,"$&/")+"/"),So(P,c,x,"",function(l){return l})):P!=null&&(Nf(P)&&(P=By(P,x+(!P.key||p&&p.key===P.key?"":(""+P.key).replace(Dc,"$&/")+"/")+e)),c.push(P)),1;if(p=0,w=w===""?".":w+":",Oc(e))for(var S=0;S<e.length;S++){F=e[S];var t=w+_l(F,S);p+=So(F,c,x,t,P)}else if(t=Ny(e),typeof t=="function")for(e=t.call(e),S=0;!(F=e.next()).done;)F=F.value,t=w+_l(F,S++),p+=So(F,c,x,t,P);else if(F==="object")throw c=String(e),Error("Objects are not valid as a React child (found: "+(c==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":c)+"). If you meant to render a collection of children, use an array instead.");return p}function Ha(e,c,x){if(e==null)return e;var w=[],P=0;return So(e,w,"","",function(F){return c.call(x,F,P++)}),w}function zy(e){if(e._status===-1){var c=e._result;c=c(),c.then(function(x){(e._status===0||e._status===-1)&&(e._status=1,e._result=x)},function(x){(e._status===0||e._status===-1)&&(e._status=2,e._result=x)}),e._status===-1&&(e._status=0,e._result=c)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},Eo={transition:null},Uy={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Eo,ReactCurrentOwner:If};vt.Children={map:Ha,forEach:function(e,c,x){Ha(e,function(){c.apply(this,arguments)},x)},count:function(e){var c=0;return Ha(e,function(){c++}),c},toArray:function(e){return Ha(e,function(c){return c})||[]},only:function(e){if(!Nf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=_r;vt.Fragment=wy;vt.Profiler=Py;vt.PureComponent=Of;vt.StrictMode=My;vt.Suspense=Oy;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uy;vt.cloneElement=function(e,c,x){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var w=d0({},e.props),P=e.key,F=e.ref,p=e._owner;if(c!=null){if(c.ref!==void 0&&(F=c.ref,p=If.current),c.key!==void 0&&(P=""+c.key),e.type&&e.type.defaultProps)var S=e.type.defaultProps;for(t in c)p0.call(c,t)&&!g0.hasOwnProperty(t)&&(w[t]=c[t]===void 0&&S!==void 0?S[t]:c[t])}var t=arguments.length-2;if(t===1)w.children=x;else if(1<t){S=Array(t);for(var l=0;l<t;l++)S[l]=arguments[l+2];w.children=S}return{$$typeof:Ma,type:e.type,key:P,ref:F,props:w,_owner:p}};vt.createContext=function(e){return e={$$typeof:Ly,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ry,_context:e},e.Consumer=e};vt.createElement=m0;vt.createFactory=function(e){var c=m0.bind(null,e);return c.type=e,c};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:Fy,render:e}};vt.isValidElement=Nf;vt.lazy=function(e){return{$$typeof:Iy,_payload:{_status:-1,_result:e},_init:zy}};vt.memo=function(e,c){return{$$typeof:Dy,type:e,compare:c===void 0?null:c}};vt.startTransition=function(e){var c=Eo.transition;Eo.transition={};try{e()}finally{Eo.transition=c}};vt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};vt.useCallback=function(e,c){return Ee.current.useCallback(e,c)};vt.useContext=function(e){return Ee.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};vt.useEffect=function(e,c){return Ee.current.useEffect(e,c)};vt.useId=function(){return Ee.current.useId()};vt.useImperativeHandle=function(e,c,x){return Ee.current.useImperativeHandle(e,c,x)};vt.useInsertionEffect=function(e,c){return Ee.current.useInsertionEffect(e,c)};vt.useLayoutEffect=function(e,c){return Ee.current.useLayoutEffect(e,c)};vt.useMemo=function(e,c){return Ee.current.useMemo(e,c)};vt.useReducer=function(e,c,x){return Ee.current.useReducer(e,c,x)};vt.useRef=function(e){return Ee.current.useRef(e)};vt.useState=function(e){return Ee.current.useState(e)};vt.useSyncExternalStore=function(e,c,x){return Ee.current.useSyncExternalStore(e,c,x)};vt.useTransition=function(){return Ee.current.useTransition()};vt.version="18.2.0";u0.exports=vt;var Mi=u0.exports;const by=Ff(Mi);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy=Mi,Xy=Symbol.for("react.element"),Yy=Symbol.for("react.fragment"),Wy=Object.prototype.hasOwnProperty,Hy=Vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$y={key:!0,ref:!0,__self:!0,__source:!0};function x0(e,c,x){var w,P={},F=null,p=null;x!==void 0&&(F=""+x),c.key!==void 0&&(F=""+c.key),c.ref!==void 0&&(p=c.ref);for(w in c)Wy.call(c,w)&&!$y.hasOwnProperty(w)&&(P[w]=c[w]);if(e&&e.defaultProps)for(w in c=e.defaultProps,c)P[w]===void 0&&(P[w]=c[w]);return{$$typeof:Xy,type:e,key:F,ref:p,props:P,_owner:Hy.current}}Tl.Fragment=Yy;Tl.jsx=x0;Tl.jsxs=x0;h0.exports=Tl;var Ct=h0.exports,ru={},y0={exports:{}},be={},T0={exports:{}},S0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function c(B,b){var X=B.length;B.push(b);t:for(;0<X;){var W=X-1>>>1,$=B[W];if(0<P($,b))B[W]=b,B[X]=$,X=W;else break t}}function x(B){return B.length===0?null:B[0]}function w(B){if(B.length===0)return null;var b=B[0],X=B.pop();if(X!==b){B[0]=X;t:for(var W=0,$=B.length,z=$>>>1;W<z;){var V=2*(W+1)-1,D=B[V],G=V+1,U=B[G];if(0>P(D,X))G<$&&0>P(U,D)?(B[W]=U,B[G]=X,W=G):(B[W]=D,B[V]=X,W=V);else if(G<$&&0>P(U,X))B[W]=U,B[G]=X,W=G;else break t}}return b}function P(B,b){var X=B.sortIndex-b.sortIndex;return X!==0?X:B.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var F=performance;e.unstable_now=function(){return F.now()}}else{var p=Date,S=p.now();e.unstable_now=function(){return p.now()-S}}var t=[],l=[],g=1,h=null,a=3,s=!1,i=!1,r=!1,u=typeof setTimeout=="function"?setTimeout:null,n=typeof clearTimeout=="function"?clearTimeout:null,o=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(B){for(var b=x(l);b!==null;){if(b.callback===null)w(l);else if(b.startTime<=B)w(l),b.sortIndex=b.expirationTime,c(t,b);else break;b=x(l)}}function d(B){if(r=!1,f(B),!i)if(x(t)!==null)i=!0,I(v);else{var b=x(l);b!==null&&N(d,b.startTime-B)}}function v(B,b){i=!1,r&&(r=!1,n(E),E=-1),s=!0;var X=a;try{for(f(b),h=x(t);h!==null&&(!(h.expirationTime>b)||B&&!A());){var W=h.callback;if(typeof W=="function"){h.callback=null,a=h.priorityLevel;var $=W(h.expirationTime<=b);b=e.unstable_now(),typeof $=="function"?h.callback=$:h===x(t)&&w(t),f(b)}else w(t);h=x(t)}if(h!==null)var z=!0;else{var V=x(l);V!==null&&N(d,V.startTime-b),z=!1}return z}finally{h=null,a=X,s=!1}}var m=!1,T=null,E=-1,y=5,C=-1;function A(){return!(e.unstable_now()-C<y)}function M(){if(T!==null){var B=e.unstable_now();C=B;var b=!0;try{b=T(!0,B)}finally{b?R():(m=!1,T=null)}}else m=!1}var R;if(typeof o=="function")R=function(){o(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,L=O.port2;O.port1.onmessage=M,R=function(){L.postMessage(null)}}else R=function(){u(M,0)};function I(B){T=B,m||(m=!0,R())}function N(B,b){E=u(function(){B(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){i||s||(i=!0,I(v))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return a},e.unstable_getFirstCallbackNode=function(){return x(t)},e.unstable_next=function(B){switch(a){case 1:case 2:case 3:var b=3;break;default:b=a}var X=a;a=b;try{return B()}finally{a=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,b){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=a;a=B;try{return b()}finally{a=X}},e.unstable_scheduleCallback=function(B,b,X){var W=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?W+X:W):X=W,B){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=X+$,B={id:g++,callback:b,priorityLevel:B,startTime:X,expirationTime:$,sortIndex:-1},X>W?(B.sortIndex=X,c(l,B),x(t)===null&&B===x(l)&&(r?(n(E),E=-1):r=!0,N(d,X-W))):(B.sortIndex=$,c(t,B),i||s||(i=!0,I(v))),B},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(B){var b=a;return function(){var X=a;a=b;try{return B.apply(this,arguments)}finally{a=X}}}})(S0);T0.exports=S0;var Zy=T0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0=Mi,Ue=Zy;function nt(e){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+e,x=1;x<arguments.length;x++)c+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+e+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C0=new Set,Qs={};function ir(e,c){Gr(e,c),Gr(e+"Capture",c)}function Gr(e,c){for(Qs[e]=c,e=0;e<c.length;e++)C0.add(c[e])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),su=Object.prototype.hasOwnProperty,Ky=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ic={},Nc={};function ky(e){return su.call(Nc,e)?!0:su.call(Ic,e)?!1:Ky.test(e)?Nc[e]=!0:(Ic[e]=!0,!1)}function jy(e,c,x,w){if(x!==null&&x.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return w?!1:x!==null?!x.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qy(e,c,x,w){if(c===null||typeof c>"u"||jy(e,c,x,w))return!0;if(w)return!1;if(x!==null)switch(x.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function Ce(e,c,x,w,P,F,p){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=w,this.attributeNamespace=P,this.mustUseProperty=x,this.propertyName=e,this.type=c,this.sanitizeURL=F,this.removeEmptyString=p}var le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){le[e]=new Ce(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var c=e[0];le[c]=new Ce(c,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){le[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){le[e]=new Ce(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){le[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){le[e]=new Ce(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){le[e]=new Ce(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){le[e]=new Ce(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){le[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bf=/[\-:]([a-z])/g;function Gf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var c=e.replace(Bf,Gf);le[c]=new Ce(c,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var c=e.replace(Bf,Gf);le[c]=new Ce(c,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var c=e.replace(Bf,Gf);le[c]=new Ce(c,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){le[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)});le.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){le[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function zf(e,c,x,w){var P=le.hasOwnProperty(c)?le[c]:null;(P!==null?P.type!==0:w||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(Qy(c,x,P,w)&&(x=null),w||P===null?ky(c)&&(x===null?e.removeAttribute(c):e.setAttribute(c,""+x)):P.mustUseProperty?e[P.propertyName]=x===null?P.type===3?!1:"":x:(c=P.attributeName,w=P.attributeNamespace,x===null?e.removeAttribute(c):(P=P.type,x=P===3||P===4&&x===!0?"":""+x,w?e.setAttributeNS(w,c,x):e.setAttribute(c,x))))}var Ui=E0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$a=Symbol.for("react.element"),vr=Symbol.for("react.portal"),pr=Symbol.for("react.fragment"),Uf=Symbol.for("react.strict_mode"),au=Symbol.for("react.profiler"),A0=Symbol.for("react.provider"),w0=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),ou=Symbol.for("react.suspense"),lu=Symbol.for("react.suspense_list"),Vf=Symbol.for("react.memo"),Hi=Symbol.for("react.lazy"),M0=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function fs(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var Nt=Object.assign,th;function Cs(e){if(th===void 0)try{throw Error()}catch(x){var c=x.stack.trim().match(/\n( *(at )?)/);th=c&&c[1]||""}return`
`+th+e}var eh=!1;function ih(e,c){if(!e||eh)return"";eh=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(l){var w=l}Reflect.construct(e,[],c)}else{try{c.call()}catch(l){w=l}e.call(c.prototype)}else{try{throw Error()}catch(l){w=l}e()}}catch(l){if(l&&w&&typeof l.stack=="string"){for(var P=l.stack.split(`
`),F=w.stack.split(`
`),p=P.length-1,S=F.length-1;1<=p&&0<=S&&P[p]!==F[S];)S--;for(;1<=p&&0<=S;p--,S--)if(P[p]!==F[S]){if(p!==1||S!==1)do if(p--,S--,0>S||P[p]!==F[S]){var t=`
`+P[p].replace(" at new "," at ");return e.displayName&&t.includes("<anonymous>")&&(t=t.replace("<anonymous>",e.displayName)),t}while(1<=p&&0<=S);break}}}finally{eh=!1,Error.prepareStackTrace=x}return(e=e?e.displayName||e.name:"")?Cs(e):""}function Jy(e){switch(e.tag){case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return e=ih(e.type,!1),e;case 11:return e=ih(e.type.render,!1),e;case 1:return e=ih(e.type,!0),e;default:return""}}function hu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pr:return"Fragment";case vr:return"Portal";case au:return"Profiler";case Uf:return"StrictMode";case ou:return"Suspense";case lu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case w0:return(e.displayName||"Context")+".Consumer";case A0:return(e._context.displayName||"Context")+".Provider";case bf:var c=e.render;return e=e.displayName,e||(e=c.displayName||c.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vf:return c=e.displayName||null,c!==null?c:hu(e.type)||"Memo";case Hi:c=e._payload,e=e._init;try{return hu(e(c))}catch{}}return null}function qy(e){var c=e.type;switch(e.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=c.render,e=e.displayName||e.name||"",c.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hu(c);case 8:return c===Uf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P0(e){var c=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function _y(e){var c=P0(e)?"checked":"value",x=Object.getOwnPropertyDescriptor(e.constructor.prototype,c),w=""+e[c];if(!e.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var P=x.get,F=x.set;return Object.defineProperty(e,c,{configurable:!0,get:function(){return P.call(this)},set:function(p){w=""+p,F.call(this,p)}}),Object.defineProperty(e,c,{enumerable:x.enumerable}),{getValue:function(){return w},setValue:function(p){w=""+p},stopTracking:function(){e._valueTracker=null,delete e[c]}}}}function Za(e){e._valueTracker||(e._valueTracker=_y(e))}function R0(e){if(!e)return!1;var c=e._valueTracker;if(!c)return!0;var x=c.getValue(),w="";return e&&(w=P0(e)?e.checked?"true":"false":e.value),e=w,e!==x?(c.setValue(e),!0):!1}function Uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uu(e,c){var x=c.checked;return Nt({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??e._wrapperState.initialChecked})}function Gc(e,c){var x=c.defaultValue==null?"":c.defaultValue,w=c.checked!=null?c.checked:c.defaultChecked;x=fn(c.value!=null?c.value:x),e._wrapperState={initialChecked:w,initialValue:x,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function L0(e,c){c=c.checked,c!=null&&zf(e,"checked",c,!1)}function fu(e,c){L0(e,c);var x=fn(c.value),w=c.type;if(x!=null)w==="number"?(x===0&&e.value===""||e.value!=x)&&(e.value=""+x):e.value!==""+x&&(e.value=""+x);else if(w==="submit"||w==="reset"){e.removeAttribute("value");return}c.hasOwnProperty("value")?du(e,c.type,x):c.hasOwnProperty("defaultValue")&&du(e,c.type,fn(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(e.defaultChecked=!!c.defaultChecked)}function zc(e,c,x){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var w=c.type;if(!(w!=="submit"&&w!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+e._wrapperState.initialValue,x||c===e.value||(e.value=c),e.defaultValue=c}x=e.name,x!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,x!==""&&(e.name=x)}function du(e,c,x){(c!=="number"||Uo(e.ownerDocument)!==e)&&(x==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+x&&(e.defaultValue=""+x))}var As=Array.isArray;function Pr(e,c,x,w){if(e=e.options,c){c={};for(var P=0;P<x.length;P++)c["$"+x[P]]=!0;for(x=0;x<e.length;x++)P=c.hasOwnProperty("$"+e[x].value),e[x].selected!==P&&(e[x].selected=P),P&&w&&(e[x].defaultSelected=!0)}else{for(x=""+fn(x),c=null,P=0;P<e.length;P++){if(e[P].value===x){e[P].selected=!0,w&&(e[P].defaultSelected=!0);return}c!==null||e[P].disabled||(c=e[P])}c!==null&&(c.selected=!0)}}function cu(e,c){if(c.dangerouslySetInnerHTML!=null)throw Error(nt(91));return Nt({},c,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uc(e,c){var x=c.value;if(x==null){if(x=c.children,c=c.defaultValue,x!=null){if(c!=null)throw Error(nt(92));if(As(x)){if(1<x.length)throw Error(nt(93));x=x[0]}c=x}c==null&&(c=""),x=c}e._wrapperState={initialValue:fn(x)}}function F0(e,c){var x=fn(c.value),w=fn(c.defaultValue);x!=null&&(x=""+x,x!==e.value&&(e.value=x),c.defaultValue==null&&e.defaultValue!==x&&(e.defaultValue=x)),w!=null&&(e.defaultValue=""+w)}function bc(e){var c=e.textContent;c===e._wrapperState.initialValue&&c!==""&&c!==null&&(e.value=c)}function O0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vu(e,c){return e==null||e==="http://www.w3.org/1999/xhtml"?O0(c):e==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ka,D0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,x,w,P){MSApp.execUnsafeLocalFunction(function(){return e(c,x,w,P)})}:e}(function(e,c){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=c;else{for(Ka=Ka||document.createElement("div"),Ka.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Ka.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;c.firstChild;)e.appendChild(c.firstChild)}});function Js(e,c){if(c){var x=e.firstChild;if(x&&x===e.lastChild&&x.nodeType===3){x.nodeValue=c;return}}e.textContent=c}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t2=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(e){t2.forEach(function(c){c=c+e.charAt(0).toUpperCase()+e.substring(1),Ns[c]=Ns[e]})});function I0(e,c,x){return c==null||typeof c=="boolean"||c===""?"":x||typeof c!="number"||c===0||Ns.hasOwnProperty(e)&&Ns[e]?(""+c).trim():c+"px"}function N0(e,c){e=e.style;for(var x in c)if(c.hasOwnProperty(x)){var w=x.indexOf("--")===0,P=I0(x,c[x],w);x==="float"&&(x="cssFloat"),w?e.setProperty(x,P):e[x]=P}}var e2=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pu(e,c){if(c){if(e2[e]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(nt(137,e));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(nt(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(nt(61))}if(c.style!=null&&typeof c.style!="object")throw Error(nt(62))}}function gu(e,c){if(e.indexOf("-")===-1)return typeof c.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=null;function Xf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xu=null,Rr=null,Lr=null;function Vc(e){if(e=La(e)){if(typeof xu!="function")throw Error(nt(280));var c=e.stateNode;c&&(c=wl(c),xu(e.stateNode,e.type,c))}}function B0(e){Rr?Lr?Lr.push(e):Lr=[e]:Rr=e}function G0(){if(Rr){var e=Rr,c=Lr;if(Lr=Rr=null,Vc(e),c)for(e=0;e<c.length;e++)Vc(c[e])}}function z0(e,c){return e(c)}function U0(){}var nh=!1;function b0(e,c,x){if(nh)return e(c,x);nh=!0;try{return z0(e,c,x)}finally{nh=!1,(Rr!==null||Lr!==null)&&(U0(),G0())}}function qs(e,c){var x=e.stateNode;if(x===null)return null;var w=wl(x);if(w===null)return null;x=w[c];t:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(e=e.type,w=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!w;break t;default:e=!1}if(e)return null;if(x&&typeof x!="function")throw Error(nt(231,c,typeof x));return x}var yu=!1;if(Ii)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){yu=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{yu=!1}function i2(e,c,x,w,P,F,p,S,t){var l=Array.prototype.slice.call(arguments,3);try{c.apply(x,l)}catch(g){this.onError(g)}}var Bs=!1,bo=null,Vo=!1,Tu=null,n2={onError:function(e){Bs=!0,bo=e}};function r2(e,c,x,w,P,F,p,S,t){Bs=!1,bo=null,i2.apply(n2,arguments)}function s2(e,c,x,w,P,F,p,S,t){if(r2.apply(this,arguments),Bs){if(Bs){var l=bo;Bs=!1,bo=null}else throw Error(nt(198));Vo||(Vo=!0,Tu=l)}}function nr(e){var c=e,x=e;if(e.alternate)for(;c.return;)c=c.return;else{e=c;do c=e,c.flags&4098&&(x=c.return),e=c.return;while(e)}return c.tag===3?x:null}function V0(e){if(e.tag===13){var c=e.memoizedState;if(c===null&&(e=e.alternate,e!==null&&(c=e.memoizedState)),c!==null)return c.dehydrated}return null}function Xc(e){if(nr(e)!==e)throw Error(nt(188))}function a2(e){var c=e.alternate;if(!c){if(c=nr(e),c===null)throw Error(nt(188));return c!==e?null:e}for(var x=e,w=c;;){var P=x.return;if(P===null)break;var F=P.alternate;if(F===null){if(w=P.return,w!==null){x=w;continue}break}if(P.child===F.child){for(F=P.child;F;){if(F===x)return Xc(P),e;if(F===w)return Xc(P),c;F=F.sibling}throw Error(nt(188))}if(x.return!==w.return)x=P,w=F;else{for(var p=!1,S=P.child;S;){if(S===x){p=!0,x=P,w=F;break}if(S===w){p=!0,w=P,x=F;break}S=S.sibling}if(!p){for(S=F.child;S;){if(S===x){p=!0,x=F,w=P;break}if(S===w){p=!0,w=F,x=P;break}S=S.sibling}if(!p)throw Error(nt(189))}}if(x.alternate!==w)throw Error(nt(190))}if(x.tag!==3)throw Error(nt(188));return x.stateNode.current===x?e:c}function X0(e){return e=a2(e),e!==null?Y0(e):null}function Y0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var c=Y0(e);if(c!==null)return c;e=e.sibling}return null}var W0=Ue.unstable_scheduleCallback,Yc=Ue.unstable_cancelCallback,o2=Ue.unstable_shouldYield,l2=Ue.unstable_requestPaint,Vt=Ue.unstable_now,h2=Ue.unstable_getCurrentPriorityLevel,Yf=Ue.unstable_ImmediatePriority,H0=Ue.unstable_UserBlockingPriority,Xo=Ue.unstable_NormalPriority,u2=Ue.unstable_LowPriority,$0=Ue.unstable_IdlePriority,Sl=null,gi=null;function f2(e){if(gi&&typeof gi.onCommitFiberRoot=="function")try{gi.onCommitFiberRoot(Sl,e,void 0,(e.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:v2,d2=Math.log,c2=Math.LN2;function v2(e){return e>>>=0,e===0?32:31-(d2(e)/c2|0)|0}var ka=64,ja=4194304;function ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yo(e,c){var x=e.pendingLanes;if(x===0)return 0;var w=0,P=e.suspendedLanes,F=e.pingedLanes,p=x&268435455;if(p!==0){var S=p&~P;S!==0?w=ws(S):(F&=p,F!==0&&(w=ws(F)))}else p=x&~P,p!==0?w=ws(p):F!==0&&(w=ws(F));if(w===0)return 0;if(c!==0&&c!==w&&!(c&P)&&(P=w&-w,F=c&-c,P>=F||P===16&&(F&4194240)!==0))return c;if(w&4&&(w|=x&16),c=e.entangledLanes,c!==0)for(e=e.entanglements,c&=w;0<c;)x=31-ii(c),P=1<<x,w|=e[x],c&=~P;return w}function p2(e,c){switch(e){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g2(e,c){for(var x=e.suspendedLanes,w=e.pingedLanes,P=e.expirationTimes,F=e.pendingLanes;0<F;){var p=31-ii(F),S=1<<p,t=P[p];t===-1?(!(S&x)||S&w)&&(P[p]=p2(S,c)):t<=c&&(e.expiredLanes|=S),F&=~S}}function Su(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Z0(){var e=ka;return ka<<=1,!(ka&4194240)&&(ka=64),e}function rh(e){for(var c=[],x=0;31>x;x++)c.push(e);return c}function Pa(e,c,x){e.pendingLanes|=c,c!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,c=31-ii(c),e[c]=x}function m2(e,c){var x=e.pendingLanes&~c;e.pendingLanes=c,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=c,e.mutableReadLanes&=c,e.entangledLanes&=c,c=e.entanglements;var w=e.eventTimes;for(e=e.expirationTimes;0<x;){var P=31-ii(x),F=1<<P;c[P]=0,w[P]=-1,e[P]=-1,x&=~F}}function Wf(e,c){var x=e.entangledLanes|=c;for(e=e.entanglements;x;){var w=31-ii(x),P=1<<w;P&c|e[w]&c&&(e[w]|=c),x&=~P}}var St=0;function K0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var k0,Hf,j0,Q0,J0,Eu=!1,Qa=[],qi=null,_i=null,tn=null,_s=new Map,ta=new Map,Zi=[],x2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(e,c){switch(e){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":_s.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(c.pointerId)}}function cs(e,c,x,w,P,F){return e===null||e.nativeEvent!==F?(e={blockedOn:c,domEventName:x,eventSystemFlags:w,nativeEvent:F,targetContainers:[P]},c!==null&&(c=La(c),c!==null&&Hf(c)),e):(e.eventSystemFlags|=w,c=e.targetContainers,P!==null&&c.indexOf(P)===-1&&c.push(P),e)}function y2(e,c,x,w,P){switch(c){case"focusin":return qi=cs(qi,e,c,x,w,P),!0;case"dragenter":return _i=cs(_i,e,c,x,w,P),!0;case"mouseover":return tn=cs(tn,e,c,x,w,P),!0;case"pointerover":var F=P.pointerId;return _s.set(F,cs(_s.get(F)||null,e,c,x,w,P)),!0;case"gotpointercapture":return F=P.pointerId,ta.set(F,cs(ta.get(F)||null,e,c,x,w,P)),!0}return!1}function q0(e){var c=Gn(e.target);if(c!==null){var x=nr(c);if(x!==null){if(c=x.tag,c===13){if(c=V0(x),c!==null){e.blockedOn=c,J0(e.priority,function(){j0(x)});return}}else if(c===3&&x.stateNode.current.memoizedState.isDehydrated){e.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Co(e){if(e.blockedOn!==null)return!1;for(var c=e.targetContainers;0<c.length;){var x=Cu(e.domEventName,e.eventSystemFlags,c[0],e.nativeEvent);if(x===null){x=e.nativeEvent;var w=new x.constructor(x.type,x);mu=w,x.target.dispatchEvent(w),mu=null}else return c=La(x),c!==null&&Hf(c),e.blockedOn=x,!1;c.shift()}return!0}function Hc(e,c,x){Co(e)&&x.delete(c)}function T2(){Eu=!1,qi!==null&&Co(qi)&&(qi=null),_i!==null&&Co(_i)&&(_i=null),tn!==null&&Co(tn)&&(tn=null),_s.forEach(Hc),ta.forEach(Hc)}function vs(e,c){e.blockedOn===c&&(e.blockedOn=null,Eu||(Eu=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,T2)))}function ea(e){function c(P){return vs(P,e)}if(0<Qa.length){vs(Qa[0],e);for(var x=1;x<Qa.length;x++){var w=Qa[x];w.blockedOn===e&&(w.blockedOn=null)}}for(qi!==null&&vs(qi,e),_i!==null&&vs(_i,e),tn!==null&&vs(tn,e),_s.forEach(c),ta.forEach(c),x=0;x<Zi.length;x++)w=Zi[x],w.blockedOn===e&&(w.blockedOn=null);for(;0<Zi.length&&(x=Zi[0],x.blockedOn===null);)q0(x),x.blockedOn===null&&Zi.shift()}var Fr=Ui.ReactCurrentBatchConfig,Wo=!0;function S2(e,c,x,w){var P=St,F=Fr.transition;Fr.transition=null;try{St=1,$f(e,c,x,w)}finally{St=P,Fr.transition=F}}function E2(e,c,x,w){var P=St,F=Fr.transition;Fr.transition=null;try{St=4,$f(e,c,x,w)}finally{St=P,Fr.transition=F}}function $f(e,c,x,w){if(Wo){var P=Cu(e,c,x,w);if(P===null)vh(e,c,w,Ho,x),Wc(e,w);else if(y2(P,e,c,x,w))w.stopPropagation();else if(Wc(e,w),c&4&&-1<x2.indexOf(e)){for(;P!==null;){var F=La(P);if(F!==null&&k0(F),F=Cu(e,c,x,w),F===null&&vh(e,c,w,Ho,x),F===P)break;P=F}P!==null&&w.stopPropagation()}else vh(e,c,w,null,x)}}var Ho=null;function Cu(e,c,x,w){if(Ho=null,e=Xf(w),e=Gn(e),e!==null)if(c=nr(e),c===null)e=null;else if(x=c.tag,x===13){if(e=V0(c),e!==null)return e;e=null}else if(x===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;e=null}else c!==e&&(e=null);return Ho=e,null}function _0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h2()){case Yf:return 1;case H0:return 4;case Xo:case u2:return 16;case $0:return 536870912;default:return 16}default:return 16}}var ji=null,Zf=null,Ao=null;function tg(){if(Ao)return Ao;var e,c=Zf,x=c.length,w,P="value"in ji?ji.value:ji.textContent,F=P.length;for(e=0;e<x&&c[e]===P[e];e++);var p=x-e;for(w=1;w<=p&&c[x-w]===P[F-w];w++);return Ao=P.slice(e,1<w?1-w:void 0)}function wo(e){var c=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&c===13&&(e=13)):e=c,e===10&&(e=13),32<=e||e===13?e:0}function Ja(){return!0}function $c(){return!1}function Ve(e){function c(x,w,P,F,p){this._reactName=x,this._targetInst=P,this.type=w,this.nativeEvent=F,this.target=p,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(x=e[S],this[S]=x?x(F):F[S]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Ja:$c,this.isPropagationStopped=$c,this}return Nt(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),c}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kf=Ve(ts),Ra=Nt({},ts,{view:0,detail:0}),C2=Ve(Ra),sh,ah,ps,El=Nt({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ps&&(ps&&e.type==="mousemove"?(sh=e.screenX-ps.screenX,ah=e.screenY-ps.screenY):ah=sh=0,ps=e),sh)},movementY:function(e){return"movementY"in e?e.movementY:ah}}),Zc=Ve(El),A2=Nt({},El,{dataTransfer:0}),w2=Ve(A2),M2=Nt({},Ra,{relatedTarget:0}),oh=Ve(M2),P2=Nt({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),R2=Ve(P2),L2=Nt({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F2=Ve(L2),O2=Nt({},ts,{data:0}),Kc=Ve(O2),D2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B2(e){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(e):(e=N2[e])?!!c[e]:!1}function kf(){return B2}var G2=Nt({},Ra,{key:function(e){if(e.key){var c=D2[e.key]||e.key;if(c!=="Unidentified")return c}return e.type==="keypress"?(e=wo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(e){return e.type==="keypress"?wo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z2=Ve(G2),U2=Nt({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=Ve(U2),b2=Nt({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),V2=Ve(b2),X2=Nt({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y2=Ve(X2),W2=Nt({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H2=Ve(W2),$2=[9,13,27,32],jf=Ii&&"CompositionEvent"in window,Gs=null;Ii&&"documentMode"in document&&(Gs=document.documentMode);var Z2=Ii&&"TextEvent"in window&&!Gs,eg=Ii&&(!jf||Gs&&8<Gs&&11>=Gs),jc=String.fromCharCode(32),Qc=!1;function ig(e,c){switch(e){case"keyup":return $2.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ng(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function K2(e,c){switch(e){case"compositionend":return ng(c);case"keypress":return c.which!==32?null:(Qc=!0,jc);case"textInput":return e=c.data,e===jc&&Qc?null:e;default:return null}}function k2(e,c){if(gr)return e==="compositionend"||!jf&&ig(e,c)?(e=tg(),Ao=Zf=ji=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return eg&&c.locale!=="ko"?null:c.data;default:return null}}var j2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jc(e){var c=e&&e.nodeName&&e.nodeName.toLowerCase();return c==="input"?!!j2[e.type]:c==="textarea"}function rg(e,c,x,w){B0(w),c=$o(c,"onChange"),0<c.length&&(x=new Kf("onChange","change",null,x,w),e.push({event:x,listeners:c}))}var zs=null,ia=null;function Q2(e){pg(e,0)}function Cl(e){var c=yr(e);if(R0(c))return e}function J2(e,c){if(e==="change")return c}var sg=!1;if(Ii){var lh;if(Ii){var hh="oninput"in document;if(!hh){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),hh=typeof qc.oninput=="function"}lh=hh}else lh=!1;sg=lh&&(!document.documentMode||9<document.documentMode)}function _c(){zs&&(zs.detachEvent("onpropertychange",ag),ia=zs=null)}function ag(e){if(e.propertyName==="value"&&Cl(ia)){var c=[];rg(c,ia,e,Xf(e)),b0(Q2,c)}}function q2(e,c,x){e==="focusin"?(_c(),zs=c,ia=x,zs.attachEvent("onpropertychange",ag)):e==="focusout"&&_c()}function _2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cl(ia)}function tT(e,c){if(e==="click")return Cl(c)}function eT(e,c){if(e==="input"||e==="change")return Cl(c)}function iT(e,c){return e===c&&(e!==0||1/e===1/c)||e!==e&&c!==c}var ri=typeof Object.is=="function"?Object.is:iT;function na(e,c){if(ri(e,c))return!0;if(typeof e!="object"||e===null||typeof c!="object"||c===null)return!1;var x=Object.keys(e),w=Object.keys(c);if(x.length!==w.length)return!1;for(w=0;w<x.length;w++){var P=x[w];if(!su.call(c,P)||!ri(e[P],c[P]))return!1}return!0}function tv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ev(e,c){var x=tv(e);e=0;for(var w;x;){if(x.nodeType===3){if(w=e+x.textContent.length,e<=c&&w>=c)return{node:x,offset:c-e};e=w}t:{for(;x;){if(x.nextSibling){x=x.nextSibling;break t}x=x.parentNode}x=void 0}x=tv(x)}}function og(e,c){return e&&c?e===c?!0:e&&e.nodeType===3?!1:c&&c.nodeType===3?og(e,c.parentNode):"contains"in e?e.contains(c):e.compareDocumentPosition?!!(e.compareDocumentPosition(c)&16):!1:!1}function lg(){for(var e=window,c=Uo();c instanceof e.HTMLIFrameElement;){try{var x=typeof c.contentWindow.location.href=="string"}catch{x=!1}if(x)e=c.contentWindow;else break;c=Uo(e.document)}return c}function Qf(e){var c=e&&e.nodeName&&e.nodeName.toLowerCase();return c&&(c==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||c==="textarea"||e.contentEditable==="true")}function nT(e){var c=lg(),x=e.focusedElem,w=e.selectionRange;if(c!==x&&x&&x.ownerDocument&&og(x.ownerDocument.documentElement,x)){if(w!==null&&Qf(x)){if(c=w.start,e=w.end,e===void 0&&(e=c),"selectionStart"in x)x.selectionStart=c,x.selectionEnd=Math.min(e,x.value.length);else if(e=(c=x.ownerDocument||document)&&c.defaultView||window,e.getSelection){e=e.getSelection();var P=x.textContent.length,F=Math.min(w.start,P);w=w.end===void 0?F:Math.min(w.end,P),!e.extend&&F>w&&(P=w,w=F,F=P),P=ev(x,F);var p=ev(x,w);P&&p&&(e.rangeCount!==1||e.anchorNode!==P.node||e.anchorOffset!==P.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(c=c.createRange(),c.setStart(P.node,P.offset),e.removeAllRanges(),F>w?(e.addRange(c),e.extend(p.node,p.offset)):(c.setEnd(p.node,p.offset),e.addRange(c)))}}for(c=[],e=x;e=e.parentNode;)e.nodeType===1&&c.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<c.length;x++)e=c[x],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rT=Ii&&"documentMode"in document&&11>=document.documentMode,mr=null,Au=null,Us=null,wu=!1;function iv(e,c,x){var w=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;wu||mr==null||mr!==Uo(w)||(w=mr,"selectionStart"in w&&Qf(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Us&&na(Us,w)||(Us=w,w=$o(Au,"onSelect"),0<w.length&&(c=new Kf("onSelect","select",null,c,x),e.push({event:c,listeners:w}),c.target=mr)))}function qa(e,c){var x={};return x[e.toLowerCase()]=c.toLowerCase(),x["Webkit"+e]="webkit"+c,x["Moz"+e]="moz"+c,x}var xr={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionend:qa("Transition","TransitionEnd")},uh={},hg={};Ii&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function Al(e){if(uh[e])return uh[e];if(!xr[e])return e;var c=xr[e],x;for(x in c)if(c.hasOwnProperty(x)&&x in hg)return uh[e]=c[x];return e}var ug=Al("animationend"),fg=Al("animationiteration"),dg=Al("animationstart"),cg=Al("transitionend"),vg=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,c){vg.set(e,c),ir(c,[e])}for(var fh=0;fh<nv.length;fh++){var dh=nv[fh],sT=dh.toLowerCase(),aT=dh[0].toUpperCase()+dh.slice(1);Tn(sT,"on"+aT)}Tn(ug,"onAnimationEnd");Tn(fg,"onAnimationIteration");Tn(dg,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(cg,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function rv(e,c,x){var w=e.type||"unknown-event";e.currentTarget=x,s2(w,c,void 0,e),e.currentTarget=null}function pg(e,c){c=(c&4)!==0;for(var x=0;x<e.length;x++){var w=e[x],P=w.event;w=w.listeners;t:{var F=void 0;if(c)for(var p=w.length-1;0<=p;p--){var S=w[p],t=S.instance,l=S.currentTarget;if(S=S.listener,t!==F&&P.isPropagationStopped())break t;rv(P,S,l),F=t}else for(p=0;p<w.length;p++){if(S=w[p],t=S.instance,l=S.currentTarget,S=S.listener,t!==F&&P.isPropagationStopped())break t;rv(P,S,l),F=t}}}if(Vo)throw e=Tu,Vo=!1,Tu=null,e}function Pt(e,c){var x=c[Fu];x===void 0&&(x=c[Fu]=new Set);var w=e+"__bubble";x.has(w)||(gg(c,e,2,!1),x.add(w))}function ch(e,c,x){var w=0;c&&(w|=4),gg(x,e,w,c)}var _a="_reactListening"+Math.random().toString(36).slice(2);function ra(e){if(!e[_a]){e[_a]=!0,C0.forEach(function(x){x!=="selectionchange"&&(oT.has(x)||ch(x,!1,e),ch(x,!0,e))});var c=e.nodeType===9?e:e.ownerDocument;c===null||c[_a]||(c[_a]=!0,ch("selectionchange",!1,c))}}function gg(e,c,x,w){switch(_0(c)){case 1:var P=S2;break;case 4:P=E2;break;default:P=$f}x=P.bind(null,c,x,e),P=void 0,!yu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(P=!0),w?P!==void 0?e.addEventListener(c,x,{capture:!0,passive:P}):e.addEventListener(c,x,!0):P!==void 0?e.addEventListener(c,x,{passive:P}):e.addEventListener(c,x,!1)}function vh(e,c,x,w,P){var F=w;if(!(c&1)&&!(c&2)&&w!==null)t:for(;;){if(w===null)return;var p=w.tag;if(p===3||p===4){var S=w.stateNode.containerInfo;if(S===P||S.nodeType===8&&S.parentNode===P)break;if(p===4)for(p=w.return;p!==null;){var t=p.tag;if((t===3||t===4)&&(t=p.stateNode.containerInfo,t===P||t.nodeType===8&&t.parentNode===P))return;p=p.return}for(;S!==null;){if(p=Gn(S),p===null)return;if(t=p.tag,t===5||t===6){w=F=p;continue t}S=S.parentNode}}w=w.return}b0(function(){var l=F,g=Xf(x),h=[];t:{var a=vg.get(e);if(a!==void 0){var s=Kf,i=e;switch(e){case"keypress":if(wo(x)===0)break t;case"keydown":case"keyup":s=z2;break;case"focusin":i="focus",s=oh;break;case"focusout":i="blur",s=oh;break;case"beforeblur":case"afterblur":s=oh;break;case"click":if(x.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=w2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=V2;break;case ug:case fg:case dg:s=R2;break;case cg:s=Y2;break;case"scroll":s=C2;break;case"wheel":s=H2;break;case"copy":case"cut":case"paste":s=F2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=kc}var r=(c&4)!==0,u=!r&&e==="scroll",n=r?a!==null?a+"Capture":null:a;r=[];for(var o=l,f;o!==null;){f=o;var d=f.stateNode;if(f.tag===5&&d!==null&&(f=d,n!==null&&(d=qs(o,n),d!=null&&r.push(sa(o,d,f)))),u)break;o=o.return}0<r.length&&(a=new s(a,i,null,x,g),h.push({event:a,listeners:r}))}}if(!(c&7)){t:{if(a=e==="mouseover"||e==="pointerover",s=e==="mouseout"||e==="pointerout",a&&x!==mu&&(i=x.relatedTarget||x.fromElement)&&(Gn(i)||i[Ni]))break t;if((s||a)&&(a=g.window===g?g:(a=g.ownerDocument)?a.defaultView||a.parentWindow:window,s?(i=x.relatedTarget||x.toElement,s=l,i=i?Gn(i):null,i!==null&&(u=nr(i),i!==u||i.tag!==5&&i.tag!==6)&&(i=null)):(s=null,i=l),s!==i)){if(r=Zc,d="onMouseLeave",n="onMouseEnter",o="mouse",(e==="pointerout"||e==="pointerover")&&(r=kc,d="onPointerLeave",n="onPointerEnter",o="pointer"),u=s==null?a:yr(s),f=i==null?a:yr(i),a=new r(d,o+"leave",s,x,g),a.target=u,a.relatedTarget=f,d=null,Gn(g)===l&&(r=new r(n,o+"enter",i,x,g),r.target=f,r.relatedTarget=u,d=r),u=d,s&&i)e:{for(r=s,n=i,o=0,f=r;f;f=lr(f))o++;for(f=0,d=n;d;d=lr(d))f++;for(;0<o-f;)r=lr(r),o--;for(;0<f-o;)n=lr(n),f--;for(;o--;){if(r===n||n!==null&&r===n.alternate)break e;r=lr(r),n=lr(n)}r=null}else r=null;s!==null&&sv(h,a,s,r,!1),i!==null&&u!==null&&sv(h,u,i,r,!0)}}t:{if(a=l?yr(l):window,s=a.nodeName&&a.nodeName.toLowerCase(),s==="select"||s==="input"&&a.type==="file")var v=J2;else if(Jc(a))if(sg)v=eT;else{v=_2;var m=q2}else(s=a.nodeName)&&s.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(v=tT);if(v&&(v=v(e,l))){rg(h,v,x,g);break t}m&&m(e,a,l),e==="focusout"&&(m=a._wrapperState)&&m.controlled&&a.type==="number"&&du(a,"number",a.value)}switch(m=l?yr(l):window,e){case"focusin":(Jc(m)||m.contentEditable==="true")&&(mr=m,Au=l,Us=null);break;case"focusout":Us=Au=mr=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,iv(h,x,g);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":iv(h,x,g)}var T;if(jf)t:{switch(e){case"compositionstart":var E="onCompositionStart";break t;case"compositionend":E="onCompositionEnd";break t;case"compositionupdate":E="onCompositionUpdate";break t}E=void 0}else gr?ig(e,x)&&(E="onCompositionEnd"):e==="keydown"&&x.keyCode===229&&(E="onCompositionStart");E&&(eg&&x.locale!=="ko"&&(gr||E!=="onCompositionStart"?E==="onCompositionEnd"&&gr&&(T=tg()):(ji=g,Zf="value"in ji?ji.value:ji.textContent,gr=!0)),m=$o(l,E),0<m.length&&(E=new Kc(E,e,null,x,g),h.push({event:E,listeners:m}),T?E.data=T:(T=ng(x),T!==null&&(E.data=T)))),(T=Z2?K2(e,x):k2(e,x))&&(l=$o(l,"onBeforeInput"),0<l.length&&(g=new Kc("onBeforeInput","beforeinput",null,x,g),h.push({event:g,listeners:l}),g.data=T))}pg(h,c)})}function sa(e,c,x){return{instance:e,listener:c,currentTarget:x}}function $o(e,c){for(var x=c+"Capture",w=[];e!==null;){var P=e,F=P.stateNode;P.tag===5&&F!==null&&(P=F,F=qs(e,x),F!=null&&w.unshift(sa(e,F,P)),F=qs(e,c),F!=null&&w.push(sa(e,F,P))),e=e.return}return w}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sv(e,c,x,w,P){for(var F=c._reactName,p=[];x!==null&&x!==w;){var S=x,t=S.alternate,l=S.stateNode;if(t!==null&&t===w)break;S.tag===5&&l!==null&&(S=l,P?(t=qs(x,F),t!=null&&p.unshift(sa(x,t,S))):P||(t=qs(x,F),t!=null&&p.push(sa(x,t,S)))),x=x.return}p.length!==0&&e.push({event:c,listeners:p})}var lT=/\r\n?/g,hT=/\u0000|\uFFFD/g;function av(e){return(typeof e=="string"?e:""+e).replace(lT,`
`).replace(hT,"")}function to(e,c,x){if(c=av(c),av(e)!==c&&x)throw Error(nt(425))}function Zo(){}var Mu=null,Pu=null;function Ru(e,c){return e==="textarea"||e==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Lu=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(e){return ov.resolve(null).then(e).catch(dT)}:Lu;function dT(e){setTimeout(function(){throw e})}function ph(e,c){var x=c,w=0;do{var P=x.nextSibling;if(e.removeChild(x),P&&P.nodeType===8)if(x=P.data,x==="/$"){if(w===0){e.removeChild(P),ea(c);return}w--}else x!=="$"&&x!=="$?"&&x!=="$!"||w++;x=P}while(x);ea(c)}function en(e){for(;e!=null;e=e.nextSibling){var c=e.nodeType;if(c===1||c===3)break;if(c===8){if(c=e.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return e}function lv(e){e=e.previousSibling;for(var c=0;e;){if(e.nodeType===8){var x=e.data;if(x==="$"||x==="$!"||x==="$?"){if(c===0)return e;c--}else x==="/$"&&c++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),ci="__reactFiber$"+es,aa="__reactProps$"+es,Ni="__reactContainer$"+es,Fu="__reactEvents$"+es,cT="__reactListeners$"+es,vT="__reactHandles$"+es;function Gn(e){var c=e[ci];if(c)return c;for(var x=e.parentNode;x;){if(c=x[Ni]||x[ci]){if(x=c.alternate,c.child!==null||x!==null&&x.child!==null)for(e=lv(e);e!==null;){if(x=e[ci])return x;e=lv(e)}return c}e=x,x=e.parentNode}return null}function La(e){return e=e[ci]||e[Ni],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(nt(33))}function wl(e){return e[aa]||null}var Ou=[],Tr=-1;function Sn(e){return{current:e}}function Rt(e){0>Tr||(e.current=Ou[Tr],Ou[Tr]=null,Tr--)}function Mt(e,c){Tr++,Ou[Tr]=e.current,e.current=c}var dn={},de=Sn(dn),Re=Sn(!1),Zn=dn;function zr(e,c){var x=e.type.contextTypes;if(!x)return dn;var w=e.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===c)return w.__reactInternalMemoizedMaskedChildContext;var P={},F;for(F in x)P[F]=c[F];return w&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=P),P}function Le(e){return e=e.childContextTypes,e!=null}function Ko(){Rt(Re),Rt(de)}function hv(e,c,x){if(de.current!==dn)throw Error(nt(168));Mt(de,c),Mt(Re,x)}function mg(e,c,x){var w=e.stateNode;if(c=c.childContextTypes,typeof w.getChildContext!="function")return x;w=w.getChildContext();for(var P in w)if(!(P in c))throw Error(nt(108,qy(e)||"Unknown",P));return Nt({},x,w)}function ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Zn=de.current,Mt(de,e),Mt(Re,Re.current),!0}function uv(e,c,x){var w=e.stateNode;if(!w)throw Error(nt(169));x?(e=mg(e,c,Zn),w.__reactInternalMemoizedMergedChildContext=e,Rt(Re),Rt(de),Mt(de,e)):Rt(Re),Mt(Re,x)}var Ci=null,Ml=!1,gh=!1;function xg(e){Ci===null?Ci=[e]:Ci.push(e)}function pT(e){Ml=!0,xg(e)}function En(){if(!gh&&Ci!==null){gh=!0;var e=0,c=St;try{var x=Ci;for(St=1;e<x.length;e++){var w=x[e];do w=w(!0);while(w!==null)}Ci=null,Ml=!1}catch(P){throw Ci!==null&&(Ci=Ci.slice(e+1)),W0(Yf,En),P}finally{St=c,gh=!1}}return null}var Sr=[],Er=0,jo=null,Qo=0,Ye=[],We=0,Kn=null,Li=1,Fi="";function Fn(e,c){Sr[Er++]=Qo,Sr[Er++]=jo,jo=e,Qo=c}function yg(e,c,x){Ye[We++]=Li,Ye[We++]=Fi,Ye[We++]=Kn,Kn=e;var w=Li;e=Fi;var P=32-ii(w)-1;w&=~(1<<P),x+=1;var F=32-ii(c)+P;if(30<F){var p=P-P%5;F=(w&(1<<p)-1).toString(32),w>>=p,P-=p,Li=1<<32-ii(c)+P|x<<P|w,Fi=F+e}else Li=1<<F|x<<P|w,Fi=e}function Jf(e){e.return!==null&&(Fn(e,1),yg(e,1,0))}function qf(e){for(;e===jo;)jo=Sr[--Er],Sr[Er]=null,Qo=Sr[--Er],Sr[Er]=null;for(;e===Kn;)Kn=Ye[--We],Ye[We]=null,Fi=Ye[--We],Ye[We]=null,Li=Ye[--We],Ye[We]=null}var ze=null,Be=null,Ft=!1,_e=null;function Tg(e,c){var x=$e(5,null,null,0);x.elementType="DELETED",x.stateNode=c,x.return=e,c=e.deletions,c===null?(e.deletions=[x],e.flags|=16):c.push(x)}function fv(e,c){switch(e.tag){case 5:var x=e.type;return c=c.nodeType!==1||x.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(e.stateNode=c,ze=e,Be=en(c.firstChild),!0):!1;case 6:return c=e.pendingProps===""||c.nodeType!==3?null:c,c!==null?(e.stateNode=c,ze=e,Be=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(x=Kn!==null?{id:Li,overflow:Fi}:null,e.memoizedState={dehydrated:c,treeContext:x,retryLane:1073741824},x=$e(18,null,null,0),x.stateNode=c,x.return=e,e.child=x,ze=e,Be=null,!0):!1;default:return!1}}function Du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Iu(e){if(Ft){var c=Be;if(c){var x=c;if(!fv(e,c)){if(Du(e))throw Error(nt(418));c=en(x.nextSibling);var w=ze;c&&fv(e,c)?Tg(w,x):(e.flags=e.flags&-4097|2,Ft=!1,ze=e)}}else{if(Du(e))throw Error(nt(418));e.flags=e.flags&-4097|2,Ft=!1,ze=e}}}function dv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ze=e}function eo(e){if(e!==ze)return!1;if(!Ft)return dv(e),Ft=!0,!1;var c;if((c=e.tag!==3)&&!(c=e.tag!==5)&&(c=e.type,c=c!=="head"&&c!=="body"&&!Ru(e.type,e.memoizedProps)),c&&(c=Be)){if(Du(e))throw Sg(),Error(nt(418));for(;c;)Tg(e,c),c=en(c.nextSibling)}if(dv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nt(317));t:{for(e=e.nextSibling,c=0;e;){if(e.nodeType===8){var x=e.data;if(x==="/$"){if(c===0){Be=en(e.nextSibling);break t}c--}else x!=="$"&&x!=="$!"&&x!=="$?"||c++}e=e.nextSibling}Be=null}}else Be=ze?en(e.stateNode.nextSibling):null;return!0}function Sg(){for(var e=Be;e;)e=en(e.nextSibling)}function Ur(){Be=ze=null,Ft=!1}function _f(e){_e===null?_e=[e]:_e.push(e)}var gT=Ui.ReactCurrentBatchConfig;function Je(e,c){if(e&&e.defaultProps){c=Nt({},c),e=e.defaultProps;for(var x in e)c[x]===void 0&&(c[x]=e[x]);return c}return c}var Jo=Sn(null),qo=null,Cr=null,td=null;function ed(){td=Cr=qo=null}function id(e){var c=Jo.current;Rt(Jo),e._currentValue=c}function Nu(e,c,x){for(;e!==null;){var w=e.alternate;if((e.childLanes&c)!==c?(e.childLanes|=c,w!==null&&(w.childLanes|=c)):w!==null&&(w.childLanes&c)!==c&&(w.childLanes|=c),e===x)break;e=e.return}}function Or(e,c){qo=e,td=Cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&c&&(we=!0),e.firstContext=null)}function Ke(e){var c=e._currentValue;if(td!==e)if(e={context:e,memoizedValue:c,next:null},Cr===null){if(qo===null)throw Error(nt(308));Cr=e,qo.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return c}var zn=null;function nd(e){zn===null?zn=[e]:zn.push(e)}function Eg(e,c,x,w){var P=c.interleaved;return P===null?(x.next=x,nd(c)):(x.next=P.next,P.next=x),c.interleaved=x,Bi(e,w)}function Bi(e,c){e.lanes|=c;var x=e.alternate;for(x!==null&&(x.lanes|=c),x=e,e=e.return;e!==null;)e.childLanes|=c,x=e.alternate,x!==null&&(x.childLanes|=c),x=e,e=e.return;return x.tag===3?x.stateNode:null}var $i=!1;function rd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cg(e,c){e=e.updateQueue,c.updateQueue===e&&(c.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,c){return{eventTime:e,lane:c,tag:0,payload:null,callback:null,next:null}}function nn(e,c,x){var w=e.updateQueue;if(w===null)return null;if(w=w.shared,xt&2){var P=w.pending;return P===null?c.next=c:(c.next=P.next,P.next=c),w.pending=c,Bi(e,x)}return P=w.interleaved,P===null?(c.next=c,nd(w)):(c.next=P.next,P.next=c),w.interleaved=c,Bi(e,x)}function Mo(e,c,x){if(c=c.updateQueue,c!==null&&(c=c.shared,(x&4194240)!==0)){var w=c.lanes;w&=e.pendingLanes,x|=w,c.lanes=x,Wf(e,x)}}function cv(e,c){var x=e.updateQueue,w=e.alternate;if(w!==null&&(w=w.updateQueue,x===w)){var P=null,F=null;if(x=x.firstBaseUpdate,x!==null){do{var p={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};F===null?P=F=p:F=F.next=p,x=x.next}while(x!==null);F===null?P=F=c:F=F.next=c}else P=F=c;x={baseState:w.baseState,firstBaseUpdate:P,lastBaseUpdate:F,shared:w.shared,effects:w.effects},e.updateQueue=x;return}e=x.lastBaseUpdate,e===null?x.firstBaseUpdate=c:e.next=c,x.lastBaseUpdate=c}function _o(e,c,x,w){var P=e.updateQueue;$i=!1;var F=P.firstBaseUpdate,p=P.lastBaseUpdate,S=P.shared.pending;if(S!==null){P.shared.pending=null;var t=S,l=t.next;t.next=null,p===null?F=l:p.next=l,p=t;var g=e.alternate;g!==null&&(g=g.updateQueue,S=g.lastBaseUpdate,S!==p&&(S===null?g.firstBaseUpdate=l:S.next=l,g.lastBaseUpdate=t))}if(F!==null){var h=P.baseState;p=0,g=l=t=null,S=F;do{var a=S.lane,s=S.eventTime;if((w&a)===a){g!==null&&(g=g.next={eventTime:s,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});t:{var i=e,r=S;switch(a=c,s=x,r.tag){case 1:if(i=r.payload,typeof i=="function"){h=i.call(s,h,a);break t}h=i;break t;case 3:i.flags=i.flags&-65537|128;case 0:if(i=r.payload,a=typeof i=="function"?i.call(s,h,a):i,a==null)break t;h=Nt({},h,a);break t;case 2:$i=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,a=P.effects,a===null?P.effects=[S]:a.push(S))}else s={eventTime:s,lane:a,tag:S.tag,payload:S.payload,callback:S.callback,next:null},g===null?(l=g=s,t=h):g=g.next=s,p|=a;if(S=S.next,S===null){if(S=P.shared.pending,S===null)break;a=S,S=a.next,a.next=null,P.lastBaseUpdate=a,P.shared.pending=null}}while(1);if(g===null&&(t=h),P.baseState=t,P.firstBaseUpdate=l,P.lastBaseUpdate=g,c=P.shared.interleaved,c!==null){P=c;do p|=P.lane,P=P.next;while(P!==c)}else F===null&&(P.shared.lanes=0);jn|=p,e.lanes=p,e.memoizedState=h}}function vv(e,c,x){if(e=c.effects,c.effects=null,e!==null)for(c=0;c<e.length;c++){var w=e[c],P=w.callback;if(P!==null){if(w.callback=null,w=x,typeof P!="function")throw Error(nt(191,P));P.call(w)}}}var Ag=new E0.Component().refs;function Bu(e,c,x,w){c=e.memoizedState,x=x(w,c),x=x==null?c:Nt({},c,x),e.memoizedState=x,e.lanes===0&&(e.updateQueue.baseState=x)}var Pl={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,c,x){e=e._reactInternals;var w=ye(),P=sn(e),F=Di(w,P);F.payload=c,x!=null&&(F.callback=x),c=nn(e,F,P),c!==null&&(ni(c,e,P,w),Mo(c,e,P))},enqueueReplaceState:function(e,c,x){e=e._reactInternals;var w=ye(),P=sn(e),F=Di(w,P);F.tag=1,F.payload=c,x!=null&&(F.callback=x),c=nn(e,F,P),c!==null&&(ni(c,e,P,w),Mo(c,e,P))},enqueueForceUpdate:function(e,c){e=e._reactInternals;var x=ye(),w=sn(e),P=Di(x,w);P.tag=2,c!=null&&(P.callback=c),c=nn(e,P,w),c!==null&&(ni(c,e,w,x),Mo(c,e,w))}};function pv(e,c,x,w,P,F,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(w,F,p):c.prototype&&c.prototype.isPureReactComponent?!na(x,w)||!na(P,F):!0}function wg(e,c,x){var w=!1,P=dn,F=c.contextType;return typeof F=="object"&&F!==null?F=Ke(F):(P=Le(c)?Zn:de.current,w=c.contextTypes,F=(w=w!=null)?zr(e,P):dn),c=new c(x,F),e.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Pl,e.stateNode=c,c._reactInternals=e,w&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=P,e.__reactInternalMemoizedMaskedChildContext=F),c}function gv(e,c,x,w){e=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(x,w),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(x,w),c.state!==e&&Pl.enqueueReplaceState(c,c.state,null)}function Gu(e,c,x,w){var P=e.stateNode;P.props=x,P.state=e.memoizedState,P.refs=Ag,rd(e);var F=c.contextType;typeof F=="object"&&F!==null?P.context=Ke(F):(F=Le(c)?Zn:de.current,P.context=zr(e,F)),P.state=e.memoizedState,F=c.getDerivedStateFromProps,typeof F=="function"&&(Bu(e,c,F,x),P.state=e.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(c=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),c!==P.state&&Pl.enqueueReplaceState(P,P.state,null),_o(e,x,P,w),P.state=e.memoizedState),typeof P.componentDidMount=="function"&&(e.flags|=4194308)}function gs(e,c,x){if(e=x.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(nt(309));var w=x.stateNode}if(!w)throw Error(nt(147,e));var P=w,F=""+e;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===F?c.ref:(c=function(p){var S=P.refs;S===Ag&&(S=P.refs={}),p===null?delete S[F]:S[F]=p},c._stringRef=F,c)}if(typeof e!="string")throw Error(nt(284));if(!x._owner)throw Error(nt(290,e))}return e}function io(e,c){throw e=Object.prototype.toString.call(c),Error(nt(31,e==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":e))}function mv(e){var c=e._init;return c(e._payload)}function Mg(e){function c(n,o){if(e){var f=n.deletions;f===null?(n.deletions=[o],n.flags|=16):f.push(o)}}function x(n,o){if(!e)return null;for(;o!==null;)c(n,o),o=o.sibling;return null}function w(n,o){for(n=new Map;o!==null;)o.key!==null?n.set(o.key,o):n.set(o.index,o),o=o.sibling;return n}function P(n,o){return n=an(n,o),n.index=0,n.sibling=null,n}function F(n,o,f){return n.index=f,e?(f=n.alternate,f!==null?(f=f.index,f<o?(n.flags|=2,o):f):(n.flags|=2,o)):(n.flags|=1048576,o)}function p(n){return e&&n.alternate===null&&(n.flags|=2),n}function S(n,o,f,d){return o===null||o.tag!==6?(o=Ch(f,n.mode,d),o.return=n,o):(o=P(o,f),o.return=n,o)}function t(n,o,f,d){var v=f.type;return v===pr?g(n,o,f.props.children,d,f.key):o!==null&&(o.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Hi&&mv(v)===o.type)?(d=P(o,f.props),d.ref=gs(n,o,f),d.return=n,d):(d=Do(f.type,f.key,f.props,null,n.mode,d),d.ref=gs(n,o,f),d.return=n,d)}function l(n,o,f,d){return o===null||o.tag!==4||o.stateNode.containerInfo!==f.containerInfo||o.stateNode.implementation!==f.implementation?(o=Ah(f,n.mode,d),o.return=n,o):(o=P(o,f.children||[]),o.return=n,o)}function g(n,o,f,d,v){return o===null||o.tag!==7?(o=$n(f,n.mode,d,v),o.return=n,o):(o=P(o,f),o.return=n,o)}function h(n,o,f){if(typeof o=="string"&&o!==""||typeof o=="number")return o=Ch(""+o,n.mode,f),o.return=n,o;if(typeof o=="object"&&o!==null){switch(o.$$typeof){case $a:return f=Do(o.type,o.key,o.props,null,n.mode,f),f.ref=gs(n,null,o),f.return=n,f;case vr:return o=Ah(o,n.mode,f),o.return=n,o;case Hi:var d=o._init;return h(n,d(o._payload),f)}if(As(o)||fs(o))return o=$n(o,n.mode,f,null),o.return=n,o;io(n,o)}return null}function a(n,o,f,d){var v=o!==null?o.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return v!==null?null:S(n,o,""+f,d);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $a:return f.key===v?t(n,o,f,d):null;case vr:return f.key===v?l(n,o,f,d):null;case Hi:return v=f._init,a(n,o,v(f._payload),d)}if(As(f)||fs(f))return v!==null?null:g(n,o,f,d,null);io(n,f)}return null}function s(n,o,f,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return n=n.get(f)||null,S(o,n,""+d,v);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case $a:return n=n.get(d.key===null?f:d.key)||null,t(o,n,d,v);case vr:return n=n.get(d.key===null?f:d.key)||null,l(o,n,d,v);case Hi:var m=d._init;return s(n,o,f,m(d._payload),v)}if(As(d)||fs(d))return n=n.get(f)||null,g(o,n,d,v,null);io(o,d)}return null}function i(n,o,f,d){for(var v=null,m=null,T=o,E=o=0,y=null;T!==null&&E<f.length;E++){T.index>E?(y=T,T=null):y=T.sibling;var C=a(n,T,f[E],d);if(C===null){T===null&&(T=y);break}e&&T&&C.alternate===null&&c(n,T),o=F(C,o,E),m===null?v=C:m.sibling=C,m=C,T=y}if(E===f.length)return x(n,T),Ft&&Fn(n,E),v;if(T===null){for(;E<f.length;E++)T=h(n,f[E],d),T!==null&&(o=F(T,o,E),m===null?v=T:m.sibling=T,m=T);return Ft&&Fn(n,E),v}for(T=w(n,T);E<f.length;E++)y=s(T,n,E,f[E],d),y!==null&&(e&&y.alternate!==null&&T.delete(y.key===null?E:y.key),o=F(y,o,E),m===null?v=y:m.sibling=y,m=y);return e&&T.forEach(function(A){return c(n,A)}),Ft&&Fn(n,E),v}function r(n,o,f,d){var v=fs(f);if(typeof v!="function")throw Error(nt(150));if(f=v.call(f),f==null)throw Error(nt(151));for(var m=v=null,T=o,E=o=0,y=null,C=f.next();T!==null&&!C.done;E++,C=f.next()){T.index>E?(y=T,T=null):y=T.sibling;var A=a(n,T,C.value,d);if(A===null){T===null&&(T=y);break}e&&T&&A.alternate===null&&c(n,T),o=F(A,o,E),m===null?v=A:m.sibling=A,m=A,T=y}if(C.done)return x(n,T),Ft&&Fn(n,E),v;if(T===null){for(;!C.done;E++,C=f.next())C=h(n,C.value,d),C!==null&&(o=F(C,o,E),m===null?v=C:m.sibling=C,m=C);return Ft&&Fn(n,E),v}for(T=w(n,T);!C.done;E++,C=f.next())C=s(T,n,E,C.value,d),C!==null&&(e&&C.alternate!==null&&T.delete(C.key===null?E:C.key),o=F(C,o,E),m===null?v=C:m.sibling=C,m=C);return e&&T.forEach(function(M){return c(n,M)}),Ft&&Fn(n,E),v}function u(n,o,f,d){if(typeof f=="object"&&f!==null&&f.type===pr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case $a:t:{for(var v=f.key,m=o;m!==null;){if(m.key===v){if(v=f.type,v===pr){if(m.tag===7){x(n,m.sibling),o=P(m,f.props.children),o.return=n,n=o;break t}}else if(m.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Hi&&mv(v)===m.type){x(n,m.sibling),o=P(m,f.props),o.ref=gs(n,m,f),o.return=n,n=o;break t}x(n,m);break}else c(n,m);m=m.sibling}f.type===pr?(o=$n(f.props.children,n.mode,d,f.key),o.return=n,n=o):(d=Do(f.type,f.key,f.props,null,n.mode,d),d.ref=gs(n,o,f),d.return=n,n=d)}return p(n);case vr:t:{for(m=f.key;o!==null;){if(o.key===m)if(o.tag===4&&o.stateNode.containerInfo===f.containerInfo&&o.stateNode.implementation===f.implementation){x(n,o.sibling),o=P(o,f.children||[]),o.return=n,n=o;break t}else{x(n,o);break}else c(n,o);o=o.sibling}o=Ah(f,n.mode,d),o.return=n,n=o}return p(n);case Hi:return m=f._init,u(n,o,m(f._payload),d)}if(As(f))return i(n,o,f,d);if(fs(f))return r(n,o,f,d);io(n,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,o!==null&&o.tag===6?(x(n,o.sibling),o=P(o,f),o.return=n,n=o):(x(n,o),o=Ch(f,n.mode,d),o.return=n,n=o),p(n)):x(n,o)}return u}var br=Mg(!0),Pg=Mg(!1),Fa={},mi=Sn(Fa),oa=Sn(Fa),la=Sn(Fa);function Un(e){if(e===Fa)throw Error(nt(174));return e}function sd(e,c){switch(Mt(la,c),Mt(oa,e),Mt(mi,Fa),e=c.nodeType,e){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:vu(null,"");break;default:e=e===8?c.parentNode:c,c=e.namespaceURI||null,e=e.tagName,c=vu(c,e)}Rt(mi),Mt(mi,c)}function Vr(){Rt(mi),Rt(oa),Rt(la)}function Rg(e){Un(la.current);var c=Un(mi.current),x=vu(c,e.type);c!==x&&(Mt(oa,e),Mt(mi,x))}function ad(e){oa.current===e&&(Rt(mi),Rt(oa))}var Dt=Sn(0);function tl(e){for(var c=e;c!==null;){if(c.tag===13){var x=c.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break;for(;c.sibling===null;){if(c.return===null||c.return===e)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var mh=[];function od(){for(var e=0;e<mh.length;e++)mh[e]._workInProgressVersionPrimary=null;mh.length=0}var Po=Ui.ReactCurrentDispatcher,xh=Ui.ReactCurrentBatchConfig,kn=0,It=null,$t=null,qt=null,el=!1,bs=!1,ha=0,mT=0;function he(){throw Error(nt(321))}function ld(e,c){if(c===null)return!1;for(var x=0;x<c.length&&x<e.length;x++)if(!ri(e[x],c[x]))return!1;return!0}function hd(e,c,x,w,P,F){if(kn=F,It=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Po.current=e===null||e.memoizedState===null?ST:ET,e=x(w,P),bs){F=0;do{if(bs=!1,ha=0,25<=F)throw Error(nt(301));F+=1,qt=$t=null,c.updateQueue=null,Po.current=CT,e=x(w,P)}while(bs)}if(Po.current=il,c=$t!==null&&$t.next!==null,kn=0,qt=$t=It=null,el=!1,c)throw Error(nt(300));return e}function ud(){var e=ha!==0;return ha=0,e}function ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?It.memoizedState=qt=e:qt=qt.next=e,qt}function ke(){if($t===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var c=qt===null?It.memoizedState:qt.next;if(c!==null)qt=c,$t=e;else{if(e===null)throw Error(nt(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},qt===null?It.memoizedState=qt=e:qt=qt.next=e}return qt}function ua(e,c){return typeof c=="function"?c(e):c}function yh(e){var c=ke(),x=c.queue;if(x===null)throw Error(nt(311));x.lastRenderedReducer=e;var w=$t,P=w.baseQueue,F=x.pending;if(F!==null){if(P!==null){var p=P.next;P.next=F.next,F.next=p}w.baseQueue=P=F,x.pending=null}if(P!==null){F=P.next,w=w.baseState;var S=p=null,t=null,l=F;do{var g=l.lane;if((kn&g)===g)t!==null&&(t=t.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),w=l.hasEagerState?l.eagerState:e(w,l.action);else{var h={lane:g,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};t===null?(S=t=h,p=w):t=t.next=h,It.lanes|=g,jn|=g}l=l.next}while(l!==null&&l!==F);t===null?p=w:t.next=S,ri(w,c.memoizedState)||(we=!0),c.memoizedState=w,c.baseState=p,c.baseQueue=t,x.lastRenderedState=w}if(e=x.interleaved,e!==null){P=e;do F=P.lane,It.lanes|=F,jn|=F,P=P.next;while(P!==e)}else P===null&&(x.lanes=0);return[c.memoizedState,x.dispatch]}function Th(e){var c=ke(),x=c.queue;if(x===null)throw Error(nt(311));x.lastRenderedReducer=e;var w=x.dispatch,P=x.pending,F=c.memoizedState;if(P!==null){x.pending=null;var p=P=P.next;do F=e(F,p.action),p=p.next;while(p!==P);ri(F,c.memoizedState)||(we=!0),c.memoizedState=F,c.baseQueue===null&&(c.baseState=F),x.lastRenderedState=F}return[F,w]}function Lg(){}function Fg(e,c){var x=It,w=ke(),P=c(),F=!ri(w.memoizedState,P);if(F&&(w.memoizedState=P,we=!0),w=w.queue,fd(Ig.bind(null,x,w,e),[e]),w.getSnapshot!==c||F||qt!==null&&qt.memoizedState.tag&1){if(x.flags|=2048,fa(9,Dg.bind(null,x,w,P,c),void 0,null),te===null)throw Error(nt(349));kn&30||Og(x,c,P)}return P}function Og(e,c,x){e.flags|=16384,e={getSnapshot:c,value:x},c=It.updateQueue,c===null?(c={lastEffect:null,stores:null},It.updateQueue=c,c.stores=[e]):(x=c.stores,x===null?c.stores=[e]:x.push(e))}function Dg(e,c,x,w){c.value=x,c.getSnapshot=w,Ng(c)&&Bg(e)}function Ig(e,c,x){return x(function(){Ng(c)&&Bg(e)})}function Ng(e){var c=e.getSnapshot;e=e.value;try{var x=c();return!ri(e,x)}catch{return!0}}function Bg(e){var c=Bi(e,1);c!==null&&ni(c,e,1,-1)}function xv(e){var c=ui();return typeof e=="function"&&(e=e()),c.memoizedState=c.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e},c.queue=e,e=e.dispatch=TT.bind(null,It,e),[c.memoizedState,e]}function fa(e,c,x,w){return e={tag:e,create:c,destroy:x,deps:w,next:null},c=It.updateQueue,c===null?(c={lastEffect:null,stores:null},It.updateQueue=c,c.lastEffect=e.next=e):(x=c.lastEffect,x===null?c.lastEffect=e.next=e:(w=x.next,x.next=e,e.next=w,c.lastEffect=e)),e}function Gg(){return ke().memoizedState}function Ro(e,c,x,w){var P=ui();It.flags|=e,P.memoizedState=fa(1|c,x,void 0,w===void 0?null:w)}function Rl(e,c,x,w){var P=ke();w=w===void 0?null:w;var F=void 0;if($t!==null){var p=$t.memoizedState;if(F=p.destroy,w!==null&&ld(w,p.deps)){P.memoizedState=fa(c,x,F,w);return}}It.flags|=e,P.memoizedState=fa(1|c,x,F,w)}function yv(e,c){return Ro(8390656,8,e,c)}function fd(e,c){return Rl(2048,8,e,c)}function zg(e,c){return Rl(4,2,e,c)}function Ug(e,c){return Rl(4,4,e,c)}function bg(e,c){if(typeof c=="function")return e=e(),c(e),function(){c(null)};if(c!=null)return e=e(),c.current=e,function(){c.current=null}}function Vg(e,c,x){return x=x!=null?x.concat([e]):null,Rl(4,4,bg.bind(null,c,e),x)}function dd(){}function Xg(e,c){var x=ke();c=c===void 0?null:c;var w=x.memoizedState;return w!==null&&c!==null&&ld(c,w[1])?w[0]:(x.memoizedState=[e,c],e)}function Yg(e,c){var x=ke();c=c===void 0?null:c;var w=x.memoizedState;return w!==null&&c!==null&&ld(c,w[1])?w[0]:(e=e(),x.memoizedState=[e,c],e)}function Wg(e,c,x){return kn&21?(ri(x,c)||(x=Z0(),It.lanes|=x,jn|=x,e.baseState=!0),c):(e.baseState&&(e.baseState=!1,we=!0),e.memoizedState=x)}function xT(e,c){var x=St;St=x!==0&&4>x?x:4,e(!0);var w=xh.transition;xh.transition={};try{e(!1),c()}finally{St=x,xh.transition=w}}function Hg(){return ke().memoizedState}function yT(e,c,x){var w=sn(e);if(x={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null},$g(e))Zg(c,x);else if(x=Eg(e,c,x,w),x!==null){var P=ye();ni(x,e,w,P),Kg(x,c,w)}}function TT(e,c,x){var w=sn(e),P={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null};if($g(e))Zg(c,P);else{var F=e.alternate;if(e.lanes===0&&(F===null||F.lanes===0)&&(F=c.lastRenderedReducer,F!==null))try{var p=c.lastRenderedState,S=F(p,x);if(P.hasEagerState=!0,P.eagerState=S,ri(S,p)){var t=c.interleaved;t===null?(P.next=P,nd(c)):(P.next=t.next,t.next=P),c.interleaved=P;return}}catch{}finally{}x=Eg(e,c,P,w),x!==null&&(P=ye(),ni(x,e,w,P),Kg(x,c,w))}}function $g(e){var c=e.alternate;return e===It||c!==null&&c===It}function Zg(e,c){bs=el=!0;var x=e.pending;x===null?c.next=c:(c.next=x.next,x.next=c),e.pending=c}function Kg(e,c,x){if(x&4194240){var w=c.lanes;w&=e.pendingLanes,x|=w,c.lanes=x,Wf(e,x)}}var il={readContext:Ke,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},ST={readContext:Ke,useCallback:function(e,c){return ui().memoizedState=[e,c===void 0?null:c],e},useContext:Ke,useEffect:yv,useImperativeHandle:function(e,c,x){return x=x!=null?x.concat([e]):null,Ro(4194308,4,bg.bind(null,c,e),x)},useLayoutEffect:function(e,c){return Ro(4194308,4,e,c)},useInsertionEffect:function(e,c){return Ro(4,2,e,c)},useMemo:function(e,c){var x=ui();return c=c===void 0?null:c,e=e(),x.memoizedState=[e,c],e},useReducer:function(e,c,x){var w=ui();return c=x!==void 0?x(c):c,w.memoizedState=w.baseState=c,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},w.queue=e,e=e.dispatch=yT.bind(null,It,e),[w.memoizedState,e]},useRef:function(e){var c=ui();return e={current:e},c.memoizedState=e},useState:xv,useDebugValue:dd,useDeferredValue:function(e){return ui().memoizedState=e},useTransition:function(){var e=xv(!1),c=e[0];return e=xT.bind(null,e[1]),ui().memoizedState=e,[c,e]},useMutableSource:function(){},useSyncExternalStore:function(e,c,x){var w=It,P=ui();if(Ft){if(x===void 0)throw Error(nt(407));x=x()}else{if(x=c(),te===null)throw Error(nt(349));kn&30||Og(w,c,x)}P.memoizedState=x;var F={value:x,getSnapshot:c};return P.queue=F,yv(Ig.bind(null,w,F,e),[e]),w.flags|=2048,fa(9,Dg.bind(null,w,F,x,c),void 0,null),x},useId:function(){var e=ui(),c=te.identifierPrefix;if(Ft){var x=Fi,w=Li;x=(w&~(1<<32-ii(w)-1)).toString(32)+x,c=":"+c+"R"+x,x=ha++,0<x&&(c+="H"+x.toString(32)),c+=":"}else x=mT++,c=":"+c+"r"+x.toString(32)+":";return e.memoizedState=c},unstable_isNewReconciler:!1},ET={readContext:Ke,useCallback:Xg,useContext:Ke,useEffect:fd,useImperativeHandle:Vg,useInsertionEffect:zg,useLayoutEffect:Ug,useMemo:Yg,useReducer:yh,useRef:Gg,useState:function(){return yh(ua)},useDebugValue:dd,useDeferredValue:function(e){var c=ke();return Wg(c,$t.memoizedState,e)},useTransition:function(){var e=yh(ua)[0],c=ke().memoizedState;return[e,c]},useMutableSource:Lg,useSyncExternalStore:Fg,useId:Hg,unstable_isNewReconciler:!1},CT={readContext:Ke,useCallback:Xg,useContext:Ke,useEffect:fd,useImperativeHandle:Vg,useInsertionEffect:zg,useLayoutEffect:Ug,useMemo:Yg,useReducer:Th,useRef:Gg,useState:function(){return Th(ua)},useDebugValue:dd,useDeferredValue:function(e){var c=ke();return $t===null?c.memoizedState=e:Wg(c,$t.memoizedState,e)},useTransition:function(){var e=Th(ua)[0],c=ke().memoizedState;return[e,c]},useMutableSource:Lg,useSyncExternalStore:Fg,useId:Hg,unstable_isNewReconciler:!1};function Xr(e,c){try{var x="",w=c;do x+=Jy(w),w=w.return;while(w);var P=x}catch(F){P=`
Error generating stack: `+F.message+`
`+F.stack}return{value:e,source:c,stack:P,digest:null}}function Sh(e,c,x){return{value:e,source:null,stack:x??null,digest:c??null}}function zu(e,c){try{console.error(c.value)}catch(x){setTimeout(function(){throw x})}}var AT=typeof WeakMap=="function"?WeakMap:Map;function kg(e,c,x){x=Di(-1,x),x.tag=3,x.payload={element:null};var w=c.value;return x.callback=function(){rl||(rl=!0,Ku=w),zu(e,c)},x}function jg(e,c,x){x=Di(-1,x),x.tag=3;var w=e.type.getDerivedStateFromError;if(typeof w=="function"){var P=c.value;x.payload=function(){return w(P)},x.callback=function(){zu(e,c)}}var F=e.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(x.callback=function(){zu(e,c),typeof w!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var p=c.stack;this.componentDidCatch(c.value,{componentStack:p!==null?p:""})}),x}function Tv(e,c,x){var w=e.pingCache;if(w===null){w=e.pingCache=new AT;var P=new Set;w.set(c,P)}else P=w.get(c),P===void 0&&(P=new Set,w.set(c,P));P.has(x)||(P.add(x),e=UT.bind(null,e,c,x),c.then(e,e))}function Sv(e){do{var c;if((c=e.tag===13)&&(c=e.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return e;e=e.return}while(e!==null);return null}function Ev(e,c,x,w,P){return e.mode&1?(e.flags|=65536,e.lanes=P,e):(e===c?e.flags|=65536:(e.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(c=Di(-1,1),c.tag=2,nn(x,c,1))),x.lanes|=1),e)}var wT=Ui.ReactCurrentOwner,we=!1;function pe(e,c,x,w){c.child=e===null?Pg(c,null,x,w):br(c,e.child,x,w)}function Cv(e,c,x,w,P){x=x.render;var F=c.ref;return Or(c,P),w=hd(e,c,x,w,F,P),x=ud(),e!==null&&!we?(c.updateQueue=e.updateQueue,c.flags&=-2053,e.lanes&=~P,Gi(e,c,P)):(Ft&&x&&Jf(c),c.flags|=1,pe(e,c,w,P),c.child)}function Av(e,c,x,w,P){if(e===null){var F=x.type;return typeof F=="function"&&!Td(F)&&F.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(c.tag=15,c.type=F,Qg(e,c,F,w,P)):(e=Do(x.type,null,w,c,c.mode,P),e.ref=c.ref,e.return=c,c.child=e)}if(F=e.child,!(e.lanes&P)){var p=F.memoizedProps;if(x=x.compare,x=x!==null?x:na,x(p,w)&&e.ref===c.ref)return Gi(e,c,P)}return c.flags|=1,e=an(F,w),e.ref=c.ref,e.return=c,c.child=e}function Qg(e,c,x,w,P){if(e!==null){var F=e.memoizedProps;if(na(F,w)&&e.ref===c.ref)if(we=!1,c.pendingProps=w=F,(e.lanes&P)!==0)e.flags&131072&&(we=!0);else return c.lanes=e.lanes,Gi(e,c,P)}return Uu(e,c,x,w,P)}function Jg(e,c,x){var w=c.pendingProps,P=w.children,F=e!==null?e.memoizedState:null;if(w.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(wr,Ie),Ie|=x;else{if(!(x&1073741824))return e=F!==null?F.baseLanes|x:x,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:e,cachePool:null,transitions:null},c.updateQueue=null,Mt(wr,Ie),Ie|=e,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=F!==null?F.baseLanes:x,Mt(wr,Ie),Ie|=w}else F!==null?(w=F.baseLanes|x,c.memoizedState=null):w=x,Mt(wr,Ie),Ie|=w;return pe(e,c,P,x),c.child}function qg(e,c){var x=c.ref;(e===null&&x!==null||e!==null&&e.ref!==x)&&(c.flags|=512,c.flags|=2097152)}function Uu(e,c,x,w,P){var F=Le(x)?Zn:de.current;return F=zr(c,F),Or(c,P),x=hd(e,c,x,w,F,P),w=ud(),e!==null&&!we?(c.updateQueue=e.updateQueue,c.flags&=-2053,e.lanes&=~P,Gi(e,c,P)):(Ft&&w&&Jf(c),c.flags|=1,pe(e,c,x,P),c.child)}function wv(e,c,x,w,P){if(Le(x)){var F=!0;ko(c)}else F=!1;if(Or(c,P),c.stateNode===null)Lo(e,c),wg(c,x,w),Gu(c,x,w,P),w=!0;else if(e===null){var p=c.stateNode,S=c.memoizedProps;p.props=S;var t=p.context,l=x.contextType;typeof l=="object"&&l!==null?l=Ke(l):(l=Le(x)?Zn:de.current,l=zr(c,l));var g=x.getDerivedStateFromProps,h=typeof g=="function"||typeof p.getSnapshotBeforeUpdate=="function";h||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==w||t!==l)&&gv(c,p,w,l),$i=!1;var a=c.memoizedState;p.state=a,_o(c,w,p,P),t=c.memoizedState,S!==w||a!==t||Re.current||$i?(typeof g=="function"&&(Bu(c,x,g,w),t=c.memoizedState),(S=$i||pv(c,x,S,w,a,t,l))?(h||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(c.flags|=4194308)):(typeof p.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=w,c.memoizedState=t),p.props=w,p.state=t,p.context=l,w=S):(typeof p.componentDidMount=="function"&&(c.flags|=4194308),w=!1)}else{p=c.stateNode,Cg(e,c),S=c.memoizedProps,l=c.type===c.elementType?S:Je(c.type,S),p.props=l,h=c.pendingProps,a=p.context,t=x.contextType,typeof t=="object"&&t!==null?t=Ke(t):(t=Le(x)?Zn:de.current,t=zr(c,t));var s=x.getDerivedStateFromProps;(g=typeof s=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==h||a!==t)&&gv(c,p,w,t),$i=!1,a=c.memoizedState,p.state=a,_o(c,w,p,P);var i=c.memoizedState;S!==h||a!==i||Re.current||$i?(typeof s=="function"&&(Bu(c,x,s,w),i=c.memoizedState),(l=$i||pv(c,x,l,w,a,i,t)||!1)?(g||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(w,i,t),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(w,i,t)),typeof p.componentDidUpdate=="function"&&(c.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&a===e.memoizedState||(c.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&a===e.memoizedState||(c.flags|=1024),c.memoizedProps=w,c.memoizedState=i),p.props=w,p.state=i,p.context=t,w=l):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&a===e.memoizedState||(c.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&a===e.memoizedState||(c.flags|=1024),w=!1)}return bu(e,c,x,w,F,P)}function bu(e,c,x,w,P,F){qg(e,c);var p=(c.flags&128)!==0;if(!w&&!p)return P&&uv(c,x,!1),Gi(e,c,F);w=c.stateNode,wT.current=c;var S=p&&typeof x.getDerivedStateFromError!="function"?null:w.render();return c.flags|=1,e!==null&&p?(c.child=br(c,e.child,null,F),c.child=br(c,null,S,F)):pe(e,c,S,F),c.memoizedState=w.state,P&&uv(c,x,!0),c.child}function _g(e){var c=e.stateNode;c.pendingContext?hv(e,c.pendingContext,c.pendingContext!==c.context):c.context&&hv(e,c.context,!1),sd(e,c.containerInfo)}function Mv(e,c,x,w,P){return Ur(),_f(P),c.flags|=256,pe(e,c,x,w),c.child}var Vu={dehydrated:null,treeContext:null,retryLane:0};function Xu(e){return{baseLanes:e,cachePool:null,transitions:null}}function tm(e,c,x){var w=c.pendingProps,P=Dt.current,F=!1,p=(c.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(P&2)!==0),S?(F=!0,c.flags&=-129):(e===null||e.memoizedState!==null)&&(P|=1),Mt(Dt,P&1),e===null)return Iu(c),e=c.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(c.mode&1?e.data==="$!"?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(p=w.children,e=w.fallback,F?(w=c.mode,F=c.child,p={mode:"hidden",children:p},!(w&1)&&F!==null?(F.childLanes=0,F.pendingProps=p):F=Ol(p,w,0,null),e=$n(e,w,x,null),F.return=c,e.return=c,F.sibling=e,c.child=F,c.child.memoizedState=Xu(x),c.memoizedState=Vu,e):cd(c,p));if(P=e.memoizedState,P!==null&&(S=P.dehydrated,S!==null))return MT(e,c,p,w,S,P,x);if(F){F=w.fallback,p=c.mode,P=e.child,S=P.sibling;var t={mode:"hidden",children:w.children};return!(p&1)&&c.child!==P?(w=c.child,w.childLanes=0,w.pendingProps=t,c.deletions=null):(w=an(P,t),w.subtreeFlags=P.subtreeFlags&14680064),S!==null?F=an(S,F):(F=$n(F,p,x,null),F.flags|=2),F.return=c,w.return=c,w.sibling=F,c.child=w,w=F,F=c.child,p=e.child.memoizedState,p=p===null?Xu(x):{baseLanes:p.baseLanes|x,cachePool:null,transitions:p.transitions},F.memoizedState=p,F.childLanes=e.childLanes&~x,c.memoizedState=Vu,w}return F=e.child,e=F.sibling,w=an(F,{mode:"visible",children:w.children}),!(c.mode&1)&&(w.lanes=x),w.return=c,w.sibling=null,e!==null&&(x=c.deletions,x===null?(c.deletions=[e],c.flags|=16):x.push(e)),c.child=w,c.memoizedState=null,w}function cd(e,c){return c=Ol({mode:"visible",children:c},e.mode,0,null),c.return=e,e.child=c}function no(e,c,x,w){return w!==null&&_f(w),br(c,e.child,null,x),e=cd(c,c.pendingProps.children),e.flags|=2,c.memoizedState=null,e}function MT(e,c,x,w,P,F,p){if(x)return c.flags&256?(c.flags&=-257,w=Sh(Error(nt(422))),no(e,c,p,w)):c.memoizedState!==null?(c.child=e.child,c.flags|=128,null):(F=w.fallback,P=c.mode,w=Ol({mode:"visible",children:w.children},P,0,null),F=$n(F,P,p,null),F.flags|=2,w.return=c,F.return=c,w.sibling=F,c.child=w,c.mode&1&&br(c,e.child,null,p),c.child.memoizedState=Xu(p),c.memoizedState=Vu,F);if(!(c.mode&1))return no(e,c,p,null);if(P.data==="$!"){if(w=P.nextSibling&&P.nextSibling.dataset,w)var S=w.dgst;return w=S,F=Error(nt(419)),w=Sh(F,w,void 0),no(e,c,p,w)}if(S=(p&e.childLanes)!==0,we||S){if(w=te,w!==null){switch(p&-p){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=P&(w.suspendedLanes|p)?0:P,P!==0&&P!==F.retryLane&&(F.retryLane=P,Bi(e,P),ni(w,e,P,-1))}return yd(),w=Sh(Error(nt(421))),no(e,c,p,w)}return P.data==="$?"?(c.flags|=128,c.child=e.child,c=bT.bind(null,e),P._reactRetry=c,null):(e=F.treeContext,Be=en(P.nextSibling),ze=c,Ft=!0,_e=null,e!==null&&(Ye[We++]=Li,Ye[We++]=Fi,Ye[We++]=Kn,Li=e.id,Fi=e.overflow,Kn=c),c=cd(c,w.children),c.flags|=4096,c)}function Pv(e,c,x){e.lanes|=c;var w=e.alternate;w!==null&&(w.lanes|=c),Nu(e.return,c,x)}function Eh(e,c,x,w,P){var F=e.memoizedState;F===null?e.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:w,tail:x,tailMode:P}:(F.isBackwards=c,F.rendering=null,F.renderingStartTime=0,F.last=w,F.tail=x,F.tailMode=P)}function em(e,c,x){var w=c.pendingProps,P=w.revealOrder,F=w.tail;if(pe(e,c,w.children,x),w=Dt.current,w&2)w=w&1|2,c.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=c.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pv(e,x,c);else if(e.tag===19)Pv(e,x,c);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===c)break t;for(;e.sibling===null;){if(e.return===null||e.return===c)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}w&=1}if(Mt(Dt,w),!(c.mode&1))c.memoizedState=null;else switch(P){case"forwards":for(x=c.child,P=null;x!==null;)e=x.alternate,e!==null&&tl(e)===null&&(P=x),x=x.sibling;x=P,x===null?(P=c.child,c.child=null):(P=x.sibling,x.sibling=null),Eh(c,!1,P,x,F);break;case"backwards":for(x=null,P=c.child,c.child=null;P!==null;){if(e=P.alternate,e!==null&&tl(e)===null){c.child=P;break}e=P.sibling,P.sibling=x,x=P,P=e}Eh(c,!0,x,null,F);break;case"together":Eh(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Lo(e,c){!(c.mode&1)&&e!==null&&(e.alternate=null,c.alternate=null,c.flags|=2)}function Gi(e,c,x){if(e!==null&&(c.dependencies=e.dependencies),jn|=c.lanes,!(x&c.childLanes))return null;if(e!==null&&c.child!==e.child)throw Error(nt(153));if(c.child!==null){for(e=c.child,x=an(e,e.pendingProps),c.child=x,x.return=c;e.sibling!==null;)e=e.sibling,x=x.sibling=an(e,e.pendingProps),x.return=c;x.sibling=null}return c.child}function PT(e,c,x){switch(c.tag){case 3:_g(c),Ur();break;case 5:Rg(c);break;case 1:Le(c.type)&&ko(c);break;case 4:sd(c,c.stateNode.containerInfo);break;case 10:var w=c.type._context,P=c.memoizedProps.value;Mt(Jo,w._currentValue),w._currentValue=P;break;case 13:if(w=c.memoizedState,w!==null)return w.dehydrated!==null?(Mt(Dt,Dt.current&1),c.flags|=128,null):x&c.child.childLanes?tm(e,c,x):(Mt(Dt,Dt.current&1),e=Gi(e,c,x),e!==null?e.sibling:null);Mt(Dt,Dt.current&1);break;case 19:if(w=(x&c.childLanes)!==0,e.flags&128){if(w)return em(e,c,x);c.flags|=128}if(P=c.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Mt(Dt,Dt.current),w)break;return null;case 22:case 23:return c.lanes=0,Jg(e,c,x)}return Gi(e,c,x)}var im,Yu,nm,rm;im=function(e,c){for(var x=c.child;x!==null;){if(x.tag===5||x.tag===6)e.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===c)break;for(;x.sibling===null;){if(x.return===null||x.return===c)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};Yu=function(){};nm=function(e,c,x,w){var P=e.memoizedProps;if(P!==w){e=c.stateNode,Un(mi.current);var F=null;switch(x){case"input":P=uu(e,P),w=uu(e,w),F=[];break;case"select":P=Nt({},P,{value:void 0}),w=Nt({},w,{value:void 0}),F=[];break;case"textarea":P=cu(e,P),w=cu(e,w),F=[];break;default:typeof P.onClick!="function"&&typeof w.onClick=="function"&&(e.onclick=Zo)}pu(x,w);var p;x=null;for(l in P)if(!w.hasOwnProperty(l)&&P.hasOwnProperty(l)&&P[l]!=null)if(l==="style"){var S=P[l];for(p in S)S.hasOwnProperty(p)&&(x||(x={}),x[p]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Qs.hasOwnProperty(l)?F||(F=[]):(F=F||[]).push(l,null));for(l in w){var t=w[l];if(S=P!=null?P[l]:void 0,w.hasOwnProperty(l)&&t!==S&&(t!=null||S!=null))if(l==="style")if(S){for(p in S)!S.hasOwnProperty(p)||t&&t.hasOwnProperty(p)||(x||(x={}),x[p]="");for(p in t)t.hasOwnProperty(p)&&S[p]!==t[p]&&(x||(x={}),x[p]=t[p])}else x||(F||(F=[]),F.push(l,x)),x=t;else l==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,S=S?S.__html:void 0,t!=null&&S!==t&&(F=F||[]).push(l,t)):l==="children"?typeof t!="string"&&typeof t!="number"||(F=F||[]).push(l,""+t):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Qs.hasOwnProperty(l)?(t!=null&&l==="onScroll"&&Pt("scroll",e),F||S===t||(F=[])):(F=F||[]).push(l,t))}x&&(F=F||[]).push("style",x);var l=F;(c.updateQueue=l)&&(c.flags|=4)}};rm=function(e,c,x,w){x!==w&&(c.flags|=4)};function ms(e,c){if(!Ft)switch(e.tailMode){case"hidden":c=e.tail;for(var x=null;c!==null;)c.alternate!==null&&(x=c),c=c.sibling;x===null?e.tail=null:x.sibling=null;break;case"collapsed":x=e.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?c||e.tail===null?e.tail=null:e.tail.sibling=null:w.sibling=null}}function ue(e){var c=e.alternate!==null&&e.alternate.child===e.child,x=0,w=0;if(c)for(var P=e.child;P!==null;)x|=P.lanes|P.childLanes,w|=P.subtreeFlags&14680064,w|=P.flags&14680064,P.return=e,P=P.sibling;else for(P=e.child;P!==null;)x|=P.lanes|P.childLanes,w|=P.subtreeFlags,w|=P.flags,P.return=e,P=P.sibling;return e.subtreeFlags|=w,e.childLanes=x,c}function RT(e,c,x){var w=c.pendingProps;switch(qf(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(c),null;case 1:return Le(c.type)&&Ko(),ue(c),null;case 3:return w=c.stateNode,Vr(),Rt(Re),Rt(de),od(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(e===null||e.child===null)&&(eo(c)?c.flags|=4:e===null||e.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,_e!==null&&(Qu(_e),_e=null))),Yu(e,c),ue(c),null;case 5:ad(c);var P=Un(la.current);if(x=c.type,e!==null&&c.stateNode!=null)nm(e,c,x,w,P),e.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!w){if(c.stateNode===null)throw Error(nt(166));return ue(c),null}if(e=Un(mi.current),eo(c)){w=c.stateNode,x=c.type;var F=c.memoizedProps;switch(w[ci]=c,w[aa]=F,e=(c.mode&1)!==0,x){case"dialog":Pt("cancel",w),Pt("close",w);break;case"iframe":case"object":case"embed":Pt("load",w);break;case"video":case"audio":for(P=0;P<Ms.length;P++)Pt(Ms[P],w);break;case"source":Pt("error",w);break;case"img":case"image":case"link":Pt("error",w),Pt("load",w);break;case"details":Pt("toggle",w);break;case"input":Gc(w,F),Pt("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!F.multiple},Pt("invalid",w);break;case"textarea":Uc(w,F),Pt("invalid",w)}pu(x,F),P=null;for(var p in F)if(F.hasOwnProperty(p)){var S=F[p];p==="children"?typeof S=="string"?w.textContent!==S&&(F.suppressHydrationWarning!==!0&&to(w.textContent,S,e),P=["children",S]):typeof S=="number"&&w.textContent!==""+S&&(F.suppressHydrationWarning!==!0&&to(w.textContent,S,e),P=["children",""+S]):Qs.hasOwnProperty(p)&&S!=null&&p==="onScroll"&&Pt("scroll",w)}switch(x){case"input":Za(w),zc(w,F,!0);break;case"textarea":Za(w),bc(w);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(w.onclick=Zo)}w=P,c.updateQueue=w,w!==null&&(c.flags|=4)}else{p=P.nodeType===9?P:P.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=O0(x)),e==="http://www.w3.org/1999/xhtml"?x==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof w.is=="string"?e=p.createElement(x,{is:w.is}):(e=p.createElement(x),x==="select"&&(p=e,w.multiple?p.multiple=!0:w.size&&(p.size=w.size))):e=p.createElementNS(e,x),e[ci]=c,e[aa]=w,im(e,c,!1,!1),c.stateNode=e;t:{switch(p=gu(x,w),x){case"dialog":Pt("cancel",e),Pt("close",e),P=w;break;case"iframe":case"object":case"embed":Pt("load",e),P=w;break;case"video":case"audio":for(P=0;P<Ms.length;P++)Pt(Ms[P],e);P=w;break;case"source":Pt("error",e),P=w;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),P=w;break;case"details":Pt("toggle",e),P=w;break;case"input":Gc(e,w),P=uu(e,w),Pt("invalid",e);break;case"option":P=w;break;case"select":e._wrapperState={wasMultiple:!!w.multiple},P=Nt({},w,{value:void 0}),Pt("invalid",e);break;case"textarea":Uc(e,w),P=cu(e,w),Pt("invalid",e);break;default:P=w}pu(x,P),S=P;for(F in S)if(S.hasOwnProperty(F)){var t=S[F];F==="style"?N0(e,t):F==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,t!=null&&D0(e,t)):F==="children"?typeof t=="string"?(x!=="textarea"||t!=="")&&Js(e,t):typeof t=="number"&&Js(e,""+t):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(Qs.hasOwnProperty(F)?t!=null&&F==="onScroll"&&Pt("scroll",e):t!=null&&zf(e,F,t,p))}switch(x){case"input":Za(e),zc(e,w,!1);break;case"textarea":Za(e),bc(e);break;case"option":w.value!=null&&e.setAttribute("value",""+fn(w.value));break;case"select":e.multiple=!!w.multiple,F=w.value,F!=null?Pr(e,!!w.multiple,F,!1):w.defaultValue!=null&&Pr(e,!!w.multiple,w.defaultValue,!0);break;default:typeof P.onClick=="function"&&(e.onclick=Zo)}switch(x){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break t;case"img":w=!0;break t;default:w=!1}}w&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return ue(c),null;case 6:if(e&&c.stateNode!=null)rm(e,c,e.memoizedProps,w);else{if(typeof w!="string"&&c.stateNode===null)throw Error(nt(166));if(x=Un(la.current),Un(mi.current),eo(c)){if(w=c.stateNode,x=c.memoizedProps,w[ci]=c,(F=w.nodeValue!==x)&&(e=ze,e!==null))switch(e.tag){case 3:to(w.nodeValue,x,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&to(w.nodeValue,x,(e.mode&1)!==0)}F&&(c.flags|=4)}else w=(x.nodeType===9?x:x.ownerDocument).createTextNode(w),w[ci]=c,c.stateNode=w}return ue(c),null;case 13:if(Rt(Dt),w=c.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ft&&Be!==null&&c.mode&1&&!(c.flags&128))Sg(),Ur(),c.flags|=98560,F=!1;else if(F=eo(c),w!==null&&w.dehydrated!==null){if(e===null){if(!F)throw Error(nt(318));if(F=c.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(nt(317));F[ci]=c}else Ur(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;ue(c),F=!1}else _e!==null&&(Qu(_e),_e=null),F=!0;if(!F)return c.flags&65536?c:null}return c.flags&128?(c.lanes=x,c):(w=w!==null,w!==(e!==null&&e.memoizedState!==null)&&w&&(c.child.flags|=8192,c.mode&1&&(e===null||Dt.current&1?Zt===0&&(Zt=3):yd())),c.updateQueue!==null&&(c.flags|=4),ue(c),null);case 4:return Vr(),Yu(e,c),e===null&&ra(c.stateNode.containerInfo),ue(c),null;case 10:return id(c.type._context),ue(c),null;case 17:return Le(c.type)&&Ko(),ue(c),null;case 19:if(Rt(Dt),F=c.memoizedState,F===null)return ue(c),null;if(w=(c.flags&128)!==0,p=F.rendering,p===null)if(w)ms(F,!1);else{if(Zt!==0||e!==null&&e.flags&128)for(e=c.child;e!==null;){if(p=tl(e),p!==null){for(c.flags|=128,ms(F,!1),w=p.updateQueue,w!==null&&(c.updateQueue=w,c.flags|=4),c.subtreeFlags=0,w=x,x=c.child;x!==null;)F=x,e=w,F.flags&=14680066,p=F.alternate,p===null?(F.childLanes=0,F.lanes=e,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=p.childLanes,F.lanes=p.lanes,F.child=p.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=p.memoizedProps,F.memoizedState=p.memoizedState,F.updateQueue=p.updateQueue,F.type=p.type,e=p.dependencies,F.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),x=x.sibling;return Mt(Dt,Dt.current&1|2),c.child}e=e.sibling}F.tail!==null&&Vt()>Yr&&(c.flags|=128,w=!0,ms(F,!1),c.lanes=4194304)}else{if(!w)if(e=tl(p),e!==null){if(c.flags|=128,w=!0,x=e.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),ms(F,!0),F.tail===null&&F.tailMode==="hidden"&&!p.alternate&&!Ft)return ue(c),null}else 2*Vt()-F.renderingStartTime>Yr&&x!==1073741824&&(c.flags|=128,w=!0,ms(F,!1),c.lanes=4194304);F.isBackwards?(p.sibling=c.child,c.child=p):(x=F.last,x!==null?x.sibling=p:c.child=p,F.last=p)}return F.tail!==null?(c=F.tail,F.rendering=c,F.tail=c.sibling,F.renderingStartTime=Vt(),c.sibling=null,x=Dt.current,Mt(Dt,w?x&1|2:x&1),c):(ue(c),null);case 22:case 23:return xd(),w=c.memoizedState!==null,e!==null&&e.memoizedState!==null!==w&&(c.flags|=8192),w&&c.mode&1?Ie&1073741824&&(ue(c),c.subtreeFlags&6&&(c.flags|=8192)):ue(c),null;case 24:return null;case 25:return null}throw Error(nt(156,c.tag))}function LT(e,c){switch(qf(c),c.tag){case 1:return Le(c.type)&&Ko(),e=c.flags,e&65536?(c.flags=e&-65537|128,c):null;case 3:return Vr(),Rt(Re),Rt(de),od(),e=c.flags,e&65536&&!(e&128)?(c.flags=e&-65537|128,c):null;case 5:return ad(c),null;case 13:if(Rt(Dt),e=c.memoizedState,e!==null&&e.dehydrated!==null){if(c.alternate===null)throw Error(nt(340));Ur()}return e=c.flags,e&65536?(c.flags=e&-65537|128,c):null;case 19:return Rt(Dt),null;case 4:return Vr(),null;case 10:return id(c.type._context),null;case 22:case 23:return xd(),null;case 24:return null;default:return null}}var ro=!1,fe=!1,FT=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Ar(e,c){var x=e.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(w){zt(e,c,w)}else x.current=null}function Wu(e,c,x){try{x()}catch(w){zt(e,c,w)}}var Rv=!1;function OT(e,c){if(Mu=Wo,e=lg(),Qf(e)){if("selectionStart"in e)var x={start:e.selectionStart,end:e.selectionEnd};else t:{x=(x=e.ownerDocument)&&x.defaultView||window;var w=x.getSelection&&x.getSelection();if(w&&w.rangeCount!==0){x=w.anchorNode;var P=w.anchorOffset,F=w.focusNode;w=w.focusOffset;try{x.nodeType,F.nodeType}catch{x=null;break t}var p=0,S=-1,t=-1,l=0,g=0,h=e,a=null;e:for(;;){for(var s;h!==x||P!==0&&h.nodeType!==3||(S=p+P),h!==F||w!==0&&h.nodeType!==3||(t=p+w),h.nodeType===3&&(p+=h.nodeValue.length),(s=h.firstChild)!==null;)a=h,h=s;for(;;){if(h===e)break e;if(a===x&&++l===P&&(S=p),a===F&&++g===w&&(t=p),(s=h.nextSibling)!==null)break;h=a,a=h.parentNode}h=s}x=S===-1||t===-1?null:{start:S,end:t}}else x=null}x=x||{start:0,end:0}}else x=null;for(Pu={focusedElem:e,selectionRange:x},Wo=!1,ot=c;ot!==null;)if(c=ot,e=c.child,(c.subtreeFlags&1028)!==0&&e!==null)e.return=c,ot=e;else for(;ot!==null;){c=ot;try{var i=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(i!==null){var r=i.memoizedProps,u=i.memoizedState,n=c.stateNode,o=n.getSnapshotBeforeUpdate(c.elementType===c.type?r:Je(c.type,r),u);n.__reactInternalSnapshotBeforeUpdate=o}break;case 3:var f=c.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(d){zt(c,c.return,d)}if(e=c.sibling,e!==null){e.return=c.return,ot=e;break}ot=c.return}return i=Rv,Rv=!1,i}function Vs(e,c,x){var w=c.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var P=w=w.next;do{if((P.tag&e)===e){var F=P.destroy;P.destroy=void 0,F!==void 0&&Wu(c,x,F)}P=P.next}while(P!==w)}}function Ll(e,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var x=c=c.next;do{if((x.tag&e)===e){var w=x.create;x.destroy=w()}x=x.next}while(x!==c)}}function Hu(e){var c=e.ref;if(c!==null){var x=e.stateNode;switch(e.tag){case 5:e=x;break;default:e=x}typeof c=="function"?c(e):c.current=e}}function sm(e){var c=e.alternate;c!==null&&(e.alternate=null,sm(c)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(c=e.stateNode,c!==null&&(delete c[ci],delete c[aa],delete c[Fu],delete c[cT],delete c[vT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function am(e){return e.tag===5||e.tag===3||e.tag===4}function Lv(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||am(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $u(e,c,x){var w=e.tag;if(w===5||w===6)e=e.stateNode,c?x.nodeType===8?x.parentNode.insertBefore(e,c):x.insertBefore(e,c):(x.nodeType===8?(c=x.parentNode,c.insertBefore(e,x)):(c=x,c.appendChild(e)),x=x._reactRootContainer,x!=null||c.onclick!==null||(c.onclick=Zo));else if(w!==4&&(e=e.child,e!==null))for($u(e,c,x),e=e.sibling;e!==null;)$u(e,c,x),e=e.sibling}function Zu(e,c,x){var w=e.tag;if(w===5||w===6)e=e.stateNode,c?x.insertBefore(e,c):x.appendChild(e);else if(w!==4&&(e=e.child,e!==null))for(Zu(e,c,x),e=e.sibling;e!==null;)Zu(e,c,x),e=e.sibling}var ie=null,qe=!1;function bi(e,c,x){for(x=x.child;x!==null;)om(e,c,x),x=x.sibling}function om(e,c,x){if(gi&&typeof gi.onCommitFiberUnmount=="function")try{gi.onCommitFiberUnmount(Sl,x)}catch{}switch(x.tag){case 5:fe||Ar(x,c);case 6:var w=ie,P=qe;ie=null,bi(e,c,x),ie=w,qe=P,ie!==null&&(qe?(e=ie,x=x.stateNode,e.nodeType===8?e.parentNode.removeChild(x):e.removeChild(x)):ie.removeChild(x.stateNode));break;case 18:ie!==null&&(qe?(e=ie,x=x.stateNode,e.nodeType===8?ph(e.parentNode,x):e.nodeType===1&&ph(e,x),ea(e)):ph(ie,x.stateNode));break;case 4:w=ie,P=qe,ie=x.stateNode.containerInfo,qe=!0,bi(e,c,x),ie=w,qe=P;break;case 0:case 11:case 14:case 15:if(!fe&&(w=x.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){P=w=w.next;do{var F=P,p=F.destroy;F=F.tag,p!==void 0&&(F&2||F&4)&&Wu(x,c,p),P=P.next}while(P!==w)}bi(e,c,x);break;case 1:if(!fe&&(Ar(x,c),w=x.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=x.memoizedProps,w.state=x.memoizedState,w.componentWillUnmount()}catch(S){zt(x,c,S)}bi(e,c,x);break;case 21:bi(e,c,x);break;case 22:x.mode&1?(fe=(w=fe)||x.memoizedState!==null,bi(e,c,x),fe=w):bi(e,c,x);break;default:bi(e,c,x)}}function Fv(e){var c=e.updateQueue;if(c!==null){e.updateQueue=null;var x=e.stateNode;x===null&&(x=e.stateNode=new FT),c.forEach(function(w){var P=VT.bind(null,e,w);x.has(w)||(x.add(w),w.then(P,P))})}}function Qe(e,c){var x=c.deletions;if(x!==null)for(var w=0;w<x.length;w++){var P=x[w];try{var F=e,p=c,S=p;t:for(;S!==null;){switch(S.tag){case 5:ie=S.stateNode,qe=!1;break t;case 3:ie=S.stateNode.containerInfo,qe=!0;break t;case 4:ie=S.stateNode.containerInfo,qe=!0;break t}S=S.return}if(ie===null)throw Error(nt(160));om(F,p,P),ie=null,qe=!1;var t=P.alternate;t!==null&&(t.return=null),P.return=null}catch(l){zt(P,c,l)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)lm(c,e),c=c.sibling}function lm(e,c){var x=e.alternate,w=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(c,e),oi(e),w&4){try{Vs(3,e,e.return),Ll(3,e)}catch(r){zt(e,e.return,r)}try{Vs(5,e,e.return)}catch(r){zt(e,e.return,r)}}break;case 1:Qe(c,e),oi(e),w&512&&x!==null&&Ar(x,x.return);break;case 5:if(Qe(c,e),oi(e),w&512&&x!==null&&Ar(x,x.return),e.flags&32){var P=e.stateNode;try{Js(P,"")}catch(r){zt(e,e.return,r)}}if(w&4&&(P=e.stateNode,P!=null)){var F=e.memoizedProps,p=x!==null?x.memoizedProps:F,S=e.type,t=e.updateQueue;if(e.updateQueue=null,t!==null)try{S==="input"&&F.type==="radio"&&F.name!=null&&L0(P,F),gu(S,p);var l=gu(S,F);for(p=0;p<t.length;p+=2){var g=t[p],h=t[p+1];g==="style"?N0(P,h):g==="dangerouslySetInnerHTML"?D0(P,h):g==="children"?Js(P,h):zf(P,g,h,l)}switch(S){case"input":fu(P,F);break;case"textarea":F0(P,F);break;case"select":var a=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!F.multiple;var s=F.value;s!=null?Pr(P,!!F.multiple,s,!1):a!==!!F.multiple&&(F.defaultValue!=null?Pr(P,!!F.multiple,F.defaultValue,!0):Pr(P,!!F.multiple,F.multiple?[]:"",!1))}P[aa]=F}catch(r){zt(e,e.return,r)}}break;case 6:if(Qe(c,e),oi(e),w&4){if(e.stateNode===null)throw Error(nt(162));P=e.stateNode,F=e.memoizedProps;try{P.nodeValue=F}catch(r){zt(e,e.return,r)}}break;case 3:if(Qe(c,e),oi(e),w&4&&x!==null&&x.memoizedState.isDehydrated)try{ea(c.containerInfo)}catch(r){zt(e,e.return,r)}break;case 4:Qe(c,e),oi(e);break;case 13:Qe(c,e),oi(e),P=e.child,P.flags&8192&&(F=P.memoizedState!==null,P.stateNode.isHidden=F,!F||P.alternate!==null&&P.alternate.memoizedState!==null||(gd=Vt())),w&4&&Fv(e);break;case 22:if(g=x!==null&&x.memoizedState!==null,e.mode&1?(fe=(l=fe)||g,Qe(c,e),fe=l):Qe(c,e),oi(e),w&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!g&&e.mode&1)for(ot=e,g=e.child;g!==null;){for(h=ot=g;ot!==null;){switch(a=ot,s=a.child,a.tag){case 0:case 11:case 14:case 15:Vs(4,a,a.return);break;case 1:Ar(a,a.return);var i=a.stateNode;if(typeof i.componentWillUnmount=="function"){w=a,x=a.return;try{c=w,i.props=c.memoizedProps,i.state=c.memoizedState,i.componentWillUnmount()}catch(r){zt(w,x,r)}}break;case 5:Ar(a,a.return);break;case 22:if(a.memoizedState!==null){Dv(h);continue}}s!==null?(s.return=a,ot=s):Dv(h)}g=g.sibling}t:for(g=null,h=e;;){if(h.tag===5){if(g===null){g=h;try{P=h.stateNode,l?(F=P.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(S=h.stateNode,t=h.memoizedProps.style,p=t!=null&&t.hasOwnProperty("display")?t.display:null,S.style.display=I0("display",p))}catch(r){zt(e,e.return,r)}}}else if(h.tag===6){if(g===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(r){zt(e,e.return,r)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break t;for(;h.sibling===null;){if(h.return===null||h.return===e)break t;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qe(c,e),oi(e),w&4&&Fv(e);break;case 21:break;default:Qe(c,e),oi(e)}}function oi(e){var c=e.flags;if(c&2){try{t:{for(var x=e.return;x!==null;){if(am(x)){var w=x;break t}x=x.return}throw Error(nt(160))}switch(w.tag){case 5:var P=w.stateNode;w.flags&32&&(Js(P,""),w.flags&=-33);var F=Lv(e);Zu(e,F,P);break;case 3:case 4:var p=w.stateNode.containerInfo,S=Lv(e);$u(e,S,p);break;default:throw Error(nt(161))}}catch(t){zt(e,e.return,t)}e.flags&=-3}c&4096&&(e.flags&=-4097)}function DT(e,c,x){ot=e,hm(e)}function hm(e,c,x){for(var w=(e.mode&1)!==0;ot!==null;){var P=ot,F=P.child;if(P.tag===22&&w){var p=P.memoizedState!==null||ro;if(!p){var S=P.alternate,t=S!==null&&S.memoizedState!==null||fe;S=ro;var l=fe;if(ro=p,(fe=t)&&!l)for(ot=P;ot!==null;)p=ot,t=p.child,p.tag===22&&p.memoizedState!==null?Iv(P):t!==null?(t.return=p,ot=t):Iv(P);for(;F!==null;)ot=F,hm(F),F=F.sibling;ot=P,ro=S,fe=l}Ov(e)}else P.subtreeFlags&8772&&F!==null?(F.return=P,ot=F):Ov(e)}}function Ov(e){for(;ot!==null;){var c=ot;if(c.flags&8772){var x=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:fe||Ll(5,c);break;case 1:var w=c.stateNode;if(c.flags&4&&!fe)if(x===null)w.componentDidMount();else{var P=c.elementType===c.type?x.memoizedProps:Je(c.type,x.memoizedProps);w.componentDidUpdate(P,x.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var F=c.updateQueue;F!==null&&vv(c,F,w);break;case 3:var p=c.updateQueue;if(p!==null){if(x=null,c.child!==null)switch(c.child.tag){case 5:x=c.child.stateNode;break;case 1:x=c.child.stateNode}vv(c,p,x)}break;case 5:var S=c.stateNode;if(x===null&&c.flags&4){x=S;var t=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":t.autoFocus&&x.focus();break;case"img":t.src&&(x.src=t.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var l=c.alternate;if(l!==null){var g=l.memoizedState;if(g!==null){var h=g.dehydrated;h!==null&&ea(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}fe||c.flags&512&&Hu(c)}catch(a){zt(c,c.return,a)}}if(c===e){ot=null;break}if(x=c.sibling,x!==null){x.return=c.return,ot=x;break}ot=c.return}}function Dv(e){for(;ot!==null;){var c=ot;if(c===e){ot=null;break}var x=c.sibling;if(x!==null){x.return=c.return,ot=x;break}ot=c.return}}function Iv(e){for(;ot!==null;){var c=ot;try{switch(c.tag){case 0:case 11:case 15:var x=c.return;try{Ll(4,c)}catch(t){zt(c,x,t)}break;case 1:var w=c.stateNode;if(typeof w.componentDidMount=="function"){var P=c.return;try{w.componentDidMount()}catch(t){zt(c,P,t)}}var F=c.return;try{Hu(c)}catch(t){zt(c,F,t)}break;case 5:var p=c.return;try{Hu(c)}catch(t){zt(c,p,t)}}}catch(t){zt(c,c.return,t)}if(c===e){ot=null;break}var S=c.sibling;if(S!==null){S.return=c.return,ot=S;break}ot=c.return}}var IT=Math.ceil,nl=Ui.ReactCurrentDispatcher,vd=Ui.ReactCurrentOwner,Ze=Ui.ReactCurrentBatchConfig,xt=0,te=null,Yt=null,oe=0,Ie=0,wr=Sn(0),Zt=0,da=null,jn=0,Fl=0,pd=0,Xs=null,Ae=null,gd=0,Yr=1/0,Ei=null,rl=!1,Ku=null,rn=null,so=!1,Qi=null,sl=0,Ys=0,ku=null,Fo=-1,Oo=0;function ye(){return xt&6?Vt():Fo!==-1?Fo:Fo=Vt()}function sn(e){return e.mode&1?xt&2&&oe!==0?oe&-oe:gT.transition!==null?(Oo===0&&(Oo=Z0()),Oo):(e=St,e!==0||(e=window.event,e=e===void 0?16:_0(e.type)),e):1}function ni(e,c,x,w){if(50<Ys)throw Ys=0,ku=null,Error(nt(185));Pa(e,x,w),(!(xt&2)||e!==te)&&(e===te&&(!(xt&2)&&(Fl|=x),Zt===4&&Ki(e,oe)),Fe(e,w),x===1&&xt===0&&!(c.mode&1)&&(Yr=Vt()+500,Ml&&En()))}function Fe(e,c){var x=e.callbackNode;g2(e,c);var w=Yo(e,e===te?oe:0);if(w===0)x!==null&&Yc(x),e.callbackNode=null,e.callbackPriority=0;else if(c=w&-w,e.callbackPriority!==c){if(x!=null&&Yc(x),c===1)e.tag===0?pT(Nv.bind(null,e)):xg(Nv.bind(null,e)),fT(function(){!(xt&6)&&En()}),x=null;else{switch(K0(w)){case 1:x=Yf;break;case 4:x=H0;break;case 16:x=Xo;break;case 536870912:x=$0;break;default:x=Xo}x=mm(x,um.bind(null,e))}e.callbackPriority=c,e.callbackNode=x}}function um(e,c){if(Fo=-1,Oo=0,xt&6)throw Error(nt(327));var x=e.callbackNode;if(Dr()&&e.callbackNode!==x)return null;var w=Yo(e,e===te?oe:0);if(w===0)return null;if(w&30||w&e.expiredLanes||c)c=al(e,w);else{c=w;var P=xt;xt|=2;var F=dm();(te!==e||oe!==c)&&(Ei=null,Yr=Vt()+500,Hn(e,c));do try{GT();break}catch(S){fm(e,S)}while(1);ed(),nl.current=F,xt=P,Yt!==null?c=0:(te=null,oe=0,c=Zt)}if(c!==0){if(c===2&&(P=Su(e),P!==0&&(w=P,c=ju(e,P))),c===1)throw x=da,Hn(e,0),Ki(e,w),Fe(e,Vt()),x;if(c===6)Ki(e,w);else{if(P=e.current.alternate,!(w&30)&&!NT(P)&&(c=al(e,w),c===2&&(F=Su(e),F!==0&&(w=F,c=ju(e,F))),c===1))throw x=da,Hn(e,0),Ki(e,w),Fe(e,Vt()),x;switch(e.finishedWork=P,e.finishedLanes=w,c){case 0:case 1:throw Error(nt(345));case 2:On(e,Ae,Ei);break;case 3:if(Ki(e,w),(w&130023424)===w&&(c=gd+500-Vt(),10<c)){if(Yo(e,0)!==0)break;if(P=e.suspendedLanes,(P&w)!==w){ye(),e.pingedLanes|=e.suspendedLanes&P;break}e.timeoutHandle=Lu(On.bind(null,e,Ae,Ei),c);break}On(e,Ae,Ei);break;case 4:if(Ki(e,w),(w&4194240)===w)break;for(c=e.eventTimes,P=-1;0<w;){var p=31-ii(w);F=1<<p,p=c[p],p>P&&(P=p),w&=~F}if(w=P,w=Vt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*IT(w/1960))-w,10<w){e.timeoutHandle=Lu(On.bind(null,e,Ae,Ei),w);break}On(e,Ae,Ei);break;case 5:On(e,Ae,Ei);break;default:throw Error(nt(329))}}}return Fe(e,Vt()),e.callbackNode===x?um.bind(null,e):null}function ju(e,c){var x=Xs;return e.current.memoizedState.isDehydrated&&(Hn(e,c).flags|=256),e=al(e,c),e!==2&&(c=Ae,Ae=x,c!==null&&Qu(c)),e}function Qu(e){Ae===null?Ae=e:Ae.push.apply(Ae,e)}function NT(e){for(var c=e;;){if(c.flags&16384){var x=c.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var w=0;w<x.length;w++){var P=x[w],F=P.getSnapshot;P=P.value;try{if(!ri(F(),P))return!1}catch{return!1}}}if(x=c.child,c.subtreeFlags&16384&&x!==null)x.return=c,c=x;else{if(c===e)break;for(;c.sibling===null;){if(c.return===null||c.return===e)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ki(e,c){for(c&=~pd,c&=~Fl,e.suspendedLanes|=c,e.pingedLanes&=~c,e=e.expirationTimes;0<c;){var x=31-ii(c),w=1<<x;e[x]=-1,c&=~w}}function Nv(e){if(xt&6)throw Error(nt(327));Dr();var c=Yo(e,0);if(!(c&1))return Fe(e,Vt()),null;var x=al(e,c);if(e.tag!==0&&x===2){var w=Su(e);w!==0&&(c=w,x=ju(e,w))}if(x===1)throw x=da,Hn(e,0),Ki(e,c),Fe(e,Vt()),x;if(x===6)throw Error(nt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=c,On(e,Ae,Ei),Fe(e,Vt()),null}function md(e,c){var x=xt;xt|=1;try{return e(c)}finally{xt=x,xt===0&&(Yr=Vt()+500,Ml&&En())}}function Qn(e){Qi!==null&&Qi.tag===0&&!(xt&6)&&Dr();var c=xt;xt|=1;var x=Ze.transition,w=St;try{if(Ze.transition=null,St=1,e)return e()}finally{St=w,Ze.transition=x,xt=c,!(xt&6)&&En()}}function xd(){Ie=wr.current,Rt(wr)}function Hn(e,c){e.finishedWork=null,e.finishedLanes=0;var x=e.timeoutHandle;if(x!==-1&&(e.timeoutHandle=-1,uT(x)),Yt!==null)for(x=Yt.return;x!==null;){var w=x;switch(qf(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Ko();break;case 3:Vr(),Rt(Re),Rt(de),od();break;case 5:ad(w);break;case 4:Vr();break;case 13:Rt(Dt);break;case 19:Rt(Dt);break;case 10:id(w.type._context);break;case 22:case 23:xd()}x=x.return}if(te=e,Yt=e=an(e.current,null),oe=Ie=c,Zt=0,da=null,pd=Fl=jn=0,Ae=Xs=null,zn!==null){for(c=0;c<zn.length;c++)if(x=zn[c],w=x.interleaved,w!==null){x.interleaved=null;var P=w.next,F=x.pending;if(F!==null){var p=F.next;F.next=P,w.next=p}x.pending=w}zn=null}return e}function fm(e,c){do{var x=Yt;try{if(ed(),Po.current=il,el){for(var w=It.memoizedState;w!==null;){var P=w.queue;P!==null&&(P.pending=null),w=w.next}el=!1}if(kn=0,qt=$t=It=null,bs=!1,ha=0,vd.current=null,x===null||x.return===null){Zt=1,da=c,Yt=null;break}t:{var F=e,p=x.return,S=x,t=c;if(c=oe,S.flags|=32768,t!==null&&typeof t=="object"&&typeof t.then=="function"){var l=t,g=S,h=g.tag;if(!(g.mode&1)&&(h===0||h===11||h===15)){var a=g.alternate;a?(g.updateQueue=a.updateQueue,g.memoizedState=a.memoizedState,g.lanes=a.lanes):(g.updateQueue=null,g.memoizedState=null)}var s=Sv(p);if(s!==null){s.flags&=-257,Ev(s,p,S,F,c),s.mode&1&&Tv(F,l,c),c=s,t=l;var i=c.updateQueue;if(i===null){var r=new Set;r.add(t),c.updateQueue=r}else i.add(t);break t}else{if(!(c&1)){Tv(F,l,c),yd();break t}t=Error(nt(426))}}else if(Ft&&S.mode&1){var u=Sv(p);if(u!==null){!(u.flags&65536)&&(u.flags|=256),Ev(u,p,S,F,c),_f(Xr(t,S));break t}}F=t=Xr(t,S),Zt!==4&&(Zt=2),Xs===null?Xs=[F]:Xs.push(F),F=p;do{switch(F.tag){case 3:F.flags|=65536,c&=-c,F.lanes|=c;var n=kg(F,t,c);cv(F,n);break t;case 1:S=t;var o=F.type,f=F.stateNode;if(!(F.flags&128)&&(typeof o.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rn===null||!rn.has(f)))){F.flags|=65536,c&=-c,F.lanes|=c;var d=jg(F,S,c);cv(F,d);break t}}F=F.return}while(F!==null)}vm(x)}catch(v){c=v,Yt===x&&x!==null&&(Yt=x=x.return);continue}break}while(1)}function dm(){var e=nl.current;return nl.current=il,e===null?il:e}function yd(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),te===null||!(jn&268435455)&&!(Fl&268435455)||Ki(te,oe)}function al(e,c){var x=xt;xt|=2;var w=dm();(te!==e||oe!==c)&&(Ei=null,Hn(e,c));do try{BT();break}catch(P){fm(e,P)}while(1);if(ed(),xt=x,nl.current=w,Yt!==null)throw Error(nt(261));return te=null,oe=0,Zt}function BT(){for(;Yt!==null;)cm(Yt)}function GT(){for(;Yt!==null&&!o2();)cm(Yt)}function cm(e){var c=gm(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,c===null?vm(e):Yt=c,vd.current=null}function vm(e){var c=e;do{var x=c.alternate;if(e=c.return,c.flags&32768){if(x=LT(x,c),x!==null){x.flags&=32767,Yt=x;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zt=6,Yt=null;return}}else if(x=RT(x,c,Ie),x!==null){Yt=x;return}if(c=c.sibling,c!==null){Yt=c;return}Yt=c=e}while(c!==null);Zt===0&&(Zt=5)}function On(e,c,x){var w=St,P=Ze.transition;try{Ze.transition=null,St=1,zT(e,c,x,w)}finally{Ze.transition=P,St=w}return null}function zT(e,c,x,w){do Dr();while(Qi!==null);if(xt&6)throw Error(nt(327));x=e.finishedWork;var P=e.finishedLanes;if(x===null)return null;if(e.finishedWork=null,e.finishedLanes=0,x===e.current)throw Error(nt(177));e.callbackNode=null,e.callbackPriority=0;var F=x.lanes|x.childLanes;if(m2(e,F),e===te&&(Yt=te=null,oe=0),!(x.subtreeFlags&2064)&&!(x.flags&2064)||so||(so=!0,mm(Xo,function(){return Dr(),null})),F=(x.flags&15990)!==0,x.subtreeFlags&15990||F){F=Ze.transition,Ze.transition=null;var p=St;St=1;var S=xt;xt|=4,vd.current=null,OT(e,x),lm(x,e),nT(Pu),Wo=!!Mu,Pu=Mu=null,e.current=x,DT(x),l2(),xt=S,St=p,Ze.transition=F}else e.current=x;if(so&&(so=!1,Qi=e,sl=P),F=e.pendingLanes,F===0&&(rn=null),f2(x.stateNode),Fe(e,Vt()),c!==null)for(w=e.onRecoverableError,x=0;x<c.length;x++)P=c[x],w(P.value,{componentStack:P.stack,digest:P.digest});if(rl)throw rl=!1,e=Ku,Ku=null,e;return sl&1&&e.tag!==0&&Dr(),F=e.pendingLanes,F&1?e===ku?Ys++:(Ys=0,ku=e):Ys=0,En(),null}function Dr(){if(Qi!==null){var e=K0(sl),c=Ze.transition,x=St;try{if(Ze.transition=null,St=16>e?16:e,Qi===null)var w=!1;else{if(e=Qi,Qi=null,sl=0,xt&6)throw Error(nt(331));var P=xt;for(xt|=4,ot=e.current;ot!==null;){var F=ot,p=F.child;if(ot.flags&16){var S=F.deletions;if(S!==null){for(var t=0;t<S.length;t++){var l=S[t];for(ot=l;ot!==null;){var g=ot;switch(g.tag){case 0:case 11:case 15:Vs(8,g,F)}var h=g.child;if(h!==null)h.return=g,ot=h;else for(;ot!==null;){g=ot;var a=g.sibling,s=g.return;if(sm(g),g===l){ot=null;break}if(a!==null){a.return=s,ot=a;break}ot=s}}}var i=F.alternate;if(i!==null){var r=i.child;if(r!==null){i.child=null;do{var u=r.sibling;r.sibling=null,r=u}while(r!==null)}}ot=F}}if(F.subtreeFlags&2064&&p!==null)p.return=F,ot=p;else t:for(;ot!==null;){if(F=ot,F.flags&2048)switch(F.tag){case 0:case 11:case 15:Vs(9,F,F.return)}var n=F.sibling;if(n!==null){n.return=F.return,ot=n;break t}ot=F.return}}var o=e.current;for(ot=o;ot!==null;){p=ot;var f=p.child;if(p.subtreeFlags&2064&&f!==null)f.return=p,ot=f;else t:for(p=o;ot!==null;){if(S=ot,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Ll(9,S)}}catch(v){zt(S,S.return,v)}if(S===p){ot=null;break t}var d=S.sibling;if(d!==null){d.return=S.return,ot=d;break t}ot=S.return}}if(xt=P,En(),gi&&typeof gi.onPostCommitFiberRoot=="function")try{gi.onPostCommitFiberRoot(Sl,e)}catch{}w=!0}return w}finally{St=x,Ze.transition=c}}return!1}function Bv(e,c,x){c=Xr(x,c),c=kg(e,c,1),e=nn(e,c,1),c=ye(),e!==null&&(Pa(e,1,c),Fe(e,c))}function zt(e,c,x){if(e.tag===3)Bv(e,e,x);else for(;c!==null;){if(c.tag===3){Bv(c,e,x);break}else if(c.tag===1){var w=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(rn===null||!rn.has(w))){e=Xr(x,e),e=jg(c,e,1),c=nn(c,e,1),e=ye(),c!==null&&(Pa(c,1,e),Fe(c,e));break}}c=c.return}}function UT(e,c,x){var w=e.pingCache;w!==null&&w.delete(c),c=ye(),e.pingedLanes|=e.suspendedLanes&x,te===e&&(oe&x)===x&&(Zt===4||Zt===3&&(oe&130023424)===oe&&500>Vt()-gd?Hn(e,0):pd|=x),Fe(e,c)}function pm(e,c){c===0&&(e.mode&1?(c=ja,ja<<=1,!(ja&130023424)&&(ja=4194304)):c=1);var x=ye();e=Bi(e,c),e!==null&&(Pa(e,c,x),Fe(e,x))}function bT(e){var c=e.memoizedState,x=0;c!==null&&(x=c.retryLane),pm(e,x)}function VT(e,c){var x=0;switch(e.tag){case 13:var w=e.stateNode,P=e.memoizedState;P!==null&&(x=P.retryLane);break;case 19:w=e.stateNode;break;default:throw Error(nt(314))}w!==null&&w.delete(c),pm(e,x)}var gm;gm=function(e,c,x){if(e!==null)if(e.memoizedProps!==c.pendingProps||Re.current)we=!0;else{if(!(e.lanes&x)&&!(c.flags&128))return we=!1,PT(e,c,x);we=!!(e.flags&131072)}else we=!1,Ft&&c.flags&1048576&&yg(c,Qo,c.index);switch(c.lanes=0,c.tag){case 2:var w=c.type;Lo(e,c),e=c.pendingProps;var P=zr(c,de.current);Or(c,x),P=hd(null,c,w,e,P,x);var F=ud();return c.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Le(w)?(F=!0,ko(c)):F=!1,c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,rd(c),P.updater=Pl,c.stateNode=P,P._reactInternals=c,Gu(c,w,e,x),c=bu(null,c,w,!0,F,x)):(c.tag=0,Ft&&F&&Jf(c),pe(null,c,P,x),c=c.child),c;case 16:w=c.elementType;t:{switch(Lo(e,c),e=c.pendingProps,P=w._init,w=P(w._payload),c.type=w,P=c.tag=YT(w),e=Je(w,e),P){case 0:c=Uu(null,c,w,e,x);break t;case 1:c=wv(null,c,w,e,x);break t;case 11:c=Cv(null,c,w,e,x);break t;case 14:c=Av(null,c,w,Je(w.type,e),x);break t}throw Error(nt(306,w,""))}return c;case 0:return w=c.type,P=c.pendingProps,P=c.elementType===w?P:Je(w,P),Uu(e,c,w,P,x);case 1:return w=c.type,P=c.pendingProps,P=c.elementType===w?P:Je(w,P),wv(e,c,w,P,x);case 3:t:{if(_g(c),e===null)throw Error(nt(387));w=c.pendingProps,F=c.memoizedState,P=F.element,Cg(e,c),_o(c,w,null,x);var p=c.memoizedState;if(w=p.element,F.isDehydrated)if(F={element:w,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},c.updateQueue.baseState=F,c.memoizedState=F,c.flags&256){P=Xr(Error(nt(423)),c),c=Mv(e,c,w,x,P);break t}else if(w!==P){P=Xr(Error(nt(424)),c),c=Mv(e,c,w,x,P);break t}else for(Be=en(c.stateNode.containerInfo.firstChild),ze=c,Ft=!0,_e=null,x=Pg(c,null,w,x),c.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Ur(),w===P){c=Gi(e,c,x);break t}pe(e,c,w,x)}c=c.child}return c;case 5:return Rg(c),e===null&&Iu(c),w=c.type,P=c.pendingProps,F=e!==null?e.memoizedProps:null,p=P.children,Ru(w,P)?p=null:F!==null&&Ru(w,F)&&(c.flags|=32),qg(e,c),pe(e,c,p,x),c.child;case 6:return e===null&&Iu(c),null;case 13:return tm(e,c,x);case 4:return sd(c,c.stateNode.containerInfo),w=c.pendingProps,e===null?c.child=br(c,null,w,x):pe(e,c,w,x),c.child;case 11:return w=c.type,P=c.pendingProps,P=c.elementType===w?P:Je(w,P),Cv(e,c,w,P,x);case 7:return pe(e,c,c.pendingProps,x),c.child;case 8:return pe(e,c,c.pendingProps.children,x),c.child;case 12:return pe(e,c,c.pendingProps.children,x),c.child;case 10:t:{if(w=c.type._context,P=c.pendingProps,F=c.memoizedProps,p=P.value,Mt(Jo,w._currentValue),w._currentValue=p,F!==null)if(ri(F.value,p)){if(F.children===P.children&&!Re.current){c=Gi(e,c,x);break t}}else for(F=c.child,F!==null&&(F.return=c);F!==null;){var S=F.dependencies;if(S!==null){p=F.child;for(var t=S.firstContext;t!==null;){if(t.context===w){if(F.tag===1){t=Di(-1,x&-x),t.tag=2;var l=F.updateQueue;if(l!==null){l=l.shared;var g=l.pending;g===null?t.next=t:(t.next=g.next,g.next=t),l.pending=t}}F.lanes|=x,t=F.alternate,t!==null&&(t.lanes|=x),Nu(F.return,x,c),S.lanes|=x;break}t=t.next}}else if(F.tag===10)p=F.type===c.type?null:F.child;else if(F.tag===18){if(p=F.return,p===null)throw Error(nt(341));p.lanes|=x,S=p.alternate,S!==null&&(S.lanes|=x),Nu(p,x,c),p=F.sibling}else p=F.child;if(p!==null)p.return=F;else for(p=F;p!==null;){if(p===c){p=null;break}if(F=p.sibling,F!==null){F.return=p.return,p=F;break}p=p.return}F=p}pe(e,c,P.children,x),c=c.child}return c;case 9:return P=c.type,w=c.pendingProps.children,Or(c,x),P=Ke(P),w=w(P),c.flags|=1,pe(e,c,w,x),c.child;case 14:return w=c.type,P=Je(w,c.pendingProps),P=Je(w.type,P),Av(e,c,w,P,x);case 15:return Qg(e,c,c.type,c.pendingProps,x);case 17:return w=c.type,P=c.pendingProps,P=c.elementType===w?P:Je(w,P),Lo(e,c),c.tag=1,Le(w)?(e=!0,ko(c)):e=!1,Or(c,x),wg(c,w,P),Gu(c,w,P,x),bu(null,c,w,!0,e,x);case 19:return em(e,c,x);case 22:return Jg(e,c,x)}throw Error(nt(156,c.tag))};function mm(e,c){return W0(e,c)}function XT(e,c,x,w){this.tag=e,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,c,x,w){return new XT(e,c,x,w)}function Td(e){return e=e.prototype,!(!e||!e.isReactComponent)}function YT(e){if(typeof e=="function")return Td(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bf)return 11;if(e===Vf)return 14}return 2}function an(e,c){var x=e.alternate;return x===null?(x=$e(e.tag,c,e.key,e.mode),x.elementType=e.elementType,x.type=e.type,x.stateNode=e.stateNode,x.alternate=e,e.alternate=x):(x.pendingProps=c,x.type=e.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=e.flags&14680064,x.childLanes=e.childLanes,x.lanes=e.lanes,x.child=e.child,x.memoizedProps=e.memoizedProps,x.memoizedState=e.memoizedState,x.updateQueue=e.updateQueue,c=e.dependencies,x.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},x.sibling=e.sibling,x.index=e.index,x.ref=e.ref,x}function Do(e,c,x,w,P,F){var p=2;if(w=e,typeof e=="function")Td(e)&&(p=1);else if(typeof e=="string")p=5;else t:switch(e){case pr:return $n(x.children,P,F,c);case Uf:p=8,P|=8;break;case au:return e=$e(12,x,c,P|2),e.elementType=au,e.lanes=F,e;case ou:return e=$e(13,x,c,P),e.elementType=ou,e.lanes=F,e;case lu:return e=$e(19,x,c,P),e.elementType=lu,e.lanes=F,e;case M0:return Ol(x,P,F,c);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A0:p=10;break t;case w0:p=9;break t;case bf:p=11;break t;case Vf:p=14;break t;case Hi:p=16,w=null;break t}throw Error(nt(130,e==null?e:typeof e,""))}return c=$e(p,x,c,P),c.elementType=e,c.type=w,c.lanes=F,c}function $n(e,c,x,w){return e=$e(7,e,w,c),e.lanes=x,e}function Ol(e,c,x,w){return e=$e(22,e,w,c),e.elementType=M0,e.lanes=x,e.stateNode={isHidden:!1},e}function Ch(e,c,x){return e=$e(6,e,null,c),e.lanes=x,e}function Ah(e,c,x){return c=$e(4,e.children!==null?e.children:[],e.key,c),c.lanes=x,c.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},c}function WT(e,c,x,w,P){this.tag=c,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rh(0),this.expirationTimes=rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rh(0),this.identifierPrefix=w,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function Sd(e,c,x,w,P,F,p,S,t){return e=new WT(e,c,x,S,t),c===1?(c=1,F===!0&&(c|=8)):c=0,F=$e(3,null,null,c),e.current=F,F.stateNode=e,F.memoizedState={element:w,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},rd(F),e}function HT(e,c,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:w==null?null:""+w,children:e,containerInfo:c,implementation:x}}function xm(e){if(!e)return dn;e=e._reactInternals;t:{if(nr(e)!==e||e.tag!==1)throw Error(nt(170));var c=e;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(Le(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(c!==null);throw Error(nt(171))}if(e.tag===1){var x=e.type;if(Le(x))return mg(e,x,c)}return c}function ym(e,c,x,w,P,F,p,S,t){return e=Sd(x,w,!0,e,P,F,p,S,t),e.context=xm(null),x=e.current,w=ye(),P=sn(x),F=Di(w,P),F.callback=c??null,nn(x,F,P),e.current.lanes=P,Pa(e,P,w),Fe(e,w),e}function Dl(e,c,x,w){var P=c.current,F=ye(),p=sn(P);return x=xm(x),c.context===null?c.context=x:c.pendingContext=x,c=Di(F,p),c.payload={element:e},w=w===void 0?null:w,w!==null&&(c.callback=w),e=nn(P,c,p),e!==null&&(ni(e,P,p,F),Mo(e,P,p)),p}function ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gv(e,c){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var x=e.retryLane;e.retryLane=x!==0&&x<c?x:c}}function Ed(e,c){Gv(e,c),(e=e.alternate)&&Gv(e,c)}function $T(){return null}var Tm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cd(e){this._internalRoot=e}Il.prototype.render=Cd.prototype.render=function(e){var c=this._internalRoot;if(c===null)throw Error(nt(409));Dl(e,c,null,null)};Il.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var c=e.containerInfo;Qn(function(){Dl(null,e,null,null)}),c[Ni]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var c=Q0();e={blockedOn:null,target:e,priority:c};for(var x=0;x<Zi.length&&c!==0&&c<Zi[x].priority;x++);Zi.splice(x,0,e),x===0&&q0(e)}};function Ad(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zv(){}function ZT(e,c,x,w,P){if(P){if(typeof w=="function"){var F=w;w=function(){var l=ol(p);F.call(l)}}var p=ym(c,w,e,0,null,!1,!1,"",zv);return e._reactRootContainer=p,e[Ni]=p.current,ra(e.nodeType===8?e.parentNode:e),Qn(),p}for(;P=e.lastChild;)e.removeChild(P);if(typeof w=="function"){var S=w;w=function(){var l=ol(t);S.call(l)}}var t=Sd(e,0,!1,null,null,!1,!1,"",zv);return e._reactRootContainer=t,e[Ni]=t.current,ra(e.nodeType===8?e.parentNode:e),Qn(function(){Dl(c,t,x,w)}),t}function Bl(e,c,x,w,P){var F=x._reactRootContainer;if(F){var p=F;if(typeof P=="function"){var S=P;P=function(){var t=ol(p);S.call(t)}}Dl(c,p,e,P)}else p=ZT(x,c,e,P,w);return ol(p)}k0=function(e){switch(e.tag){case 3:var c=e.stateNode;if(c.current.memoizedState.isDehydrated){var x=ws(c.pendingLanes);x!==0&&(Wf(c,x|1),Fe(c,Vt()),!(xt&6)&&(Yr=Vt()+500,En()))}break;case 13:Qn(function(){var w=Bi(e,1);if(w!==null){var P=ye();ni(w,e,1,P)}}),Ed(e,1)}};Hf=function(e){if(e.tag===13){var c=Bi(e,134217728);if(c!==null){var x=ye();ni(c,e,134217728,x)}Ed(e,134217728)}};j0=function(e){if(e.tag===13){var c=sn(e),x=Bi(e,c);if(x!==null){var w=ye();ni(x,e,c,w)}Ed(e,c)}};Q0=function(){return St};J0=function(e,c){var x=St;try{return St=e,c()}finally{St=x}};xu=function(e,c,x){switch(c){case"input":if(fu(e,x),c=x.name,x.type==="radio"&&c!=null){for(x=e;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<x.length;c++){var w=x[c];if(w!==e&&w.form===e.form){var P=wl(w);if(!P)throw Error(nt(90));R0(w),fu(w,P)}}}break;case"textarea":F0(e,x);break;case"select":c=x.value,c!=null&&Pr(e,!!x.multiple,c,!1)}};z0=md;U0=Qn;var KT={usingClientEntryPoint:!1,Events:[La,yr,wl,B0,G0,md]},xs={findFiberByHostInstance:Gn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kT={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=X0(e),e===null?null:e.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||$T,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{Sl=ao.inject(kT),gi=ao}catch{}}be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KT;be.createPortal=function(e,c){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ad(c))throw Error(nt(200));return HT(e,c,null,x)};be.createRoot=function(e,c){if(!Ad(e))throw Error(nt(299));var x=!1,w="",P=Tm;return c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=Sd(e,1,!1,null,null,x,!1,w,P),e[Ni]=c.current,ra(e.nodeType===8?e.parentNode:e),new Cd(c)};be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var c=e._reactInternals;if(c===void 0)throw typeof e.render=="function"?Error(nt(188)):(e=Object.keys(e).join(","),Error(nt(268,e)));return e=X0(c),e=e===null?null:e.stateNode,e};be.flushSync=function(e){return Qn(e)};be.hydrate=function(e,c,x){if(!Nl(c))throw Error(nt(200));return Bl(null,e,c,!0,x)};be.hydrateRoot=function(e,c,x){if(!Ad(e))throw Error(nt(405));var w=x!=null&&x.hydratedSources||null,P=!1,F="",p=Tm;if(x!=null&&(x.unstable_strictMode===!0&&(P=!0),x.identifierPrefix!==void 0&&(F=x.identifierPrefix),x.onRecoverableError!==void 0&&(p=x.onRecoverableError)),c=ym(c,null,e,1,x??null,P,!1,F,p),e[Ni]=c.current,ra(e),w)for(e=0;e<w.length;e++)x=w[e],P=x._getVersion,P=P(x._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[x,P]:c.mutableSourceEagerHydrationData.push(x,P);return new Il(c)};be.render=function(e,c,x){if(!Nl(c))throw Error(nt(200));return Bl(null,e,c,!1,x)};be.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(nt(40));return e._reactRootContainer?(Qn(function(){Bl(null,null,e,!1,function(){e._reactRootContainer=null,e[Ni]=null})}),!0):!1};be.unstable_batchedUpdates=md;be.unstable_renderSubtreeIntoContainer=function(e,c,x,w){if(!Nl(x))throw Error(nt(200));if(e==null||e._reactInternals===void 0)throw Error(nt(38));return Bl(e,c,x,!1,w)};be.version="18.2.0-next-9e3b772b8-20220608";function Sm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sm)}catch(e){console.error(e)}}Sm(),y0.exports=be;var jT=y0.exports,Uv=jT;ru.createRoot=Uv.createRoot,ru.hydrateRoot=Uv.hydrateRoot;var Em={exports:{}};(function(e,c){(function(w,P){e.exports=P()})(l0,()=>(()=>{var x={6659:p=>{var S=Object.prototype.hasOwnProperty,t="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(t=!1));function g(i,r,u){this.fn=i,this.context=r,this.once=u||!1}function h(i,r,u,n,o){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new g(u,n||i,o),d=t?t+r:r;return i._events[d]?i._events[d].fn?i._events[d]=[i._events[d],f]:i._events[d].push(f):(i._events[d]=f,i._eventsCount++),i}function a(i,r){--i._eventsCount===0?i._events=new l:delete i._events[r]}function s(){this._events=new l,this._eventsCount=0}s.prototype.eventNames=function(){var r=[],u,n;if(this._eventsCount===0)return r;for(n in u=this._events)S.call(u,n)&&r.push(t?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(u)):r},s.prototype.listeners=function(r){var u=t?t+r:r,n=this._events[u];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,f=n.length,d=new Array(f);o<f;o++)d[o]=n[o].fn;return d},s.prototype.listenerCount=function(r){var u=t?t+r:r,n=this._events[u];return n?n.fn?1:n.length:0},s.prototype.emit=function(r,u,n,o,f,d){var v=t?t+r:r;if(!this._events[v])return!1;var m=this._events[v],T=arguments.length,E,y;if(m.fn){switch(m.once&&this.removeListener(r,m.fn,void 0,!0),T){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,n),!0;case 4:return m.fn.call(m.context,u,n,o),!0;case 5:return m.fn.call(m.context,u,n,o,f),!0;case 6:return m.fn.call(m.context,u,n,o,f,d),!0}for(y=1,E=new Array(T-1);y<T;y++)E[y-1]=arguments[y];m.fn.apply(m.context,E)}else{var C=m.length,A;for(y=0;y<C;y++)switch(m[y].once&&this.removeListener(r,m[y].fn,void 0,!0),T){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,u);break;case 3:m[y].fn.call(m[y].context,u,n);break;case 4:m[y].fn.call(m[y].context,u,n,o);break;default:if(!E)for(A=1,E=new Array(T-1);A<T;A++)E[A-1]=arguments[A];m[y].fn.apply(m[y].context,E)}}return!0},s.prototype.on=function(r,u,n){return h(this,r,u,n,!1)},s.prototype.once=function(r,u,n){return h(this,r,u,n,!0)},s.prototype.removeListener=function(r,u,n,o){var f=t?t+r:r;if(!this._events[f])return this;if(!u)return a(this,f),this;var d=this._events[f];if(d.fn)d.fn===u&&(!o||d.once)&&(!n||d.context===n)&&a(this,f);else{for(var v=0,m=[],T=d.length;v<T;v++)(d[v].fn!==u||o&&!d[v].once||n&&d[v].context!==n)&&m.push(d[v]);m.length?this._events[f]=m.length===1?m[0]:m:a(this,f)}return this},s.prototype.removeAllListeners=function(r){var u;return r?(u=t?t+r:r,this._events[u]&&a(this,u)):(this._events=new l,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,p.exports=s},62270:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82590),g=function(h,a,s,i){for(var r=h[0],u=1;u<h.length;u++){var n=h[u];l(n,r,a,s,i),r=n}return h};p.exports=g},61148:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),g=function(h,a,s,i,r){return l(h,"angle",a,s,i,r)};p.exports=g},22015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){for(var h=0;h<t.length;h++){var a=t[h];l.call(g,a)}return t};p.exports=S},31060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){g===void 0&&(g=0);for(var h=g;h<t.length;h++){var a=t[h],s=!0;for(var i in l)a[i]!==l[i]&&(s=!1);if(s)return a}return null};p.exports=S},52367:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){g===void 0&&(g=0);for(var h=g;h<t.length;h++){var a=t[h],s=!0;for(var i in l)a[i]!==l[i]&&(s=!1);if(s)return a}return null};p.exports=S},12673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40327),g=t(84093),h=t(72632),a=t(72283),s=t(71030),i=new s({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0),r=function(u,n){n===void 0&&(n={});var o=n.hasOwnProperty("width"),f=n.hasOwnProperty("height"),d=h(n,"width",-1),v=h(n,"height",-1),m=h(n,"cellWidth",1),T=h(n,"cellHeight",m),E=h(n,"position",g.TOP_LEFT),y=h(n,"x",0),C=h(n,"y",0),A=0,M=0,R=d*m,O=v*T;i.setPosition(y,C),i.setSize(m,T);for(var L=0;L<u.length;L++)if(l(u[L],i,E),o&&d===-1)i.x+=m;else if(f&&v===-1)i.y+=T;else if(f&&!o){if(M+=T,i.y+=T,M===O&&(M=0,A+=m,i.y=C,i.x+=m,A===R))break}else if(A+=m,i.x+=m,A===R&&(A=0,M+=T,i.x=y,i.y+=T,M===O))break;return u};p.exports=r},691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),g=function(h,a,s,i,r){return l(h,"alpha",a,s,i,r)};p.exports=g},3877:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),g=function(h,a,s,i,r){return l(h,"x",a,s,i,r)};p.exports=g},71020:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),g=function(h,a,s,i,r,u,n){return s==null&&(s=a),l(h,"x",a,i,u,n),l(h,"y",s,r,u,n)};p.exports=g},28970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),g=function(h,a,s,i,r){return l(h,"y",a,s,i,r)};p.exports=g},82249:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){g===void 0&&(g=0),h===void 0&&(h=6.28);for(var a=g,s=(h-g)/t.length,i=l.x,r=l.y,u=l.radius,n=0;n<t.length;n++)t[n].x=i+u*Math.cos(a),t[n].y=r+u*Math.sin(a),a+=s;return t};p.exports=S},30285:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){g===void 0&&(g=0),h===void 0&&(h=6.28);for(var a=g,s=(h-g)/t.length,i=l.width/2,r=l.height/2,u=0;u<t.length;u++)t[u].x=l.x+i*Math.cos(a),t[u].y=l.y+r*Math.sin(a),a+=s;return t};p.exports=S},61557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8570),g=function(h,a){for(var s=l(a,h.length),i=0;i<h.length;i++){var r=h[i],u=s[i];r.x=u.x,r.y=u.y}return h};p.exports=g},63549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40053),g=t(77640),h=t(38487),a=function(s,i,r){r===void 0&&(r=0);var u=l(i,!1,s.length);r>0?g(u,r):r<0&&h(u,Math.abs(r));for(var n=0;n<s.length;n++)s[n].x=u[n].x,s[n].y=u[n].y;return s};p.exports=a},51629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(58813),g=function(h,a,s){var i=l({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},s),r=l({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},s),u=l({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},s);i.pop(),r.pop(),u.pop(),i=i.concat(r,u);for(var n=i.length/h.length,o=0,f=0;f<h.length;f++){var d=h[f],v=i[Math.floor(o)];d.x=v.x,d.y=v.y,o+=n}return h};p.exports=g},1045:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){for(var h=0;h<t.length;h++){var a=t[h];a.anims&&a.anims.play(l,g)}return t};p.exports=S},6124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a,s){h===void 0&&(h=0),a===void 0&&(a=0),s===void 0&&(s=1);var i,r=0,u=t.length;if(s===1)for(i=a;i<u;i++)t[i][l]+=g+r*h,r++;else for(i=a;i>=0;i--)t[i][l]+=g+r*h,r++;return t};p.exports=S},23646:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a,s){h===void 0&&(h=0),a===void 0&&(a=0),s===void 0&&(s=1);var i,r=0,u=t.length;if(s===1)for(i=a;i<u;i++)t[i][l]=g+r*h,r++;else for(i=a;i>=0;i--)t[i][l]=g+r*h,r++;return t};p.exports=S},4392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30977),g=function(h,a){for(var s=0;s<h.length;s++)l(a,h[s]);return h};p.exports=g},94985:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72006),g=function(h,a){for(var s=0;s<h.length;s++)l(a,h[s]);return h};p.exports=g},63305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74077),g=function(h,a){for(var s=0;s<h.length;s++)l(a,h[s]);return h};p.exports=g},90739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30001),g=function(h,a){for(var s=0;s<h.length;s++)l(a,h[s]);return h};p.exports=g},91417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99761),g=function(h,a){for(var s=0;s<h.length;s++)l(a,h[s]);return h};p.exports=g},26182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),g=function(h,a,s,i,r){return l(h,"rotation",a,s,i,r)};p.exports=g},87299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72395),g=t(53996),h=function(a,s,i){for(var r=s.x,u=s.y,n=0;n<a.length;n++){var o=a[n];l(o,r,u,i,Math.max(1,g(o.x,o.y,r,u)))}return a};p.exports=h},92194:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72395),g=function(h,a,s,i){var r=a.x,u=a.y;if(i===0)return h;for(var n=0;n<h.length;n++)l(h[n],r,u,s,i);return h};p.exports=g},30363:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),g=function(h,a,s,i,r){return l(h,"scaleX",a,s,i,r)};p.exports=g},51449:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),g=function(h,a,s,i,r,u,n){return s==null&&(s=a),l(h,"scaleX",a,i,u,n),l(h,"scaleY",s,r,u,n)};p.exports=g},64895:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),g=function(h,a,s,i,r){return l(h,"scaleY",a,s,i,r)};p.exports=g},30329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r){return l(h,"alpha",a,s,i,r)};p.exports=g},43954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i){return l(h,"blendMode",a,0,s,i)};p.exports=g},70688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r){return l(h,"depth",a,s,i,r)};p.exports=g},8314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){for(var h=0;h<t.length;h++)t[h].setInteractive(l,g);return t};p.exports=S},12894:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r,u,n){return s==null&&(s=a),l(h,"originX",a,i,u,n),l(h,"originY",s,r,u,n),h.forEach(function(o){o.updateDisplayOrigin()}),h};p.exports=g},38767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r){return l(h,"rotation",a,s,i,r)};p.exports=g},18584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r,u,n){return s==null&&(s=a),l(h,"scaleX",a,i,u,n),l(h,"scaleY",s,r,u,n)};p.exports=g},17381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r){return l(h,"scaleX",a,s,i,r)};p.exports=g},74370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r){return l(h,"scaleY",a,s,i,r)};p.exports=g},27773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r,u,n){return s==null&&(s=a),l(h,"scrollFactorX",a,i,u,n),l(h,"scrollFactorY",s,r,u,n)};p.exports=g},75257:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r){return l(h,"scrollFactorX",a,s,i,r)};p.exports=g},54512:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r){return l(h,"scrollFactorY",a,s,i,r)};p.exports=g},69423:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a){for(var s=0;s<t.length;s++)t[s].setTint(l,g,h,a);return t};p.exports=S},58291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i){return l(h,"visible",a,0,s,i)};p.exports=g},94833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r){return l(h,"x",a,s,i,r)};p.exports=g},14284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r,u,n){return s==null&&(s=a),l(h,"x",a,i,u,n),l(h,"y",s,r,u,n)};p.exports=g},96574:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),g=function(h,a,s,i,r){return l(h,"y",a,s,i,r)};p.exports=g},74086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=function(h,a,s,i,r){i===void 0&&(i=0),r===void 0&&(r=new l);var u,n,o=h.length;if(o===1)u=h[0].x,n=h[0].y,h[0].x=a,h[0].y=s;else{var f=1,d=0;i===0&&(d=o-1,f=o-2),u=h[d].x,n=h[d].y,h[d].x=a,h[d].y=s;for(var v=0;v<o;v++)if(!(f>=o||f===-1)){var m=h[f],T=m.x,E=m.y;m.x=u,m.y=n,u=T,n=E,i===0?f--:f++}}return r.x=u,r.y=n,r};p.exports=g},86347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18592),g=function(h){return l(h)};p.exports=g},1558:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(5514),g=function(h,a,s,i,r){r===void 0&&(r=!1);var u=Math.abs(i-s)/h.length,n;if(r)for(n=0;n<h.length;n++)h[n][a]+=l(n*u,s,i);else for(n=0;n<h.length;n++)h[n][a]=l(n*u,s,i);return h};p.exports=g},9938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87736),g=function(h,a,s,i,r){r===void 0&&(r=!1);var u=Math.abs(i-s)/h.length,n;if(r)for(n=0;n<h.length;n++)h[n][a]+=l(n*u,s,i);else for(n=0;n<h.length;n++)h[n][a]=l(n*u,s,i);return h};p.exports=g},71060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a){if(a===void 0&&(a=!1),t.length===0)return t;if(t.length===1)return a?t[0][l]+=(h+g)/2:t[0][l]=(h+g)/2,t;var s=Math.abs(h-g)/(t.length-1),i;if(a)for(i=0;i<t.length;i++)t[i][l]+=i*s+g;else for(i=0;i<t.length;i++)t[i][l]=i*s+g;return t};p.exports=S},11207:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=0;l<t.length;l++)t[l].visible=!t[l].visible;return t};p.exports=S},24404:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1071),g=function(h,a,s){s===void 0&&(s=0);for(var i=0;i<h.length;i++){var r=h[i];r.x=l(r.x,a.left-s,a.right+s),r.y=l(r.y,a.top-s,a.bottom+s)}return h};p.exports=g},83979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AlignTo:t(62270),Angle:t(61148),Call:t(22015),GetFirst:t(31060),GetLast:t(52367),GridAlign:t(12673),IncAlpha:t(691),IncX:t(3877),IncXY:t(71020),IncY:t(28970),PlaceOnCircle:t(82249),PlaceOnEllipse:t(30285),PlaceOnLine:t(61557),PlaceOnRectangle:t(63549),PlaceOnTriangle:t(51629),PlayAnimation:t(1045),PropertyValueInc:t(6124),PropertyValueSet:t(23646),RandomCircle:t(4392),RandomEllipse:t(94985),RandomLine:t(63305),RandomRectangle:t(90739),RandomTriangle:t(91417),Rotate:t(26182),RotateAround:t(87299),RotateAroundDistance:t(92194),ScaleX:t(30363),ScaleXY:t(51449),ScaleY:t(64895),SetAlpha:t(30329),SetBlendMode:t(43954),SetDepth:t(70688),SetHitArea:t(8314),SetOrigin:t(12894),SetRotation:t(38767),SetScale:t(18584),SetScaleX:t(17381),SetScaleY:t(74370),SetScrollFactor:t(27773),SetScrollFactorX:t(75257),SetScrollFactorY:t(54512),SetTint:t(69423),SetVisible:t(58291),SetX:t(94833),SetXY:t(14284),SetY:t(96574),ShiftPosition:t(74086),Shuffle:t(86347),SmootherStep:t(9938),SmoothStep:t(1558),Spread:t(71060),ToggleVisible:t(11207),WrapInRectangle:t(24404)}},85463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=t(56694),h=t(16938),a=t(2406),s=t(71519),i=t(10850),r=t(28834),u=new g({initialize:function(o,f,d){this.manager=o,this.key=f,this.type="frame",this.frames=this.getFrames(o.textureManager,i(d,"frames",[]),i(d,"defaultTextureKey",null),i(d,"sortFrames",!0)),this.frameRate=i(d,"frameRate",null),this.duration=i(d,"duration",null),this.msPerFrame,this.skipMissedFrames=i(d,"skipMissedFrames",!0),this.delay=i(d,"delay",0),this.repeat=i(d,"repeat",0),this.repeatDelay=i(d,"repeatDelay",0),this.yoyo=i(d,"yoyo",!1),this.showBeforeDelay=i(d,"showBeforeDelay",!1),this.showOnStart=i(d,"showOnStart",!1),this.hideOnComplete=i(d,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(h.PAUSE_ALL,this.pause,this),this.manager.on(h.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(n,o,f,d){f===null&&d===null?(n.frameRate=24,n.duration=24/o*1e3):f&&d===null?(n.duration=f,n.frameRate=o/(f/1e3)):(n.frameRate=d,n.duration=o/d*1e3),n.msPerFrame=1e3/n.frameRate},addFrame:function(n){return this.addFrameAt(this.frames.length,n)},addFrameAt:function(n,o){var f=this.getFrames(this.manager.textureManager,o);if(f.length>0){if(n===0)this.frames=f.concat(this.frames);else if(n===this.frames.length)this.frames=this.frames.concat(f);else{var d=this.frames.slice(0,n),v=this.frames.slice(n);this.frames=d.concat(f,v)}this.updateFrameSequence()}return this},checkFrame:function(n){return n>=0&&n<this.frames.length},getFirstTick:function(n){n.accumulator=0,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameAt:function(n){return this.frames[n]},getFrames:function(n,o,f,d){d===void 0&&(d=!0);var v=[],m,T,E=1,y,C;if(typeof o=="string"){if(C=o,!n.exists(C))return console.warn('Texture "%s" not found',C),v;var A=n.get(C),M=A.getFrameNames();d&&r(M),o=[],M.forEach(function(B){o.push({key:C,frame:B})})}if(!Array.isArray(o)||o.length===0)return v;for(y=0;y<o.length;y++){var R=o[y],O=i(R,"key",f);if(O){var L=i(R,"frame",0),I=n.getFrame(O,L);if(!I){console.warn('Texture "%s" not found',O);continue}T=new s(O,L,E,I),T.duration=i(R,"duration",0),T.isFirst=!m,m&&(m.nextFrame=T,T.prevFrame=m),v.push(T),m=T,E++}}if(v.length>0){T.isLast=!0,T.nextFrame=v[0],v[0].prevFrame=T;var N=1/(v.length-1);for(y=0;y<v.length;y++)v[y].progress=y*N}return v},getNextTick:function(n){n.accumulator-=n.nextTick,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameByProgress:function(n){return n=l(n,0,1),a(n,this.frames,"progress")},nextFrame:function(n){var o=n.currentFrame;o.isLast?n.yoyo?this.handleYoyoFrame(n,!1):n.repeatCounter>0?n.inReverse&&n.forward?n.forward=!1:this.repeatAnimation(n):n.complete():this.updateAndGetNextTick(n,o.nextFrame)},handleYoyoFrame:function(n,o){if(o||(o=!1),n.inReverse===!o&&n.repeatCounter>0){(n.repeatDelay===0||n.pendingRepeat)&&(n.forward=o),this.repeatAnimation(n);return}if(n.inReverse!==o&&n.repeatCounter===0){n.complete();return}n.forward=o;var f=o?n.currentFrame.nextFrame:n.currentFrame.prevFrame;this.updateAndGetNextTick(n,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(n){var o=n.currentFrame;o.isFirst?n.yoyo?this.handleYoyoFrame(n,!0):n.repeatCounter>0?n.inReverse&&!n.forward?this.repeatAnimation(n):(n.forward=!0,this.repeatAnimation(n)):n.complete():this.updateAndGetNextTick(n,o.prevFrame)},updateAndGetNextTick:function(n,o){n.setCurrentFrame(o),this.getNextTick(n)},removeFrame:function(n){var o=this.frames.indexOf(n);return o!==-1&&this.removeFrameAt(o),this},removeFrameAt:function(n){return this.frames.splice(n,1),this.updateFrameSequence(),this},repeatAnimation:function(n){if(n._pendingStop===2){if(n._pendingStopValue===0)return n.stop();n._pendingStopValue--}n.repeatDelay>0&&!n.pendingRepeat?(n.pendingRepeat=!0,n.accumulator-=n.nextTick,n.nextTick+=n.repeatDelay):(n.repeatCounter--,n.forward?n.setCurrentFrame(n.currentFrame.nextFrame):n.setCurrentFrame(n.currentFrame.prevFrame),n.isPlaying&&(this.getNextTick(n),n.handleRepeat()))},toJSON:function(){var n={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(o){n.frames.push(o.toJSON())}),n},updateFrameSequence:function(){for(var n=this.frames.length,o=1/(n-1),f,d=0;d<n;d++)f=this.frames[d],f.index=d+1,f.isFirst=!1,f.isLast=!1,f.progress=d*o,d===0?(f.isFirst=!0,n===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[n-1],f.nextFrame=this.frames[d+1])):d===n-1&&n>1?(f.isLast=!0,f.prevFrame=this.frames[n-2],f.nextFrame=this.frames[0]):n>1&&(f.prevFrame=this.frames[d-1],f.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(h.PAUSE_ALL,this.pause,this),this.manager.off(h.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var n=0;n<this.frames.length;n++)this.frames[n].destroy();this.frames=[],this.manager=null}});p.exports=u},71519:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s,i,r,u){u===void 0&&(u=!1),this.textureKey=a,this.textureFrame=s,this.index=i,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=u},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});p.exports=g},90249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85463),g=t(56694),h=t(33885),a=t(6659),s=t(16938),i=t(97081),r=t(72632),u=t(10850),n=t(83392),o=t(13401),f=t(76400),d=new g({Extends:a,initialize:function(m){a.call(this),this.game=m,this.textureManager=null,this.globalTimeScale=1,this.anims=new h,this.mixes=new h,this.paused=!1,this.name="AnimationManager",m.events.once(i.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(i.DESTROY,this.destroy,this)},addMix:function(v,m,T){var E=this.anims,y=this.mixes,C=typeof v=="string"?v:v.key,A=typeof m=="string"?m:m.key;if(E.has(C)&&E.has(A)){var M=y.get(C);M||(M={}),M[A]=T,y.set(C,M)}return this},removeMix:function(v,m){var T=this.mixes,E=typeof v=="string"?v:v.key,y=T.get(E);if(y)if(m){var C=typeof m=="string"?m:m.key;y.hasOwnProperty(C)&&delete y[C]}else m||T.delete(E);return this},getMix:function(v,m){var T=this.mixes,E=typeof v=="string"?v:v.key,y=typeof m=="string"?m:m.key,C=T.get(E);return C&&C.hasOwnProperty(y)?C[y]:0},add:function(v,m){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(m.key=v,this.anims.set(v,m),this.emit(s.ADD_ANIMATION,v,m),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,m,T){var E=[],y=this.game.cache.json.get(v);if(!y)return console.warn("No Aseprite data found for: "+v),E;var C=this,A=u(y,"meta",null),M=u(y,"frames",null);if(A&&M){var R=u(A,"frameTags",[]);R.forEach(function(O){var L=[],I=r(O,"name",null),N=r(O,"from",0),B=r(O,"to",0),b=r(O,"direction","forward");if(I&&(!m||m&&m.indexOf(I)>-1)){for(var X=0,W=N;W<=B;W++){var $=W.toString(),z=M[$];if(z){var V=r(z,"duration",n.MAX_SAFE_INTEGER);L.push({key:v,frame:$,duration:V}),X+=V}}var D=X/L.length;L.forEach(function(Y){Y.duration-=D}),b==="reverse"&&(L=L.reverse());var G={key:I,frames:L,duration:X,yoyo:b==="pingpong"},U;T?T.anims&&(U=T.anims.create(G)):U=C.create(G),U&&E.push(U)}})}return E},create:function(v){var m=v.key,T=!1;return m&&(T=this.get(m),T?console.warn("AnimationManager key already exists: "+m):(T=new l(this,m,v),this.anims.set(m,T),this.emit(s.ADD_ANIMATION,m,T))),T},fromJSON:function(v,m){m===void 0&&(m=!1),m&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var T=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var E=0;E<v.anims.length;E++)T.push(this.create(v.anims[E]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&T.push(this.create(v));return T},generateFrameNames:function(v,m){var T=u(m,"prefix",""),E=u(m,"start",0),y=u(m,"end",0),C=u(m,"suffix",""),A=u(m,"zeroPad",0),M=u(m,"outputArray",[]),R=u(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),M;var O=this.textureManager.get(v);if(!O)return M;var L;if(m)for(R||(R=o(E,y)),L=0;L<R.length;L++){var I=T+f(R[L],A,"0",1)+C;O.has(I)?M.push({key:v,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,v)}else for(R=O.getFrameNames(),L=0;L<R.length;L++)M.push({key:v,frame:R[L]});return M},generateFrameNumbers:function(v,m){var T=u(m,"start",0),E=u(m,"end",-1),y=u(m,"first",!1),C=u(m,"outputArray",[]),A=u(m,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),C;var M=this.textureManager.get(v);if(!M)return C;y&&M.has(y)&&C.push({key:v,frame:y}),A||(E===-1&&(E=M.frameTotal-2),A=o(T,E));for(var R=0;R<A.length;R++){var O=A[R];M.has(O)?C.push({key:v,frame:O}):console.warn('Frame "%s" not found in texture "%s"',O,v)}return C},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var m=this.textureManager.get(v),T=m.key,E=this.anims.getArray(),y=[],C=0;C<E.length;C++)for(var A=E[C],M=A.frames,R=0;R<M.length;R++)if(M[R].textureKey===T){y.push(A.key);break}return y},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(s.PAUSE_ALL)),this},play:function(v,m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)m[T].anims.play(v);return this},staggerPlay:function(v,m,T,E){T===void 0&&(T=0),E===void 0&&(E=!0),Array.isArray(m)||(m=[m]);var y=m.length;E||y--;for(var C=0;C<m.length;C++){var A=T<0?Math.abs(T)*(y-C):T*C;m[C].anims.playAfterDelay(v,A)}return this},remove:function(v){var m=this.get(v);return m&&(this.emit(s.REMOVE_ANIMATION,v,m),this.anims.delete(v),this.removeMix(v)),m},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(s.RESUME_ALL)),this},toJSON:function(v){var m={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?m.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(T,E){m.anims.push(E.toJSON())}),m},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});p.exports=d},16569:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(33885),h=t(72632),a=t(16938),s=t(85463),i=new l({initialize:function(u){this.parent=u,this.animationManager=u.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(r){var u=this.parent;if(r===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,u;Array.isArray(r)||(r=[r]);for(var n=0;n<r.length;n++){var o=r[n];this.nextAnim?this.nextAnimsQueue.push(o):this.nextAnim=o}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(r){this.isPlaying&&this.stop();var u=this.animationManager,n=typeof r=="string"?r:h(r,"key",null),o=this.exists(n)?this.get(n):u.get(n);if(!o)console.warn("Missing animation: "+n);else{this.currentAnim=o;var f=o.getTotalFrames(),d=h(r,"frameRate",o.frameRate),v=h(r,"duration",o.duration);o.calculateDuration(this,f,v,d),this.delay=h(r,"delay",o.delay),this.repeat=h(r,"repeat",o.repeat),this.repeatDelay=h(r,"repeatDelay",o.repeatDelay),this.yoyo=h(r,"yoyo",o.yoyo),this.showBeforeDelay=h(r,"showBeforeDelay",o.showBeforeDelay),this.showOnStart=h(r,"showOnStart",o.showOnStart),this.hideOnComplete=h(r,"hideOnComplete",o.hideOnComplete),this.skipMissedFrames=h(r,"skipMissedFrames",o.skipMissedFrames),this.timeScale=h(r,"timeScale",this.timeScale);var m=h(r,"startFrame",0);m>o.getTotalFrames()&&(m=0);var T=o.frames[m];m===0&&!this.forward&&(T=o.getLastFrame()),this.currentFrame=T}return this.parent},pause:function(r){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),r!==void 0&&this.setCurrentFrame(r),this.parent},resume:function(r){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),r!==void 0&&this.setCurrentFrame(r),this.parent},playAfterDelay:function(r,u){if(!this.isPlaying)this.delayCounter=u,this.play(r,!0);else{var n=this.nextAnim,o=this.nextAnimsQueue;n&&o.unshift(n),this.nextAnim=r,this._pendingStop=1,this._pendingStopValue=u}return this.parent},playAfterRepeat:function(r,u){if(u===void 0&&(u=1),!this.isPlaying)this.play(r);else{var n=this.nextAnim,o=this.nextAnimsQueue;n&&o.unshift(n),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this.nextAnim=r,this._pendingStop=2,this._pendingStopValue=u}return this.parent},play:function(r,u){u===void 0&&(u=!1);var n=this.currentAnim,o=this.parent,f=typeof r=="string"?r:r.key;if(u&&this.isPlaying&&n.key===f)return o;if(n&&this.isPlaying){var d=this.animationManager.getMix(n.key,r);if(d>0)return this.playAfterDelay(r,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(r)},playReverse:function(r,u){u===void 0&&(u=!1);var n=typeof r=="string"?r:r.key;return u&&this.isPlaying&&this.currentAnim.key===n?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(r))},startAnimation:function(r){this.load(r);var u=this.currentAnim,n=this.parent;return u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,u.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),n},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(r,u){var n=this.currentAnim;if(n){var o=this.currentFrame,f=this.parent,d=o.textureFrame;f.emit(r,n,o,f,d),u&&f.emit(u+n.key,n,o,f,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var r=this.currentFrame;if(!r)return 0;var u=r.progress;return this.inReverse&&(u*=-1),u},setProgress:function(r){return this.forward||(r=1-r),this.setCurrentFrame(this.currentAnim.getFrameByProgress(r)),this.parent},setRepeat:function(r){return this.repeatCounter=r===-1?Number.MAX_VALUE:r,this.parent},globalRemove:function(r,u){u===void 0&&(u=this.currentAnim),this.isPlaying&&u.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(r,u){r===void 0&&(r=!1),u===void 0&&(u=!1);var n=this.currentAnim,o=this.parent;return n?(u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),n.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!r,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(n.frames[0]),this.parent):o},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var r=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(r)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var r=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(r)}return this.parent},stopAfterDelay:function(r){return this._pendingStop=1,this._pendingStopValue=r,this.parent},stopAfterRepeat:function(r){return r===void 0&&(r=1),this.repeatCounter!==-1&&r>this.repeatCounter&&(r=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=r,this.parent},stopOnFrame:function(r){return this._pendingStop=3,this._pendingStopValue=r,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(r,u){var n=this.currentAnim;if(!(!this.isPlaying||!n||n.paused)){if(this.accumulator+=u*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=u,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?n.nextFrame(this):n.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var o=0;do this.forward?n.nextFrame(this):n.previousFrame(this),o++;while(this.isPlaying&&this.accumulator>this.nextTick&&o<60)}}},setCurrentFrame:function(r){var u=this.parent;return this.currentFrame=r,u.texture=r.frame.texture,u.frame=r.frame,u.isCropped&&u.frame.updateCropUVs(u._crop,u.flipX,u.flipY),r.setAlpha&&(u.alpha=r.alpha),u.setSizeToFrame(),u._originComponent&&(r.frame.customPivot?u.setOrigin(r.frame.pivotX,r.frame.pivotY):u.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===r&&this.stop()),u},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(r){return this.anims?this.anims.get(r):null},exists:function(r){return this.anims?this.anims.has(r):!1},create:function(r){var u=r.key,n=!1;return u&&(n=this.get(u),n?console.warn("Animation key already exists: "+u):(n=new s(this,u,r),this.anims||(this.anims=new g),this.anims.set(u,n))),n},createFromAseprite:function(r,u){return this.animationManager.createFromAseprite(r,u,this.parent)},generateFrameNames:function(r,u){return this.animationManager.generateFrameNames(r,u)},generateFrameNumbers:function(r,u){return this.animationManager.generateFrameNumbers(r,u)},remove:function(r){var u=this.get(r);return u&&(this.currentAnim===u&&this.stop(),this.anims.delete(r)),u},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});p.exports=i},44509:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},84563:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete"},61586:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete-"},72175:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrepeat"},568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrestart"},37690:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstart"},58525:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstop"},5243:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationupdate"},10598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},4860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},31865:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},16938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD_ANIMATION:t(44509),ANIMATION_COMPLETE:t(84563),ANIMATION_COMPLETE_KEY:t(61586),ANIMATION_REPEAT:t(72175),ANIMATION_RESTART:t(568),ANIMATION_START:t(37690),ANIMATION_STOP:t(58525),ANIMATION_UPDATE:t(5243),PAUSE_ALL:t(10598),REMOVE_ANIMATION:t(4860),RESUME_ALL:t(31865)}},13517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Animation:t(85463),AnimationFrame:t(71519),AnimationManager:t(90249),AnimationState:t(16569),Events:t(16938)}},23740:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(33885),h=t(6659),a=t(69773),s=new l({initialize:function(){this.entries=new g,this.events=new h},add:function(i,r){return this.entries.set(i,r),this.events.emit(a.ADD,this,i,r),this},has:function(i){return this.entries.has(i)},exists:function(i){return this.entries.has(i)},get:function(i){return this.entries.get(i)},remove:function(i){var r=this.get(i);return r&&(this.entries.delete(i),this.events.emit(a.REMOVE,this,i,r.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});p.exports=s},43474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23740),g=t(56694),h=t(97081),a=new g({initialize:function(i){this.game=i,this.binary=new l,this.bitmapFont=new l,this.json=new l,this.physics=new l,this.shader=new l,this.audio=new l,this.video=new l,this.text=new l,this.html=new l,this.obj=new l,this.tilemap=new l,this.xml=new l,this.custom={},this.game.events.once(h.DESTROY,this.destroy,this)},addCustom:function(s){return this.custom.hasOwnProperty(s)||(this.custom[s]=new l),this.custom[s]},destroy:function(){for(var s=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],i=0;i<s.length;i++)this[s[i]].destroy(),this[s[i]]=null;for(var r in this.custom)this.custom[r].destroy();this.custom=null,this.game=null}});p.exports=a},94762:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},75968:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},69773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(94762),REMOVE:t(75968)}},45820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BaseCache:t(23740),CacheManager:t(43474),Events:t(69773)}},51052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(75606),a=t(6659),s=t(89787),i=t(74118),r=t(69360),u=t(93222),n=t(93736),o=new l({Extends:a,Mixins:[g.AlphaSingle,g.Visible],initialize:function(d,v,m,T){d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new i,this.dirty=!0,this._x=d,this._y=v,this._width=m,this._height=T,this._bounds=new i,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new r,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new n(m/2,T/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,d){return f===void 0&&(f=.5),d===void 0&&(d=f),this.originX=f,this.originY=d,this},getScroll:function(f,d,v){v===void 0&&(v=new n);var m=this.width*.5,T=this.height*.5;return v.x=f-m,v.y=d-T,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(f){var d=this.width*.5;return this.midPoint.x=f,this.scrollX=f-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var d=this.height*.5;return this.midPoint.y=f,this.scrollY=f-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,d){return this.centerOnX(f),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,d=this.width*.5,v=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-d,this.scrollY=f.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var d=this.matrix.matrix,v=d[0],m=d[1],T=d[2],E=d[3],y=v*E-m*T;if(!y)return f;var C=d[4],A=d[5],M=this.scrollX,R=this.scrollY,O=this.width,L=this.height,I=this.y,N=I+L,B=this.x,b=B+O,X=this.culledObjects,W=f.length;y=1/y,X.length=0;for(var $=0;$<W;++$){var z=f[$];if(!z.hasOwnProperty("width")||z.parentContainer){X.push(z);continue}var V=z.width,D=z.height,G=z.x-M*z.scrollFactorX-V*z.originX,U=z.y-R*z.scrollFactorY-D*z.originY,Y=G*v+U*T+C,H=G*m+U*E+A,Z=(G+V)*v+(U+D)*T+C,K=(G+V)*m+(U+D)*E+A;Z>B&&Y<b&&K>I&&H<N&&X.push(z)}return X},getWorldPoint:function(f,d,v){v===void 0&&(v=new n);var m=this.matrix.matrix,T=m[0],E=m[1],y=m[2],C=m[3],A=m[4],M=m[5],R=T*C-E*y;if(!R)return v.x=f,v.y=d,v;R=1/R;var O=C*R,L=-E*R,I=-y*R,N=T*R,B=(y*M-C*A)*R,b=(E*A-T*M)*R,X=Math.cos(this.rotation),W=Math.sin(this.rotation),$=this.zoomX,z=this.zoomY,V=this.scrollX,D=this.scrollY,G=f+(V*X-D*W)*$,U=d+(V*W+D*X)*z;return v.x=G*O+U*I+B,v.y=G*L+U*N+b,v},ignore:function(f){var d=this.id;Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++){var m=f[v];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=d}return this},preRender:function(){this.renderList.length=0;var f=this.width,d=this.height,v=f*.5,m=d*.5,T=this.zoomX,E=this.zoomY,y=this.matrix,C=f*this.originX,A=d*this.originY,M=this.scrollX,R=this.scrollY;this.useBounds&&(M=this.clampX(M),R=this.clampY(R)),this.roundPixels&&(C=Math.round(C),A=Math.round(A)),this.scrollX=M,this.scrollY=R;var O=M+v,L=R+m;this.midPoint.set(O,L);var I=f/T,N=d/E;this.worldView.setTo(O-I/2,L-N/2,I,N),y.applyITRS(this.x+C,this.y+A,this.rotation,T,E),y.translate(-C,-A)},clampX:function(f){var d=this._bounds,v=this.displayWidth,m=d.x+(v-this.width)/2,T=Math.max(m,m+d.width-v);return f<m?f=m:f>T&&(f=T),f},clampY:function(f){var d=this._bounds,v=this.displayHeight,m=d.y+(v-this.height)/2,T=Math.max(m,m+d.height-v);return f<m?f=m:f>T&&(f=T),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=h(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=u(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,d,v,m,T){return T===void 0&&(T=!1),this._bounds.setTo(f,d,v,m),this.dirty=!0,this.useBounds=!0,T?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new i);var d=this._bounds;return f.setTo(d.x,d.y,d.width,d.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,d){return d===void 0&&(d=f),this.x=f,this.y=d,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,d){d===void 0&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=d;var v=f.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(f,d){return d===void 0&&(d=f),this.scrollX=f,this.scrollY=d,this},setSize:function(f,d){return d===void 0&&(d=f),this.width=f,this.height=d,this},setViewport:function(f,d,v,m){return this.x=f,this.y=d,this.width=v,this.height=m,this},setZoom:function(f,d){return f===void 0&&(f=1),d===void 0&&(d=f),f===0&&(f=.001),d===0&&(d=.001),this.zoomX=f,this.zoomY=d,this},setMask:function(f,d){return d===void 0&&(d=!0),this.mask=f,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;f&&!this._customViewport?d.customViewports++:!f&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(s.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});p.exports=o},47751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(51052),g=t(79993),h=t(82897),a=t(56694),s=t(64937),i=t(53030),r=t(89787),u=t(42798),n=t(74118),o=t(93736),f=new a({Extends:l,Mixins:[s.PostPipeline],initialize:function(v,m,T,E){l.call(this,v,m,T,E),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new i.Fade(this),this.flashEffect=new i.Flash(this),this.shakeEffect=new i.Shake(this),this.panEffect=new i.Pan(this),this.rotateToEffect=new i.RotateTo(this),this.zoomEffect=new i.Zoom(this),this.lerp=new o(1,1),this.followOffset=new o,this.deadzone=null,this._follow=null},setDeadzone:function(d,v){if(d===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=v):this.deadzone=new n(0,0,d,v),this._follow){var m=this.width/2,T=this.height/2,E=this._follow.x-this.followOffset.x,y=this._follow.y-this.followOffset.y;this.midPoint.set(E,y),this.scrollX=E-m,this.scrollY=y-T}g(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,v,m,T,E,y){return this.fadeEffect.start(!1,d,v,m,T,!0,E,y)},fadeOut:function(d,v,m,T,E,y){return this.fadeEffect.start(!0,d,v,m,T,!0,E,y)},fadeFrom:function(d,v,m,T,E,y,C){return this.fadeEffect.start(!1,d,v,m,T,E,y,C)},fade:function(d,v,m,T,E,y,C){return this.fadeEffect.start(!0,d,v,m,T,E,y,C)},flash:function(d,v,m,T,E,y,C){return this.flashEffect.start(d,v,m,T,E,y,C)},shake:function(d,v,m,T,E){return this.shakeEffect.start(d,v,m,T,E)},pan:function(d,v,m,T,E,y,C){return this.panEffect.start(d,v,m,T,E,y,C)},rotateTo:function(d,v,m,T,E,y,C){return this.rotateToEffect.start(d,v,m,T,E,y,C)},zoomTo:function(d,v,m,T,E,y){return this.zoomEffect.start(d,v,m,T,E,y)},preRender:function(){this.renderList.length=0;var d=this.width,v=this.height,m=d*.5,T=v*.5,E=this.zoom,y=this.matrix,C=d*this.originX,A=v*this.originY,M=this._follow,R=this.deadzone,O=this.scrollX,L=this.scrollY;R&&g(R,this.midPoint.x,this.midPoint.y);var I=!1;if(this.roundPixels&&(C=Math.floor(C),A=Math.floor(A)),M&&!this.panEffect.isRunning){var N=this.lerp,B=M.x-this.followOffset.x,b=M.y-this.followOffset.y;this.roundPixels&&(B=Math.floor(B),b=Math.floor(b)),R?(B<R.x?O=u(O,O-(R.x-B),N.x):B>R.right&&(O=u(O,O+(B-R.right),N.x)),b<R.y?L=u(L,L-(R.y-b),N.y):b>R.bottom&&(L=u(L,L+(b-R.bottom),N.y))):(O=u(O,B-C,N.x),L=u(L,b-A,N.y)),I=!0}this.useBounds&&(O=this.clampX(O),L=this.clampY(L)),this.roundPixels&&(O=Math.floor(O),L=Math.floor(L)),this.scrollX=O,this.scrollY=L;var X=O+m,W=L+T;this.midPoint.set(X,W);var $=d/E,z=v/E,V=X-$/2,D=W-z/2;this.roundPixels&&(V=Math.floor(V),D=Math.floor(D)),this.worldView.setTo(V,D,$,z),y.applyITRS(Math.floor(this.x+C),Math.floor(this.y+A),this.rotation,E,E),y.translate(-C,-A),this.shakeEffect.preRender(),I&&this.emit(r.FOLLOW_UPDATE,this,M)},setLerp:function(d,v){return d===void 0&&(d=1),v===void 0&&(v=d),this.lerp.set(d,v),this},setFollowOffset:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=0),this.followOffset.set(d,v),this},startFollow:function(d,v,m,T,E,y){v===void 0&&(v=!1),m===void 0&&(m=1),T===void 0&&(T=m),E===void 0&&(E=0),y===void 0&&(y=E),this._follow=d,this.roundPixels=v,m=h(m,0,1),T=h(T,0,1),this.lerp.set(m,T),this.followOffset.set(E,y);var C=this.width/2,A=this.height/2,M=d.x-E,R=d.y-y;return this.midPoint.set(M,R),this.scrollX=M-C,this.scrollY=R-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,v){this.visible&&(this.rotateToEffect.update(d,v),this.panEffect.update(d,v),this.zoomEffect.update(d,v),this.shakeEffect.update(d,v),this.flashEffect.update(d,v),this.fadeEffect.update(d,v))},destroy:function(){this.resetFX(),l.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});p.exports=f},62382:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47751),g=t(56694),h=t(72632),a=t(91963),s=t(94287),i=t(40444),r=t(7599),u=new g({initialize:function(o){this.scene=o,this.systems=o.sys,this.roundPixels=o.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,o.sys.events.once(r.BOOT,this.boot,this),o.sys.events.on(r.START,this.start,this)},boot:function(){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new l(0,0,n.scale.width,n.scale.height).setScene(this.scene),n.game.scale.on(i.RESIZE,this.onResize,this),this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){if(!this.main){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0]}var o=this.systems.events;o.on(r.UPDATE,this.update,this),o.once(r.SHUTDOWN,this.shutdown,this)},add:function(n,o,f,d,v,m){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),v===void 0&&(v=!1),m===void 0&&(m="");var T=new l(n,o,f,d);return T.setName(m),T.setScene(this.scene),T.setRoundPixels(this.roundPixels),T.id=this.getNextID(),this.cameras.push(T),v&&(this.main=T),T},addExisting:function(n,o){o===void 0&&(o=!1);var f=this.cameras.indexOf(n);return f===-1?(n.id=this.getNextID(),n.setRoundPixels(this.roundPixels),this.cameras.push(n),o&&(this.main=n),n):null},getNextID:function(){for(var n=this.cameras,o=1,f=0;f<32;f++){for(var d=!1,v=0;v<n.length;v++){var m=n[v];if(m&&m.id===o){d=!0;continue}}if(d)o=o<<1;else return o}return 0},getTotal:function(n){n===void 0&&(n=!1);for(var o=0,f=this.cameras,d=0;d<f.length;d++){var v=f[d];(!n||n&&v.visible)&&o++}return o},fromJSON:function(n){Array.isArray(n)||(n=[n]);for(var o=this.scene.sys.scale.width,f=this.scene.sys.scale.height,d=0;d<n.length;d++){var v=n[d],m=h(v,"x",0),T=h(v,"y",0),E=h(v,"width",o),y=h(v,"height",f),C=this.add(m,T,E,y);C.name=h(v,"name",""),C.zoom=h(v,"zoom",1),C.rotation=h(v,"rotation",0),C.scrollX=h(v,"scrollX",0),C.scrollY=h(v,"scrollY",0),C.roundPixels=h(v,"roundPixels",!1),C.visible=h(v,"visible",!0);var A=h(v,"backgroundColor",!1);A&&C.setBackgroundColor(A);var M=h(v,"bounds",null);if(M){var R=h(M,"x",0),O=h(M,"y",0),L=h(M,"width",o),I=h(M,"height",f);C.setBounds(R,O,L,I)}}return this},getCamera:function(n){for(var o=this.cameras,f=0;f<o.length;f++)if(o[f].name===n)return o[f];return null},getCamerasBelowPointer:function(n){for(var o=this.cameras,f=n.x,d=n.y,v=[],m=0;m<o.length;m++){var T=o[m];T.visible&&T.inputEnabled&&s(T,f,d)&&v.unshift(T)}return v},remove:function(n,o){o===void 0&&(o=!0),Array.isArray(n)||(n=[n]);for(var f=0,d=this.cameras,v=0;v<n.length;v++){var m=d.indexOf(n[v]);m!==-1&&(o?d[m].destroy():d[m].renderList=[],d.splice(m,1),f++)}return!this.main&&d[0]&&(this.main=d[0]),f},render:function(n,o){for(var f=this.scene,d=this.cameras,v=0;v<d.length;v++){var m=d[v];if(m.visible&&m.alpha>0){m.preRender();var T=this.getVisibleChildren(o.getChildren(),m);n.render(f,T,m)}}},getVisibleChildren:function(n,o){return n.filter(function(f){return f.willRender(o)})},resetAll:function(){for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(n,o){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(n,o)},onResize:function(n,o,f,d,v){for(var m=0;m<this.cameras.length;m++){var T=this.cameras[m];T._x===0&&T._y===0&&T._width===d&&T._height===v&&T.setSize(o.width,o.height)}},resize:function(n,o){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(n,o)},shutdown:function(){this.main=void 0;for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();this.cameras=[];var o=this.systems.events;o.off(r.UPDATE,this.update,this),o.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(r.START,this.start,this),this.systems.events.off(r.DESTROY,this.destroy,this),this.systems.game.scale.off(i.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register("CameraManager",u,"cameras"),p.exports=u},92522:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=t(56694),h=t(89787),a=new g({initialize:function(i){this.camera=i,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,i,r,u,n,o,f,d){if(s===void 0&&(s=!0),i===void 0&&(i=1e3),r===void 0&&(r=0),u===void 0&&(u=0),n===void 0&&(n=0),o===void 0&&(o=!1),f===void 0&&(f=null),d===void 0&&(d=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=i,this.direction=s,this.progress=0,this.red=r,this.green=u,this.blue=n,this.alpha=s?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=d;var v=s?h.FADE_OUT_START:h.FADE_IN_START;return this.camera.emit(v,this.camera,this,i,r,u,n),this.camera},update:function(s,i){this.isRunning&&(this._elapsed+=i,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(s){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(s,i){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera,u=this.red/255,n=this.green/255,o=this.blue/255;return s.drawFillRect(r.x,r.y,r.width,r.height,i(o,n,u,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var s=this.direction?h.FADE_OUT_COMPLETE:h.FADE_IN_COMPLETE;this.camera.emit(s,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=a},22151:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=t(56694),h=t(89787),a=new g({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(s,i,r,u,n,o,f){return s===void 0&&(s=250),i===void 0&&(i=255),r===void 0&&(r=255),u===void 0&&(u=255),n===void 0&&(n=!1),o===void 0&&(o=null),f===void 0&&(f=this.camera.scene),!n&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=s,this.progress=0,this.red=i,this.green=r,this.blue=u,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=f,this.camera.emit(h.FLASH_START,this.camera,this,s,i,r,u),this.camera)},update:function(s,i){this.isRunning&&(this._elapsed+=i,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(s){if(!this.isRunning)return!1;var i=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(s,i){if(!this.isRunning)return!1;var r=this.camera,u=this.red/255,n=this.green/255,o=this.blue/255;return s.drawFillRect(r.x,r.y,r.width,r.height,i(o,n,u,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=a},37551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=t(56694),h=t(35060),a=t(89787),s=t(93736),i=new g({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,u,n,o,f,d,v){n===void 0&&(n=1e3),o===void 0&&(o=h.Linear),f===void 0&&(f=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene);var m=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(r,u),m.getScroll(r,u,this.current),typeof o=="string"&&h.hasOwnProperty(o)?this.ease=h[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v,this.camera.emit(a.PAN_START,this.camera,this,n,r,u)),m},update:function(r,u){if(this.isRunning){this._elapsed+=u;var n=l(this._elapsed/this.duration,0,1);this.progress=n;var o=this.camera;if(this._elapsed<this.duration){var f=this.ease(n);o.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*f,v=this.source.y+(this.current.y-this.source.y)*f;o.setScroll(d,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,n,d,v)}else o.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,n,o.scrollX,o.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=i},1771:(p,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var l=t(82897),g=t(56694),h=t(89787),a=t(35060),s=new g({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(i,r,u,n,o,f,d){u===void 0&&(u=1e3),n===void 0&&(n=a.Linear),o===void 0&&(o=!1),f===void 0&&(f=null),d===void 0&&(d=this.camera.scene),r===void 0&&(r=!1),this.shortestPath=r;var v=i;i<0?(v=-1*i,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;v=v-Math.floor(v/m)*m;var T=this.camera;if(!o&&this.isRunning)return T;if(this.isRunning=!0,this.duration=u,this.progress=0,this.source=T.rotation,this.destination=v,typeof n=="string"&&a.hasOwnProperty(n)?this.ease=a[n]:typeof n=="function"&&(this.ease=n),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=d,this.shortestPath){var E=0,y=0;this.destination>this.source?E=Math.abs(this.destination-this.source):E=Math.abs(this.destination+m)-this.source,this.source>this.destination?y=Math.abs(this.source-this.destination):y=Math.abs(this.source+m)-this.destination,E<y?this.clockwise=!0:E>y&&(this.clockwise=!1)}return this.camera.emit(h.ROTATE_START,this.camera,this,u,v),T},update:function(i,r){if(this.isRunning){this._elapsed+=r;var u=l(this._elapsed/this.duration,0,1);this.progress=u;var n=this.camera;if(this._elapsed<this.duration){var o=this.ease(u);this.current=n.rotation;var f=0,d=360*Math.PI/180,v=this.destination,m=this.current;this.clockwise===!1&&(v=this.current,m=this.destination),v>=m?f=Math.abs(v-m):f=Math.abs(v+d)-m;var T=0;this.clockwise?T=n.rotation+f*o:T=n.rotation-f*o,n.rotation=T,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,u,T)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,u,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=s},3241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=t(56694),h=t(89787),a=t(93736),s=new g({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(i,r,u,n,o){return i===void 0&&(i=100),r===void 0&&(r=.05),u===void 0&&(u=!1),n===void 0&&(n=null),o===void 0&&(o=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,typeof r=="number"?this.intensity.set(r):this.intensity.set(r.x,r.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=o,this.camera.emit(h.SHAKE_START,this.camera,this,i,r),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(i,r){if(this.isRunning)if(this._elapsed+=r,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var u=this.intensity,n=this.camera.width,o=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*u.x*n*2-u.x*n)*f,this._offsetY=(Math.random()*u.y*o*2-u.y*o)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});p.exports=s},13383:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=t(56694),h=t(35060),a=t(89787),s=new g({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,r,u,n,o,f){r===void 0&&(r=1e3),u===void 0&&(u=h.Linear),n===void 0&&(n=!1),o===void 0&&(o=null),f===void 0&&(f=this.camera.scene);var d=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source=d.zoom,this.destination=i,typeof u=="string"&&h.hasOwnProperty(u)?this.ease=h[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=f,this.camera.emit(a.ZOOM_START,this.camera,this,r,i)),d},update:function(i,r){this.isRunning&&(this._elapsed+=r,this.progress=l(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=s},53030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Fade:t(92522),Flash:t(22151),Pan:t(37551),Shake:t(3241),RotateTo:t(1771),Zoom:t(13383)}},39577:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameradestroy"},85373:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeincomplete"},92057:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeinstart"},1903:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutcomplete"},96131:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutstart"},85409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashcomplete"},25500:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashstart"},44071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="followupdate"},19818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapancomplete"},80002:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapanstart"},87966:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},74217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},34805:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatecomplete"},30408:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatestart"},49856:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakecomplete"},69189:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakestart"},67657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomcomplete"},14229:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomstart"},89787:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DESTROY:t(39577),FADE_IN_COMPLETE:t(85373),FADE_IN_START:t(92057),FADE_OUT_COMPLETE:t(1903),FADE_OUT_START:t(96131),FLASH_COMPLETE:t(85409),FLASH_START:t(25500),FOLLOW_UPDATE:t(44071),PAN_COMPLETE:t(19818),PAN_START:t(80002),POST_RENDER:t(87966),PRE_RENDER:t(74217),ROTATE_COMPLETE:t(34805),ROTATE_START:t(30408),SHAKE_COMPLETE:t(49856),SHAKE_START:t(69189),ZOOM_COMPLETE:t(67657),ZOOM_START:t(14229)}},32356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Camera:t(47751),BaseCamera:t(51052),CameraManager:t(62382),Effects:t(53030),Events:t(89787)}},84219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(10850),h=new l({initialize:function(s){this.camera=g(s,"camera",null),this.left=g(s,"left",null),this.right=g(s,"right",null),this.up=g(s,"up",null),this.down=g(s,"down",null),this.zoomIn=g(s,"zoomIn",null),this.zoomOut=g(s,"zoomOut",null),this.zoomSpeed=g(s,"zoomSpeed",.01),this.minZoom=g(s,"minZoom",.001),this.maxZoom=g(s,"maxZoom",1e3),this.speedX=0,this.speedY=0;var i=g(s,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=g(s,"speed.x",0),this.speedY=g(s,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var s=this.camera;this.up&&this.up.isDown?s.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(s.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?s.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(s.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(s.zoom-=this.zoomSpeed,s.zoom<this.minZoom&&(s.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(s.zoom+=this.zoomSpeed,s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=h},69370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(10850),h=new l({initialize:function(s){this.camera=g(s,"camera",null),this.left=g(s,"left",null),this.right=g(s,"right",null),this.up=g(s,"up",null),this.down=g(s,"down",null),this.zoomIn=g(s,"zoomIn",null),this.zoomOut=g(s,"zoomOut",null),this.zoomSpeed=g(s,"zoomSpeed",.01),this.minZoom=g(s,"minZoom",.001),this.maxZoom=g(s,"maxZoom",1e3),this.accelX=0,this.accelY=0;var i=g(s,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=g(s,"acceleration.x",0),this.accelY=g(s,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=g(s,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=g(s,"drag.x",0),this.dragY=g(s,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var u=g(s,"maxSpeed",null);typeof u=="number"?(this.maxSpeedX=u,this.maxSpeedY=u):(this.maxSpeedX=g(s,"maxSpeed.x",0),this.maxSpeedY=g(s,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var s=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(s.scrollX-=this._speedX*a|0),this._speedY!==0&&(s.scrollY-=this._speedY*a|0),this._zoom!==0&&(s.zoom+=this._zoom,s.zoom<this.minZoom?s.zoom=this.minZoom:s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=h},6524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FixedKeyControl:t(84219),SmoothedKeyControl:t(69370)}},44143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Controls:t(6524),Scene2D:t(32356)}},86459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={VERSION:"3.60.0",BlendModes:t(95723),ScaleModes:t(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};p.exports=l},14033:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(86459),h=t(18360),a=t(77290),s=t(72632),i=t(10850),r=t(42911),u=t(72283),n=t(5923),o=t(65641),f=t(93222),d=new l({initialize:function(m){m===void 0&&(m={});var T=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],E="#ffffff",y=i(m,"scale",null);this.width=i(y,"width",1024,m),this.height=i(y,"height",768,m),this.zoom=i(y,"zoom",1,m),this.parent=i(y,"parent",void 0,m),this.scaleMode=i(y,y?"mode":"scaleMode",0,m),this.expandParent=i(y,"expandParent",!0,m),this.autoRound=i(y,"autoRound",!1,m),this.autoCenter=i(y,"autoCenter",0,m),this.resizeInterval=i(y,"resizeInterval",500,m),this.fullscreenTarget=i(y,"fullscreenTarget",null,m),this.minWidth=i(y,"minWidth",0,m),this.maxWidth=i(y,"maxWidth",0,m),this.minHeight=i(y,"minHeight",0,m),this.maxHeight=i(y,"maxHeight",0,m),this.renderType=i(m,"type",g.AUTO),this.canvas=i(m,"canvas",null),this.context=i(m,"context",null),this.canvasStyle=i(m,"canvasStyle",null),this.customEnvironment=i(m,"customEnvironment",!1),this.sceneConfig=i(m,"scene",null),this.seed=i(m,"seed",[(Date.now()*Math.random()).toString()]),n.RND=new n.RandomDataGenerator(this.seed),this.gameTitle=i(m,"title",""),this.gameURL=i(m,"url","https://phaser.io"),this.gameVersion=i(m,"version",""),this.autoFocus=i(m,"autoFocus",!0),this.stableSort=i(m,"stableSort",-1),this.stableSort===-1&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=i(m,"dom.createContainer",!1),this.domPointerEvents=i(m,"dom.pointerEvents","none"),this.inputKeyboard=i(m,"input.keyboard",!0),this.inputKeyboardEventTarget=i(m,"input.keyboard.target",window),this.inputKeyboardCapture=i(m,"input.keyboard.capture",[]),this.inputMouse=i(m,"input.mouse",!0),this.inputMouseEventTarget=i(m,"input.mouse.target",null),this.inputMousePreventDefaultDown=i(m,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=i(m,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=i(m,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=i(m,"input.mouse.preventDefaultWheel",!0),this.inputTouch=i(m,"input.touch",a.input.touch),this.inputTouchEventTarget=i(m,"input.touch.target",null),this.inputTouchCapture=i(m,"input.touch.capture",!0),this.inputActivePointers=i(m,"input.activePointers",1),this.inputSmoothFactor=i(m,"input.smoothFactor",0),this.inputWindowEvents=i(m,"input.windowEvents",!0),this.inputGamepad=i(m,"input.gamepad",!1),this.inputGamepadEventTarget=i(m,"input.gamepad.target",window),this.disableContextMenu=i(m,"disableContextMenu",!1),this.audio=i(m,"audio",{}),this.hideBanner=i(m,"banner",null)===!1,this.hidePhaser=i(m,"banner.hidePhaser",!1),this.bannerTextColor=i(m,"banner.text",E),this.bannerBackgroundColor=i(m,"banner.background",T),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=i(m,"fps",null);var C=i(m,"render",null);this.pipeline=i(C,"pipeline",null,m),this.autoMobilePipeline=i(C,"autoMobilePipeline",!0,m),this.defaultPipeline=i(C,"defaultPipeline",o.MULTI_PIPELINE,m),this.antialias=i(C,"antialias",!0,m),this.antialiasGL=i(C,"antialiasGL",!0,m),this.mipmapFilter=i(C,"mipmapFilter","",m),this.desynchronized=i(C,"desynchronized",!1,m),this.roundPixels=i(C,"roundPixels",!1,m),this.pixelArt=i(C,"pixelArt",this.zoom!==1,m),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=i(C,"transparent",!1,m),this.clearBeforeRender=i(C,"clearBeforeRender",!0,m),this.preserveDrawingBuffer=i(C,"preserveDrawingBuffer",!1,m),this.premultipliedAlpha=i(C,"premultipliedAlpha",!0,m),this.failIfMajorPerformanceCaveat=i(C,"failIfMajorPerformanceCaveat",!1,m),this.powerPreference=i(C,"powerPreference","default",m),this.batchSize=i(C,"batchSize",4096,m),this.maxTextures=i(C,"maxTextures",-1,m),this.maxLights=i(C,"maxLights",10,m);var A=i(m,"backgroundColor",0);this.backgroundColor=f(A),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=i(m,"callbacks.preBoot",u),this.postBoot=i(m,"callbacks.postBoot",u),this.physics=i(m,"physics",{}),this.defaultPhysicsSystem=i(this.physics,"default",!1),this.loaderBaseURL=i(m,"loader.baseURL",""),this.loaderPath=i(m,"loader.path",""),this.loaderMaxParallelDownloads=i(m,"loader.maxParallelDownloads",a.os.android?6:32),this.loaderCrossOrigin=i(m,"loader.crossOrigin",void 0),this.loaderResponseType=i(m,"loader.responseType",""),this.loaderAsync=i(m,"loader.async",!0),this.loaderUser=i(m,"loader.user",""),this.loaderPassword=i(m,"loader.password",""),this.loaderTimeout=i(m,"loader.timeout",0),this.loaderWithCredentials=i(m,"loader.withCredentials",!1),this.loaderImageLoadType=i(m,"loader.imageLoadType","XHR"),this.loaderLocalScheme=i(m,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=i(m,"fx.glow.quality",.1),this.glowFXDistance=i(m,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var M=i(m,"plugins",null),R=h.DefaultScene;M&&(Array.isArray(M)?this.defaultPlugins=M:r(M)&&(this.installGlobalPlugins=s(M,"global",[]),this.installScenePlugins=s(M,"scene",[]),Array.isArray(M.default)?R=M.default:Array.isArray(M.defaultMerge)&&(R=R.concat(M.defaultMerge)))),this.defaultPlugins=R;var O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=i(m,"images.default",O+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=i(m,"images.missing",O+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=i(m,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=g.WEBGL:window.FORCE_CANVAS&&(this.renderType=g.CANVAS))}});p.exports=d},50150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70616),g=t(61068),h=t(86459),a=t(90185),s=function(i){var r=i.config;if((r.customEnvironment||r.canvas)&&r.renderType===h.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!r.customEnvironment&&!r.canvas&&r.renderType!==h.HEADLESS)if(r.renderType===h.AUTO&&(r.renderType=a.webGL?h.WEBGL:h.CANVAS),r.renderType===h.WEBGL){if(!a.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(r.renderType===h.CANVAS){if(!a.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+r.renderType);r.antialias||g.disableSmoothing();var u=i.scale.baseSize,n=u.width,o=u.height;if(r.canvas?(i.canvas=r.canvas,i.canvas.width=n,i.canvas.height=o):i.canvas=g.create(i,n,o,r.renderType),r.canvasStyle&&(i.canvas.style=r.canvasStyle),r.antialias||l.setCrisp(i.canvas),r.renderType!==h.HEADLESS){var f,d;f=t(91135),d=t(11857),r.renderType===h.WEBGL?i.renderer=new d(i):(i.renderer=new f(i),i.context=i.renderer.gameContext)}};p.exports=s},77291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86459),g=function(h){var a=h.config;if(!a.hideBanner){var s="WebGL";a.renderType===l.CANVAS?s="Canvas":a.renderType===l.HEADLESS&&(s="Headless");var i=a.audio,r=h.device.audio,u;if(r.webAudio&&!i.disableWebAudio?u="Web Audio":i.noAudio||!r.webAudio&&!r.audioData?u="No Audio":u="HTML5 Audio",h.device.browser.ie)window.console&&console.log("Phaser v"+l.VERSION+" / https://phaser.io");else{var n="",o=[n];if(Array.isArray(a.bannerBackgroundColor)){var f;a.bannerBackgroundColor.forEach(function(v){n=n.concat("%c "),o.push("background: "+v),f=v}),o[o.length-1]="color: "+a.bannerTextColor+"; background: "+f}else n=n.concat("%c "),o.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);o.push("background: transparent"),a.gameTitle&&(n=n.concat(a.gameTitle),a.gameVersion&&(n=n.concat(" v"+a.gameVersion)),a.hidePhaser||(n=n.concat(" / ")));var d="";a.hidePhaser||(n=n.concat("Phaser v"+l.VERSION+d+" ("+s+" | "+u+")")),n=n.concat(" %c "+a.gameURL),o[0]=n,console.log.apply(console,o)}}};p.exports=g},15213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99584),g=t(90249),h=t(43474),a=t(61068),s=t(56694),i=t(14033),r=t(85178),u=t(50150),n=t(81078),o=t(77291),f=t(77290),d=t(21546),v=t(6659),m=t(97081),T=t(69898),E=t(91963),y=t(49274),C=t(756),A=t(13553),M=t(38203),R=t(6237),O=t(26617),L=t(26493),I=t(84191),N=new s({initialize:function(b){this.config=new i(b),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new g(this),this.textures=new R(this),this.cache=new h(this),this.registry=new n(this,new v),this.input=new T(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=f,this.scale=new C(this,this.config),this.sound=null,this.sound=I.create(this),this.loop=new O(this,this.config.fps),this.plugins=new y(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){if(!E.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),u(this),r(this),o(this),l(this.canvas,this.config.parent),this.textures.once(M.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),L(this);var B=this.events;B.on(m.HIDDEN,this.onHidden,this),B.on(m.VISIBLE,this.onVisible,this),B.on(m.BLUR,this.onBlur,this),B.on(m.FOCUS,this.onFocus,this)},step:function(B,b){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(m.PRE_STEP,B,b),X.emit(m.STEP,B,b),this.scene.update(B,b),X.emit(m.POST_STEP,B,b);var W=this.renderer;W.preRender(),X.emit(m.PRE_RENDER,W,B,b),this.scene.render(W),W.postRender(),X.emit(m.POST_RENDER,W,B,b)}},headlessStep:function(B,b){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(m.PRE_STEP,B,b),X.emit(m.STEP,B,b),this.scene.update(B,b),X.emit(m.POST_STEP,B,b),this.scene.isProcessing=!1,X.emit(m.PRE_RENDER,null,B,b),X.emit(m.POST_RENDER,null,B,b)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME)},resume:function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(m.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,b){b===void 0&&(b=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=b},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});p.exports=N},26617:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(10850),h=t(72283),a=t(27385),s=new l({initialize:function(r,u){this.game=r,this.raf=new a,this.started=!1,this.running=!1,this.minFps=g(u,"min",5),this.targetFps=g(u,"target",60),this.fpsLimit=g(u,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=h,this.forceSetTimeOut=g(u,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=g(u,"deltaHistory",10),this.panicMax=g(u,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=g(u,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var i=window.performance.now();this.time=i,this.lastTime=i,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=Math.min(this._target,this.deltaHistory[r]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(i){if(this.started)return this;this.started=!0,this.running=!0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=i;var u=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(u,this.forceSetTimeOut,this._target)},smoothDelta:function(i){var r=this.deltaIndex,u=this.deltaHistory,n=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,i=Math.min(i,this._target)),i>this._min&&(i=u[r],i=Math.min(i,this._min)),u[r]=i,this.deltaIndex++,this.deltaIndex>=n&&(this.deltaIndex=0);for(var o=0,f=0;f<n;f++)o+=u[f];return o/=n,o},updateFPS:function(i){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0},stepLimitFPS:function(i){this.now=i;var r=Math.max(0,i-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta+=r,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(i,this.delta),this.delta=0),this.lastTime=i,this.frame++},step:function(i){this.now=i;var r=Math.max(0,i-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta=r,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.callback(i,r),this.lastTime=i,this.frame++},tick:function(){var i=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(i):this.step(i)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(i){i===void 0&&(i=!1);var r=window.performance.now();if(!this.running){i&&(this.startTime+=-this.lastTime+(this.lastTime+r));var u=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(u,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});p.exports=s},26493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97081),g=function(h){var a,s=h.events;if(document.hidden!==void 0)a="visibilitychange";else{var i=["webkit","moz","ms"];i.forEach(function(u){document[u+"Hidden"]!==void 0&&(document.hidden=function(){return document[u+"Hidden"]},a=u+"visibilitychange")})}var r=function(u){document.hidden||u.type==="pause"?s.emit(l.HIDDEN):s.emit(l.VISIBLE)};a&&document.addEventListener(a,r,!1),window.onblur=function(){s.emit(l.BLUR)},window.onfocus=function(){s.emit(l.FOCUS)},window.focus&&h.config.autoFocus&&window.focus()};p.exports=g},41651:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="blur"},5520:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},51673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextlost"},25055:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},23767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="focus"},57564:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="hidden"},38327:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},43807:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},73652:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="poststep"},780:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},13781:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prestep"},38247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},29129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},34994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="step"},98704:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="visible"},97081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BLUR:t(41651),BOOT:t(5520),CONTEXT_LOST:t(51673),DESTROY:t(25055),FOCUS:t(23767),HIDDEN:t(57564),PAUSE:t(38327),POST_RENDER:t(43807),POST_STEP:t(73652),PRE_RENDER:t(780),PRE_STEP:t(13781),READY:t(38247),RESUME:t(29129),STEP:t(34994),VISIBLE:t(98704)}},80293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Config:t(14033),CreateRenderer:t(50150),DebugHeader:t(77291),Events:t(97081),TimeStep:t(26617),VisibilityHandler:t(26493)}},52780:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81543),g=t(61068),h=t(10850),a=function(s){var i=h(s,"data",[]),r=h(s,"canvas",null),u=h(s,"palette",l),n=h(s,"pixelWidth",1),o=h(s,"pixelHeight",n),f=h(s,"resizeCanvas",!0),d=h(s,"clearCanvas",!0),v=h(s,"preRender",null),m=h(s,"postRender",null),T=Math.floor(Math.abs(i[0].length*n)),E=Math.floor(Math.abs(i.length*o));r||(r=g.create2D(this,T,E),f=!1,d=!1),f&&(r.width=T,r.height=E);var y=r.getContext("2d",{willReadFrequently:!0});d&&y.clearRect(0,0,T,E),v&&v(r,y);for(var C=0;C<i.length;C++)for(var A=i[C],M=0;M<A.length;M++){var R=A[M];R!=="."&&R!==" "&&(y.fillStyle=u[R],y.fillRect(M*n,C*o,n,o))}return m&&m(r,y),r};p.exports=a},84106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GenerateTexture:t(52780),Palettes:t(25235)}},81543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARNE16:t(81543),C64:t(75846),CGA:t(83206),JMP:t(13194),MSX:t(50686)}},63120:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(34631),h=t(38517),a=t(93736),s=new l({Extends:h,initialize:function(r,u,n,o){h.call(this,"CubicBezierCurve"),Array.isArray(r)&&(o=new a(r[6],r[7]),n=new a(r[4],r[5]),u=new a(r[2],r[3]),r=new a(r[0],r[1])),this.p0=r,this.p1=u,this.p2=n,this.p3=o},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,r){r===void 0&&(r=new a);var u=this.p0,n=this.p1,o=this.p2,f=this.p3;return r.set(g(i,u.x,n.x,o.x,f.x),g(i,u.y,n.y,o.y,f.y))},draw:function(i,r){r===void 0&&(r=32);var u=this.getPoints(r);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var n=1;n<u.length;n++)i.lineTo(u[n].x,u[n].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});s.fromJSON=function(i){var r=i.points,u=new a(r[0],r[1]),n=new a(r[2],r[3]),o=new a(r[4],r[5]),f=new a(r[6],r[7]);return new s(u,n,o,f)},p.exports=s},38517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(80222),h=t(74118),a=t(93736),s=new l({initialize:function(r){this.type=r,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(i,r){return r===void 0&&(r=32),i.strokePoints(this.getPoints(r))},getBounds:function(i,r){i||(i=new h),r===void 0&&(r=16);var u=this.getLength();r>u&&(r=u/2);var n=Math.max(1,Math.round(u/r));return g(this.getSpacedPoints(n),i)},getDistancePoints:function(i){var r=this.getLength(),u=Math.max(1,r/i);return this.getSpacedPoints(u)},getEndPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(1,i)},getLength:function(){var i=this.getLengths();return i[i.length-1]},getLengths:function(i){if(i===void 0&&(i=this.arcLengthDivisions),this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],u,n=this.getPoint(0,this._tmpVec2A),o=0;r.push(0);for(var f=1;f<=i;f++)u=this.getPoint(f/i,this._tmpVec2B),o+=u.distance(n),r.push(o),n.copy(u);return this.cacheArcLengths=r,r},getPointAt:function(i,r){var u=this.getUtoTmapping(i);return this.getPoint(u,r)},getPoints:function(i,r,u){u===void 0&&(u=[]),i||(r?i=this.getLength()/r:i=this.defaultDivisions);for(var n=0;n<=i;n++)u.push(this.getPoint(n/i));return u},getRandomPoint:function(i){return i===void 0&&(i=new a),this.getPoint(Math.random(),i)},getSpacedPoints:function(i,r,u){u===void 0&&(u=[]),i||(r?i=this.getLength()/r:i=this.defaultDivisions);for(var n=0;n<=i;n++){var o=this.getUtoTmapping(n/i,null,i);u.push(this.getPoint(o))}return u},getStartPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(0,i)},getTangent:function(i,r){r===void 0&&(r=new a);var u=1e-4,n=i-u,o=i+u;return n<0&&(n=0),o>1&&(o=1),this.getPoint(n,this._tmpVec2A),this.getPoint(o,r),r.subtract(this._tmpVec2A).normalize()},getTangentAt:function(i,r){var u=this.getUtoTmapping(i);return this.getTangent(u,r)},getTFromDistance:function(i,r){return i<=0?0:this.getUtoTmapping(0,i,r)},getUtoTmapping:function(i,r,u){var n=this.getLengths(u),o=0,f=n.length,d;r?d=Math.min(r,n[f-1]):d=i*n[f-1];for(var v=0,m=f-1,T;v<=m;)if(o=Math.floor(v+(m-v)/2),T=n[o]-d,T<0)v=o+1;else if(T>0)m=o-1;else{m=o;break}if(o=m,n[o]===d)return o/(f-1);var E=n[o],y=n[o+1],C=y-E,A=(d-E)/C;return(o+A)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});p.exports=s},48835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(38517),h=t(75606),a=t(10850),s=t(23701),i=t(93736),r=new l({Extends:g,initialize:function(n,o,f,d,v,m,T,E){if(typeof n=="object"){var y=n;n=a(y,"x",0),o=a(y,"y",0),f=a(y,"xRadius",0),d=a(y,"yRadius",f),v=a(y,"startAngle",0),m=a(y,"endAngle",360),T=a(y,"clockwise",!1),E=a(y,"rotation",0)}else d===void 0&&(d=f),v===void 0&&(v=0),m===void 0&&(m=360),T===void 0&&(T=!1),E===void 0&&(E=0);g.call(this,"EllipseCurve"),this.p0=new i(n,o),this._xRadius=f,this._yRadius=d,this._startAngle=h(v),this._endAngle=h(m),this._clockwise=T,this._rotation=h(E)},getStartPoint:function(u){return u===void 0&&(u=new i),this.getPoint(0,u)},getResolution:function(u){return u*2},getPoint:function(u,n){n===void 0&&(n=new i);for(var o=Math.PI*2,f=this._endAngle-this._startAngle,d=Math.abs(f)<Number.EPSILON;f<0;)f+=o;for(;f>o;)f-=o;f<Number.EPSILON&&(d?f=0:f=o),this._clockwise&&!d&&(f===o?f=-o:f=f-o);var v=this._startAngle+u*f,m=this.p0.x+this._xRadius*Math.cos(v),T=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var E=Math.cos(this._rotation),y=Math.sin(this._rotation),C=m-this.p0.x,A=T-this.p0.y;m=C*E-A*y+this.p0.x,T=C*y+A*E+this.p0.y}return n.set(m,T)},setXRadius:function(u){return this.xRadius=u,this},setYRadius:function(u){return this.yRadius=u,this},setWidth:function(u){return this.xRadius=u/2,this},setHeight:function(u){return this.yRadius=u/2,this},setStartAngle:function(u){return this.startAngle=u,this},setEndAngle:function(u){return this.endAngle=u,this},setClockwise:function(u){return this.clockwise=u,this},setRotation:function(u){return this.rotation=u,this},x:{get:function(){return this.p0.x},set:function(u){this.p0.x=u}},y:{get:function(){return this.p0.y},set:function(u){this.p0.y=u}},xRadius:{get:function(){return this._xRadius},set:function(u){this._xRadius=u}},yRadius:{get:function(){return this._yRadius},set:function(u){this._yRadius=u}},startAngle:{get:function(){return s(this._startAngle)},set:function(u){this._startAngle=h(u)}},endAngle:{get:function(){return s(this._endAngle)},set:function(u){this._endAngle=h(u)}},clockwise:{get:function(){return this._clockwise},set:function(u){this._clockwise=u}},angle:{get:function(){return s(this._rotation)},set:function(u){this._rotation=h(u)}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:s(this._startAngle),endAngle:s(this._endAngle),clockwise:this._clockwise,rotation:s(this._rotation)}}});r.fromJSON=function(u){return new r(u)},p.exports=r},58084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(38517),h=t(80222),a=t(74118),s=t(93736),i=new l({Extends:g,initialize:function(u,n){g.call(this,"LineCurve"),Array.isArray(u)&&(n=new s(u[2],u[3]),u=new s(u[0],u[1])),this.p0=u,this.p1=n,this.arcLengthDivisions=1},getBounds:function(r){return r===void 0&&(r=new a),h([this.p0,this.p1],r)},getStartPoint:function(r){return r===void 0&&(r=new s),r.copy(this.p0)},getResolution:function(r){return r===void 0&&(r=1),r},getPoint:function(r,u){return u===void 0&&(u=new s),r===1?u.copy(this.p1):(u.copy(this.p1).subtract(this.p0).scale(r).add(this.p0),u)},getPointAt:function(r,u){return this.getPoint(r,u)},getTangent:function(r,u){return u===void 0&&(u=new s),u.copy(this.p1).subtract(this.p0).normalize(),u},getUtoTmapping:function(r,u,n){var o;if(u){var f=this.getLengths(n),d=f[f.length-1],v=Math.min(u,d);o=v/d}else o=r;return o},draw:function(r){return r.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});i.fromJSON=function(r){var u=r.points,n=new s(u[0],u[1]),o=new s(u[2],u[3]);return new i(n,o)},p.exports=i},64761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(38517),h=t(16252),a=t(93736),s=new l({Extends:g,initialize:function(r,u,n){g.call(this,"QuadraticBezierCurve"),Array.isArray(r)&&(n=new a(r[4],r[5]),u=new a(r[2],r[3]),r=new a(r[0],r[1])),this.p0=r,this.p1=u,this.p2=n},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,r){r===void 0&&(r=new a);var u=this.p0,n=this.p1,o=this.p2;return r.set(h(i,u.x,n.x,o.x),h(i,u.y,n.y,o.y))},draw:function(i,r){r===void 0&&(r=32);var u=this.getPoints(r);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var n=1;n<u.length;n++)i.lineTo(u[n].x,u[n].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});s.fromJSON=function(i){var r=i.points,u=new a(r[0],r[1]),n=new a(r[2],r[3]),o=new a(r[4],r[5]);return new s(u,n,o)},p.exports=s},11956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14976),g=t(56694),h=t(38517),a=t(93736),s=new g({Extends:h,initialize:function(r){r===void 0&&(r=[]),h.call(this,"SplineCurve"),this.points=[],this.addPoints(r)},addPoints:function(i){for(var r=0;r<i.length;r++){var u=new a;typeof i[r]=="number"?(u.x=i[r],u.y=i[r+1],r++):Array.isArray(i[r])?(u.x=i[r][0],u.y=i[r][1]):(u.x=i[r].x,u.y=i[r].y),this.points.push(u)}return this},addPoint:function(i,r){var u=new a(i,r);return this.points.push(u),u},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.points[0])},getResolution:function(i){return i*this.points.length},getPoint:function(i,r){r===void 0&&(r=new a);var u=this.points,n=(u.length-1)*i,o=Math.floor(n),f=n-o,d=u[o===0?o:o-1],v=u[o],m=u[o>u.length-2?u.length-1:o+1],T=u[o>u.length-3?u.length-1:o+2];return r.set(l(f,d.x,v.x,m.x,T.x),l(f,d.y,v.y,m.y,T.y))},toJSON:function(){for(var i=[],r=0;r<this.points.length;r++)i.push(this.points[r].x),i.push(this.points[r].y);return{type:this.type,points:i}}});s.fromJSON=function(i){return new s(i.points)},p.exports=s},73962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Path:t(12822),MoveTo:t(53639),CubicBezier:t(63120),Curve:t(38517),Ellipse:t(48835),Line:t(58084),QuadraticBezier:t(64761),Spline:t(11956)}},53639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(93736),h=new l({initialize:function(s,i){this.active=!1,this.p0=new g(s,i)},getPoint:function(a,s){return s===void 0&&(s=new g),s.copy(this.p0)},getPointAt:function(a,s){return this.getPoint(a,s)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});p.exports=h},12822:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(63120),h=t(48835),a=t(61286),s=t(58084),i=t(53639),r=t(64761),u=t(74118),n=t(11956),o=t(93736),f=t(83392),d=new l({initialize:function(m,T){m===void 0&&(m=0),T===void 0&&(T=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new o,this._tmpVec2A=new o,this._tmpVec2B=new o,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,T)},add:function(v){return this.curves.push(v),this},circleTo:function(v,m,T){return m===void 0&&(m=!1),this.ellipseTo(v,v,0,360,m,T)},closePath:function(){var v=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return v.equals(m)||this.curves.push(new s(m,v)),this},cubicBezierTo:function(v,m,T,E,y,C){var A=this.getEndPoint(),M,R,O;return v instanceof o?(M=v,R=m,O=T):(M=new o(T,E),R=new o(y,C),O=new o(v,m)),this.add(new g(A,M,R,O))},quadraticBezierTo:function(v,m,T,E){var y=this.getEndPoint(),C,A;return v instanceof o?(C=v,A=m):(C=new o(T,E),A=new o(v,m)),this.add(new r(y,C,A))},draw:function(v,m){for(var T=0;T<this.curves.length;T++){var E=this.curves[T];E.active&&E.draw(v,m)}return v},ellipseTo:function(v,m,T,E,y,C){var A=new h(0,0,v,m,T,E,y,C),M=this.getEndPoint(this._tmpVec2A),R=A.getStartPoint(this._tmpVec2B);return M.subtract(R),A.x=M.x,A.y=M.y,this.add(A)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var m=0;m<v.curves.length;m++){var T=v.curves[m];switch(T.type){case"LineCurve":this.add(s.fromJSON(T));break;case"EllipseCurve":this.add(h.fromJSON(T));break;case"SplineCurve":this.add(n.fromJSON(T));break;case"CubicBezierCurve":this.add(g.fromJSON(T));break;case"QuadraticBezierCurve":this.add(r.fromJSON(T));break}}return this},getBounds:function(v,m){v===void 0&&(v=new u),m===void 0&&(m=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var T=new u,E=f.MIN_SAFE_INTEGER,y=f.MIN_SAFE_INTEGER,C=0;C<this.curves.length;C++){var A=this.curves[C];A.active&&(A.getBounds(T,m),v.x=Math.min(v.x,T.x),v.y=Math.min(v.y,T.y),E=Math.max(E,T.right),y=Math.max(y,T.bottom))}return v.right=E,v.bottom=y,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],m=0,T=0;T<this.curves.length;T++)m+=this.curves[T].getLength(),v.push(m);return this.cacheLengths=v,v},getCurveAt:function(v){for(var m=v*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=m)return this.curves[E];E++}return null},getEndPoint:function(v){return v===void 0&&(v=new o),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,m){m===void 0&&(m=new o);for(var T=v*this.getLength(),E=this.getCurveLengths(),y=0;y<E.length;){if(E[y]>=T){var C=E[y]-T,A=this.curves[y],M=A.getLength(),R=M===0?0:1-C/M;return A.getPointAt(R,m)}y++}return null},getPoints:function(v){v===void 0&&(v=12);for(var m=[],T,E=0;E<this.curves.length;E++){var y=this.curves[E];if(y.active)for(var C=y.getResolution(v),A=y.getPoints(C),M=0;M<A.length;M++){var R=A[M];T&&T.equals(R)||(m.push(R),T=R)}}return this.autoClose&&m.length>1&&!m[m.length-1].equals(m[0])&&m.push(m[0]),m},getRandomPoint:function(v){return v===void 0&&(v=new o),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var m=[],T=0;T<=v;T++)m.push(this.getPoint(T/v));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(v){return v===void 0&&(v=new o),v.copy(this.startPoint)},getTangent:function(v,m){m===void 0&&(m=new o);for(var T=v*this.getLength(),E=this.getCurveLengths(),y=0;y<E.length;){if(E[y]>=T){var C=E[y]-T,A=this.curves[y],M=A.getLength(),R=M===0?0:1-C/M;return A.getTangentAt(R,m)}y++}return null},lineTo:function(v,m){v instanceof o?this._tmpVec2B.copy(v):this._tmpVec2B.set(v,m);var T=this.getEndPoint(this._tmpVec2A);return this.add(new s([T.x,T.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new n(v))},moveTo:function(v,m){return v instanceof o?this.add(new i(v.x,v.y)):this.add(new i(v,m))},toJSON:function(){for(var v=[],m=0;m<this.curves.length;m++)v.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(v,m){return new d(v,m)}),p.exports=d},81078:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(35026),h=new l({initialize:function(s,i){this.parent=s,this.events=i,i||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(g.DESTROY,this.destroy,this)},get:function(a){var s=this.list;if(Array.isArray(a)){for(var i=[],r=0;r<a.length;r++)i.push(s[a[r]]);return i}else return s[a]},getAll:function(){var a={};for(var s in this.list)this.list.hasOwnProperty(s)&&(a[s]=this.list[s]);return a},query:function(a){var s={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(a)&&(s[i]=this.list[i]);return s},set:function(a,s){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,s);for(var i in a)this.setValue(i,a[i]);return this},inc:function(a,s){if(this._frozen)return this;s===void 0&&(s=1);var i=this.get(a);return i===void 0&&(i=0),this.set(a,i+s),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,s){if(this._frozen)return this;if(this.has(a))this.values[a]=s;else{var i=this,r=this.list,u=this.events,n=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return r[a]},set:function(o){if(!i._frozen){var f=r[a];r[a]=o,u.emit(g.CHANGE_DATA,n,a,o,f),u.emit(g.CHANGE_DATA_KEY+a,n,o,f)}}}),r[a]=s,u.emit(g.SET_DATA,n,a,s)}return this},each:function(a,s){for(var i=[this.parent,null,void 0],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var u in this.list)i[1]=u,i[2]=this.list[u],a.apply(s,i);return this},merge:function(a,s){s===void 0&&(s=!0);for(var i in a)a.hasOwnProperty(i)&&(s||!s&&!this.has(i))&&this.setValue(i,a[i]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var s=0;s<a.length;s++)this.removeValue(a[s]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var s=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(g.REMOVE_DATA,this.parent,a,s)}return this},pop:function(a){var s=void 0;return!this._frozen&&this.has(a)&&(s=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(g.REMOVE_DATA,this.parent,a,s)),s},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(g.CHANGE_DATA),this.events.off(g.SET_DATA),this.events.off(g.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var s in this.list)this.list[s]!==void 0&&a++;return a}}});p.exports=h},76508:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(81078),h=t(91963),a=t(7599),s=new l({Extends:g,initialize:function(r){g.call(this,r,r.sys.events),this.scene=r,this.systems=r.sys,r.sys.events.once(a.BOOT,this.boot,this),r.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){g.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});h.register("DataManagerPlugin",s,"data"),p.exports=s},73569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata"},15590:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata-"},37669:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},87090:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedata"},90142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="setdata"},35026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CHANGE_DATA:t(73569),CHANGE_DATA_KEY:t(15590),DESTROY:t(37669),REMOVE_DATA:t(87090),SET_DATA:t(90142)}},1999:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DataManager:t(81078),DataManagerPlugin:t(76508),Events:t(35026)}},10720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1350),g={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function h(){if(typeof importScripts=="function")return g;g.audioData=!!window.Audio,g.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),s=!!a.canPlayType;try{if(s){var i=function(n,o){var f=a.canPlayType("audio/"+n).replace(/^no$/,"");return o?!!(f||a.canPlayType("audio/"+o).replace(/^no$/,"")):!!f};if(g.ogg=i('ogg; codecs="vorbis"'),g.opus=i('ogg; codecs="opus"',"opus"),g.mp3=i("mpeg"),g.wav=i("wav"),g.m4a=i("x-m4a"),g.aac=i("aac"),g.flac=i("flac","x-flac"),g.webm=i('webm; codecs="vorbis"'),a.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(l.edge)g.dolby=!0;else if(l.safari&&l.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var r=parseInt(RegExp.$1,10),u=parseInt(RegExp.$2,10);(r===10&&u>=11||r>10)&&(g.dolby=!0)}}}}catch{}return g}p.exports=h()},1350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36580),g={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function h(){var a=navigator.userAgent;return/Edg\/\d+/.test(a)?(g.edge=!0,g.es2019=!0):/OPR/.test(a)?(g.opera=!0,g.es2019=!0):/Chrome\/(\d+)/.test(a)&&!l.windowsPhone?(g.chrome=!0,g.chromeVersion=parseInt(RegExp.$1,10),g.es2019=g.chromeVersion>69):/Firefox\D+(\d+)/.test(a)?(g.firefox=!0,g.firefoxVersion=parseInt(RegExp.$1,10),g.es2019=g.firefoxVersion>10):/AppleWebKit/.test(a)&&l.iOS?g.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(a)?(g.ie=!0,g.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(a)&&!l.windowsPhone?(g.safari=!0,g.safariVersion=parseInt(RegExp.$1,10),g.es2019=g.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(g.ie=!0,g.trident=!0,g.tridentVersion=parseInt(RegExp.$1,10),g.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(g.silk=!0),g}p.exports=h()},98581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),g={supportInverseAlpha:!1,supportNewBlendModes:!1};function h(){var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",u=new Image;return u.onload=function(){var n=new Image;n.onload=function(){var o=l.create2D(n,6),f=o.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(u,0,0),f.drawImage(n,2,0),!f.getImageData(2,0,1,1))return!1;var d=f.getImageData(2,0,1,1).data;l.remove(n),g.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},n.src=i+"/wCKxvRF"+r},u.src=i+"AP804Oa6"+r,!1}function a(){var i=l.create2D(this,2),r=i.getContext("2d",{willReadFrequently:!0});r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var u=r.getImageData(0,0,1,1);if(u===null)return!1;r.putImageData(u,1,0);var n=r.getImageData(1,0,1,1),o=n.data[0]===u.data[0]&&n.data[1]===u.data[1]&&n.data[2]===u.data[2]&&n.data[3]===u.data[3];return l.remove(this),o}function s(){return typeof importScripts!="function"&&document!==void 0&&(g.supportNewBlendModes=h(),g.supportInverseAlpha=a()),g}p.exports=s()},90185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36580),g=t(1350),h=t(61068),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function s(){var r=new ArrayBuffer(4),u=new Uint8Array(r),n=new Uint32Array(r);return u[0]=161,u[1]=178,u[2]=195,u[3]=212,n[0]===3569595041?!0:n[0]===2712847316?!1:null}function i(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var r=!1,u=function(){if(window.WebGLRenderingContext)try{var n=h.createWebGL(this),o=n.getContext("webgl")||n.getContext("experimental-webgl"),f=h.create2D(this),d=f.getContext("2d",{willReadFrequently:!0}),v=d.createImageData(1,1);return r=v.data instanceof Uint8ClampedArray,h.remove(n),h.remove(f),!!o}catch{return!1}return!1};return a.webGL=u(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,g.firefox&&g.firefoxVersion<21&&(a.getUserMedia=!1),!l.iOS&&(g.ie||g.firefox||g.chrome)&&(a.canvasBitBltShift=!0),(g.safari||g.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=s()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&r,a}p.exports=i()},33553:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var l,g="Fullscreen",h="FullScreen",a=["request"+g,"request"+h,"webkitRequest"+g,"webkitRequest"+h,"msRequest"+g,"msRequest"+h,"mozRequest"+h,"mozRequest"+g];for(l=0;l<a.length;l++)if(document.documentElement[a[l]]){S.available=!0,S.request=a[l];break}var s=["cancel"+h,"exit"+g,"webkitCancel"+h,"webkitExit"+g,"msCancel"+h,"msExit"+g,"mozCancel"+h,"mozExit"+g];if(S.available){for(l=0;l<s.length;l++)if(document[s[l]]){S.cancel=s[l];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}p.exports=t()},95872:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1350),g={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function h(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(g.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(g.mspointer=!0),navigator.getGamepads&&(g.gamepads=!0),"onwheel"in window||l.ie&&"WheelEvent"in window?g.wheelEvent="wheel":"onmousewheel"in window?g.wheelEvent="mousewheel":l.firefox&&"MouseScrollEvent"in window&&(g.wheelEvent="DOMMouseScroll")),g}p.exports=h()},36580:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var l=navigator.userAgent;/Windows/.test(l)?S.windows=!0:/Mac OS/.test(l)&&!/like Mac OS/.test(l)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(l)?S.android=!0:/Linux/.test(l)?S.linux=!0:/iP[ao]d|iPhone/i.test(l)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=l.toLowerCase().indexOf("iphone")!==-1,S.iPad=l.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(l)||/\bKF[A-Z][A-Z]+/.test(l)||/Silk.*Mobile Safari/.test(l)?S.kindle=!0:/CrOS/.test(l)&&(S.chromeOS=!0),(/Windows Phone/i.test(l)||/IEMobile/i.test(l))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var g=/Silk/.test(l);return(S.windows||S.macOS||S.linux&&!g||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(l)&&/Touch/i.test(l))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(l)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}p.exports=t()},53861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),g={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function h(){if(typeof importScripts=="function")return g;var a=document.createElement("video"),s=!!a.canPlayType,i=/^no$/;try{s&&(a.canPlayType('video/ogg; codecs="theora"').replace(i,"")&&(g.ogg=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i,"")&&(g.h264=!0,g.mp4=!0),a.canPlayType("video/x-m4v").replace(i,"")&&(g.m4v=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i,"")&&(g.webm=!0),a.canPlayType('video/webm; codecs="vp9"').replace(i,"")&&(g.vp9=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i,"")&&(g.hls=!0))}catch{}return a.parentNode&&a.parentNode.removeChild(a),g.getVideoURL=function(r){Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++){var n=l(r[u],"url",r[u]);if(n.indexOf("blob:")===0)return{url:n,type:""};var o;if(n.indexOf("data:")===0?o=n.split(",")[0].match(/\/(.*?);/):o=n.match(/\.([a-zA-Z0-9]+)($|\?)/),o=l(r[u],"type",o?o[1]:"").toLowerCase(),g[o])return{url:n,type:o}}return null},g}p.exports=h()},77290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={os:t(36580),browser:t(1350),features:t(90185),input:t(95872),audio:t(10720),video:t(53861),fullscreen:t(33553),canvasFeatures:t(98581)}},65246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new Float32Array(20),h=new l({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(a){return this._matrix.set(a),this._dirty=!0,this},reset:function(){var a=this._matrix;return a.fill(0),a[0]=1,a[6]=1,a[12]=1,a[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var a=this._data;return this._dirty&&(a.set(this._matrix),a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,this._dirty=!1),a},brightness:function(a,s){a===void 0&&(a=0),s===void 0&&(s=!1);var i=a;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],s)},saturate:function(a,s){a===void 0&&(a=0),s===void 0&&(s=!1);var i=a*2/3+1,r=(i-1)*-.5;return this.multiply([i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0],s)},desaturate:function(a){return a===void 0&&(a=!1),this.saturate(-1,a)},hue:function(a,s){a===void 0&&(a=0),s===void 0&&(s=!1),a=a/180*Math.PI;var i=Math.cos(a),r=Math.sin(a),u=.213,n=.715,o=.072;return this.multiply([u+i*(1-u)+r*-u,n+i*-n+r*-n,o+i*-o+r*(1-o),0,0,u+i*-u+r*.143,n+i*(1-n)+r*.14,o+i*-o+r*-.283,0,0,u+i*-u+r*-(1-u),n+i*-n+r*n,o+i*(1-o)+r*o,0,0,0,0,0,1,0],s)},grayscale:function(a,s){return a===void 0&&(a=1),s===void 0&&(s=!1),this.saturate(-a,s)},blackWhite:function(a){return a===void 0&&(a=!1),this.multiply(h.BLACK_WHITE,a)},contrast:function(a,s){a===void 0&&(a=0),s===void 0&&(s=!1);var i=a+1,r=-.5*(i-1);return this.multiply([i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0],s)},negative:function(a){return a===void 0&&(a=!1),this.multiply(h.NEGATIVE,a)},desaturateLuminance:function(a){return a===void 0&&(a=!1),this.multiply(h.DESATURATE_LUMINANCE,a)},sepia:function(a){return a===void 0&&(a=!1),this.multiply(h.SEPIA,a)},night:function(a,s){return a===void 0&&(a=.1),s===void 0&&(s=!1),this.multiply([a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0],s)},lsd:function(a){return a===void 0&&(a=!1),this.multiply(h.LSD,a)},brown:function(a){return a===void 0&&(a=!1),this.multiply(h.BROWN,a)},vintagePinhole:function(a){return a===void 0&&(a=!1),this.multiply(h.VINTAGE,a)},kodachrome:function(a){return a===void 0&&(a=!1),this.multiply(h.KODACHROME,a)},technicolor:function(a){return a===void 0&&(a=!1),this.multiply(h.TECHNICOLOR,a)},polaroid:function(a){return a===void 0&&(a=!1),this.multiply(h.POLAROID,a)},shiftToBGR:function(a){return a===void 0&&(a=!1),this.multiply(h.SHIFT_BGR,a)},multiply:function(a,s){s===void 0&&(s=!1),s||this.reset();var i=this._matrix,r=g;return r.set(i),i.set([r[0]*a[0]+r[1]*a[5]+r[2]*a[10]+r[3]*a[15],r[0]*a[1]+r[1]*a[6]+r[2]*a[11]+r[3]*a[16],r[0]*a[2]+r[1]*a[7]+r[2]*a[12]+r[3]*a[17],r[0]*a[3]+r[1]*a[8]+r[2]*a[13]+r[3]*a[18],r[0]*a[4]+r[1]*a[9]+r[2]*a[14]+r[3]*a[19]+r[4],r[5]*a[0]+r[6]*a[5]+r[7]*a[10]+r[8]*a[15],r[5]*a[1]+r[6]*a[6]+r[7]*a[11]+r[8]*a[16],r[5]*a[2]+r[6]*a[7]+r[7]*a[12]+r[8]*a[17],r[5]*a[3]+r[6]*a[8]+r[7]*a[13]+r[8]*a[18],r[5]*a[4]+r[6]*a[9]+r[7]*a[14]+r[8]*a[19]+r[9],r[10]*a[0]+r[11]*a[5]+r[12]*a[10]+r[13]*a[15],r[10]*a[1]+r[11]*a[6]+r[12]*a[11]+r[13]*a[16],r[10]*a[2]+r[11]*a[7]+r[12]*a[12]+r[13]*a[17],r[10]*a[3]+r[11]*a[8]+r[12]*a[13]+r[13]*a[18],r[10]*a[4]+r[11]*a[9]+r[12]*a[14]+r[13]*a[19]+r[14],r[15]*a[0]+r[16]*a[5]+r[17]*a[10]+r[18]*a[15],r[15]*a[1]+r[16]*a[6]+r[17]*a[11]+r[18]*a[16],r[15]*a[2]+r[16]*a[7]+r[17]*a[12]+r[18]*a[17],r[15]*a[3]+r[16]*a[8]+r[17]*a[13]+r[18]*a[18],r[15]*a[4]+r[16]*a[9]+r[17]*a[14]+r[18]*a[19]+r[19]]),this._dirty=!0,this}});h.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],h.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],h.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],h.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],h.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],h.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],h.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],h.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],h.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],h.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],h.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],p.exports=h},39298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72283),h=new l({initialize:function(s,i,r){this._rgb=[0,0,0],this.onChangeCallback=g,this.dirty=!1,this.set(s,i,r)},set:function(a,s,i){return a===void 0&&(a=0),s===void 0&&(s=0),i===void 0&&(i=0),this._rgb=[a,s,i],this.onChange(),this},equals:function(a,s,i){var r=this._rgb;return r[0]===a&&r[1]===s&&r[2]===i},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});p.exports=h},84093:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};p.exports=S},32058:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),g=t(59994),h=t(73174),a=t(28417),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,g(r)+u),h(i,l(r)+n),i};p.exports=s},85535:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),g=t(40163),h=t(73174),a=t(74465),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,g(r)-u),h(i,l(r)+n),i};p.exports=s},9605:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),g=t(70271),h=t(73174),a=t(19298),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,g(r)+u),h(i,l(r)+n),i};p.exports=s},22529:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21843),g=t(59994),h=t(29568),a=function(s,i,r,u){return r===void 0&&(r=0),u===void 0&&(u=0),l(s,g(i)+r,h(i)+u),s};p.exports=a},5739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29568),g=t(40163),h=t(81711),a=t(74465),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,g(r)-u),h(i,l(r)+n),i};p.exports=s},40327:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84093),g=[];g[l.BOTTOM_CENTER]=t(32058),g[l.BOTTOM_LEFT]=t(85535),g[l.BOTTOM_RIGHT]=t(9605),g[l.CENTER]=t(22529),g[l.LEFT_CENTER]=t(5739),g[l.RIGHT_CENTER]=t(27683),g[l.TOP_CENTER]=t(96439),g[l.TOP_LEFT]=t(81447),g[l.TOP_RIGHT]=t(47888),g[l.LEFT_BOTTOM]=g[l.BOTTOM_LEFT],g[l.LEFT_TOP]=g[l.TOP_LEFT],g[l.RIGHT_BOTTOM]=g[l.BOTTOM_RIGHT],g[l.RIGHT_TOP]=g[l.TOP_RIGHT];var h=function(a,s,i,r,u){return g[i](a,s,r,u)};p.exports=h},27683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29568),g=t(70271),h=t(81711),a=t(19298),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,g(r)+u),h(i,l(r)+n),i};p.exports=s},96439:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59994),g=t(47196),h=t(28417),a=t(84349),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),h(i,l(r)+u),a(i,g(r)-n),i};p.exports=s},81447:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40163),g=t(47196),h=t(74465),a=t(84349),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),h(i,l(r)-u),a(i,g(r)-n),i};p.exports=s},47888:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70271),g=t(47196),h=t(19298),a=t(84349),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),h(i,l(r)+u),a(i,g(r)-n),i};p.exports=s},46997:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(32058),BottomLeft:t(85535),BottomRight:t(9605),Center:t(22529),LeftCenter:t(5739),QuickSet:t(40327),RightCenter:t(27683),TopCenter:t(96439),TopLeft:t(81447),TopRight:t(47888)}},93545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84093),g=t(98611),h={In:t(46997),To:t(86639)};h=g(!1,h,l),p.exports=h},27118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),g=t(59994),h=t(28417),a=t(84349),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),h(i,g(r)+u),a(i,l(r)+n),i};p.exports=s},84469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),g=t(40163),h=t(74465),a=t(84349),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),h(i,g(r)-u),a(i,l(r)+n),i};p.exports=s},51577:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),g=t(70271),h=t(19298),a=t(84349),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),h(i,g(r)+u),a(i,l(r)+n),i};p.exports=s},90271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),g=t(40163),h=t(73174),a=t(19298),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,g(r)-u),h(i,l(r)+n),i};p.exports=s},30466:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29568),g=t(40163),h=t(81711),a=t(19298),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,g(r)-u),h(i,l(r)+n),i};p.exports=s},50087:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40163),g=t(47196),h=t(19298),a=t(84349),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),h(i,l(r)-u),a(i,g(r)-n),i};p.exports=s},82590:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84093),g=[];g[l.BOTTOM_CENTER]=t(27118),g[l.BOTTOM_LEFT]=t(84469),g[l.BOTTOM_RIGHT]=t(51577),g[l.LEFT_BOTTOM]=t(90271),g[l.LEFT_CENTER]=t(30466),g[l.LEFT_TOP]=t(50087),g[l.RIGHT_BOTTOM]=t(13555),g[l.RIGHT_CENTER]=t(99049),g[l.RIGHT_TOP]=t(67788),g[l.TOP_CENTER]=t(78170),g[l.TOP_LEFT]=t(54145),g[l.TOP_RIGHT]=t(75548);var h=function(a,s,i,r,u){return g[i](a,s,r,u)};p.exports=h},13555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),g=t(70271),h=t(73174),a=t(74465),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,g(r)+u),h(i,l(r)+n),i};p.exports=s},99049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29568),g=t(70271),h=t(81711),a=t(74465),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,g(r)+u),h(i,l(r)+n),i};p.exports=s},67788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70271),g=t(47196),h=t(74465),a=t(84349),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),h(i,l(r)+u),a(i,g(r)-n),i};p.exports=s},78170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59994),g=t(47196),h=t(73174),a=t(28417),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,l(r)+u),h(i,g(r)-n),i};p.exports=s},54145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40163),g=t(47196),h=t(73174),a=t(74465),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,l(r)-u),h(i,g(r)-n),i};p.exports=s},75548:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70271),g=t(47196),h=t(73174),a=t(19298),s=function(i,r,u,n){return u===void 0&&(u=0),n===void 0&&(n=0),a(i,l(r)+u),h(i,g(r)-n),i};p.exports=s},86639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(27118),BottomLeft:t(84469),BottomRight:t(51577),LeftBottom:t(90271),LeftCenter:t(30466),LeftTop:t(50087),QuickSet:t(82590),RightBottom:t(13555),RightCenter:t(99049),RightTop:t(67788),TopCenter:t(78170),TopLeft:t(54145),TopRight:t(75548)}},21843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28417),g=t(81711),h=function(a,s,i){return l(a,s),g(a,i)};p.exports=h},97328:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};p.exports=S},7126:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),g=t(40163),h=t(70271),a=t(47196),s=t(74118),i=function(r,u){u===void 0&&(u=new s);var n=g(r),o=a(r);return u.x=n,u.y=o,u.width=h(r)-n,u.height=l(r)-o,u};p.exports=i},59994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};p.exports=S},29568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};p.exports=S},40163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};p.exports=S},52088:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};p.exports=S},23379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};p.exports=S},70271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};p.exports=S},47196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};p.exports=S},73174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.y=l-t.height+t.height*t.originY,t};p.exports=S},28417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.width*t.originX;return t.x=l+g-t.width*.5,t};p.exports=S},81711:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.height*t.originY;return t.y=l+g-t.height*.5,t};p.exports=S},74465:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x=l+t.width*t.originX,t};p.exports=S},19298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x=l-t.width+t.width*t.originX,t};p.exports=S},84349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.y=l+t.height*t.originY,t};p.exports=S},15252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CenterOn:t(21843),GetBottom:t(97328),GetBounds:t(7126),GetCenterX:t(59994),GetCenterY:t(29568),GetLeft:t(40163),GetOffsetX:t(52088),GetOffsetY:t(23379),GetRight:t(70271),GetTop:t(47196),SetBottom:t(73174),SetCenterX:t(28417),SetCenterY:t(81711),SetLeft:t(74465),SetRight:t(19298),SetTop:t(84349)}},70616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var l=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return l.forEach(function(g){t.style["image-rendering"]=g}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};p.exports=S},61068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86459),g=t(8213),h=[],a=!1,s=function(){var i=function(T,E,y,C,A){E===void 0&&(E=1),y===void 0&&(y=1),C===void 0&&(C=l.CANVAS),A===void 0&&(A=!1);var M,R=n(C);return R===null?(R={parent:T,canvas:document.createElement("canvas"),type:C},C===l.CANVAS&&h.push(R),M=R.canvas):(R.parent=T,M=R.canvas),A&&(R.parent=M),M.width=E,M.height=y,a&&C===l.CANVAS&&g.disable(M.getContext("2d",{willReadFrequently:!1})),M},r=function(T,E,y){return i(T,E,y,l.CANVAS)},u=function(T,E,y){return i(T,E,y,l.WEBGL)},n=function(T){if(T===void 0&&(T=l.CANVAS),T===l.WEBGL)return null;for(var E=0;E<h.length;E++){var y=h[E];if(!y.parent&&y.type===T)return y}return null},o=function(T){var E=T instanceof HTMLCanvasElement;h.forEach(function(y){(E&&y.canvas===T||!E&&y.parent===T)&&(y.parent=null,y.canvas.width=1,y.canvas.height=1)})},f=function(){var T=0;return h.forEach(function(E){E.parent&&T++}),T},d=function(){return h.length-f()},v=function(){a=!0},m=function(){a=!1};return{create2D:r,create:i,createWebGL:u,disableSmoothing:v,enableSmoothing:m,first:n,free:d,pool:h,remove:o,total:f}};p.exports=s()},8213:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var l=function(s){for(var i=["i","webkitI","msI","mozI","oI"],r=0;r<i.length;r++){var u=i[r]+"mageSmoothingEnabled";if(u in s)return u}return null},g=function(s){return S===""&&(S=l(s)),S&&(s[S]=!0),s},h=function(s){return S===""&&(S=l(s)),S&&(s[S]=!1),s},a=function(s){return S!==null?s[S]:null};return{disable:h,enable:g,getPrefix:l,isEnabled:a}};p.exports=t()},59271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l="none"),t.style.msTouchAction=l,t.style["ms-touch-action"]=l,t.style["touch-action"]=l,t};p.exports=S},36505:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l="none");var g=["-webkit-","-khtml-","-moz-","-ms-",""];return g.forEach(function(h){t.style[h+"user-select"]=l}),t.style["-webkit-touch-callout"]=l,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};p.exports=S},23514:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasInterpolation:t(70616),CanvasPool:t(61068),Smoothing:t(8213),TouchAction:t(59271),UserSelect:t(36505)}},27119:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(22946),h=t(5657),a=t(24650),s=t(68033),i=new l({initialize:function(u,n,o,f){u===void 0&&(u=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(u,n,o,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(r,u,n,o,f){return o===void 0&&(o=255),f===void 0&&(f=!0),this._locked=!0,this.red=r,this.green=u,this.blue=n,this.alpha=o,this._locked=!1,this.update(f)},setGLTo:function(r,u,n,o){return o===void 0&&(o=1),this._locked=!0,this.redGL=r,this.greenGL=u,this.blueGL=n,this.alphaGL=o,this._locked=!1,this.update(!0)},setFromRGB:function(r){return this._locked=!0,this.red=r.r,this.green=r.g,this.blue=r.b,r.hasOwnProperty("a")&&(this.alpha=r.a),this._locked=!1,this.update(!0)},setFromHSV:function(r,u,n){return a(r,u,n,this)},update:function(r){if(r===void 0&&(r=!1),this._locked)return this;var u=this.r,n=this.g,o=this.b,f=this.a;return this._color=g(u,n,o),this._color32=h(u,n,o,f),this._rgba="rgba("+u+","+n+","+o+","+f/255+")",r&&s(u,n,o,this),this},updateHSV:function(){var r=this.r,u=this.g,n=this.b;return s(r,u,n,this),this},clone:function(){return new i(this.r,this.g,this.b,this.a)},gray:function(r){return this.setTo(r,r,r)},random:function(r,u){r===void 0&&(r=0),u===void 0&&(u=255);var n=Math.floor(r+Math.random()*(u-r)),o=Math.floor(r+Math.random()*(u-r)),f=Math.floor(r+Math.random()*(u-r));return this.setTo(n,o,f)},randomGray:function(r,u){r===void 0&&(r=0),u===void 0&&(u=255);var n=Math.floor(r+Math.random()*(u-r));return this.setTo(n,n,n)},saturate:function(r){return this.s+=r/100,this},desaturate:function(r){return this.s-=r/100,this},lighten:function(r){return this.v+=r/100,this},darken:function(r){return this.v-=r/100,this},brighten:function(r){var u=this.r,n=this.g,o=this.b;return u=Math.max(0,Math.min(255,u-Math.round(255*-(r/100)))),n=Math.max(0,Math.min(255,n-Math.round(255*-(r/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(r/100)))),this.setTo(u,n,o)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(r){this.gl[0]=Math.min(Math.abs(r),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(r){this.gl[1]=Math.min(Math.abs(r),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(r){this.gl[2]=Math.min(Math.abs(r),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(r){this.gl[3]=Math.min(Math.abs(r),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(r){r=Math.floor(Math.abs(r)),this.r=Math.min(r,255),this.gl[0]=r/255,this.update(!0)}},green:{get:function(){return this.g},set:function(r){r=Math.floor(Math.abs(r)),this.g=Math.min(r,255),this.gl[1]=r/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(r){r=Math.floor(Math.abs(r)),this.b=Math.min(r,255),this.gl[2]=r/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(r){r=Math.floor(Math.abs(r)),this.a=Math.min(r,255),this.gl[3]=r/255,this.update()}},h:{get:function(){return this._h},set:function(r){this._h=r,a(r,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(r){this._s=r,a(this._h,r,this._v,this)}},v:{get:function(){return this._v},set:function(r){this._v=r,a(this._h,this._s,r,this)}}});p.exports=i},30245:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22946),g=function(h){h===void 0&&(h=1024);var a=[],s=255,i,r=255,u=0,n=0;for(i=0;i<=s;i++)a.push({r,g:i,b:n,color:l(r,i,n)});for(u=255,i=s;i>=0;i--)a.push({r:i,g:u,b:n,color:l(i,u,n)});for(r=0,i=0;i<=s;i++,u--)a.push({r,g:u,b:i,color:l(r,u,i)});for(u=0,n=255,i=0;i<=s;i++,n--,r++)a.push({r,g:u,b:n,color:l(r,u,n)});if(h===1024)return a;var o=[],f=0,d=1024/h;for(i=0;i<h;i++)o.push(a[Math.floor(f)]),f+=d;return o};p.exports=g},86672:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(l.a=t>>>24),l};p.exports=S},25409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=t.toString(16);return l.length===1?"0"+l:l};p.exports=S},22946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t<<16|l<<8|g};p.exports=S},5657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){return h<<24|t<<16|l<<8|g};p.exports=S},74777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119),g=t(59998),h=function(a,s,i){var r=i,u=i,n=i;if(s!==0){var o=i<.5?i*(1+s):i+s-i*s,f=2*i-o;r=g(f,o,a+1/3),u=g(f,o,a),n=g(f,o,a-1/3)}var d=new l;return d.setGLTo(r,u,n,1)};p.exports=h},89263:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(24650),g=function(h,a){h===void 0&&(h=1),a===void 0&&(a=1);for(var s=[],i=0;i<=359;i++)s.push(l(i/359,h,a));return s};p.exports=g},24650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22946);function g(a,s,i,r){var u=(a+s*6)%6,n=Math.min(u,4-u,1);return Math.round(255*(r-r*i*Math.max(0,n)))}var h=function(a,s,i,r){s===void 0&&(s=1),i===void 0&&(i=1);var u=g(5,a,s,i),n=g(3,a,s,i),o=g(1,a,s,i);return r?r.setTo?r.setTo(u,n,o,r.alpha,!0):(r.r=u,r.g=n,r.b=o,r.color=l(u,n,o),r):{r:u,g:n,b:o,color:l(u,n,o)}};p.exports=h},91487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119),g=function(h){var a=new l;h=h.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,o,f,d){return o+o+f+f+d+d});var s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);if(s){var i=parseInt(s[1],16),r=parseInt(s[2],16),u=parseInt(s[3],16);a.setTo(i,r,u)}return a};p.exports=g},59998:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?t+(l-t)*6*g:g<.5?l:g<.6666666666666666?t+(l-t)*(.6666666666666666-g)*6:t};p.exports=S},74853:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119),g=t(15978),h=function(a){var s=g(a);return new l(s.r,s.g,s.b,s.a)};p.exports=h},15978:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};p.exports=S},53756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42798),g=function(s,i,r,u,n,o,f,d){f===void 0&&(f=100),d===void 0&&(d=0);var v=d/f;return{r:l(s,u,v),g:l(i,n,v),b:l(r,o,v)}},h=function(s,i,r,u){return r===void 0&&(r=100),u===void 0&&(u=0),g(s.r,s.g,s.b,i.r,i.g,i.b,r,u)},a=function(s,i,r,u,n,o){return n===void 0&&(n=100),o===void 0&&(o=0),g(s.r,s.g,s.b,i,r,u,n,o)};p.exports={RGBWithRGB:g,ColorWithRGB:a,ColorWithColor:h}},73904:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119),g=function(h){return new l(h.r,h.g,h.b,h.a)};p.exports=g},26841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119),g=function(h){var a=new l,s=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(h.toLowerCase());if(s){var i=parseInt(s[1],10),r=parseInt(s[2],10),u=parseInt(s[3],10),n=s[4]!==void 0?parseFloat(s[4]):1;a.setTo(i,r,u,n*255)}return a};p.exports=g},68033:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){h===void 0&&(h={h:0,s:0,v:0}),t/=255,l/=255,g/=255;var a=Math.min(t,l,g),s=Math.max(t,l,g),i=s-a,r=0,u=s===0?0:i/s,n=s;return s!==a&&(s===t?r=(l-g)/i+(l<g?6:0):s===l?r=(g-t)/i+2:s===g&&(r=(t-l)/i+4),r/=6),h.hasOwnProperty("_h")?(h._h=r,h._s=u,h._v=n):(h.h=r,h.s=u,h.v=n),h};p.exports=S},4880:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25409),g=function(h,a,s,i,r){return i===void 0&&(i=255),r===void 0&&(r="#"),r==="#"?"#"+((1<<24)+(h<<16)+(a<<8)+s).toString(16).slice(1,7):"0x"+l(i)+l(h)+l(a)+l(s)};p.exports=g},37243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(17489),g=t(27119),h=function(a,s){return a===void 0&&(a=0),s===void 0&&(s=255),new g(l(a,s),l(a,s),l(a,s))};p.exports=h},93222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91487),g=t(74853),h=t(73904),a=t(26841),s=function(i){var r=typeof i;switch(r){case"string":return i.substr(0,3).toLowerCase()==="rgb"?a(i):l(i);case"number":return g(i);case"object":return h(i)}};p.exports=s},95509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119);l.ColorSpectrum=t(30245),l.ColorToRGBA=t(86672),l.ComponentToHex=t(25409),l.GetColor=t(22946),l.GetColor32=t(5657),l.HexStringToColor=t(91487),l.HSLToColor=t(74777),l.HSVColorWheel=t(89263),l.HSVToRGB=t(24650),l.HueToComponent=t(59998),l.IntegerToColor=t(74853),l.IntegerToRGB=t(15978),l.Interpolate=t(53756),l.ObjectToColor=t(73904),l.RandomRGB=t(37243),l.RGBStringToColor=t(26841),l.RGBToHSV=t(68033),l.RGBToString=t(4880),l.ValueToColor=t(93222),p.exports=l},24816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Align:t(93545),BaseShader:t(31053),Bounds:t(15252),Canvas:t(23514),Color:t(95509),ColorMatrix:t(65246),Masks:t(93310),RGB:t(39298)}},76756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(61286),h=new l({initialize:function(s,i,r,u,n,o){i||(i=s.sys.make.image({x:r,y:u,key:n,frame:o,add:!1})),this.bitmapMask=i,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,s,i){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,s,i)},postRenderWebGL:function(a,s,i){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,s,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});g.register("bitmapMask",function(a,s,i,r,u){return new h(this.scene,a,s,i,r,u)}),p.exports=h},63037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s){this.geometryMask=s,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(h){return this.geometryMask=h,this},setInvertAlpha:function(h){return h===void 0&&(h=!0),this.invertAlpha=h,this},preRenderWebGL:function(h,a,s){var i=h.gl;h.flush(),h.maskStack.length===0&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),h.maskCount=0),h.currentCameraMask.mask!==this&&(h.currentMask.mask=this),h.maskStack.push({mask:this,camera:s}),this.applyStencil(h,s,!0),h.maskCount++},applyStencil:function(h,a,s){var i=h.gl,r=this.geometryMask,u=h.maskCount,n=255;i.colorMask(!1,!1,!1,!1),s?(i.stencilFunc(i.EQUAL,u,n),i.stencilOp(i.KEEP,i.KEEP,i.INCR),u++):(i.stencilFunc(i.EQUAL,u+1,n),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),this.level=u,r.renderWebGL(h,r,a),h.flush(),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.invertAlpha?i.stencilFunc(i.NOTEQUAL,u,n):i.stencilFunc(i.EQUAL,u,n)},postRenderWebGL:function(h){var a=h.gl;h.maskStack.pop(),h.maskCount--,h.flush();var s=h.currentMask;if(h.maskStack.length===0)s.mask=null,a.disable(a.STENCIL_TEST);else{var i=h.maskStack[h.maskStack.length-1];i.mask.applyStencil(h,i.camera,!1),h.currentCameraMask.mask!==i.mask?(s.mask=i.mask,s.camera=i.camera):s.mask=null}},preRenderCanvas:function(h,a,s){var i=this.geometryMask;h.currentContext.save(),i.renderCanvas(h,i,s,null,null,!0),h.currentContext.clip()},postRenderCanvas:function(h){h.currentContext.restore()},destroy:function(){this.geometryMask=null}});p.exports=g},93310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BitmapMask:t(76756),GeometryMask:t(63037)}},31053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s,i,r){(!s||s==="")&&(s=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!i||i==="")&&(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),r===void 0&&(r=null),this.key=a,this.fragmentSrc=s,this.vertexSrc=i,this.uniforms=r}});p.exports=g},99584:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g;if(l)typeof l=="string"?g=document.getElementById(l):typeof l=="object"&&l.nodeType===1&&(g=l);else if(t.parentElement||l===null)return t;return g||(g=document.body),g.appendChild(t),t};p.exports=S},85178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99584),g=function(h){var a=h.config;if(!(!a.parent||!a.domCreateContainer)){var s=document.createElement("div");s.style.cssText=["display: block;","width: "+h.scale.width+"px;","height: "+h.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),h.domContainer=s,l(s,a.parent)}};p.exports=g},21546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36580),g=function(h){if(document.readyState==="complete"||document.readyState==="interactive"){h();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),h()};document.body?l.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};p.exports=g},74181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var l=Math.abs(window.orientation),g={w:0,h:0},h=document.createElement("div");return h.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(h),g.w=l===90?h.offsetHeight:window.innerWidth,g.h=l===90?window.innerWidth:h.offsetHeight,document.documentElement.removeChild(h),h=null,Math.abs(window.orientation)!==90?g.h:g.w};p.exports=S},9229:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55301),g=function(h,a){var s=window.screen,i=s?s.orientation||s.mozOrientation||s.msOrientation:!1;if(i&&typeof i.type=="string")return i.type;if(typeof i=="string")return i;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return l.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return l.ORIENTATION.LANDSCAPE}else return a>h?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE};p.exports=g},2893:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l;return t!==""&&(typeof t=="string"?l=document.getElementById(t):t&&t.nodeType===1&&(l=t)),l||(l=document.body),l};p.exports=S},89200:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l="";try{if(window.DOMParser){var g=new DOMParser;l=g.parseFromString(t,"text/xml")}else l=new ActiveXObject("Microsoft.XMLDOM"),l.loadXML(t)}catch{l=null}return!l||!l.documentElement||l.getElementsByTagName("parsererror").length?null:l};p.exports=S},55638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};p.exports=S},27385:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72283),h=new l({initialize:function(){this.isRunning=!1,this.callback=g,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var s=this;this.step=function i(r){s.callback(r),s.isRunning&&(s.timeOutID=window.requestAnimationFrame(i))},this.stepTimeout=function i(){s.isRunning&&(s.timeOutID=window.setTimeout(i,s.delay)),s.callback(window.performance.now())}},start:function(a,s,i){this.isRunning||(this.callback=a,this.isSetTimeOut=s,this.delay=i,this.isRunning=!0,this.timeOutID=s?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=g}});p.exports=h},3590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={AddToDOM:t(99584),DOMContentLoaded:t(21546),GetInnerHeight:t(74181),GetScreenOrientation:t(9229),GetTarget:t(2893),ParseXML:t(89200),RemoveFromDOM:t(55638),RequestAnimationFrame:t(27385)};p.exports=l},78491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(6659),h=t(91963),a=new l({Extends:g,initialize:function(){g.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});h.register("EventEmitter",a,"events"),p.exports=a},95146:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EventEmitter:t(78491)}},20170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r){r===void 0&&(r=1),g.call(this,h.BARREL,i),this.amount=r}});p.exports=a},51182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r,u,n,o,f,d){u===void 0&&(u=1),n===void 0&&(n=1),o===void 0&&(o=1),f===void 0&&(f=1),d===void 0&&(d=4),g.call(this,h.BLOOM,i),this.steps=d,this.offsetX=u,this.offsetY=n,this.blurStrength=o,this.strength=f,this.glcolor=[1,1,1],r!=null&&(this.color=r)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var i=this.glcolor;i[0]=(s>>16&255)/255,i[1]=(s>>8&255)/255,i[2]=(s&255)/255}}});p.exports=a},51498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r,u,n,o,f,d){u===void 0&&(u=2),n===void 0&&(n=2),o===void 0&&(o=1),d===void 0&&(d=4),g.call(this,h.BLUR,i),this.quality=0,this.x=u,this.y=n,this.steps=d,this.strength=o,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var i=this.glcolor;i[0]=(s>>16&255)/255,i[1]=(s>>8&255)/255,i[2]=(s&255)/255}}});p.exports=a},12042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r,u,n,o,f,d,v){r===void 0&&(r=.5),u===void 0&&(u=1),n===void 0&&(n=.2),o===void 0&&(o=!1),f===void 0&&(f=1),d===void 0&&(d=1),v===void 0&&(v=1),g.call(this,h.BOKEH,i),this.radius=r,this.amount=u,this.contrast=n,this.isTiltShift=o,this.strength=v,this.blurX=f,this.blurY=d}});p.exports=a},69900:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r,u,n,o,f){r===void 0&&(r=8),o===void 0&&(o=1),f===void 0&&(f=.005),g.call(this,h.CIRCLE,i),this.scale=o,this.feather=f,this.thickness=r,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],u!=null&&(this.color=u),n!=null&&(this.backgroundColor=n)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var i=this.glcolor;i[0]=(s>>16&255)/255,i[1]=(s>>8&255)/255,i[2]=(s&255)/255}},backgroundColor:{get:function(){var s=this.glcolor2;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var i=this.glcolor2;i[0]=(s>>16&255)/255,i[1]=(s>>8&255)/255,i[2]=(s&255)/255}}});p.exports=a},48991:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(65246),h=t(47406),a=new l({Extends:g,initialize:function(i){g.call(this),this.type=h.COLOR_MATRIX,this.gameObject=i,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});p.exports=a},47551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s){this.type=a,this.gameObject=s,this.active=!0},setActive:function(h){return this.active=h,this},destroy:function(){this.gameObject=null,this.active=!1}});p.exports=g},47909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r,u,n){r===void 0&&(r="__WHITE"),u===void 0&&(u=.005),n===void 0&&(n=.005),g.call(this,h.DISPLACEMENT,i),this.x=u,this.y=n,this.glTexture,this.setTexture(r)},setTexture:function(s){var i=this.gameObject.scene.sys.textures.getFrame(s);return i&&(this.glTexture=i.glTexture),this}});p.exports=a},18919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r,u,n,o){u===void 0&&(u=4),n===void 0&&(n=0),o===void 0&&(o=!1),g.call(this,h.GLOW,i),this.outerStrength=u,this.innerStrength=n,this.knockout=o,this.glcolor=[1,1,1,1],r!==void 0&&(this.color=r)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var i=this.glcolor;i[0]=(s>>16&255)/255,i[1]=(s>>8&255)/255,i[2]=(s&255)/255}}});p.exports=a},62494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r,u,n,o,f,d,v,m){n===void 0&&(n=.2),o===void 0&&(o=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=1),m===void 0&&(m=0),g.call(this,h.GRADIENT,i),this.alpha=n,this.size=m,this.fromX=o,this.fromY=f,this.toX=d,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],r!=null&&(this.color1=r),u!=null&&(this.color2=u)},color1:{get:function(){var s=this.glcolor1;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var i=this.glcolor1;i[0]=s>>16&255,i[1]=s>>8&255,i[2]=s&255}},color2:{get:function(){var s=this.glcolor2;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var i=this.glcolor2;i[0]=s>>16&255,i[1]=s>>8&255,i[2]=s&255}}});p.exports=a},68897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r){r===void 0&&(r=1),g.call(this,h.PIXELATE,i),this.amount=r}});p.exports=a},58575:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r,u,n,o,f,d,v){r===void 0&&(r=0),u===void 0&&(u=0),n===void 0&&(n=.1),o===void 0&&(o=1),d===void 0&&(d=6),v===void 0&&(v=1),g.call(this,h.SHADOW,i),this.x=r,this.y=u,this.decay=n,this.power=o,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=v,f!==void 0&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var i=this.glcolor;i[0]=(s>>16&255)/255,i[1]=(s>>8&255)/255,i[2]=(s&255)/255}}});p.exports=a},33755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r,u,n,o){r===void 0&&(r=.5),u===void 0&&(u=.5),n===void 0&&(n=3),o===void 0&&(o=!1),g.call(this,h.SHINE,i),this.speed=r,this.lineWidth=u,this.gradient=n,this.reveal=o}});p.exports=a},24949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r,u,n,o){r===void 0&&(r=.5),u===void 0&&(u=.5),n===void 0&&(n=.5),o===void 0&&(o=.5),g.call(this,h.VIGNETTE,i),this.x=r,this.y=u,this.radius=n,this.strength=o}});p.exports=a},66241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47551),h=t(47406),a=new l({Extends:g,initialize:function(i,r,u,n,o){r===void 0&&(r=.1),u===void 0&&(u=0),n===void 0&&(n=0),o===void 0&&(o=!1),g.call(this,h.WIPE,i),this.progress=0,this.wipeWidth=r,this.direction=u,this.axis=n,this.reveal=o}});p.exports=a},47406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};p.exports=S},96910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),g=t(47406),h={Barrel:t(20170),Controller:t(47551),Bloom:t(51182),Blur:t(51498),Bokeh:t(12042),Circle:t(69900),ColorMatrix:t(48991),Displacement:t(47909),Glow:t(18919),Gradient:t(62494),Pixelate:t(68897),Shadow:t(58575),Shine:t(33755),Vignette:t(24949),Wipe:t(66241)};h=l(!1,h,g),p.exports=h},88933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),g=t(20494),h=function(a,s,i){s.x=g(i,"x",0),s.y=g(i,"y",0),s.depth=g(i,"depth",0),s.flipX=g(i,"flipX",!1),s.flipY=g(i,"flipY",!1);var r=g(i,"scale",null);typeof r=="number"?s.setScale(r):r!==null&&(s.scaleX=g(r,"x",1),s.scaleY=g(r,"y",1));var u=g(i,"scrollFactor",null);typeof u=="number"?s.setScrollFactor(u):u!==null&&(s.scrollFactorX=g(u,"x",1),s.scrollFactorY=g(u,"y",1)),s.rotation=g(i,"rotation",0);var n=g(i,"angle",null);n!==null&&(s.angle=n),s.alpha=g(i,"alpha",1);var o=g(i,"origin",null);if(typeof o=="number")s.setOrigin(o);else if(o!==null){var f=g(o,"x",.5),d=g(o,"y",.5);s.setOrigin(f,d)}s.blendMode=g(i,"blendMode",l.NORMAL),s.visible=g(i,"visible",!0);var v=g(i,"add",!0);return v&&a.sys.displayList.add(s),s.preUpdate&&a.sys.updateList.add(s),s};p.exports=h},32291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20494),g=function(h,a){var s=l(a,"anims",null);if(s===null)return h;if(typeof s=="string")h.anims.play(s);else if(typeof s=="object"){var i=h.anims,r=l(s,"key",void 0);if(r){var u=l(s,"startFrame",void 0),n=l(s,"delay",0),o=l(s,"repeat",0),f=l(s,"repeatDelay",0),d=l(s,"yoyo",!1),v=l(s,"play",!1),m=l(s,"delayedPlay",0),T={key:r,delay:n,repeat:o,repeatDelay:f,yoyo:d,startFrame:u};v?i.play(T):m>0?i.playAfterDelay(T,m):i.load(T)}}return h};p.exports=g},91713:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(71207),h=t(91963),a=t(56631),s=t(7599),i=t(17922),r=new l({Extends:g,initialize:function(n){g.call(this,n),this.sortChildrenFlag=!1,this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},addChildCallback:function(u){u.displayList&&u.displayList!==this&&u.removeFromDisplayList(),u.parentContainer&&u.parentContainer.remove(u),u.displayList||(this.queueDepthSort(),u.displayList=this,u.emit(a.ADDED_TO_SCENE,u,this.scene),this.events.emit(s.ADDED_TO_SCENE,u,this.scene))},removeChildCallback:function(u){this.queueDepthSort(),u.displayList=null,u.emit(a.REMOVED_FROM_SCENE,u,this.scene),this.events.emit(s.REMOVED_FROM_SCENE,u,this.scene)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(i(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(u,n){return u._depth-n._depth},getChildren:function(){return this.list},shutdown:function(){for(var u=this.list;u.length;)u[0].destroy(!0);this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});h.register("DisplayList",r,"displayList"),p.exports=r},89980:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(48129),h=t(81078),a=t(6659),s=t(56631),i=t(7599),r=new l({Extends:a,initialize:function(n,o){a.call(this),this.scene=n,this.displayList=null,this.type=o,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),n.sys.queueDepthSort()},setActive:function(u){return this.active=u,this},setName:function(u){return this.name=u,this},setState:function(u){return this.state=u,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(u,n){return this.data||(this.data=new h(this)),this.data.set(u,n),this},incData:function(u,n){return this.data||(this.data=new h(this)),this.data.inc(u,n),this},toggleData:function(u){return this.data||(this.data=new h(this)),this.data.toggle(u),this},getData:function(u){return this.data||(this.data=new h(this)),this.data.get(u)},setInteractive:function(u,n,o){return this.scene.sys.input.enable(this,u,n,o),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return g(this)},willRender:function(u){var n=this.displayList&&this.displayList.active?this.displayList.willRender(u):!0;return!(!n||r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},getIndexList:function(){for(var u=this,n=this.parentContainer,o=[];n&&(o.unshift(n.getIndex(u)),u=n,n.parentContainer);)n=n.parentContainer;return this.displayList?o.unshift(this.displayList.getIndex(u)):o.unshift(this.scene.sys.displayList.getIndex(u)),o},addToDisplayList:function(u){return u===void 0&&(u=this.scene.sys.displayList),this.displayList&&this.displayList!==u&&this.removeFromDisplayList(),u.exists(this)||(this.displayList=u,u.add(this,!0),u.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),u.events.emit(i.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var u=this.displayList||this.scene.sys.displayList;return u&&u.exists(this)&&(u.remove(this,!0),u.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),u.events.emit(i.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(u){!this.scene||this.ignoreDestroy||(u===void 0&&(u=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,u),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,p.exports=r},99325:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(91963),h=t(7599),a=new l({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(s,i){a.prototype.hasOwnProperty(s)||(a.prototype[s]=i)},a.remove=function(s){a.prototype.hasOwnProperty(s)&&delete a.prototype[s]},g.register("GameObjectCreator",a,"make"),p.exports=a},61286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(91963),h=t(7599),a=new l({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(s,i){a.prototype.hasOwnProperty(s)||(a.prototype[s]=i)},a.remove=function(s){a.prototype.hasOwnProperty(s)&&delete a.prototype[s]},g.register("GameObjectFactory",a,"add"),p.exports=a},73329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(69360),g=new l,h=new l,a=new l,s={camera:g,sprite:h,calc:a},i=function(r,u,n){var o=g,f=h,d=a;return f.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),o.copyFrom(u.matrix),n?(o.multiplyWithOffset(n,-u.scrollX*r.scrollFactorX,-u.scrollY*r.scrollFactorY),f.e=r.x,f.f=r.y):(f.e-=u.scrollX*r.scrollFactorX,f.f-=u.scrollY*r.scrollFactorY),o.multiply(f,d),s};p.exports=i},92034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(74623),h=t(91963),a=t(7599),s=new l({Extends:g,initialize:function(r){g.call(this),this.checkQueue=!0,this.scene=r,this.systems=r.sys,r.sys.events.once(a.BOOT,this.boot,this),r.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var i=this.systems.events;i.on(a.PRE_UPDATE,this.update,this),i.on(a.UPDATE,this.sceneUpdate,this),i.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(i,r){for(var u=this._active,n=u.length,o=0;o<n;o++){var f=u[o];f.active&&f.preUpdate.call(f,i,r)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var r=this.systems.events;r.off(a.PRE_UPDATE,this.update,this),r.off(a.UPDATE,this.sceneUpdate,this),r.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});h.register("UpdateList",s,"updateList"),p.exports=s},8810:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a,s,i,r,u,n,o,f,d,v,m){var T=g.x-l.displayOriginX+a,E=g.y-l.displayOriginY+s,y=T+g.w,C=E+g.h,A=i.getXRound(T,E,r),M=i.getYRound(T,E,r),R=i.getXRound(T,C,r),O=i.getYRound(T,C,r),L=i.getXRound(y,C,r),I=i.getYRound(y,C,r),N=i.getXRound(y,E,r),B=i.getYRound(y,E,r);t.batchQuad(l,A,M,R,O,L,I,N,B,h.u0,h.v0,h.u1,h.v1,u,n,o,f,d,v,m)};p.exports=S},82173:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){if(g===void 0&&(g=!1),h===void 0)return h={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},h;var a=t.text,s=a.length,i=t.maxWidth,r=t.wordWrapCharCode,u=Number.MAX_VALUE,n=Number.MAX_VALUE,o=0,f=0,d=t.fontData.chars,v=t.fontData.lineHeight,m=t.letterSpacing,T=t.lineSpacing,E=0,y=0,C=0,A=null,M=t._align,R=0,O=0,L=t.fontSize/t.fontData.size,I=L*t.scaleX,N=L*t.scaleY,B=null,b=0,X=[],W=Number.MAX_VALUE,$=0,z=0,V=0,D,G=[],U=[],Y=null;if(i>0){for(D=0;D<s;D++){if(C=a.charCodeAt(D),C===10){Y!==null&&(G.push({word:Y.word,i:Y.i,x:Y.x*I,y:Y.y*N,w:Y.w*I,h:Y.h*N,cr:!0}),Y=null),E=0,y+=v+T,B=null;continue}if(A=d[C],!!A){if(B!==null)var H=A.kerning[b];C===r?Y!==null&&(G.push({word:Y.word,i:Y.i,x:Y.x*I,y:Y.y*N,w:Y.w*I,h:Y.h*N,cr:!1}),Y=null):(Y===null&&(Y={word:"",i:D,x:E,y,w:0,h:v,cr:!1}),Y.word=Y.word.concat(a[D]),Y.w+=A.xOffset+A.xAdvance+(H!==void 0?H:0)),E+=A.xAdvance+m,B=A,b=C}}Y!==null&&G.push({word:Y.word,i:Y.i,x:Y.x*I,y:Y.y*N,w:Y.w*I,h:Y.h*N,cr:!1}),E=0,y=0,B=null,b=0;var Z,K=0,k=[];for(D=0;D<G.length;D++){var j=G[D],Q=j.x,J=j.x+j.w;if(Z){var _=Q-(Z.x+Z.w);K=Q-(_+Z.w),Z=null}var q=Q-K,it=J-K;q>i||it>i?(k.push(j.i-1),j.cr?(k.push(j.i+j.word.length),K=0,Z=null):Z=j):j.cr&&(k.push(j.i+j.word.length),K=0,Z=null)}var at=function(Wt,jt,ee){return Wt.substr(0,jt)+ee+Wt.substr(jt+1)};for(D=k.length-1;D>=0;D--)a=at(a,k[D],`
`);h.wrappedText=a,s=a.length,G=[],Y=null}var ht=0;for(D=0;D<s;D++){if(C=a.charCodeAt(D),C===10){Y!==null&&(G.push({word:Y.word,i:Y.i,x:Y.x*I,y:Y.y*N,w:Y.w*I,h:Y.h*N}),Y=null),E=0,y+=v+T,B=null,X[z]=V,V>$&&($=V),V<W&&(W=V),z++,V=0;continue}if(A=d[C],!!A){if(R=E,O=y,B!==null){var lt=A.kerning[b];R+=lt!==void 0?lt:0}u>R&&(u=R),n>O&&(n=O);var tt=R+A.xAdvance,st=O+v;o<tt&&(o=tt),f<st&&(f=st);var rt=A.xOffset+A.xAdvance+(lt!==void 0?lt:0);C===r?Y!==null&&(G.push({word:Y.word,i:Y.i,x:Y.x*I,y:Y.y*N,w:Y.w*I,h:Y.h*N}),Y=null):(Y===null&&(Y={word:"",i:ht,x:E,y,w:0,h:v}),Y.word=Y.word.concat(a[D]),Y.w+=rt),U.push({i:ht,idx:D,char:a[D],code:C,x:(A.xOffset+R)*L,y:(A.yOffset+y)*L,w:A.width*L,h:A.height*L,t:y*L,r:tt*L,b:v*L,line:z,glyph:A}),E+=A.xAdvance+m+(lt!==void 0?lt:0),B=A,b=C,V=tt*L,ht++}}if(Y!==null&&G.push({word:Y.word,i:Y.i,x:Y.x*I,y:Y.y*N,w:Y.w*I,h:Y.h*N}),X[z]=V,V>$&&($=V),V<W&&(W=V),M>0)for(var dt=0;dt<U.length;dt++){var ft=U[dt];if(M===1){var Ot=($-X[ft.line])/2;ft.x+=Ot,ft.r+=Ot}else if(M===2){var At=$-X[ft.line];ft.x+=At,ft.r+=At}}var mt=h.local,ct=h.global,wt=h.lines;return mt.x=u*L,mt.y=n*L,mt.width=o*L,mt.height=f*L,ct.x=t.x-t._displayOriginX+u*I,ct.y=t.y-t._displayOriginY+n*N,ct.width=o*I,ct.height=f*N,wt.shortest=W,wt.longest=$,wt.lengths=X,l&&(mt.x=Math.ceil(mt.x),mt.y=Math.ceil(mt.y),mt.width=Math.ceil(mt.width),mt.height=Math.ceil(mt.height),ct.x=Math.ceil(ct.x),ct.y=Math.ceil(ct.y),ct.width=Math.ceil(ct.width),ct.height=Math.ceil(ct.height),wt.shortest=Math.ceil(W),wt.longest=Math.ceil($)),g&&(t._displayOriginX=t.originX*mt.width,t._displayOriginY=t.originY*mt.height,ct.x=t.x-t._displayOriginX*t.scaleX,ct.y=t.y-t._displayOriginY*t.scaleY,l&&(ct.x=Math.ceil(ct.x),ct.y=Math.ceil(ct.y))),h.words=G,h.characters=U,h.lines.height=v,h.scale=L,h.scaleX=t.scaleX,h.scaleY=t.scaleY,h};p.exports=S},68298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(31476),g=function(h,a,s,i,r,u,n){var o=h.sys.textures.get(s),f=o.get(i),d=h.sys.cache.xml.get(r);if(f&&d){var v=l(d,f,u,n,o);return h.sys.cache.bitmapFont.add(a,{data:v,texture:s,frame:i,fromAtlas:!0}),!0}else return!1};p.exports=g},39860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10850),g=function(h,a){var s=a.width,i=a.height,r=Math.floor(s/2),u=Math.floor(i/2),n=l(a,"chars","");if(n!==""){var o=l(a,"image",""),f=h.sys.textures.getFrame(o),d=f.cutX,v=f.cutY,m=f.source.width,T=f.source.height,E=l(a,"offset.x",0),y=l(a,"offset.y",0),C=l(a,"spacing.x",0),A=l(a,"spacing.y",0),M=l(a,"lineSpacing",0),R=l(a,"charsPerRow",null);R===null&&(R=m/s,R>n.length&&(R=n.length));for(var O=E,L=y,I={retroFont:!0,font:o,size:s,lineHeight:i+M,chars:{}},N=0,B=0;B<n.length;B++){var b=n.charCodeAt(B),X=(d+O)/m,W=(v+L)/T,$=(d+O+s)/m,z=(v+L+i)/T;I.chars[b]={x:O,y:L,width:s,height:i,centerX:r,centerY:u,xOffset:0,yOffset:0,xAdvance:s,data:{},kerning:{},u0:X,v0:W,u1:$,v1:z},N++,N===R?(N=0,O=E,L+=i+A):O+=s+C}var V={data:I,frame:null,texture:o};return V}};p.exports=g},31476:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(l,g){return parseInt(l.getAttribute(g),10)}var t=function(l,g,h,a,s){h===void 0&&(h=0),a===void 0&&(a=0);var i=g.cutX,r=g.cutY,u=g.source.width,n=g.source.height,o=g.sourceIndex,f={},d=l.getElementsByTagName("info")[0],v=l.getElementsByTagName("common")[0];f.font=d.getAttribute("face"),f.size=S(d,"size"),f.lineHeight=S(v,"lineHeight")+a,f.chars={};var m=l.getElementsByTagName("char"),T=g!==void 0&&g.trimmed;if(T)var E=g.height,y=g.width;for(var C=0;C<m.length;C++){var A=m[C],M=S(A,"id"),R=String.fromCharCode(M),O=S(A,"x"),L=S(A,"y"),I=S(A,"width"),N=S(A,"height");T&&(O<y&&(y=O),L<E&&(E=L)),T&&E!==0&&y!==0&&(O-=g.x,L-=g.y);var B=(i+O)/u,b=(r+L)/n,X=(i+O+I)/u,W=(r+L+N)/n;if(f.chars[M]={x:O,y:L,width:I,height:N,centerX:Math.floor(I/2),centerY:Math.floor(N/2),xOffset:S(A,"xoffset"),yOffset:S(A,"yoffset"),xAdvance:S(A,"xadvance")+h,data:{},kerning:{},u0:B,v0:b,u1:X,v1:W},s&&I!==0&&N!==0){var $=s.add(R,o,O,L,I,N);$&&$.setUVs(I,N,B,b,X,W)}}var z=l.getElementsByTagName("kerning");for(C=0;C<z.length;C++){var V=z[C],D=S(V,"first"),G=S(V,"second"),U=S(V,"amount");f.chars[G].kerning[D]=U}return f};p.exports=t},55873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66863),g=t(98611),h={Parse:t(39860)};h=g(!1,h,l),p.exports=h},66863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};p.exports=S},13468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44616),g=t(56694),h=t(88899),a=new g({Extends:l,Mixins:[h],initialize:function(i,r,u,n,o,f,d){l.call(this,i,r,u,n,o,f,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(s,i){return this.cropWidth=s,this.cropHeight=i,this},setDisplayCallback:function(s){return this.displayCallback=s,this},setScrollX:function(s){return this.scrollX=s,this},setScrollY:function(s){return this.scrollY=s,this}});p.exports=a},93438:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(49584),g=function(h,a,s,i){var r=a._text,u=r.length,n=h.currentContext;if(!(u===0||!l(h,n,a,s,i))){s.addToRenderList(a);var o=a.fromAtlas?a.frame:a.texture.frames.__BASE,f=a.displayCallback,d=a.callbackData,v=a.fontData.chars,m=a.fontData.lineHeight,T=a._letterSpacing,E=0,y=0,C=0,A=null,M=0,R=0,O=0,L=0,I=0,N=0,B=null,b=0,X=a.frame.source.image,W=o.cutX,$=o.cutY,z=0,V=0,D=a._fontSize/a.fontData.size,G=a._align,U=0,Y=0;a.getTextBounds(!1);var H=a._bounds.lines;G===1?Y=(H.longest-H.lengths[0])/2:G===2&&(Y=H.longest-H.lengths[0]),n.translate(-a.displayOriginX,-a.displayOriginY);var Z=s.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(n.beginPath(),n.rect(0,0,a.cropWidth,a.cropHeight),n.clip());for(var K=0;K<u;K++){if(V=D,z=0,C=r.charCodeAt(K),C===10){U++,G===1?Y=(H.longest-H.lengths[U])/2:G===2&&(Y=H.longest-H.lengths[U]),E=0,y+=m,B=null;continue}if(A=v[C],!!A){if(M=W+A.x,R=$+A.y,O=A.width,L=A.height,I=A.xOffset+E-a.scrollX,N=A.yOffset+y-a.scrollY,B!==null){var k=A.kerning[b];I+=k!==void 0?k:0}if(f){d.index=K,d.charCode=C,d.x=I,d.y=N,d.scale=V,d.rotation=z,d.data=A.data;var j=f(d);I=j.x,N=j.y,V=j.scale,z=j.rotation}I*=V,N*=V,I+=Y,E+=A.xAdvance+T+(k!==void 0?k:0),B=A,b=C,!(O===0||L===0||C===32)&&(Z&&(I=Math.round(I),N=Math.round(N)),n.save(),n.translate(I,N),n.rotate(z),n.scale(V,V),n.drawImage(X,M,R,O,L,0,0,O,L),n.restore())}}n.restore()}};p.exports=g},67513:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13468),g=t(88933),h=t(99325),a=t(20494);h.register("dynamicBitmapText",function(s,i){s===void 0&&(s={});var r=a(s,"font",""),u=a(s,"text",""),n=a(s,"size",!1),o=new l(this.scene,0,0,r,u,n);return i!==void 0&&(s.add=i),g(this.scene,o,s),o})},94145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13468),g=t(61286);g.register("dynamicBitmapText",function(h,a,s,i,r){return this.displayList.add(new l(this.scene,h,a,s,i,r))})},88899:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(16873),h=t(93438),p.exports={renderWebGL:g,renderCanvas:h}},16873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=t(69360),h=t(75512),a=new g,s=function(i,r,u,n){var o=r.text,f=o.length;if(f!==0){u.addToRenderList(r);var d=i.pipelines.set(r.pipeline,r),v=l(r,u,n);i.pipelines.preBatch(r);var m=v.sprite,T=v.calc,E=a,y=r.cropWidth>0||r.cropHeight>0;y&&(d.flush(),i.pushScissor(T.tx,T.ty,r.cropWidth*T.scaleX,r.cropHeight*T.scaleY));var C=r.frame,A=C.glTexture,M=r.tintFill,R=h.getTintAppendFloatAlpha(r.tintTopLeft,u.alpha*r._alphaTL),O=h.getTintAppendFloatAlpha(r.tintTopRight,u.alpha*r._alphaTR),L=h.getTintAppendFloatAlpha(r.tintBottomLeft,u.alpha*r._alphaBL),I=h.getTintAppendFloatAlpha(r.tintBottomRight,u.alpha*r._alphaBR),N=d.setGameObject(r),B=0,b=0,X=0,W=0,$=r.letterSpacing,z,V=0,D=0,G,U=r.scrollX,Y=r.scrollY,H=r.fontData,Z=H.chars,K=H.lineHeight,k=r.fontSize/H.size,j=0,Q=r._align,J=0,_=0,q=r.getTextBounds(!1);r.maxWidth>0&&(o=q.wrappedText,f=o.length);var it=r._bounds.lines;Q===1?_=(it.longest-it.lengths[0])/2:Q===2&&(_=it.longest-it.lengths[0]);for(var at=u.roundPixels,ht=r.displayCallback,lt=r.callbackData,tt=0;tt<f;tt++){if(X=o.charCodeAt(tt),X===10){J++,Q===1?_=(it.longest-it.lengths[J])/2:Q===2&&(_=it.longest-it.lengths[J]),B=0,b+=K,G=null;continue}if(z=Z[X],!!z){V=z.width,D=z.height;var st=z.xOffset+B-U,rt=z.yOffset+b-Y;if(G!==null){var dt=z.kerning[W];st+=dt!==void 0?dt:0}if(B+=z.xAdvance+$,G=z,W=X,!(V===0||D===0||X===32)){if(k=r.fontSize/r.fontData.size,j=0,ht){lt.color=0,lt.tint.topLeft=R,lt.tint.topRight=O,lt.tint.bottomLeft=L,lt.tint.bottomRight=I,lt.index=tt,lt.charCode=X,lt.x=st,lt.y=rt,lt.scale=k,lt.rotation=j,lt.data=z.data;var ft=ht(lt);st=ft.x,rt=ft.y,k=ft.scale,j=ft.rotation,ft.color?(R=ft.color,O=ft.color,L=ft.color,I=ft.color):(R=ft.tint.topLeft,O=ft.tint.topRight,L=ft.tint.bottomLeft,I=ft.tint.bottomRight),R=h.getTintAppendFloatAlpha(R,u.alpha*r._alphaTL),O=h.getTintAppendFloatAlpha(O,u.alpha*r._alphaTR),L=h.getTintAppendFloatAlpha(L,u.alpha*r._alphaBL),I=h.getTintAppendFloatAlpha(I,u.alpha*r._alphaBR)}st*=k,rt*=k,st-=r.displayOriginX,rt-=r.displayOriginY,st+=_,E.applyITRS(st,rt,j,k,k),T.multiply(E,m);var Ot=z.u0,At=z.v0,mt=z.u1,ct=z.v1,wt=V,Wt=D,jt=m.e,ee=m.f,Oe=Wt*m.c+m.e,wn=Wt*m.d+m.f,Mn=wt*m.a+Wt*m.c+m.e,Pn=wt*m.b+Wt*m.d+m.f,Rn=wt*m.a+m.e,Ln=wt*m.b+m.f;at&&(jt=Math.round(jt),ee=Math.round(ee),Oe=Math.round(Oe),wn=Math.round(wn),Mn=Math.round(Mn),Pn=Math.round(Pn),Rn=Math.round(Rn),Ln=Math.round(Ln)),d.batchQuad(r,jt,ee,Oe,wn,Mn,Pn,Rn,Ln,Ot,At,mt,ct,R,O,L,I,M,A,N)}}}y&&(d.flush(),i.popScissor()),i.pipelines.postBatch(r)}};p.exports=s},44616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(82897),h=t(64937),a=t(89980),s=t(82173),i=t(68298),r=t(31476),u=t(74118),n=t(84557),o=new l({Extends:a,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Texture,h.Tint,h.Transform,h.Visible,n],initialize:function(d,v,m,T,E,y,C){E===void 0&&(E=""),C===void 0&&(C=0),a.call(this,d,"BitmapText"),this.font=T;var A=this.scene.sys.cache.bitmapFont.get(T);A||console.warn("Invalid BitmapText key: "+T),this.fontData=A.data,this._text="",this._fontSize=y||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=C,this._bounds=s(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(v,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(E)},setLeftAlign:function(){return this._align=o.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=o.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=o.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,d,v,m){return f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=.5),this.dropShadowX=f,this.dropShadowY=d,this.dropShadowColor=v,this.dropShadowAlpha=m,this},setCharacterTint:function(f,d,v,m,T,E,y){f===void 0&&(f=0),d===void 0&&(d=1),v===void 0&&(v=!1),m===void 0&&(m=-1),T===void 0&&(T=m,E=m,y=m);var C=this.text.length;d===-1&&(d=C),f<0&&(f=C+f),f=g(f,0,C-1);for(var A=g(f+d,f,C),M=this.charColors,R=f;R<A;R++){var O=M[R];if(m===-1)M[R]=null;else{var L=v?1:0;O?(O.tintEffect=L,O.tintTL=m,O.tintTR=T,O.tintBL=E,O.tintBR=y):M[R]={tintEffect:L,tintTL:m,tintTR:T,tintBL:E,tintBR:y}}}return this},setWordTint:function(f,d,v,m,T,E,y){d===void 0&&(d=1);for(var C=this.getTextBounds(),A=C.words,M=typeof f=="number",R=0,O=0;O<A.length;O++){var L=A[O];if((M&&O===f||!M&&L.word===f)&&(this.setCharacterTint(L.i,L.word.length,v,m,T,E,y),R++,R===d))return this}return this},getTextBounds:function(f){var d=this._bounds;return(this._dirty||f||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(s(this,f,!0,d),this._dirty=!1),d},getCharacterAt:function(f,d,v){for(var m=this.getLocalPoint(f,d,null,v),T=this.getTextBounds(),E=T.characters,y=new u,C=0;C<E.length;C++){var A=E[C];if(y.setTo(A.x,A.t,A.r-A.x,A.b),y.contains(m.x,m.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,d,v){if(d===void 0&&(d=this._fontSize),v===void 0&&(v=this._align),f!==this.font){var m=this.scene.sys.cache.bitmapFont.get(f);m&&(this.font=f,this.fontData=m.data,this._fontSize=d,this._align=v,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),s(this,!1,!0,this._bounds))}return this},setMaxWidth:function(f,d){return this._maxWidth=f,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=h.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=d,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});o.ALIGN_LEFT=0,o.ALIGN_CENTER=1,o.ALIGN_RIGHT=2,o.ParseFromAtlas=i,o.ParseXMLBitmapFont=r,p.exports=o},97545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(49584),g=function(h,a,s,i){var r=a._text,u=r.length,n=h.currentContext;if(!(u===0||!l(h,n,a,s,i))){s.addToRenderList(a);var o=a.fromAtlas?a.frame:a.texture.frames.__BASE,f=a.fontData.chars,d=a.fontData.lineHeight,v=a._letterSpacing,m=a._lineSpacing,T=0,E=0,y=0,C=null,A=0,M=0,R=0,O=0,L=0,I=0,N=null,B=0,b=o.source.image,X=o.cutX,W=o.cutY,$=a._fontSize/a.fontData.size,z=a._align,V=0,D=0,G=a.getTextBounds(!1);a.maxWidth>0&&(r=G.wrappedText,u=r.length);var U=a._bounds.lines;z===1?D=(U.longest-U.lengths[0])/2:z===2&&(D=U.longest-U.lengths[0]),n.translate(-a.displayOriginX,-a.displayOriginY);for(var Y=s.roundPixels,H=0;H<u;H++){if(y=r.charCodeAt(H),y===10){V++,z===1?D=(U.longest-U.lengths[V])/2:z===2&&(D=U.longest-U.lengths[V]),T=0,E+=d+m,N=null;continue}if(C=f[y],!!C){if(A=X+C.x,M=W+C.y,R=C.width,O=C.height,L=C.xOffset+T,I=C.yOffset+E,N!==null){var Z=C.kerning[B];L+=Z!==void 0?Z:0}L*=$,I*=$,L+=D,T+=C.xAdvance+v+(Z!==void 0?Z:0),N=C,B=y,!(R===0||O===0||y===32)&&(Y&&(L=Math.round(L),I=Math.round(I)),n.save(),n.translate(L,I),n.scale($,$),n.drawImage(b,A,M,R,O,0,0,R,O),n.restore())}}n.restore()}};p.exports=g},95499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44616),g=t(88933),h=t(99325),a=t(20494),s=t(10850);h.register("bitmapText",function(i,r){i===void 0&&(i={});var u=s(i,"font",""),n=a(i,"text",""),o=a(i,"size",!1),f=s(i,"align",0),d=new l(this.scene,0,0,u,n,o,f);return r!==void 0&&(i.add=r),g(this.scene,d,i),d})},21797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44616),g=t(61286);g.register("bitmapText",function(h,a,s,i,r,u){return this.displayList.add(new l(this.scene,h,a,s,i,r,u))})},84557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(26372),h=t(97545),p.exports={renderWebGL:g,renderCanvas:h}},26372:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8810),g=t(73329),h=t(75512),a=function(s,i,r,u){var n=i._text,o=n.length;if(o!==0){r.addToRenderList(i);var f=s.pipelines.set(i.pipeline,i),d=g(i,r,u).calc;s.pipelines.preBatch(i);var v=r.roundPixels,m=r.alpha,T=i.charColors,E=i.tintFill,y=h.getTintAppendFloatAlpha,C=y(i.tintTopLeft,m*i._alphaTL),A=y(i.tintTopRight,m*i._alphaTR),M=y(i.tintBottomLeft,m*i._alphaBL),R=y(i.tintBottomRight,m*i._alphaBR),O=i.frame.glTexture,L=f.setGameObject(i),I=i.getTextBounds(!1),N,B,b,X=I.characters,W=i.dropShadowX,$=i.dropShadowY,z=W!==0||$!==0;if(z){var V=i.dropShadowColor,D=i.dropShadowAlpha,G=y(V,m*D*i._alphaTL),U=y(V,m*D*i._alphaTR),Y=y(V,m*D*i._alphaBL),H=y(V,m*D*i._alphaBR);for(N=0;N<X.length;N++)B=X[N],b=B.glyph,!(B.code===32||b.width===0||b.height===0)&&l(f,i,B,b,W,$,d,v,G,U,Y,H,1,O,L)}for(N=0;N<X.length;N++)if(B=X[N],b=B.glyph,!(B.code===32||b.width===0||b.height===0))if(T[B.i]){var Z=T[B.i],K=Z.tintEffect,k=y(Z.tintTL,m*i._alphaTL),j=y(Z.tintTR,m*i._alphaTR),Q=y(Z.tintBL,m*i._alphaBL),J=y(Z.tintBR,m*i._alphaBR);l(f,i,B,b,0,0,d,v,k,j,Q,J,K,O,L)}else l(f,i,B,b,0,0,d,v,C,A,M,R,E,O,L);s.pipelines.postBatch(i)}};p.exports=a},52816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92246),g=t(41664),h=t(56694),a=t(64937),s=t(82047),i=t(89980),r=t(71207),u=new h({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,l],initialize:function(o,f,d,v,m){i.call(this,o,"Blitter"),this.setTexture(v,m),this.setPosition(f,d),this.initPipeline(),this.initPostPipeline(),this.children=new r,this.renderList=[],this.dirty=!1},create:function(n,o,f,d,v){d===void 0&&(d=!0),v===void 0&&(v=this.children.length),f===void 0?f=this.frame:f instanceof s||(f=this.texture.get(f));var m=new g(this,n,o,f,d);return this.children.addAt(m,v,!1),this.dirty=!0,m},createFromCallback:function(n,o,f,d){for(var v=this.createMultiple(o,f,d),m=0;m<v.length;m++){var T=v[m];n.call(this,T,m)}return v},createMultiple:function(n,o,f){o===void 0&&(o=this.frame.name),f===void 0&&(f=!0),Array.isArray(o)||(o=[o]);var d=[],v=this;return o.forEach(function(m){for(var T=0;T<n;T++)d.push(v.create(0,0,m,f))}),d},childCanRender:function(n){return n.visible&&n.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});p.exports=u},33177:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=l.getRenderList();if(a.length!==0){var s=t.currentContext,i=g.alpha*l.alpha;if(i!==0){g.addToRenderList(l),s.globalCompositeOperation=t.blendModes[l.blendMode],s.imageSmoothingEnabled=!l.frame.source.scaleMode;var r=l.x-g.scrollX*l.scrollFactorX,u=l.y-g.scrollY*l.scrollFactorY;s.save(),h&&h.copyToContext(s);for(var n=g.roundPixels,o=0;o<a.length;o++){var f=a[o],d=f.flipX||f.flipY,v=f.frame,m=v.canvasData,T=v.x,E=v.y,y=1,C=1,A=f.alpha*i;A!==0&&(s.globalAlpha=A,d?(f.flipX&&(y=-1,T-=m.width),f.flipY&&(C=-1,E-=m.height),m.width>0&&m.height>0&&(s.save(),s.translate(f.x+r,f.y+u),s.scale(y,C),s.drawImage(v.source.image,m.x,m.y,m.width,m.height,T,E,m.width,m.height),s.restore())):(n&&(T=Math.round(T),E=Math.round(E)),m.width>0&&m.height>0&&s.drawImage(v.source.image,m.x,m.y,m.width,m.height,T+f.x+r,E+f.y+u,m.width,m.height)))}s.restore()}}};p.exports=S},68452:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(52816),g=t(88933),h=t(99325),a=t(20494);h.register("blitter",function(s,i){s===void 0&&(s={});var r=a(s,"key",null),u=a(s,"frame",null),n=new l(this.scene,0,0,r,u);return i!==void 0&&(s.add=i),g(this.scene,n,s),n})},38906:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(52816),g=t(61286);g.register("blitter",function(h,a,s,i){return this.displayList.add(new l(this.scene,h,a,s,i))})},92246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(89165),h=t(33177),p.exports={renderWebGL:g,renderCanvas:h}},89165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(69360),g=t(75512),h=new l,a=function(s,i,r,u){var n=i.getRenderList(),o=r.alpha*i.alpha;if(!(n.length===0||o===0)){r.addToRenderList(i);var f=s.pipelines.set(this.pipeline,i),d=r.scrollX*i.scrollFactorX,v=r.scrollY*i.scrollFactorY,m=h.copyFrom(r.matrix);u&&(m.multiplyWithOffset(u,-d,-v),d=0,v=0);var T=i.x-d,E=i.y-v,y=-1,C=!1,A=r.roundPixels;s.pipelines.preBatch(i);for(var M=0;M<n.length;M++){var R=n[M],O=R.frame,L=R.alpha*o;if(L!==0){var I=O.width,N=O.height,B=T+R.x+O.x,b=E+R.y+O.y;R.flipX&&(I*=-1,B+=O.width),R.flipY&&(N*=-1,b+=O.height);var X=m.setQuad(B,b,B+I,b+N,A),W=g.getTintAppendFloatAlpha(R.tint,L);if(O.sourceIndex!==y){var $=f.setGameObject(i,O);y=O.sourceIndex}f.batchQuad(i,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],O.u0,O.v0,O.u1,O.v1,W,W,W,W,C,O.glTexture,$)&&(y=-1)}}s.pipelines.postBatch(i)}};p.exports=a},41664:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(82047),h=new l({initialize:function(s,i,r,u,n){this.parent=s,this.x=i,this.y=r,this.frame=u,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof g&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,s,i){return this.x=a,this.y=s,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(a,s){return this.x=a,this.y=s,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,s){return this.flipX=a,this.flipY=s,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});p.exports=h},97123:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=2,h={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,s,i,r){return a===void 0&&(a=1),s===void 0?this.alpha=a:(this._alphaTL=l(a,0,1),this._alphaTR=l(s,0,1),this._alphaBL=l(i,0,1),this._alphaBR=l(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var s=l(a,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,this._alphaBR=s,s===0?this.renderFlags&=~g:this.renderFlags|=g}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var s=l(a,0,1);this._alphaTL=s,s!==0&&(this.renderFlags|=g)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var s=l(a,0,1);this._alphaTR=s,s!==0&&(this.renderFlags|=g)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var s=l(a,0,1);this._alphaBL=s,s!==0&&(this.renderFlags|=g)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var s=l(a,0,1);this._alphaBR=s,s!==0&&(this.renderFlags|=g)}}};p.exports=h},15720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=2,h={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var s=l(a,0,1);this._alpha=s,s===0?this.renderFlags&=~g:this.renderFlags|=g}}};p.exports=h},69732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),g={_blendMode:l.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(h){typeof h=="string"&&(h=l[h]),h|=0,h>=-1&&(this._blendMode=h)}},setBlendMode:function(h){return this.blendMode=h,this}};p.exports=g},28284:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,l){return this.width=t,this.height=l,this},setDisplaySize:function(t,l){return this.displayWidth=t,this.displayHeight=l,this}};p.exports=S},85293:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,l,g,h){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,l,g,h,this.flipX,this.flipY);else{var a=t;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=S},14975:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};p.exports=S},88677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(96910),h=t(72677),a=new l({initialize:function(i,r){this.gameObject=i,this.isPost=r,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(s){return s===void 0&&(s=0),this.padding=s,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(s){if(!this.isPost){var i=this.gameObject.scene.sys.renderer;i&&i.pipelines?(this.gameObject.pipeline=i.pipelines.FX_PIPELINE,s!==void 0&&(this.padding=s),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var s=this.list,i=0;i<s.length;i++)s[i].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(s){var i;if(this.isPost){var r=this.gameObject.getPostPipeline(String(s.type));for(Array.isArray(r)||(r=[r]),i=0;i<r.length;i++){var u=r[i];if(u.controller===s){this.gameObject.removePostPipeline(u),s.destroy();break}}}else{var n=this.list;for(i=0;i<n.length;i++)n[i]===s&&(h(n,i),s.destroy())}return this.gameObject},disable:function(s){return s===void 0&&(s=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,s&&this.clear(),this.gameObject},add:function(s,i){if(this.isPost){var r=String(s.type);this.gameObject.setPostPipeline(r,i);var u=this.gameObject.getPostPipeline(r);if(u)return Array.isArray(u)&&(u=u.pop()),u.controller=s,s}else return this.enabled||this.enable(),this.list.push(s),s},addGlow:function(s,i,r,u,n,o){return this.add(new g.Glow(this.gameObject,s,i,r,u),{quality:n,distance:o})},addShadow:function(s,i,r,u,n,o,f){return this.add(new g.Shadow(this.gameObject,s,i,r,u,n,o,f))},addPixelate:function(s){return this.add(new g.Pixelate(this.gameObject,s))},addVignette:function(s,i,r,u){return this.add(new g.Vignette(this.gameObject,s,i,r,u))},addShine:function(s,i,r,u){return this.add(new g.Shine(this.gameObject,s,i,r,u))},addBlur:function(s,i,r,u,n,o){return this.add(new g.Blur(this.gameObject,s,i,r,u,n,o))},addGradient:function(s,i,r,u,n,o,f,d){return this.add(new g.Gradient(this.gameObject,s,i,r,u,n,o,f,d))},addBloom:function(s,i,r,u,n,o){return this.add(new g.Bloom(this.gameObject,s,i,r,u,n,o))},addColorMatrix:function(){return this.add(new g.ColorMatrix(this.gameObject))},addCircle:function(s,i,r,u,n){return this.add(new g.Circle(this.gameObject,s,i,r,u,n))},addBarrel:function(s){return this.add(new g.Barrel(this.gameObject,s))},addDisplacement:function(s,i,r){return this.add(new g.Displacement(this.gameObject,s,i,r))},addWipe:function(s,i,r){return this.add(new g.Wipe(this.gameObject,s,i,r))},addReveal:function(s,i,r){return this.add(new g.Wipe(this.gameObject,s,i,r,!0))},addBokeh:function(s,i,r){return this.add(new g.Bokeh(this.gameObject,s,i,r))},addTiltShift:function(s,i,r,u,n,o){return this.add(new g.Bokeh(this.gameObject,s,i,r,!0,u,n,o))},destroy:function(){this.clear(),this.gameObject=null}});p.exports=a},92972:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,l){return this.flipX=t,this.flipY=l,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};p.exports=S},80693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=t(2386),h=t(93736),a={prepareBoundsOutput:function(s,i){if(i===void 0&&(i=!1),this.rotation!==0&&g(s,this.x,this.y,this.rotation),i&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(s.x,s.y,s)}return s},getCenter:function(s,i){return s===void 0&&(s=new h),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,i)},getTopLeft:function(s,i){return s||(s=new h),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,i)},getTopCenter:function(s,i){return s||(s=new h),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,i)},getTopRight:function(s,i){return s||(s=new h),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,i)},getLeftCenter:function(s,i){return s||(s=new h),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,i)},getRightCenter:function(s,i){return s||(s=new h),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,i)},getBottomLeft:function(s,i){return s||(s=new h),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,i)},getBottomCenter:function(s,i){return s||(s=new h),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,i)},getBottomRight:function(s,i){return s||(s=new h),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,i)},getBounds:function(s){s===void 0&&(s=new l);var i,r,u,n,o,f,d,v;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(s),m.transformPoint(s.x,s.y,s),i=s.x,r=s.y,this.getTopRight(s),m.transformPoint(s.x,s.y,s),u=s.x,n=s.y,this.getBottomLeft(s),m.transformPoint(s.x,s.y,s),o=s.x,f=s.y,this.getBottomRight(s),m.transformPoint(s.x,s.y,s),d=s.x,v=s.y}else this.getTopLeft(s),i=s.x,r=s.y,this.getTopRight(s),u=s.x,n=s.y,this.getBottomLeft(s),o=s.x,f=s.y,this.getBottomRight(s),d=s.x,v=s.y;return s.x=Math.min(i,u,o,d),s.y=Math.min(r,n,f,v),s.width=Math.max(i,u,o,d)-s.x,s.height=Math.max(r,n,f,v)-s.y,s}};p.exports=a},39171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76756),g=t(63037),h={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a,s,i,r,u){return a===void 0&&(this.texture||this.shader||this.geom)&&(a=this),new l(this.scene,a,s,i,r,u)},createGeometryMask:function(a){return a===void 0&&(this.type==="Graphics"||this.geom)&&(a=this),new g(this.scene,a)}};p.exports=h},28072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,l){return t===void 0&&(t=.5),l===void 0&&(l=t),this.originX=t,this.originY=l,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,l){return t===void 0&&(t=0),l===void 0&&(l=t),this.displayOriginX=t,this.displayOriginY=l,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};p.exports=S},54211:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75606),g=t(63130),h=t(10850),a=t(55303),s=t(93736),i={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(r,u){u===void 0&&(u=this.pathConfig);var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this.path=r,u&&this.startFollow(u),this},setRotateToPath:function(r,u){return u===void 0&&(u=0),this.rotateToPath=r,this.pathRotationOffset=u,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,u){r===void 0&&(r={}),u===void 0&&(u=0);var n=this.pathTween;n&&n.isPlaying()&&n.stop(),typeof r=="number"&&(r={duration:r}),r.from=h(r,"from",0),r.to=h(r,"to",1);var o=g(r,"positionOnPath",!1);this.rotateToPath=g(r,"rotateToPath",!1),this.pathRotationOffset=h(r,"rotationOffset",0);var f=h(r,"startAt",u);if(f&&(r.onStart=function(v){var m=v.data[0];m.progress=f,m.elapsed=m.duration*f;var T=m.ease(m.progress);m.current=m.start+(m.end-m.start)*T,m.setTargetValue()}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),r.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),o&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+l(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r){var u=r.data[0],n=this.pathDelta,o=this.pathVector;if(n.copy(o).negate(),u.state===a.COMPLETE){this.path.getPoint(u.end,o),n.add(o),o.add(this.pathOffset),this.setPosition(o.x,o.y);return}else if(u.state!==a.PLAYING_FORWARD&&u.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),o),n.add(o),o.add(this.pathOffset);var f=this.x,d=this.y;this.setPosition(o.x,o.y);var v=this.x-f,m=this.y-d;if(v===0&&m===0)return;if(u.state!==this._prevDirection){this._prevDirection=u.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,v)+l(this.pathRotationOffset))}}};p.exports=i},58210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28699),g={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(h){this.pipelineData={};var a=this.scene.sys.renderer;if(!a)return!1;var s=a.pipelines;if(s){h===void 0&&(h=s.default);var i=s.get(h);if(i)return this.defaultPipeline=i,this.pipeline=i,!0}return!1},setPipeline:function(h,a,s){var i=this.scene.sys.renderer;if(!i)return this;var r=i.pipelines;if(r){var u=r.get(h);u&&(this.pipeline=u),a&&(this.pipelineData=s?l(a):a)}return this},setPipelineData:function(h,a){var s=this.pipelineData;return a===void 0?delete s[h]:s[h]=a,this},resetPipeline:function(h){return h===void 0&&(h=!1),this.pipeline=this.defaultPipeline,h&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};p.exports=g},44086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28699),g=t(88677),h=t(72677),a={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(s){this.postPipelines=[],this.postPipelineData={},this.postFX=new g(this,!0),s&&(this.preFX=new g(this,!1))},setPostPipeline:function(s,i,r){var u=this.scene.sys.renderer;if(!u)return this;var n=u.pipelines;if(n){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var f=n.getPostPipeline(s[o],this,i);f&&this.postPipelines.push(f)}i&&(this.postPipelineData=r?l(i):i)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(s,i){var r=this.postPipelineData;return i===void 0?delete r[s]:r[s]=i,this},getPostPipeline:function(s){for(var i=typeof s=="string",r=this.postPipelines,u=[],n=0;n<r.length;n++){var o=r[n];(i&&o.name===s||!i&&o instanceof s)&&u.push(o)}return u.length===1?u[0]:u},resetPostPipeline:function(s){s===void 0&&(s=!1);for(var i=this.postPipelines,r=0;r<i.length;r++)i[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,s&&(this.postPipelineData={})},removePostPipeline:function(s){for(var i=typeof s=="string",r=this.postPipelines,u=r.length-1;u>=0;u--){var n=r[u];(i&&n.name===s||!i&&n===s)&&(n.destroy(),h(r,u))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};p.exports=a},45900:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,l){return l===void 0&&(l=t),this.scrollFactorX=t,this.scrollFactorY=l,this}};p.exports=S},31654:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this},setSize:function(t,l){return this.width=t,this.height=l,this},setDisplaySize:function(t,l){return this.displayWidth=t,this.displayHeight=l,this}};p.exports=S},82081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82047),g=8,h={texture:null,frame:null,isCropped:!1,setTexture:function(a,s){return this.texture=this.scene.sys.textures.get(a),this.setFrame(s)},setFrame:function(a,s,i){return s===void 0&&(s=!0),i===void 0&&(i=!0),a instanceof l?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};p.exports=h},21850:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82047),g=8,h={texture:null,frame:null,isCropped:!1,setCrop:function(a,s,i,r){if(a===void 0)this.isCropped=!1;else if(this.frame){if(typeof a=="number")this.frame.setCropUVs(this._crop,a,s,i,r,this.flipX,this.flipY);else{var u=a;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(a,s){return this.texture=this.scene.sys.textures.get(a),this.setFrame(s)},setFrame:function(a,s,i){return s===void 0&&(s=!0),i===void 0&&(i=!0),a instanceof l?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=h},58072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,l,g,h){return t===void 0&&(t=16777215),l===void 0&&(l=t,g=t,h=t),this.tintTopLeft=t,this.tintTopRight=l,this.tintBottomLeft=g,this.tintBottomRight=h,this.tintFill=!1,this},setTintFill:function(t,l,g,h){return this.setTint(t,l,g,h),this.tintFill=!0,this},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};p.exports=S},48129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(l.textureKey=t.texture.key,l.frameKey=t.frame.name),l};p.exports=S},56584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),g=t(69360),h=t(64462),a=t(35786),s=t(62138),i=t(93736),r=4,u={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this._scaleX=n,this._scaleY=n,n===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(n){this._scaleX=n,n===0?this.renderFlags&=~r:this._scaleY!==0&&(this.renderFlags|=r)}},scaleY:{get:function(){return this._scaleY},set:function(n){this._scaleY=n,n===0?this.renderFlags&=~r:this._scaleX!==0&&(this.renderFlags|=r)}},angle:{get:function(){return s(this._rotation*l.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*l.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(n){this._rotation=a(n)}},setPosition:function(n,o,f,d){return n===void 0&&(n=0),o===void 0&&(o=n),f===void 0&&(f=0),d===void 0&&(d=0),this.x=n,this.y=o,this.z=f,this.w=d,this},copyPosition:function(n){return n.x!==void 0&&(this.x=n.x),n.y!==void 0&&(this.y=n.y),n.z!==void 0&&(this.z=n.z),n.w!==void 0&&(this.w=n.w),this},setRandomPosition:function(n,o,f,d){return n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=n+Math.random()*f,this.y=o+Math.random()*d,this},setRotation:function(n){return n===void 0&&(n=0),this.rotation=n,this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,this},setScale:function(n,o){return n===void 0&&(n=1),o===void 0&&(o=n),this.scaleX=n,this.scaleY=o,this},setX:function(n){return n===void 0&&(n=0),this.x=n,this},setY:function(n){return n===void 0&&(n=0),this.y=n,this},setZ:function(n){return n===void 0&&(n=0),this.z=n,this},setW:function(n){return n===void 0&&(n=0),this.w=n,this},getLocalTransformMatrix:function(n){return n===void 0&&(n=new g),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(n,o){n===void 0&&(n=new g);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(n);for(o||(o=new g),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)o.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),o.multiply(n,n),f=f.parentContainer;return n},getLocalPoint:function(n,o,f,d){f||(f=new i),d||(d=this.scene.sys.cameras.main);var v=d.scrollX,m=d.scrollY,T=n+v*this.scrollFactorX-v,E=o+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(T,E,f):h(T,E,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getParentRotation:function(){for(var n=0,o=this.parentContainer;o;)n+=o.rotation,o=o.parentContainer;return n}};p.exports=u},69360:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(83392),h=t(93736),a=new l({initialize:function(i,r,u,n,o,f){i===void 0&&(i=1),r===void 0&&(r=0),u===void 0&&(u=0),n===void 0&&(n=1),o===void 0&&(o=0),f===void 0&&(f=0),this.matrix=new Float32Array([i,r,u,n,o,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(s){this.matrix[0]=s}},b:{get:function(){return this.matrix[1]},set:function(s){this.matrix[1]=s}},c:{get:function(){return this.matrix[2]},set:function(s){this.matrix[2]=s}},d:{get:function(){return this.matrix[3]},set:function(s){this.matrix[3]=s}},e:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},f:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},tx:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},ty:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var s=this.matrix,i=s[0],r=s[1],u=s[2],n=s[3];return i||r?r>0?Math.acos(i/this.scaleX):-Math.acos(i/this.scaleX):u||n?g.TAU-(n>0?Math.acos(-u/this.scaleY):-Math.acos(u/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var s=this.matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,this},translate:function(s,i){var r=this.matrix;return r[4]=r[0]*s+r[2]*i+r[4],r[5]=r[1]*s+r[3]*i+r[5],this},scale:function(s,i){var r=this.matrix;return r[0]*=s,r[1]*=s,r[2]*=i,r[3]*=i,this},rotate:function(s){var i=Math.sin(s),r=Math.cos(s),u=this.matrix,n=u[0],o=u[1],f=u[2],d=u[3];return u[0]=n*r+f*i,u[1]=o*r+d*i,u[2]=n*-i+f*r,u[3]=o*-i+d*r,this},multiply:function(s,i){var r=this.matrix,u=s.matrix,n=r[0],o=r[1],f=r[2],d=r[3],v=r[4],m=r[5],T=u[0],E=u[1],y=u[2],C=u[3],A=u[4],M=u[5],R=i===void 0?r:i.matrix;return R[0]=T*n+E*f,R[1]=T*o+E*d,R[2]=y*n+C*f,R[3]=y*o+C*d,R[4]=A*n+M*f+v,R[5]=A*o+M*d+m,R},multiplyWithOffset:function(s,i,r){var u=this.matrix,n=s.matrix,o=u[0],f=u[1],d=u[2],v=u[3],m=u[4],T=u[5],E=i*o+r*d+m,y=i*f+r*v+T,C=n[0],A=n[1],M=n[2],R=n[3],O=n[4],L=n[5];return u[0]=C*o+A*d,u[1]=C*f+A*v,u[2]=M*o+R*d,u[3]=M*f+R*v,u[4]=O*o+L*d+E,u[5]=O*f+L*v+y,this},transform:function(s,i,r,u,n,o){var f=this.matrix,d=f[0],v=f[1],m=f[2],T=f[3],E=f[4],y=f[5];return f[0]=s*d+i*m,f[1]=s*v+i*T,f[2]=r*d+u*m,f[3]=r*v+u*T,f[4]=n*d+o*m+E,f[5]=n*v+o*T+y,this},transformPoint:function(s,i,r){r===void 0&&(r={x:0,y:0});var u=this.matrix,n=u[0],o=u[1],f=u[2],d=u[3],v=u[4],m=u[5];return r.x=s*n+i*f+v,r.y=s*o+i*d+m,r},invert:function(){var s=this.matrix,i=s[0],r=s[1],u=s[2],n=s[3],o=s[4],f=s[5],d=i*n-r*u;return s[0]=n/d,s[1]=-r/d,s[2]=-u/d,s[3]=i/d,s[4]=(u*f-n*o)/d,s[5]=-(i*f-r*o)/d,this},copyFrom:function(s){var i=this.matrix;return i[0]=s.a,i[1]=s.b,i[2]=s.c,i[3]=s.d,i[4]=s.e,i[5]=s.f,this},copyFromArray:function(s){var i=this.matrix;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],this},copyToContext:function(s){var i=this.matrix;return s.transform(i[0],i[1],i[2],i[3],i[4],i[5]),s},setToContext:function(s){var i=this.matrix;return s.setTransform(i[0],i[1],i[2],i[3],i[4],i[5]),s},copyToArray:function(s){var i=this.matrix;return s===void 0?s=[i[0],i[1],i[2],i[3],i[4],i[5]]:(s[0]=i[0],s[1]=i[1],s[2]=i[2],s[3]=i[3],s[4]=i[4],s[5]=i[5]),s},setTransform:function(s,i,r,u,n,o){var f=this.matrix;return f[0]=s,f[1]=i,f[2]=r,f[3]=u,f[4]=n,f[5]=o,this},decomposeMatrix:function(){var s=this.decomposedMatrix,i=this.matrix,r=i[0],u=i[1],n=i[2],o=i[3],f=r*o-u*n;if(s.translateX=i[4],s.translateY=i[5],r||u){var d=Math.sqrt(r*r+u*u);s.rotation=u>0?Math.acos(r/d):-Math.acos(r/d),s.scaleX=d,s.scaleY=f/d}else if(n||o){var v=Math.sqrt(n*n+o*o);s.rotation=Math.PI*.5-(o>0?Math.acos(-n/v):-Math.acos(n/v)),s.scaleX=f/v,s.scaleY=v}else s.rotation=0,s.scaleX=0,s.scaleY=0;return s},applyITRS:function(s,i,r,u,n){var o=this.matrix,f=Math.sin(r),d=Math.cos(r);return o[4]=s,o[5]=i,o[0]=d*u,o[1]=f*u,o[2]=-f*n,o[3]=d*n,this},applyInverse:function(s,i,r){r===void 0&&(r=new h);var u=this.matrix,n=u[0],o=u[1],f=u[2],d=u[3],v=u[4],m=u[5],T=1/(n*d+f*-o);return r.x=d*T*s+-f*T*i+(m*f-v*d)*T,r.y=n*T*i+-o*T*s+(-m*n+v*o)*T,r},setQuad:function(s,i,r,u,n,o){o===void 0&&(o=this.quad);var f=this.matrix,d=f[0],v=f[1],m=f[2],T=f[3],E=f[4],y=f[5];return o[0]=s*d+i*m+E,o[1]=s*v+i*T+y,o[2]=s*d+u*m+E,o[3]=s*v+u*T+y,o[4]=r*d+u*m+E,o[5]=r*v+u*T+y,o[6]=r*d+i*m+E,o[7]=r*v+i*T+y,n&&o.forEach(function(C,A){o[A]=Math.round(C)}),o},getX:function(s,i){return s*this.a+i*this.c+this.e},getY:function(s,i){return s*this.b+i*this.d+this.f},getXRound:function(s,i,r){var u=this.getX(s,i);return r&&(u=Math.round(u)),u},getYRound:function(s,i,r){var u=this.getY(s,i);return r&&(u=Math.round(u)),u},getCSSMatrix:function(){var s=this.matrix;return"matrix("+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});p.exports=a},59694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(l){l?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=~S)}},setVisible:function(l){return this.visible=l,this}};p.exports=t},64937:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Alpha:t(97123),AlphaSingle:t(15720),BlendMode:t(69732),ComputedSize:t(28284),Crop:t(85293),Depth:t(14975),Flip:t(92972),FX:t(88677),GetBounds:t(80693),Mask:t(39171),Origin:t(28072),PathFollower:t(54211),Pipeline:t(58210),PostPipeline:t(44086),ScrollFactor:t(45900),Size:t(31654),Texture:t(82081),TextureCrop:t(21850),Tint:t(58072),ToJSON:t(48129),Transform:t(56584),TransformMatrix:t(69360),Visible:t(59694)}},70339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59959),g=t(95723),h=t(56694),a=t(64937),s=t(56631),i=t(89980),r=t(74118),u=t(98524),n=t(58795),o=t(93736),f=new h({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,u],initialize:function(v,m,T,E){i.call(this,v,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this.tempTransformMatrix=new a.TransformMatrix,this._sortKey="",this._sysEvents=v.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(m,T),this.setBlendMode(g.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(d){return d===void 0&&(d=!0),this.exclusive=d,this},getBounds:function(d){if(d===void 0&&(d=new r),d.setTo(this.x,this.y,0,0),this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix(),m=v.transformPoint(this.x,this.y);d.setTo(m.x,m.y,0,0)}if(this.list.length>0){var T=this.list,E=new r,y=!1;d.setEmpty();for(var C=0;C<T.length;C++){var A=T[C];A.getBounds&&(A.getBounds(E),y?n(E,d,d):(d.setTo(E.x,E.y,E.width,E.height),y=!0))}}return d},addHandler:function(d){d.once(s.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.parentContainer=this,d.removeFromDisplayList(),d.addedToScene())},removeHandler:function(d){d.off(s.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer=null,d.removedFromScene(),d.addToDisplayList())},pointToContainer:function(d,v){v===void 0&&(v=new o),this.parentContainer?this.parentContainer.pointToContainer(d,v):(v.x=d.x,v.y=d.y);var m=this.tempTransformMatrix;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(d.x,d.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(d){return l.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,v){return l.AddAt(this.list,d,v,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,v){return d?(v===void 0&&(v=function(m,T){return m[d]-T[d]}),l.StableSort(this.list,v),this):this},getByName:function(d){return l.GetFirst(this.list,"name",d)},getRandom:function(d,v){return l.GetRandom(this.list,d,v)},getFirst:function(d,v,m,T){return l.GetFirst(this.list,d,v,m,T)},getAll:function(d,v,m,T){return l.GetAll(this.list,d,v,m,T)},count:function(d,v,m,T){return l.CountAllMatching(this.list,d,v,m,T)},swap:function(d,v){return l.Swap(this.list,d,v),this},moveTo:function(d,v){return l.MoveTo(this.list,d,v),this},moveAbove:function(d,v){return l.MoveAbove(this.list,d,v),this},moveBelow:function(d,v){return l.MoveBelow(this.list,d,v),this},remove:function(d,v){var m=l.Remove(this.list,d,this.removeHandler,this);if(v&&m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)m[T].destroy()}return this},removeAt:function(d,v){var m=l.RemoveAt(this.list,d,this.removeHandler,this);return v&&m&&m.destroy(),this},removeBetween:function(d,v,m){var T=l.RemoveBetween(this.list,d,v,this.removeHandler,this);if(m)for(var E=0;E<T.length;E++)T[E].destroy();return this},removeAll:function(d){var v=this.list;if(d){for(var m=0;m<v.length;m++)v[m]&&v[m].scene&&(v[m].off(s.DESTROY,this.remove,this),v[m].destroy());this.list=[]}else l.RemoveBetween(v,0,v.length,this.removeHandler,this);return this},bringToTop:function(d){return l.BringToTop(this.list,d),this},sendToBack:function(d){return l.SendToBack(this.list,d),this},moveUp:function(d){return l.MoveUp(this.list,d),this},moveDown:function(d){return l.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(d,v,m){var T=l.Replace(this.list,d,v);return T&&(this.addHandler(v),this.removeHandler(d),m&&d.destroy()),this},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,v,m,T){return l.SetAll(this.list,d,v,m,T),this},each:function(d,v){var m=[null],T,E=this.list.slice(),y=E.length;for(T=2;T<arguments.length;T++)m.push(arguments[T]);for(T=0;T<y;T++)m[0]=E[T],d.apply(v,m);return this},iterate:function(d,v){var m=[null],T;for(T=2;T<arguments.length;T++)m.push(arguments[T]);for(T=0;T<this.list.length;T++)m[0]=this.list[T],d.apply(v,m);return this},setScrollFactor:function(d,v,m){return v===void 0&&(v=d),m===void 0&&(m=!1),this.scrollFactorX=d,this.scrollFactorY=v,m&&(l.SetAll(this.list,"scrollFactorX",d),l.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});p.exports=f},13916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){g.addToRenderList(l);var a=l.list;if(a.length!==0){var s=l.localTransform;h?(s.loadIdentity(),s.multiply(h),s.translate(l.x,l.y),s.rotate(l.rotation),s.scale(l.scaleX,l.scaleY)):s.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var i=l.blendMode!==-1;i||t.setBlendMode(0);var r=l._alpha,u=l.scrollFactorX,n=l.scrollFactorY;l.mask&&l.mask.preRenderCanvas(t,null,g);for(var o=0;o<a.length;o++){var f=a[o];if(f.willRender(g)){var d=f.alpha,v=f.scrollFactorX,m=f.scrollFactorY;!i&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(v*u,m*n),f.setAlpha(d*r),f.renderCanvas(t,f,g,s),f.setAlpha(d),f.setScrollFactor(v,m)}}l.mask&&l.mask.postRenderCanvas(t)}};p.exports=S},44516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(70339),h=t(99325),a=t(20494);h.register("container",function(s,i){s===void 0&&(s={});var r=a(s,"x",0),u=a(s,"y",0),n=a(s,"children",null),o=new g(this.scene,r,u,n);return i!==void 0&&(s.add=i),l(this.scene,o,s),o})},23400:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70339),g=t(61286);g.register("container",function(h,a,s){return this.displayList.add(new l(this.scene,h,a,s))})},98524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(36934),h=t(13916),p.exports={renderWebGL:g,renderCanvas:h}},36934:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){g.addToRenderList(l);var a=l.list,s=a.length;if(s!==0){var i=l.localTransform;h?(i.loadIdentity(),i.multiply(h),i.translate(l.x,l.y),i.rotate(l.rotation),i.scale(l.scaleX,l.scaleY)):i.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),t.pipelines.preBatch(l);var r=l.blendMode!==-1;r||t.setBlendMode(0);for(var u=l.alpha,n=l.scrollFactorX,o=l.scrollFactorY,f=0;f<s;f++){var d=a[f];if(d.willRender(g)){var v,m,T,E;if(d.alphaTopLeft!==void 0)v=d.alphaTopLeft,m=d.alphaTopRight,T=d.alphaBottomLeft,E=d.alphaBottomRight;else{var y=d.alpha;v=y,m=y,T=y,E=y}var C=d.scrollFactorX,A=d.scrollFactorY;!r&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode);var M=d.mask;M&&M.preRenderWebGL(t,d,g);var R=d.type;R!==t.currentType&&(t.newType=!0,t.currentType=R),t.nextTypeMatch=f<s-1?a[f+1].type===t.currentType:!1,d.setScrollFactor(C*n,A*o),d.setAlpha(v*u,m*u,T*u,E*u),d.renderWebGL(t,d,g,i,l),d.setAlpha(v,m,T,E),d.setScrollFactor(C,A),M&&M.postRenderWebGL(t,g),t.newType=!1}}t.pipelines.postBatch(l)}};p.exports=S},2452:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(11603),a=t(89980),s=t(42911),i=t(55638),r=t(7599),u=t(51729),n=new l({Extends:a,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Origin,g.ScrollFactor,g.Transform,g.Visible,h],initialize:function(f,d,v,m,T,E){a.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new u,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,v),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),T,E):this.createElement(m,T,E):m&&this.setElement(m,T,E),f.sys.events.on(r.SLEEP,this.handleSceneEvent,this),f.sys.events.on(r.WAKE,this.handleSceneEvent,this),f.sys.events.on(r.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(o){var f=this.node,d=f.style;f&&(d.display=o.settings.visible?"block":"none")},setSkew:function(o,f){return o===void 0&&(o=0),f===void 0&&(f=o),this.skewX=o,this.skewY=f,this},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},addListener:function(o){if(this.node){o=o.split(" ");for(var f=0;f<o.length;f++)this.node.addEventListener(o[f],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var f=0;f<o.length;f++)this.node.removeEventListener(o[f],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},createElement:function(o,f,d){return this.setElement(document.createElement(o),f,d)},setElement:function(o,f,d){this.removeElement();var v;if(typeof o=="string"?(o[0]==="#"&&(o=o.substr(1)),v=document.getElementById(o)):typeof o=="object"&&o.nodeType===1&&(v=o),!v)return this;if(this.node=v,f&&s(f))for(var m in f)v.style[m]=f[m];else typeof f=="string"&&(v.style=f);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),d&&(v.innerText=d),this.updateSize()},createFromCache:function(o,f){var d=this.cache.get(o);return d&&this.createFromHTML(d,f),this},createFromHTML:function(o,f){f===void 0&&(f="div"),this.removeElement();var d=document.createElement(f);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),d.innerHTML=o,this.updateSize()},removeElement:function(){return this.node&&(i(this.node),this.node=null),this},updateSize:function(){var o=this.node,f=o.getBoundingClientRect();return this.width=o.clientWidth,this.height=o.clientHeight,this.displayWidth=f.width||0,this.displayHeight=f.height||0,this},getChildByProperty:function(o,f){if(this.node){for(var d=this.node.querySelectorAll("*"),v=0;v<d.length;v++)if(d[v][o]===f)return d[v]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setClassName:function(o){return this.node&&(this.node.className=o,this.updateSize()),this},setText:function(o){return this.node&&(this.node.innerText=o,this.updateSize()),this},setHTML:function(o){return this.node&&(this.node.innerHTML=o,this.updateSize()),this},preRender:function(){var o=this.parentContainer,f=this.node;f&&o&&!o.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(r.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(r.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(r.PRE_RENDER,this.preRender,this)}});p.exports=n},66070:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2452),g=t(89980),h=t(69360),a=new h,s=new h,i=new h,r=function(u,n,o,f){if(n.node){var d=n.node.style,v=n.scene.sys.settings;if(!d||!v.visible||g.RENDER_MASK!==n.renderFlags||n.cameraFilter!==0&&n.cameraFilter&o.id||n.parentContainer&&!n.parentContainer.willRender()){d.display="none";return}var m=n.parentContainer,T=o.alpha*n.alpha;m&&(T*=m.alpha);var E=a,y=s,C=i,A=0,M=0,R="0%",O="0%";f?(A=n.width*n.scaleX*n.originX,M=n.height*n.scaleY*n.originY,y.applyITRS(n.x-A,n.y-M,n.rotation,n.scaleX,n.scaleY),E.copyFrom(o.matrix),E.multiplyWithOffset(f,-o.scrollX*n.scrollFactorX,-o.scrollY*n.scrollFactorY),y.e=n.x-A,y.f=n.y-M,E.multiply(y,C)):(A=n.width*n.originX,M=n.height*n.originY,y.applyITRS(n.x-A,n.y-M,n.rotation,n.scaleX,n.scaleY),E.copyFrom(o.matrix),R=100*n.originX+"%",O=100*n.originY+"%",y.e-=o.scrollX*n.scrollFactorX,y.f-=o.scrollY*n.scrollFactorY,E.multiply(y,C)),n.transformOnly||(d.display="block",d.opacity=T,d.zIndex=n._depth,d.pointerEvents=n.pointerEvents,d.mixBlendMode=l[n._blendMode]),d.transform=C.getCSSMatrix()+" skew("+n.skewX+"rad, "+n.skewY+"rad) rotate3d("+n.rotate3d.x+","+n.rotate3d.y+","+n.rotate3d.z+","+n.rotate3d.w+n.rotate3dAngle+")",d.transformOrigin=R+" "+O}};p.exports=r},66788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(38943),g=t(61286);g.register("dom",function(h,a,s,i,r){var u=new l(this.scene,h,a,s,i,r);return this.displayList.add(u),u})},11603:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(66070),h=t(66070),p.exports={renderWebGL:g,renderCanvas:h}},65492:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},98398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},40239:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},17286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},31496:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="created"},89587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="error"},59792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="locked"},96342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},6017:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="playing"},49614:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},24418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeked"},87318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeking"},50009:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stalled"},61922:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},79501:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="textureready"},4052:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},54857:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unsupported"},56631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(65492),DESTROY:t(98398),REMOVED_FROM_SCENE:t(40239),VIDEO_COMPLETE:t(17286),VIDEO_CREATED:t(31496),VIDEO_ERROR:t(89587),VIDEO_LOCKED:t(59792),VIDEO_LOOP:t(96342),VIDEO_PLAY:t(49614),VIDEO_PLAYING:t(6017),VIDEO_SEEKED:t(24418),VIDEO_SEEKING:t(87318),VIDEO_STALLED:t(50009),VIDEO_STOP:t(61922),VIDEO_TEXTURE:t(79501),VIDEO_UNLOCKED:t(4052),VIDEO_UNSUPPORTED:t(54857)}},39419:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(89980),a=t(79394),s=new l({Extends:h,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.Origin,g.ScrollFactor,g.Size,g.Texture,g.Tint,g.Transform,g.Visible,a],initialize:function(r){h.call(this,r,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});p.exports=s},96699:()=>{},41155:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39419),g=t(61286);g.register("extern",function(){var h=new l(this.scene);return this.displayList.add(h),h})},79394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(81410),h=t(96699),p.exports={renderWebGL:g,renderCanvas:h}},81410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=function(h,a,s,i){h.pipelines.clear();var r=l(a,s,i).calc;a.render.call(a,h,s,r),h.pipelines.rebind()};p.exports=g},36266:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(51052),g=t(56694),h=t(36266),a=t(64937),s=t(95669),i=t(89980),r=t(72632),u=t(10850),n=t(83392),o=t(60898),f=new g({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,o],initialize:function(v,m){var T=u(m,"x",0),E=u(m,"y",0);i.call(this,v,"Graphics"),this.setPosition(T,E),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(m)},setDefaultStyles:function(d){return u(d,"lineStyle",null)&&(this.defaultStrokeWidth=u(d,"lineStyle.width",1),this.defaultStrokeColor=u(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=u(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),u(d,"fillStyle",null)&&(this.defaultFillColor=u(d,"fillStyle.color",16777215),this.defaultFillAlpha=u(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,v,m){return m===void 0&&(m=1),this.commandBuffer.push(h.LINE_STYLE,d,v,m),this._lineWidth=d,this},fillStyle:function(d,v){return v===void 0&&(v=1),this.commandBuffer.push(h.FILL_STYLE,d,v),this},fillGradientStyle:function(d,v,m,T,E,y,C,A){return E===void 0&&(E=1),y===void 0&&(y=E),C===void 0&&(C=E),A===void 0&&(A=E),this.commandBuffer.push(h.GRADIENT_FILL_STYLE,E,y,C,A,d,v,m,T),this},lineGradientStyle:function(d,v,m,T,E,y){return y===void 0&&(y=1),this.commandBuffer.push(h.GRADIENT_LINE_STYLE,d,y,v,m,T,E),this},beginPath:function(){return this.commandBuffer.push(h.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(h.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(h.FILL_PATH),this},fill:function(){return this.commandBuffer.push(h.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(h.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(h.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,v,m){return this.beginPath(),this.arc(d,v,m,0,n.PI2),this.fillPath(),this},strokeCircle:function(d,v,m){return this.beginPath(),this.arc(d,v,m,0,n.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,v,m,T){return this.commandBuffer.push(h.FILL_RECT,d,v,m,T),this},strokeRect:function(d,v,m,T){var E=this._lineWidth/2,y=d-E,C=d+E;return this.beginPath(),this.moveTo(d,v),this.lineTo(d,v+T),this.strokePath(),this.beginPath(),this.moveTo(d+m,v),this.lineTo(d+m,v+T),this.strokePath(),this.beginPath(),this.moveTo(y,v),this.lineTo(C+m,v),this.strokePath(),this.beginPath(),this.moveTo(y,v+T),this.lineTo(C+m,v+T),this.strokePath(),this},fillRoundedRect:function(d,v,m,T,E){E===void 0&&(E=20);var y=E,C=E,A=E,M=E;typeof E!="number"&&(y=r(E,"tl",20),C=r(E,"tr",20),A=r(E,"bl",20),M=r(E,"br",20));var R=y>=0,O=C>=0,L=A>=0,I=M>=0;return y=Math.abs(y),C=Math.abs(C),A=Math.abs(A),M=Math.abs(M),this.beginPath(),this.moveTo(d+y,v),this.lineTo(d+m-C,v),O?this.arc(d+m-C,v+C,C,-n.TAU,0):this.arc(d+m,v,C,Math.PI,n.TAU,!0),this.lineTo(d+m,v+T-M),I?this.arc(d+m-M,v+T-M,M,0,n.TAU):this.arc(d+m,v+T,M,-n.TAU,Math.PI,!0),this.lineTo(d+A,v+T),L?this.arc(d+A,v+T-A,A,n.TAU,Math.PI):this.arc(d,v+T,A,0,-n.TAU,!0),this.lineTo(d,v+y),R?this.arc(d+y,v+y,y,-Math.PI,-n.TAU):this.arc(d,v,y,n.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,v,m,T,E){E===void 0&&(E=20);var y=E,C=E,A=E,M=E,R=Math.min(m,T)/2;typeof E!="number"&&(y=r(E,"tl",20),C=r(E,"tr",20),A=r(E,"bl",20),M=r(E,"br",20));var O=y>=0,L=C>=0,I=A>=0,N=M>=0;return y=Math.min(Math.abs(y),R),C=Math.min(Math.abs(C),R),A=Math.min(Math.abs(A),R),M=Math.min(Math.abs(M),R),this.beginPath(),this.moveTo(d+y,v),this.lineTo(d+m-C,v),this.moveTo(d+m-C,v),L?this.arc(d+m-C,v+C,C,-n.TAU,0):this.arc(d+m,v,C,Math.PI,n.TAU,!0),this.lineTo(d+m,v+T-M),this.moveTo(d+m,v+T-M),N?this.arc(d+m-M,v+T-M,M,0,n.TAU):this.arc(d+m,v+T,M,-n.TAU,Math.PI,!0),this.lineTo(d+A,v+T),this.moveTo(d+A,v+T),I?this.arc(d+A,v+T-A,A,n.TAU,Math.PI):this.arc(d,v+T,A,0,-n.TAU,!0),this.lineTo(d,v+y),this.moveTo(d,v+y),O?this.arc(d+y,v+y,y,-Math.PI,-n.TAU):this.arc(d,v,y,n.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,v){return this.fillPoint(d.x,d.y,v)},fillPoint:function(d,v,m){return!m||m<1?m=1:(d-=m/2,v-=m/2),this.commandBuffer.push(h.FILL_RECT,d,v,m,m),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,v,m,T,E,y){return this.commandBuffer.push(h.FILL_TRIANGLE,d,v,m,T,E,y),this},strokeTriangle:function(d,v,m,T,E,y){return this.commandBuffer.push(h.STROKE_TRIANGLE,d,v,m,T,E,y),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,v,m,T){return this.beginPath(),this.moveTo(d,v),this.lineTo(m,T),this.strokePath(),this},lineTo:function(d,v){return this.commandBuffer.push(h.LINE_TO,d,v),this},moveTo:function(d,v){return this.commandBuffer.push(h.MOVE_TO,d,v),this},strokePoints:function(d,v,m,T){v===void 0&&(v=!1),m===void 0&&(m=!1),T===void 0&&(T=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var E=1;E<T;E++)this.lineTo(d[E].x,d[E].y);return v&&this.lineTo(d[0].x,d[0].y),m&&this.closePath(),this.strokePath(),this},fillPoints:function(d,v,m,T){v===void 0&&(v=!1),m===void 0&&(m=!1),T===void 0&&(T=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var E=1;E<T;E++)this.lineTo(d[E].x,d[E].y);return v&&this.lineTo(d[0].x,d[0].y),m&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,v){v===void 0&&(v=32);var m=d.getPoints(v);return this.strokePoints(m,!0)},strokeEllipse:function(d,v,m,T,E){E===void 0&&(E=32);var y=new s(d,v,m,T),C=y.getPoints(E);return this.strokePoints(C,!0)},fillEllipseShape:function(d,v){v===void 0&&(v=32);var m=d.getPoints(v);return this.fillPoints(m,!0)},fillEllipse:function(d,v,m,T,E){E===void 0&&(E=32);var y=new s(d,v,m,T),C=y.getPoints(E);return this.fillPoints(C,!0)},arc:function(d,v,m,T,E,y,C){return y===void 0&&(y=!1),C===void 0&&(C=0),this.commandBuffer.push(h.ARC,d,v,m,T,E,y,C),this},slice:function(d,v,m,T,E,y,C){return y===void 0&&(y=!1),C===void 0&&(C=0),this.commandBuffer.push(h.BEGIN_PATH),this.commandBuffer.push(h.MOVE_TO,d,v),this.commandBuffer.push(h.ARC,d,v,m,T,E,y,C),this.commandBuffer.push(h.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(h.SAVE),this},restore:function(){return this.commandBuffer.push(h.RESTORE),this},translateCanvas:function(d,v){return this.commandBuffer.push(h.TRANSLATE,d,v),this},scaleCanvas:function(d,v){return this.commandBuffer.push(h.SCALE,d,v),this},rotateCanvas:function(d){return this.commandBuffer.push(h.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,v,m){var T=this.scene.sys,E=T.game.renderer;v===void 0&&(v=T.scale.width),m===void 0&&(m=T.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,v,m),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var y,C,A={willReadFrequently:!0};if(typeof d=="string")if(T.textures.exists(d)){y=T.textures.get(d);var M=y.getSourceImage();M instanceof HTMLCanvasElement&&(C=M.getContext("2d",A))}else y=T.textures.createCanvas(d,v,m),C=y.getSourceImage().getContext("2d",A);else d instanceof HTMLCanvasElement&&(C=d.getContext("2d",A));return C&&(this.renderCanvas(E,this,f.TargetCamera,null,C,!1),y&&y.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new l,p.exports=f},91543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36266),g=t(49584),h=function(a,s,i,r,u,n){var o=s.commandBuffer,f=o.length,d=u||a.currentContext;if(!(f===0||!g(a,d,s,i,r))){i.addToRenderList(s);var v=1,m=1,T=0,E=0,y=1,C=0,A=0,M=0;d.beginPath();for(var R=0;R<f;++R){var O=o[R];switch(O){case l.ARC:d.arc(o[R+1],o[R+2],o[R+3],o[R+4],o[R+5],o[R+6]),R+=7;break;case l.LINE_STYLE:y=o[R+1],T=o[R+2],v=o[R+3],C=(T&16711680)>>>16,A=(T&65280)>>>8,M=T&255,d.strokeStyle="rgba("+C+","+A+","+M+","+v+")",d.lineWidth=y,R+=3;break;case l.FILL_STYLE:E=o[R+1],m=o[R+2],C=(E&16711680)>>>16,A=(E&65280)>>>8,M=E&255,d.fillStyle="rgba("+C+","+A+","+M+","+m+")",R+=2;break;case l.BEGIN_PATH:d.beginPath();break;case l.CLOSE_PATH:d.closePath();break;case l.FILL_PATH:n||d.fill();break;case l.STROKE_PATH:n||d.stroke();break;case l.FILL_RECT:n?d.rect(o[R+1],o[R+2],o[R+3],o[R+4]):d.fillRect(o[R+1],o[R+2],o[R+3],o[R+4]),R+=4;break;case l.FILL_TRIANGLE:d.beginPath(),d.moveTo(o[R+1],o[R+2]),d.lineTo(o[R+3],o[R+4]),d.lineTo(o[R+5],o[R+6]),d.closePath(),n||d.fill(),R+=6;break;case l.STROKE_TRIANGLE:d.beginPath(),d.moveTo(o[R+1],o[R+2]),d.lineTo(o[R+3],o[R+4]),d.lineTo(o[R+5],o[R+6]),d.closePath(),n||d.stroke(),R+=6;break;case l.LINE_TO:d.lineTo(o[R+1],o[R+2]),R+=2;break;case l.MOVE_TO:d.moveTo(o[R+1],o[R+2]),R+=2;break;case l.LINE_FX_TO:d.lineTo(o[R+1],o[R+2]),R+=5;break;case l.MOVE_FX_TO:d.moveTo(o[R+1],o[R+2]),R+=5;break;case l.SAVE:d.save();break;case l.RESTORE:d.restore();break;case l.TRANSLATE:d.translate(o[R+1],o[R+2]),R+=2;break;case l.SCALE:d.scale(o[R+1],o[R+2]),R+=2;break;case l.ROTATE:d.rotate(o[R+1]),R+=1;break;case l.GRADIENT_FILL_STYLE:R+=5;break;case l.GRADIENT_LINE_STYLE:R+=6;break}}d.restore()}};p.exports=h},41286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99325),g=t(33182);l.register("graphics",function(h,a){h===void 0&&(h={}),a!==void 0&&(h.add=a);var s=new g(this.scene,h);return h.add&&this.scene.sys.displayList.add(s),s})},13122:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33182),g=t(61286);g.register("graphics",function(h){return this.displayList.add(new l(this.scene,h))})},60898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(34429),h=t(91543),h=t(91543),p.exports={renderWebGL:g,renderCanvas:h}},34429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36266),g=t(73329),h=t(69360),a=t(75512),s=function(o,f,d){this.x=o,this.y=f,this.width=d},i=function(o,f,d){this.points=[],this.pointsLength=1,this.points[0]=new s(o,f,d)},r=[],u=new h,n=function(o,f,d,v){if(f.commandBuffer.length!==0){d.addToRenderList(f);var m=o.pipelines.set(f.pipeline,f);o.pipelines.preBatch(f);for(var T=g(f,d,v).calc,E=u.loadIdentity(),y=f.commandBuffer,C=d.alpha*f.alpha,A=1,M=m.fillTint,R=m.strokeTint,O=0,L=0,I=0,N=.01,B=Math.PI*2,b,X=[],W=0,$=!0,z=null,V=a.getTintAppendFloatAlpha,D=0;D<y.length;D++)switch(b=y[D],b){case l.BEGIN_PATH:{X.length=0,z=null,$=!0;break}case l.CLOSE_PATH:{$=!1,z&&z.points.length&&z.points.push(z.points[0]);break}case l.FILL_PATH:{for(W=0;W<X.length;W++)m.batchFillPath(X[W].points,E,T);break}case l.STROKE_PATH:{for(W=0;W<X.length;W++)m.batchStrokePath(X[W].points,A,$,E,T);break}case l.LINE_STYLE:{A=y[++D];var G=y[++D],U=y[++D]*C,Y=V(G,U);R.TL=Y,R.TR=Y,R.BL=Y,R.BR=Y;break}case l.FILL_STYLE:{var H=y[++D],Z=y[++D]*C,K=V(H,Z);M.TL=K,M.TR=K,M.BL=K,M.BR=K;break}case l.GRADIENT_FILL_STYLE:{var k=y[++D]*C,j=y[++D]*C,Q=y[++D]*C,J=y[++D]*C;M.TL=V(y[++D],k),M.TR=V(y[++D],j),M.BL=V(y[++D],Q),M.BR=V(y[++D],J);break}case l.GRADIENT_LINE_STYLE:{A=y[++D];var _=y[++D]*C;R.TL=V(y[++D],_),R.TR=V(y[++D],_),R.BL=V(y[++D],_),R.BR=V(y[++D],_);break}case l.ARC:{var q=0,it=y[++D],at=y[++D],ht=y[++D],lt=y[++D],tt=y[++D],st=y[++D],rt=y[++D];for(tt-=lt,st?tt<-B?tt=-B:tt>0&&(tt=-B+tt%B):tt>B?tt=B:tt<0&&(tt=B+tt%B),z===null&&(z=new i(it+Math.cos(lt)*ht,at+Math.sin(lt)*ht,A),X.push(z),q+=N);q<1+rt;)I=tt*q+lt,O=it+Math.cos(I)*ht,L=at+Math.sin(I)*ht,z.points.push(new s(O,L,A)),q+=N;I=tt+lt,O=it+Math.cos(I)*ht,L=at+Math.sin(I)*ht,z.points.push(new s(O,L,A));break}case l.FILL_RECT:{m.batchFillRect(y[++D],y[++D],y[++D],y[++D],E,T);break}case l.FILL_TRIANGLE:{m.batchFillTriangle(y[++D],y[++D],y[++D],y[++D],y[++D],y[++D],E,T);break}case l.STROKE_TRIANGLE:{m.batchStrokeTriangle(y[++D],y[++D],y[++D],y[++D],y[++D],y[++D],A,E,T);break}case l.LINE_TO:{z!==null?z.points.push(new s(y[++D],y[++D],A)):(z=new i(y[++D],y[++D],A),X.push(z));break}case l.MOVE_TO:{z=new i(y[++D],y[++D],A),X.push(z);break}case l.SAVE:{r.push(E.copyToArray());break}case l.RESTORE:{E.copyFromArray(r.pop());break}case l.TRANSLATE:{it=y[++D],at=y[++D],E.translate(it,at);break}case l.SCALE:{it=y[++D],at=y[++D],E.scale(it,at);break}case l.ROTATE:{E.rotate(y[++D]);break}}o.pipelines.postBatch(f)}};p.exports=n},59192:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83979),g=t(56694),h=t(56631),a=t(6659),s=t(71608),i=t(72632),r=t(10850),u=t(19256),n=t(42911),o=t(75757),f=t(58403),d=t(13747),v=new g({Extends:a,initialize:function(T,E,y){a.call(this),y?E&&!Array.isArray(E)&&(E=[E]):Array.isArray(E)?n(E[0])&&(y=E,E=null):n(E)&&(y=E,E=null),this.scene=T,this.children=new f,this.isParent=!0,this.type="Group",this.classType=i(y,"classType",d),this.name=i(y,"name",""),this.active=i(y,"active",!0),this.maxSize=i(y,"maxSize",-1),this.defaultKey=i(y,"defaultKey",null),this.defaultFrame=i(y,"defaultFrame",null),this.runChildUpdate=i(y,"runChildUpdate",!1),this.createCallback=i(y,"createCallback",null),this.removeCallback=i(y,"removeCallback",null),this.createMultipleCallback=i(y,"createMultipleCallback",null),this.internalCreateCallback=i(y,"internalCreateCallback",null),this.internalRemoveCallback=i(y,"internalRemoveCallback",null),E&&this.addMultiple(E),y&&this.createMultiple(y),this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(m,T,E,y,C,A){if(m===void 0&&(m=0),T===void 0&&(T=0),E===void 0&&(E=this.defaultKey),y===void 0&&(y=this.defaultFrame),C===void 0&&(C=!0),A===void 0&&(A=!0),this.isFull())return null;var M=new this.classType(this.scene,m,T,E,y);return M.addToDisplayList(this.scene.sys.displayList),M.addToUpdateList(),M.visible=C,M.setActive(A),this.add(M),M},createMultiple:function(m){if(this.isFull())return[];Array.isArray(m)||(m=[m]);var T=[];if(m[0].key)for(var E=0;E<m.length;E++){var y=this.createFromConfig(m[E]);T=T.concat(y)}return T},createFromConfig:function(m){if(this.isFull())return[];this.classType=i(m,"classType",this.classType);var T=i(m,"key",void 0),E=i(m,"frame",null),y=i(m,"visible",!0),C=i(m,"active",!0),A=[];if(T===void 0)return A;Array.isArray(T)||(T=[T]),Array.isArray(E)||(E=[E]);var M=i(m,"repeat",0),R=i(m,"randomKey",!1),O=i(m,"randomFrame",!1),L=i(m,"yoyo",!1),I=i(m,"quantity",!1),N=i(m,"frameQuantity",1),B=i(m,"max",0),b=o(T,E,{max:B,qty:I||N,random:R,randomB:O,repeat:M,yoyo:L});m.createCallback&&(this.createCallback=m.createCallback),m.removeCallback&&(this.removeCallback=m.removeCallback);for(var X=0;X<b.length;X++){var W=this.create(0,0,b[X].a,b[X].b,y,C);if(!W)break;A.push(W)}if(u(m,"setXY")){var $=r(m,"setXY.x",0),z=r(m,"setXY.y",0),V=r(m,"setXY.stepX",0),D=r(m,"setXY.stepY",0);l.SetXY(A,$,z,V,D)}if(u(m,"setRotation")){var G=r(m,"setRotation.value",0),U=r(m,"setRotation.step",0);l.SetRotation(A,G,U)}if(u(m,"setScale")){var Y=r(m,"setScale.x",1),H=r(m,"setScale.y",Y),Z=r(m,"setScale.stepX",0),K=r(m,"setScale.stepY",0);l.SetScale(A,Y,H,Z,K)}if(u(m,"setOrigin")){var k=r(m,"setOrigin.x",.5),j=r(m,"setOrigin.y",k),Q=r(m,"setOrigin.stepX",0),J=r(m,"setOrigin.stepY",0);l.SetOrigin(A,k,j,Q,J)}if(u(m,"setAlpha")){var _=r(m,"setAlpha.value",1),q=r(m,"setAlpha.step",0);l.SetAlpha(A,_,q)}if(u(m,"setDepth")){var it=r(m,"setDepth.value",0),at=r(m,"setDepth.step",0);l.SetDepth(A,it,at)}if(u(m,"setScrollFactor")){var ht=r(m,"setScrollFactor.x",1),lt=r(m,"setScrollFactor.y",ht),tt=r(m,"setScrollFactor.stepX",0),st=r(m,"setScrollFactor.stepY",0);l.SetScrollFactor(A,ht,lt,tt,st)}var rt=i(m,"hitArea",null),dt=i(m,"hitAreaCallback",null);rt&&l.SetHitArea(A,rt,dt);var ft=i(m,"gridAlign",!1);return ft&&l.GridAlign(A,ft),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(m,T){if(!(!this.runChildUpdate||this.children.size===0))for(var E=this.children.entries.slice(),y=0;y<E.length;y++){var C=E[y];C.active&&C.update(m,T)}},add:function(m,T){return T===void 0&&(T=!1),this.isFull()?this:(this.children.set(m),this.internalCreateCallback&&this.internalCreateCallback.call(this,m),this.createCallback&&this.createCallback.call(this,m),T&&(m.addToDisplayList(this.scene.sys.displayList),m.addToUpdateList()),m.on(h.DESTROY,this.remove,this),this)},addMultiple:function(m,T){if(T===void 0&&(T=!1),Array.isArray(m))for(var E=0;E<m.length;E++)this.add(m[E],T);return this},remove:function(m,T,E){return T===void 0&&(T=!1),E===void 0&&(E=!1),this.children.contains(m)?(this.children.delete(m),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,m),this.removeCallback&&this.removeCallback.call(this,m),m.off(h.DESTROY,this.remove,this),E?m.destroy():T&&(m.removeFromDisplayList(),m.removeFromUpdateList()),this):this},clear:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1);for(var E=this.children,y=0;y<E.size;y++){var C=E.entries[y];C.off(h.DESTROY,this.remove,this),T?C.destroy():m&&(C.removeFromDisplayList(),C.removeFromUpdateList())}return this.children.clear(),this},contains:function(m){return this.children.contains(m)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(m,T,E,y){return s(this.children.entries,m,T,E,y)},getFirst:function(m,T,E,y,C,A,M){return this.getHandler(!0,1,m,T,E,y,C,A,M)},getFirstNth:function(m,T,E,y,C,A,M,R){return this.getHandler(!0,m,T,E,y,C,A,M,R)},getLast:function(m,T,E,y,C,A,M){return this.getHandler(!1,1,m,T,E,y,C,A,M)},getLastNth:function(m,T,E,y,C,A,M,R){return this.getHandler(!1,m,T,E,y,C,A,M,R)},getHandler:function(m,T,E,y,C,A,M,R,O){E===void 0&&(E=!1),y===void 0&&(y=!1);var L,I,N=0,B=this.children.entries;if(m)for(I=0;I<B.length;I++)if(L=B[I],L.active===E){if(N++,N===T)break}else L=null;else for(I=B.length-1;I>=0;I--)if(L=B[I],L.active===E){if(N++,N===T)break}else L=null;return L?(typeof C=="number"&&(L.x=C),typeof A=="number"&&(L.y=A),L):y?this.create(C,A,M,R,O):null},get:function(m,T,E,y,C){return this.getFirst(!1,!0,m,T,E,y,C)},getFirstAlive:function(m,T,E,y,C,A){return this.getFirst(!0,m,T,E,y,C,A)},getFirstDead:function(m,T,E,y,C,A){return this.getFirst(!1,m,T,E,y,C,A)},playAnimation:function(m,T){return l.PlayAnimation(this.children.entries,m,T),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(m){m===void 0&&(m=!0);for(var T=0,E=0;E<this.children.size;E++)this.children.entries[E].active===m&&T++;return T},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var m=this.getTotalUsed(),T=this.maxSize===-1?999999999999:this.maxSize;return T-m},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},propertyValueSet:function(m,T,E,y,C){return l.PropertyValueSet(this.children.entries,m,T,E,y,C),this},propertyValueInc:function(m,T,E,y,C){return l.PropertyValueInc(this.children.entries,m,T,E,y,C),this},setX:function(m,T){return l.SetX(this.children.entries,m,T),this},setY:function(m,T){return l.SetY(this.children.entries,m,T),this},setXY:function(m,T,E,y){return l.SetXY(this.children.entries,m,T,E,y),this},incX:function(m,T){return l.IncX(this.children.entries,m,T),this},incY:function(m,T){return l.IncY(this.children.entries,m,T),this},incXY:function(m,T,E,y){return l.IncXY(this.children.entries,m,T,E,y),this},shiftPosition:function(m,T,E){return l.ShiftPosition(this.children.entries,m,T,E),this},angle:function(m,T){return l.Angle(this.children.entries,m,T),this},rotate:function(m,T){return l.Rotate(this.children.entries,m,T),this},rotateAround:function(m,T){return l.RotateAround(this.children.entries,m,T),this},rotateAroundDistance:function(m,T,E){return l.RotateAroundDistance(this.children.entries,m,T,E),this},setAlpha:function(m,T){return l.SetAlpha(this.children.entries,m,T),this},setTint:function(m,T,E,y){return l.SetTint(this.children.entries,m,T,E,y),this},setOrigin:function(m,T,E,y){return l.SetOrigin(this.children.entries,m,T,E,y),this},scaleX:function(m,T){return l.ScaleX(this.children.entries,m,T),this},scaleY:function(m,T){return l.ScaleY(this.children.entries,m,T),this},scaleXY:function(m,T,E,y){return l.ScaleXY(this.children.entries,m,T,E,y),this},setDepth:function(m,T){return l.SetDepth(this.children.entries,m,T),this},setBlendMode:function(m){return l.SetBlendMode(this.children.entries,m),this},setHitArea:function(m,T){return l.SetHitArea(this.children.entries,m,T),this},shuffle:function(){return l.Shuffle(this.children.entries),this},kill:function(m){this.children.contains(m)&&m.setActive(!1)},killAndHide:function(m){this.children.contains(m)&&(m.setActive(!1),m.setVisible(!1))},setVisible:function(m,T,E){return l.SetVisible(this.children.entries,m,T,E),this},toggleVisible:function(){return l.ToggleVisible(this.children.entries),this},destroy:function(m,T){m===void 0&&(m=!1),T===void 0&&(T=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(h.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(T,m),this.scene=void 0,this.children=void 0)}});p.exports=v},61295:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99325),g=t(59192);l.register("group",function(h){return new g(this.scene,null,h)})},62598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59192),g=t(61286);g.register("group",function(h,a){return this.updateList.add(new l(this.scene,h,a))})},1539:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(89980),a=t(57322),s=new l({Extends:h,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,a],initialize:function(r,u,n,o,f){h.call(this,r,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,f),this.setPosition(u,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=s},57786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){g.addToRenderList(l),t.batchSprite(l,l.frame,g,h)};p.exports=S},83556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(99325),h=t(20494),a=t(1539);g.register("image",function(s,i){s===void 0&&(s={});var r=h(s,"key",null),u=h(s,"frame",null),n=new a(this.scene,0,0,r,u);return i!==void 0&&(s.add=i),l(this.scene,n,s),n})},20927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1539),g=t(61286);g.register("image",function(h,a,s,i){return this.displayList.add(new l(this.scene,h,a,s,i))})},57322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(59390),h=t(57786),p.exports={renderWebGL:g,renderCanvas:h}},59390:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){g.addToRenderList(l),this.pipeline.batchSprite(l,g,h)};p.exports=S},48013:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Events:t(56631),DisplayList:t(91713),GameObjectCreator:t(99325),GameObjectFactory:t(61286),UpdateList:t(92034),Components:t(64937),GetCalcMatrix:t(73329),BuildGameObject:t(88933),BuildGameObjectAnimation:t(32291),GameObject:t(89980),BitmapText:t(44616),Blitter:t(52816),Bob:t(41664),Container:t(70339),DOMElement:t(38943),DynamicBitmapText:t(13468),Extern:t(39419),Graphics:t(33182),Group:t(59192),Image:t(1539),Layer:t(85305),Particles:t(27684),PathFollower:t(29598),RenderTexture:t(15996),RetroFont:t(55873),Rope:t(79968),Sprite:t(13747),Text:t(76555),GetTextSize:t(32979),MeasureText:t(27030),TextStyle:t(74744),TileSprite:t(35856),Zone:t(71030),Video:t(8630),Shape:t(91461),Arc:t(28593),Curve:t(15220),Ellipse:t(28591),Grid:t(39169),IsoBox:t(4415),IsoTriangle:t(65159),Line:t(579),Polygon:t(91249),Rectangle:t(517),Star:t(77843),Triangle:t(21873),Factories:{Blitter:t(38906),Container:t(23400),DOMElement:t(66788),DynamicBitmapText:t(94145),Extern:t(41155),Graphics:t(13122),Group:t(62598),Image:t(20927),Layer:t(17676),Particles:t(81212),PathFollower:t(19626),RenderTexture:t(29599),Rope:t(31982),Sprite:t(66135),StaticBitmapText:t(21797),Text:t(94627),TileSprite:t(20509),Zone:t(34546),Video:t(215),Arc:t(10369),Curve:t(10147),Ellipse:t(99869),Grid:t(9326),IsoBox:t(88154),IsoTriangle:t(67765),Line:t(85665),Polygon:t(88203),Rectangle:t(94355),Star:t(23962),Triangle:t(79296)},Creators:{Blitter:t(68452),Container:t(44516),DynamicBitmapText:t(67513),Graphics:t(41286),Group:t(61295),Image:t(83556),Layer:t(56378),Particles:t(765),RenderTexture:t(85692),Rope:t(96027),Sprite:t(89219),StaticBitmapText:t(95499),Text:t(75397),TileSprite:t(63950),Zone:t(24067),Video:t(65601)}};l.Shader=t(27902),l.Mesh=t(83321),l.NineSlice=t(44139),l.PointLight=t(13171),l.Plane=t(33412),l.Factories.Shader=t(51979),l.Factories.Mesh=t(8767),l.Factories.NineSlice=t(53778),l.Factories.PointLight=t(91201),l.Factories.Plane=t(58322),l.Creators.Shader=t(13908),l.Creators.Mesh=t(41839),l.Creators.NineSlice=t(40964),l.Creators.PointLight=t(162),l.Creators.Plane=t(10912),l.Light=t(14455),l.LightsManager=t(26193),l.LightsPlugin=t(50296),p.exports=l},85305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),g=t(56694),h=t(64937),a=t(48129),s=t(81078),i=t(6659),r=t(56631),u=t(71207),n=t(58010),o=t(7599),f=t(17922),d=new g({Extends:u,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.PostPipeline,h.Visible,i,n],initialize:function(m,T){u.call(this,m),i.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(l.SKIP_CHECK),T&&this.add(T),m.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(v,m){return this.data||(this.data=new s(this)),this.data.set(v,m),this},incData:function(v,m){return this.data||(this.data=new s(this)),this.data.inc(v,m),this},toggleData:function(v){return this.data||(this.data=new s(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new s(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,m=this.parentContainer,T=[];m&&(T.unshift(m.getIndex(v)),v=m,m.parentContainer);)m=m.parentContainer;return T.unshift(this.displayList.getIndex(v)),T},addChildCallback:function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(r.ADDED_TO_SCENE,v,this.scene),this.events.emit(o.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(r.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,m){return v._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),v.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(r.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});p.exports=d},834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=l.list;if(h.length!==0){l.depthSort();var a=l.blendMode!==-1;a||t.setBlendMode(0);var s=l._alpha;l.mask&&l.mask.preRenderCanvas(t,null,g);for(var i=0;i<h.length;i++){var r=h[i];if(r.willRender(g)){var u=r.alpha;!a&&r.blendMode!==t.currentBlendMode&&t.setBlendMode(r.blendMode),r.setAlpha(u*s),r.renderCanvas(t,r,g),r.setAlpha(u)}}l.mask&&l.mask.postRenderCanvas(t)}};p.exports=S},56378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(85305),h=t(99325),a=t(20494);h.register("layer",function(s,i){s===void 0&&(s={});var r=a(s,"children",null),u=new g(this.scene,r);return i!==void 0&&(s.add=i),l(this.scene,u,s),u})},17676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85305),g=t(61286);g.register("layer",function(h){return this.displayList.add(new l(this.scene,h))})},58010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(17576),h=t(834),p.exports={renderWebGL:g,renderCanvas:h}},17576:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=l.list,a=h.length;if(a!==0){l.depthSort(),t.pipelines.preBatch(l);var s=l.blendMode!==-1;s||t.setBlendMode(0);for(var i=l.alpha,r=0;r<a;r++){var u=h[r];if(u.willRender(g)){var n,o,f,d;if(u.alphaTopLeft!==void 0)n=u.alphaTopLeft,o=u.alphaTopRight,f=u.alphaBottomLeft,d=u.alphaBottomRight;else{var v=u.alpha;n=v,o=v,f=v,d=v}!s&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode);var m=u.mask;m&&m.preRenderWebGL(t,u,g);var T=u.type;T!==t.currentType&&(t.newType=!0,t.currentType=T),t.nextTypeMatch=r<a-1?h[r+1].type===t.currentType:!1,u.setAlpha(n*i,o*i,f*i,d*i),u.renderWebGL(t,u,g),u.setAlpha(n,o,f,d),m&&m.postRenderWebGL(t,g),t.newType=!1}}t.pipelines.postBatch(l)}};p.exports=S},14455:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26673),g=t(56694),h=t(64937),a=t(39298),s=t(75512),i=new g({Extends:l,Mixins:[h.Origin,h.ScrollFactor,h.Transform,h.Visible],initialize:function(u,n,o,f,d,v,m){l.call(this,u,n,o),this.color=new a(f,d,v),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(o)},displayWidth:{get:function(){return this.diameter},set:function(r){this.diameter=r}},displayHeight:{get:function(){return this.diameter},set:function(r){this.diameter=r}},width:{get:function(){return this.diameter},set:function(r){this.diameter=r}},height:{get:function(){return this.diameter},set:function(r){this.diameter=r}},willRender:function(r){return!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&r.id)},setColor:function(r){var u=s.getFloatsFromUintRGB(r);return this.color.set(u[0],u[1],u[2]),this},setIntensity:function(r){return this.intensity=r,this},setRadius:function(r){return this.radius=r,this}});i.RENDER_MASK=15,p.exports=i},26193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26535),g=t(56694),h=t(53996),a=t(14455),s=t(13171),i=t(39298),r=t(72677),u=t(17922),n=t(75512),o=new g({initialize:function(){this.lights=[],this.ambientColor=new i(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,d,v,m,T,E){return this.systems.displayList.add(new s(this.scene,f,d,v,m,T,E))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var d=this.lights,v=f.worldView,m=[],T=0;T<d.length;T++){var E=d[T];E.willRender(f)&&l(E,v)&&m.push({light:E,distance:h(E.x,E.y,v.centerX,v.centerY)})}return m.length>this.maxLights&&(u(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(f,d){return f.distance>=d.distance},setAmbientColor:function(f){var d=n.getFloatsFromUintRGB(f);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,d,v,m,T){f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=128),m===void 0&&(m=16777215),T===void 0&&(T=1);var E=n.getFloatsFromUintRGB(m),y=new a(f,d,v,E[0],E[1],E[2],T);return this.lights.push(y),y},removeLight:function(f){var d=this.lights.indexOf(f);return d>=0&&r(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});p.exports=o},50296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(26193),h=t(91963),a=t(7599),s=new l({Extends:g,initialize:function(r){this.scene=r,this.systems=r.sys,r.sys.settings.isBooted||r.sys.events.once(a.BOOT,this.boot,this),g.call(this)},boot:function(){var i=this.systems.events;i.on(a.SHUTDOWN,this.shutdown,this),i.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});h.register("LightsPlugin",s,"lights"),p.exports=s},83321:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(75606),a=t(18693),s=t(89980),i=t(53267),r=t(67623),u=t(73329),n=t(16650),o=t(23464),f=t(23701),d=t(17922),v=t(70015),m=t(85769),T=new l({Extends:s,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.Texture,g.Transform,g.Visible,o],initialize:function(y,C,A,M,R,O,L,I,N,B,b,X){C===void 0&&(C=0),A===void 0&&(A=0),M===void 0&&(M="__WHITE"),s.call(this,y,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new n,this.viewPosition=new v,this.viewMatrix=new n,this.projectionMatrix=new n,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var W=y.sys.renderer;this.setPosition(C,A),this.setTexture(M,R),this.setSize(W.width,W.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(W.width,W.height),O&&this.addVertices(O,L,I,N,B,b,X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(E){return this.viewPosition.addScale(v.LEFT,E),this.dirtyCache[10]=1,this},panY:function(E){return this.viewPosition.y+=v.DOWN.y*E,this.dirtyCache[10]=1,this},panZ:function(E){return this.viewPosition.z+=E,this.dirtyCache[10]=1,this},setPerspective:function(E,y,C,A,M){return C===void 0&&(C=45),A===void 0&&(A=.01),M===void 0&&(M=1e3),this.fov=C,this.projectionMatrix.perspective(h(C),E/y,A,M),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(E,y,C,A){return E===void 0&&(E=this.scene.sys.renderer.getAspectRatio()),y===void 0&&(y=1),C===void 0&&(C=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-E,E,-y,y,C,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(E){E.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(E,y,C,A,M,R,O,L,I){var N=this.scene.sys.cache.obj.get(E),B;return N&&(B=i(N,this,y,C,A,M,R,O,L,I)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",E),this},sortByDepth:function(E,y){return E.depth-y.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(E,y,C,A,M,R,O){var L=new m(E,y,C,A,M,R,O);return this.vertices.push(L),L},addFace:function(E,y,C){var A=new a(E,y,C);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(E,y,C,A,M,R,O){var L=r(E,y,C,A,M,R,O);return L?(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(E){return this.faces[E]},hasFaceAt:function(E,y,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var A=u(this,C).calc,M=this.faces,R=0;R<M.length;R++){var O=M[R];if(O.contains(E,y,A))return!0}return!1},getFaceAt:function(E,y,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var A=u(this,C).calc,M=this.faces,R=[],O=0;O<M.length;O++){var L=M[O];L.contains(E,y,A)&&R.push(L)}return d(R,this.sortByDepth)},setDebug:function(E,y){return this.debugGraphic=E,!E&&!y?this.debugCallback=null:y?this.debugCallback=y:this.debugCallback=this.renderDebug,this},isDirty:function(){var E=this.modelPosition,y=this.modelRotation,C=this.modelScale,A=this.dirtyCache,M=E.x,R=E.y,O=E.z,L=y.x,I=y.y,N=y.z,B=C.x,b=C.y,X=C.z,W=this.getFaceCount(),$=A[0],z=A[1],V=A[2],D=A[3],G=A[4],U=A[5],Y=A[6],H=A[7],Z=A[8],K=A[9];return A[0]=M,A[1]=R,A[2]=O,A[3]=L,A[4]=I,A[5]=N,A[6]=B,A[7]=b,A[8]=X,A[9]=W,$!==M||z!==R||V!==O||D!==L||G!==I||U!==N||Y!==B||H!==b||Z!==X||K!==W},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var E=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!E[10]&&!this.isDirty())){var y=this.width,C=this.height,A=this.viewMatrix,M=this.viewPosition;E[10]&&(A.identity(),A.translate(M),A.invert(),E[10]=0);var R=this.transformMatrix;R.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var O=M.z,L=this.faces,I=0;I<L.length;I++)L[I].transformCoordinatesLocal(R,y,C,O);this.depthSort()}},renderDebug:function(E,y){for(var C=E.debugGraphic,A=0;A<y.length;A++){var M=y[A],R=M.vertex1.tx,O=M.vertex1.ty,L=M.vertex2.tx,I=M.vertex2.ty,N=M.vertex3.tx,B=M.vertex3.ty;C.strokeTriangle(R,O,L,I,N,B)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var E=this.faces,y=function(C,A,M){for(var R=0;R<E.length;R++){var O=E[R];if(O.contains(A,M))return!0}return!1};return this.scene.sys.input.enable(this,y),this},setTint:function(E){E===void 0&&(E=16777215);for(var y=this.vertices,C=0;C<y.length;C++)y[C].color=E;return this},uvScroll:function(E,y){for(var C=this.faces,A=0;A<C.length;A++)C[A].scrollUV(E,y);return this},uvScale:function(E,y){for(var C=this.faces,A=0;A<C.length;A++)C[A].scaleUV(E,y);return this},tint:{set:function(E){this.setTint(E)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(E){this.modelRotation.x=h(E)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(E){this.modelRotation.y=h(E)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(E){this.modelRotation.z=h(E)}}});p.exports=T},6317:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},41839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(99325),h=t(20494),a=t(10850),s=t(83321);g.register("mesh",function(i,r){i===void 0&&(i={});var u=h(i,"key",null),n=h(i,"frame",null),o=a(i,"vertices",[]),f=a(i,"uvs",[]),d=a(i,"indicies",[]),v=a(i,"containsZ",!1),m=a(i,"normals",[]),T=a(i,"colors",16777215),E=a(i,"alphas",1),y=new s(this.scene,0,0,u,n,o,f,d,v,m,T,E);return r!==void 0&&(i.add=r),l(this.scene,y,i),y})},8767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83321),g=t(61286);g.register("mesh",function(h,a,s,i,r,u,n,o,f,d,v){return this.displayList.add(new l(this.scene,h,a,s,i,r,u,n,o,f,d,v))})},23464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(57410),h=t(6317),p.exports={renderWebGL:g,renderCanvas:h}},57410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=function(h,a,s,i){var r=a.faces,u=r.length;if(u!==0){s.addToRenderList(a);var n=h.pipelines.set(a.pipeline,a),o=l(a,s,i).calc;h.pipelines.preBatch(a);for(var f=n.setGameObject(a),d=n.vertexViewF32,v=n.vertexViewU32,m=n.vertexCount*n.currentShader.vertexComponentCount-1,T=a.tintFill,E=[],y=a.debugCallback,C=o.a,A=o.b,M=o.c,R=o.d,O=o.e,L=o.f,I=a.viewPosition.z,N=a.hideCCW,B=s.roundPixels,b=s.alpha*a.alpha,X=0,W=0;W<u;W++){var $=r[W];$.isInView(s,N,I,b,C,A,M,R,O,L,B)&&(n.shouldFlush(3)&&(n.flush(),f=n.setGameObject(a),m=0),m=$.load(d,v,m,f,T),X++,n.vertexCount+=3,n.currentBatch.count=n.vertexCount-n.currentBatch.start,y&&E.push($))}a.totalFrame+=X,y&&y.call(a,a,E),h.pipelines.postBatch(a)}};p.exports=g},44139:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(89980),a=t(94456),s=t(85769),i=new l({Extends:h,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,a],initialize:function(u,n,o,f,d,v,m,T,E,y,C){v===void 0&&(v=256),m===void 0&&(m=256),T===void 0&&(T=10),E===void 0&&(E=10),y===void 0&&(y=0),C===void 0&&(C=0),h.call(this,u,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1,this.is3Slice=y===0&&C===0;for(var A=this.is3Slice?18:54,M=0;M<A;M++)this.vertices.push(new s);this.setPosition(n,o),this.setTexture(f,d),this.setSlices(v,m,T,E,y,C),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(r,u,n,o,f,d){r===void 0&&(r=256),u===void 0&&(u=256),n===void 0&&(n=10),o===void 0&&(o=10),f===void 0&&(f=0),d===void 0&&(d=0);var v=f===0&&d===0;return this.is3Slice!==v?console.warn("Cannot change 9 slice to 3 slice"):(this._width=r,this._height=u,this.leftWidth=n,this.rightWidth=o,this.topHeight=f,this.bottomHeight=d,this.is3Slice&&(u=this.frame.height,this._height=u,this.topHeight=u,this.bottomHeight=0),this.updateVertices(),this.updateUVs()),this},updateUVs:function(){var r=this.leftWidth,u=this.rightWidth,n=this.topHeight,o=this.bottomHeight,f=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,r/f,n/d),this.updateQuadUVs(6,r/f,0,1-u/f,n/d),this.updateQuadUVs(12,1-u/f,0,1,n/d),this.is3Slice||(this.updateQuadUVs(18,0,n/d,r/f,1-o/d),this.updateQuadUVs(24,r/f,n/d,1-u/f,1-o/d),this.updateQuadUVs(30,1-u/f,n/d,1,1-o/d),this.updateQuadUVs(36,0,1-o/d,r/f,1),this.updateQuadUVs(42,r/f,1-o/d,1-u/f,1),this.updateQuadUVs(48,1-u/f,1-o/d,1,1))},updateVertices:function(){var r=this.leftWidth,u=this.rightWidth,n=this.topHeight,o=this.bottomHeight,f=this.width,d=this.height;this.updateQuad(0,-.5,.5,-.5+r/f,.5-n/d),this.updateQuad(6,-.5+r/f,.5,.5-u/f,.5-n/d),this.updateQuad(12,.5-u/f,.5,.5,.5-n/d),this.is3Slice||(this.updateQuad(18,-.5,.5-n/d,-.5+r/f,-.5+o/d),this.updateQuad(24,-.5+r/f,.5-n/d,.5-u/f,-.5+o/d),this.updateQuad(30,.5-u/f,.5-n/d,.5,-.5+o/d),this.updateQuad(36,-.5,-.5+o/d,-.5+r/f,-.5),this.updateQuad(42,-.5+r/f,-.5+o/d,.5-u/f,-.5),this.updateQuad(48,.5-u/f,-.5+o/d,.5,-.5))},updateQuad:function(r,u,n,o,f){var d=this.width,v=this.height,m=this.originX,T=this.originY,E=this.vertices;E[r+0].resize(u,n,d,v,m,T),E[r+1].resize(u,f,d,v,m,T),E[r+2].resize(o,n,d,v,m,T),E[r+3].resize(u,f,d,v,m,T),E[r+4].resize(o,f,d,v,m,T),E[r+5].resize(o,n,d,v,m,T)},updateQuadUVs:function(r,u,n,o,f){var d=this.vertices,v=this.frame,m=v.u0,T=v.v0,E=v.u1,y=v.v1;if(m!==0||E!==1){var C=E-m;u=m+u*C,o=m+o*C}if(T!==0||y!==1){var A=y-T;n=T+n*A,f=T+f*A}d[r+0].setUVs(u,n),d[r+1].setUVs(u,f),d[r+2].setUVs(o,n),d[r+3].setUVs(u,f),d[r+4].setUVs(o,f),d[r+5].setUVs(o,n)},clearTint:function(){return this.setTint(16777215),this},setTint:function(r){return r===void 0&&(r=16777215),this.tint=r,this.tintFill=!1,this},setTintFill:function(r){return this.setTint(r),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(r){this._width=Math.max(r,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(r){this.is3Slice||(this._height=Math.max(r,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,u){this.width=r,this.height=u;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},setDisplaySize:function(r,u){return this.displayWidth=r,this.displayHeight=u,this},originX:{get:function(){return this._originX},set:function(r){this._originX=r,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(r){this._originY=r,this.updateVertices()}},setOrigin:function(r,u){return r===void 0&&(r=.5),u===void 0&&(u=r),this._originX=r,this._originY=u,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var r=this.frame.height;this._height=r,this.topHeight=r,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});p.exports=i},40964:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(99325),h=t(20494),a=t(10850),s=t(44139);g.register("nineslice",function(i,r){i===void 0&&(i={});var u=h(i,"key",null),n=h(i,"frame",null),o=a(i,"width",256),f=a(i,"height",256),d=a(i,"leftWidth",10),v=a(i,"rightWidth",10),m=a(i,"topHeight",0),T=a(i,"bottomHeight",0),E=new s(this.scene,0,0,u,n,o,f,d,v,m,T);return r!==void 0&&(i.add=r),l(this.scene,E,i),E})},53778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44139),g=t(61286);g.register("nineslice",function(h,a,s,i,r,u,n,o,f,d){return this.displayList.add(new l(this.scene,h,a,s,i,r,u,n,o,f,d))})},94456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(27420),p.exports={renderWebGL:g,renderCanvas:h}},27420:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=t(75512),h=function(a,s,i,r){var u=s.vertices,n=u.length;if(n!==0){i.addToRenderList(s);var o=a.pipelines.set(s.pipeline,s),f=l(s,i,r,!1).calc;a.pipelines.preBatch(s);var d=o.setGameObject(s),v=o.vertexViewF32,m=o.vertexViewU32,T=o.vertexCount*o.currentShader.vertexComponentCount-1,E=i.roundPixels,y=s.tintFill,C=i.alpha*s.alpha,A=g.getTintAppendFloatAlpha(s.tint,C),M=o.vertexAvailable(),R=-1;M<n&&(R=M);for(var O=0;O<n;O++){var L=u[O];O===R&&(o.flush(),d=o.setGameObject(s),T=0),v[++T]=f.getXRound(L.vx,L.vy,E),v[++T]=f.getYRound(L.vx,L.vy,E),v[++T]=L.u,v[++T]=L.v,v[++T]=d,v[++T]=y,m[++T]=A,o.vertexCount++,o.currentBatch.count=o.vertexCount-o.currentBatch.start}a.pipelines.postBatch(s)}};p.exports=h},19737:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(93025),h=t(22946),a=t(21902),s=t(4840),i=t(15978),r=new l({Extends:g,initialize:function(n){g.call(this,n,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var u=this.propertyValue,n=u,o=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=u[0],this.ease=a("Linear"),this.interpolation=s("linear"),o=this.easedValueEmit,f=this.easeValueUpdate,n=u[0],this.active=!0;for(var d=0;d<u.length;d++){var v=i(u[d]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=o,this.onUpdate=f,this.current=n,this},setEase:function(u){this.easeName=u,this.ease=a(u)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(u,n,o){var f=this.ease(o),d=this.interpolation(this.r,f),v=this.interpolation(this.g,f),m=this.interpolation(this.b,f),T=h(d,v,m);return this.current=T,T}});p.exports=r},93025:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(17489),g=t(82897),h=t(56694),a=t(61616),s=t(21902),i=t(72632),r=t(4840),u=t(88462),n=t(1071),o=new h({initialize:function(d,v,m){m===void 0&&(m=!1),this.propertyKey=d,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=m,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,d){f===void 0&&(f={}),d&&(this.propertyKey=d),this.propertyValue=i(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var d;switch(this.method){case 1:case 3:case 8:d=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(d=f);break;case 4:var v=(this.end-this.start)/this.steps;d=u(f,v),this.counter=d;break;case 5:case 6:case 7:d=g(f,this.start,this.end);break;case 9:d=this.start[0];break}return this.current=d,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var d=typeof f;if(d==="number")return 1;if(Array.isArray(f))return 2;if(d==="function")return 3;if(d==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.has(f,"interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,d=f,v=this.defaultEmit,m=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,d=f[0];break;case 3:this._onEmit=f,v=this.proxyEmit;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,v=this.steppedEmit,d=this.start;break;case 5:this.start=f.start,this.end=f.end;var T=this.has(f,"ease")?f.ease:"Linear";this.ease=s(T,f.easeParams),v=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,m=this.easeValueUpdate,d=this.start;break;case 6:this.start=f.min,this.end=f.max,v=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var E=f.random;Array.isArray(E)&&(this.start=E[0],this.end=E[1]),v=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,v=this.proxyEmit,m=this.proxyUpdate;break;case 9:this.start=f.values;var y=this.has(f,"ease")?f.ease:"Linear";this.ease=s(y,f.easeParams),this.interpolation=r(f.interpolation),v=this.easedValueEmit,m=this.easeValueUpdate,d=this.start[0];break}return this.onEmit=v,this.onUpdate=m,this.current=d,this},has:function(f,d){return f.hasOwnProperty(d)},hasBoth:function(f,d,v){return f.hasOwnProperty(d)&&f.hasOwnProperty(v)},hasEither:function(f,d,v){return f.hasOwnProperty(d)||f.hasOwnProperty(v)},defaultEmit:function(f,d,v){return v},defaultUpdate:function(f,d,v,m){return m},proxyEmit:function(f,d,v){var m=this._onEmit(f,d,v);return this.current=m,m},proxyUpdate:function(f,d,v,m){var T=this._onUpdate(f,d,v,m);return this.current=T,T},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,d){var v=a(this.start,this.end);return f&&f.data[d]&&(f.data[d].min=v,f.data[d].max=this.end),this.current=v,v},randomRangedIntEmit:function(f,d){var v=l(this.start,this.end);return f&&f.data[d]&&(f.data[d].min=v,f.data[d].max=this.end),this.current=v,v},steppedEmit:function(){var f=this.counter,d=f,v=(this.end-this.start)/this.steps;if(this.yoyo){var m;this.direction===0?(d+=v,d>=this.end&&(m=d-this.end,d=this.end-m,this.direction=1)):(d-=v,d<=this.start&&(m=this.start-d,d=this.start+m,this.direction=0)),this.counter=d}else this.counter=n(d+v,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,d){if(f&&f.data[d]){var v=f.data[d];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,d,v){var m=f.data[d],T,E=this.ease(v);return this.interpolation?T=this.interpolation(this.start,E):T=(m.max-m.min)*E+m.min,this.current=T,T},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});p.exports=o},87811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72632),h=t(30891),a=new l({Extends:h,initialize:function(i,r,u,n,o){if(typeof i=="object"){var f=i;i=g(f,"x",0),r=g(f,"y",0),u=g(f,"power",0),n=g(f,"epsilon",100),o=g(f,"gravity",50)}else i===void 0&&(i=0),r===void 0&&(r=0),u===void 0&&(u=0),n===void 0&&(n=100),o===void 0&&(o=50);h.call(this,i,r,!0),this._gravity=o,this._power=u*o,this._epsilon=n*n},update:function(s,i){var r=this.x-s.x,u=this.y-s.y,n=r*r+u*u;if(n!==0){var o=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var f=this._power*i/(n*o)*100;s.velocityX+=r*f,s.velocityY+=u*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(s){this._epsilon=s*s}},power:{get:function(){return this._power/this._gravity},set:function(s){this._power=s*this._gravity}},gravity:{get:function(){return this._gravity},set:function(s){var i=this.power;this._gravity=s,this.power=i}}});p.exports=a},14909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16569),g=t(82897),h=t(56694),a=t(75606),s=t(74118),i=t(2386),r=t(93736),u=new h({initialize:function(o){this.emitter=o,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new r,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=o.scene,this.anims=new l(this),this.bounds=new s},emit:function(n,o,f,d,v,m){return this.emitter.emit(n,o,f,d,v,m)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(n,o){n===void 0&&(n=0),o===void 0&&(o=0),this.x=n,this.y=o},fire:function(n,o){var f=this.emitter,d=f.ops,v=f.getAnim();if(v?this.anims.play(v):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),n===void 0?this.x+=d.x.onEmit(this,"x"):d.x.steps>0?this.x+=n+d.x.onEmit(this,"x"):this.x+=n,o===void 0?this.y+=d.y.onEmit(this,"y"):d.y.steps>0?this.y+=o+d.y.onEmit(this,"y"):this.y+=o,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=a(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var m=d.speedX.onEmit(this,"speedX"),T=d.speedY.active?d.speedY.onEmit(this,"speedY"):m;if(f.radial){var E=a(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(E)*Math.abs(m),this.velocityY=Math.sin(E)*Math.abs(T)}else if(f.moveTo){var y=d.moveToX.onEmit(this,"moveToX"),C=d.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(y-this.x)/A,this.velocityY=(C-this.y)/A}else this.velocityX=m,this.velocityY=T;return f.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),d.color.active?this.tint=d.color.onEmit(this,"tint"):this.tint=d.tint.onEmit(this,"tint"),!0},update:function(n,o,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=n,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=n,!1;this.anims.update(0,n);var d=this.emitter,v=d.ops,m=1-this.lifeCurrent/this.life;if(this.lifeT=m,this.x=v.x.onUpdate(this,"x",m,this.x),this.y=v.y.onUpdate(this,"y",m,this.y),d.moveTo){var T=v.moveToX.onUpdate(this,"moveToX",m,d.moveToX),E=v.moveToY.onUpdate(this,"moveToY",m,d.moveToY),y=this.lifeCurrent/1e3;this.velocityX=(T-this.x)/y,this.velocityY=(E-this.y)/y}return this.computeVelocity(d,n,o,f,m),this.scaleX=v.scaleX.onUpdate(this,"scaleX",m,this.scaleX),this.scaleY=this.scaleX,v.scaleY.active&&(this.scaleY=v.scaleY.onUpdate(this,"scaleY",m,this.scaleY)),this.angle=v.rotate.onUpdate(this,"rotate",m,this.angle),this.rotation=a(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=v.alpha.onUpdate(this,"alpha",m,this.alpha),v.color.active?this.tint=v.color.onUpdate(this,"color",m,this.tint):this.tint=v.tint.onUpdate(this,"tint",m,this.tint),this.lifeCurrent-=n,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(n,o,f,d,v){var m=n.ops,T=this.velocityX,E=this.velocityY,y=m.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),C=m.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),A=m.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),M=m.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=m.bounce.onUpdate(this,"bounce",v,this.bounce),T+=n.gravityX*f+y*f,E+=n.gravityY*f+C*f,T=g(T,-A,A),E=g(E,-M,M),this.velocityX=T,this.velocityY=E,this.x+=T*f,this.y+=E*f,n.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var R=0;R<d.length;R++){var O=d[R];O.active&&O.update(this,o,f,v)}},setSizeToFrame:function(){},getBounds:function(n){n===void 0&&(n=this.emitter.getWorldTransformMatrix());var o=Math.abs(n.scaleX)*this.scaleX,f=Math.abs(n.scaleY)*this.scaleY,d=this.x,v=this.y,m=this.rotation,T=this.frame.width*o/2,E=this.frame.height*f/2,y=this.bounds,C=new r(d-T,v-E),A=new r(d+T,v-E),M=new r(d-T,v+E),R=new r(d+T,v+E);return m!==0&&(i(C,d,v,m),i(A,d,v,m),i(M,d,v,m),i(R,d,v,m)),n.transformPoint(C.x,C.y,C),n.transformPoint(A.x,A.y,A),n.transformPoint(M.x,M.y,M),n.transformPoint(R.x,R.y,R),y.x=Math.min(C.x,A.x,M.x,R.x),y.y=Math.min(C.y,A.y,M.y,R.y),y.width=Math.max(C.x,A.x,M.x,R.x)-y.x,y.height=Math.max(C.y,A.y,M.y,R.y)-y.y,y},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});p.exports=u},73106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(30891),h=t(74118),a=new l({Extends:g,initialize:function(i,r,u,n,o,f,d,v){o===void 0&&(o=!0),f===void 0&&(f=!0),d===void 0&&(d=!0),v===void 0&&(v=!0),g.call(this,i,r,!0),this.bounds=new h(i,r,u,n),this.collideLeft=o,this.collideRight=f,this.collideTop=d,this.collideBottom=v},update:function(s){var i=this.bounds,r=-s.bounce,u=s.worldPosition;u.x<i.x&&this.collideLeft?(s.x+=i.x-u.x,s.velocityX*=r):u.x>i.right&&this.collideRight&&(s.x-=u.x-i.right,s.velocityX*=r),u.y<i.y&&this.collideTop?(s.y+=i.y-u.y,s.velocityY*=r):u.y>i.bottom&&this.collideBottom&&(s.y-=u.y-i.bottom,s.velocityY*=r)}});p.exports=a},9216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(48129),a=t(29538),s=t(69361),i=t(54213),r=t(19737),u=t(93025),n=t(40629),o=t(89980),f=t(72632),d=t(72861),v=t(87811),m=t(53523),T=t(19256),E=t(7782),y=t(71207),C=t(14655),A=t(14909),M=t(68433),R=t(74118),O=t(90205),L=t(66458),I=t(69116),N=t(17922),B=t(69360),b=t(93736),X=t(1071),W=t(73106),$=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],z=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],V=new l({Extends:o,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,I],initialize:function(G,U,Y,H,Z){o.call(this,G,"ParticleEmitter"),this.particleClass=A,this.ops={accelerationX:new u("accelerationX",0),accelerationY:new u("accelerationY",0),alpha:new u("alpha",1),angle:new u("angle",{min:0,max:360},!0),bounce:new u("bounce",0),color:new r("color"),delay:new u("delay",0,!0),hold:new u("hold",0,!0),lifespan:new u("lifespan",1e3,!0),maxVelocityX:new u("maxVelocityX",1e4),maxVelocityY:new u("maxVelocityY",1e4),moveToX:new u("moveToX",0),moveToY:new u("moveToY",0),quantity:new u("quantity",1,!0),rotate:new u("rotate",0),scaleX:new u("scaleX",1),scaleY:new u("scaleY",1),speedX:new u("speedX",0,!0),speedY:new u("speedY",0,!0),tint:new u("tint",16777215),x:new u("x",0),y:new u("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new b,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new B,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new y(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(U,Y),this.setTexture(H),Z&&this.setConfig(Z)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(D){if(!D)return this;var G=0,U="",Y=this.ops;for(G=0;G<z.length;G++)U=z[G],Y[U].loadConfig(D);for(G=0;G<$.length;G++)U=$[G],T(D,U)&&(this[U]=f(D,U));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,T(D,"speed")&&(Y.speedX.loadConfig(D,"speed"),Y.speedY.active=!1),(m(D,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),T(D,"scale")&&(Y.scaleX.loadConfig(D,"scale"),Y.scaleY.active=!1),T(D,"callbackScope")){var H=f(D,"callbackScope",null);this.emitCallbackScope=H,this.deathCallbackScope=H}if(T(D,"emitZone")&&this.addEmitZone(D.emitZone),T(D,"deathZone")&&this.addDeathZone(D.deathZone),T(D,"bounds")){var Z=this.addParticleBounds(D.bounds);Z.collideLeft=f(D,"collideLeft",!0),Z.collideRight=f(D,"collideRight",!0),Z.collideTop=f(D,"collideTop",!0),Z.collideBottom=f(D,"collideBottom",!0)}return T(D,"followOffset")&&this.followOffset.setFromObject(f(D,"followOffset",0)),T(D,"texture")&&this.setTexture(D.texture),T(D,"frame")?this.setEmitterFrame(D.frame):T(D,"anim")&&this.setAnim(D.anim),T(D,"reserve")&&this.reserve(D.reserve),T(D,"advance")&&this.fastForward(D.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(n.START,this),this},toJSON:function(){var D=h(this),G=0,U="";for(G=0;G<$.length;G++)U=$[G],D[U]=this[U];var Y=this.ops;for(G=0;G<z.length;G++)U=z[G],Y[U]&&(D[U]=Y[U].toJSON());return Y.speedY.active||(delete D.speedX,D.speed=Y.speedX.toJSON()),this.scaleX===this.scaleY&&(delete D.scaleX,delete D.scaleY,D.scale=Y.scaleX.toJSON()),D},resetCounters:function(D,G){var U=this.counters;U.fill(0),U[0]=D,G&&(U[5]=1)},startFollow:function(D,G,U,Y){return G===void 0&&(G=0),U===void 0&&(U=0),Y===void 0&&(Y=!1),this.follow=D,this.followOffset.set(G,U),this.trackVisible=Y,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var D=this.frames,G=D.length,U;return G===1?U=D[0]:this.randomFrame?U=d(D):(U=D[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===G&&(this.currentFrame=0))),this.texture.get(U)},setEmitterFrame:function(D,G,U){G===void 0&&(G=!0),U===void 0&&(U=1),this.randomFrame=G,this.frameQuantity=U,this.currentFrame=0;var Y=typeof D;if(this.frames.length=0,Array.isArray(D))this.frames=this.frames.concat(D);else if(Y==="string"||Y==="number")this.frames.push(D);else if(Y==="object"){var H=D;D=f(H,"frames",null),D&&(this.frames=this.frames.concat(D));var Z=f(H,"cycle",!1);this.randomFrame=!Z,this.frameQuantity=f(H,"quantity",U)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var D=this.anims,G=D.length;if(G===0)return null;if(G===1)return D[0];if(this.randomAnim)return d(D);var U=D[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=X(this.currentAnim+1,0,G-1)),U},setAnim:function(D,G,U){G===void 0&&(G=!0),U===void 0&&(U=1),this.randomAnim=G,this.animQuantity=U,this.currentAnim=0;var Y=typeof D;if(this.anims.length=0,Array.isArray(D))this.anims=this.anims.concat(D);else if(Y==="string")this.anims.push(D);else if(Y==="object"){var H=D;D=f(H,"anims",null),D&&(this.anims=this.anims.concat(D));var Z=f(H,"cycle",!1);this.randomAnim=!Z,this.animQuantity=f(H,"quantity",U)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(D){return D===void 0&&(D=!0),this.radial=D,this},addParticleBounds:function(D,G,U,Y,H,Z,K,k){if(typeof D=="object"){var j=D;D=j.x,G=j.y,U=T(j,"w")?j.w:j.width,Y=T(j,"h")?j.h:j.height}return this.addParticleProcessor(new W(D,G,U,Y,H,Z,K,k))},setParticleSpeed:function(D,G){return G===void 0&&(G=D),this.ops.speedX.onChange(D),D===G?this.ops.speedY.active=!1:this.ops.speedY.onChange(G),this.radial=!0,this},setParticleScale:function(D,G){return D===void 0&&(D=1),G===void 0&&(G=D),this.ops.scaleX.onChange(D),this.ops.scaleY.onChange(G),this},setParticleGravity:function(D,G){return this.gravityX=D,this.gravityY=G,this},setParticleAlpha:function(D){return this.ops.alpha.onChange(D),this},setParticleTint:function(D){return this.ops.tint.onChange(D),this},setEmitterAngle:function(D){return this.ops.angle.onChange(D),this},setParticleLifespan:function(D){return this.ops.lifespan.onChange(D),this},setQuantity:function(D){return this.quantity=D,this},setFrequency:function(D,G){return this.frequency=D,this.flowCounter=D>0?D:0,G&&(this.quantity=G),this},addDeathZone:function(D){Array.isArray(D)||(D=[D]);for(var G,U=this.deathZones,Y=0;Y<D.length;Y++)if(G=D[Y],G instanceof s)U.push(G);else if(typeof G.contains=="function")G=new s(G,!0),U.push(G);else{var H=f(G,"type","onEnter"),Z=f(G,"source",null);if(Z&&typeof Z.contains=="function"){var K=H==="onEnter";G=new s(Z,K),U.push(G)}}return G},removeDeathZone:function(D){return L(this.deathZones,D),this},addEmitZone:function(D){Array.isArray(D)||(D=[D]);for(var G,U=this.emitZones,Y=[],H=0;H<D.length;H++){if(G=D[H],G instanceof M||G instanceof i)U.push(G);else{var Z=f(G,"type","random"),K=f(G,"source",null);if(Z==="random")G=new M(K);else if(Z==="edge"){var k=f(G,"quantity",1),j=f(G,"stepRate",0),Q=f(G,"yoyo",!1),J=f(G,"seamless",!0),_=f(G,"total",-1);G=new i(K,k,j,Q,J,_)}G&&U.push(G)}Y.push(G)}return Y},removeEmitZone:function(D){return L(this.emitZones,D),this.zoneIndex=0,this},getEmitZone:function(D){var G=this.emitZones,U=G.length;if(U!==0){var Y=G[this.zoneIndex];Y.getPoint(D),Y.total>-1&&(this.zoneTotal++,this.zoneTotal===Y.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===U&&(this.zoneIndex=0)))}},getDeathZone:function(D){for(var G=this.deathZones,U=0;U<G.length;U++){var Y=G[U];if(Y.willKill(D))return this.emit(n.DEATH_ZONE,this,D,Y),!0}return!1},setEmitZone:function(D){var G;return isFinite(D)?G=D:G=this.emitZones.indexOf(D),G>=0&&(this.zoneIndex=G),this},addParticleProcessor:function(D){return this.processors.exists(D)||(D.emitter&&D.emitter.removeParticleProcessor(D),this.processors.add(D),D.emitter=this),D},removeParticleProcessor:function(D){return this.processors.exists(D)&&(this.processors.remove(D,!0),D.emitter=null),D},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(D){return this.addParticleProcessor(new v(D))},reserve:function(D){var G=this.dead;if(this.maxParticles>0){var U=this.getParticleCount();U+D>this.maxParticles&&(D=this.maxParticles-(U+D))}for(var Y=0;Y<D;Y++)G.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(D,G){return D===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof D=="function"&&(this.emitCallback=D,G&&(this.emitCallbackScope=G)),this},onParticleDeath:function(D,G){return D===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof D=="function"&&(this.deathCallback=D,G&&(this.deathCallbackScope=G)),this},killAll:function(){for(var D=this.dead,G=this.alive;G.length>0;)D.push(G.pop());return this},forEachAlive:function(D,G){for(var U=this.alive,Y=U.length,H=0;H<Y;H++)D.call(G,U[H],this);return this},forEachDead:function(D,G){for(var U=this.dead,Y=U.length,H=0;H<Y;H++)D.call(G,U[H],this);return this},start:function(D,G){return D===void 0&&(D=0),this.emitting||(D>0&&this.fastForward(D),this.emitting=!0,this.resetCounters(this.frequency,!0),G!==void 0&&(this.duration=Math.abs(G)),this.emit(n.START,this)),this},stop:function(D){return D===void 0&&(D=!1),this.emitting&&(this.emitting=!1,D&&this.killAll(),this.emit(n.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(D,G){return D===void 0&&(D=""),G===void 0&&(G=this.true),this.sortProperty=D,this.sortOrderAsc=G,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(D){return this.sortProperty!==""?D=this.depthSortCallback:D=null,this.sortCallback=D,this},depthSort:function(){return N(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(D,G){var U=this.sortProperty;return this.sortOrderAsc?D[U]-G[U]:G[U]-D[U]},flow:function(D,G,U){return G===void 0&&(G=1),this.emitting=!1,this.frequency=D,this.quantity=G,U!==void 0&&(this.stopAfter=U),this.start()},explode:function(D,G,U){this.frequency=-1,this.resetCounters(-1,!0);var Y=this.emitParticle(D,G,U);return this.emit(n.EXPLODE,this,Y),Y},emitParticleAt:function(D,G,U){return this.emitParticle(U,D,G)},emitParticle:function(D,G,U){if(!this.atLimit()){D===void 0&&(D=this.ops.quantity.onEmit());for(var Y=this.dead,H=this.stopAfter,Z=this.follow?this.follow.x+this.followOffset.x:G,K=this.follow?this.follow.y+this.followOffset.y:U,k=0;k<D;k++){var j=Y.pop();if(j||(j=new this.particleClass(this)),j.fire(Z,K)?(this.particleBringToTop?this.alive.push(j):this.alive.unshift(j),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,j,this)):this.dead.push(j),H>0&&(this.stopCounter++,this.stopCounter>=H)||this.atLimit())break}return j}},fastForward:function(D,G){G===void 0&&(G=1e3/60);var U=0;for(this.skipping=!0;U<Math.abs(D);)this.preUpdate(0,G),U+=G;return this.skipping=!1,this},preUpdate:function(D,G){G*=this.timeScale;var U=G/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var Y=this.getProcessors(),H=this.alive,Z=this.dead,K=0,k=[],j=H.length;for(K=0;K<j;K++){var Q=H[K];Q.update(G,U,Y)&&k.push({index:K,particle:Q})}if(j=k.length,j>0){var J=this.deathCallback,_=this.deathCallbackScope;for(K=j-1;K>=0;K--){var q=k[K];H.splice(q.index,1),Z.push(q.particle),J&&J.call(_,q.particle),q.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&H.length===0&&(this.completeFlag=0,this.emit(n.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=G;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=G,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(D){for(var G=this.getWorldTransformMatrix(),U=this.alive,Y=U.length,H=[],Z=0;Z<Y;Z++){var K=U[Z];O(D,K.getBounds(G))&&H.push(K)}return H},getBounds:function(D,G,U,Y){D===void 0&&(D=0),G===void 0&&(G=0),U===void 0&&(U=1e3/60),Y===void 0&&(Y=new R);var H=this.getWorldTransformMatrix(),Z,K,k=this.alive,j=!1;if(Y.setTo(0,0,0,0),G>0){var Q=0;for(this.skipping=!0;Q<Math.abs(G);){for(this.preUpdate(0,U),Z=0;Z<k.length;Z++)K=k[Z].getBounds(H),j?C(Y,K):(j=!0,a(K,Y));Q+=U}this.skipping=!1}else for(Z=0;Z<k.length;Z++)K=k[Z].getBounds(H),j?C(Y,K):(j=!0,a(K,Y));return D>0&&E(Y,D,D),Y},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(D){this.ops.x.onChange(D)}},particleY:{get:function(){return this.ops.y.current},set:function(D){this.ops.y.onChange(D)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(D){this.ops.accelerationX.onChange(D)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(D){this.ops.accelerationY.onChange(D)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(D){this.ops.maxVelocityX.onChange(D)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(D){this.ops.maxVelocityY.onChange(D)}},speed:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D),this.ops.speedY.onChange(D)}},speedX:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D)}},speedY:{get:function(){return this.ops.speedY.current},set:function(D){this.ops.speedY.onChange(D)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(D){this.ops.moveToX.onChange(D)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(D){this.ops.moveToY.onChange(D)}},bounce:{get:function(){return this.ops.bounce.current},set:function(D){this.ops.bounce.onChange(D)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(D){this.ops.scaleX.onChange(D)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(D){this.ops.scaleY.onChange(D)}},particleColor:{get:function(){return this.ops.color.current},set:function(D){this.ops.color.onChange(D)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(D){this.ops.color.setEase(D)}},particleTint:{get:function(){return this.ops.tint.current},set:function(D){this.ops.tint.onChange(D)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(D){this.ops.alpha.onChange(D)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(D){this.ops.lifespan.onChange(D)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(D){this.ops.angle.onChange(D)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(D){this.ops.rotate.onChange(D)}},quantity:{get:function(){return this.ops.quantity.current},set:function(D){this.ops.quantity.onChange(D)}},delay:{get:function(){return this.ops.delay.current},set:function(D){this.ops.delay.onChange(D)}},hold:{get:function(){return this.ops.hold.current},set:function(D){this.ops.hold.onChange(D)}},flowCounter:{get:function(){return this.counters[0]},set:function(D){this.counters[0]=D}},frameCounter:{get:function(){return this.counters[1]},set:function(D){this.counters[1]=D}},animCounter:{get:function(){return this.counters[2]},set:function(D){this.counters[2]=D}},elapsed:{get:function(){return this.counters[3]},set:function(D){this.counters[3]=D}},stopCounter:{get:function(){return this.counters[4]},set:function(D){this.counters[4]=D}},completeFlag:{get:function(){return this.counters[5]},set:function(D){this.counters[5]=D}},zoneIndex:{get:function(){return this.counters[6]},set:function(D){this.counters[6]=D}},zoneTotal:{get:function(){return this.counters[7]},set:function(D){this.counters[7]=D}},currentFrame:{get:function(){return this.counters[8]},set:function(D){this.counters[8]=D}},currentAnim:{get:function(){return this.counters[9]},set:function(D){this.counters[9]=D}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var D,G=this.ops;for(D=0;D<z.length;D++){var U=z[D];G[U].destroy()}for(D=0;D<this.alive.length;D++)this.alive[D].destroy();for(D=0;D<this.dead.length;D++)this.dead[D].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});p.exports=V},10456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90205),g=t(69360),h=new g,a=new g,s=new g,i=new g,r=function(u,n,o,f){var d=h,v=a,m=s,T=i;f?(T.loadIdentity(),T.multiply(f),T.translate(n.x,n.y),T.rotate(n.rotation),T.scale(n.scaleX,n.scaleY)):T.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY);var E=u.currentContext,y=o.roundPixels,C=o.alpha,A=n.alpha,M=n.alive,R=M.length,O=n.viewBounds;if(!(!n.visible||R===0||O&&!l(O,o.worldView))){n.sortCallback&&n.depthSort(),o.addToRenderList(n);var L=n.scrollFactorX,I=n.scrollFactorY;E.save(),E.globalCompositeOperation=u.blendModes[n.blendMode];for(var N=0;N<R;N++){var B=M[N],b=B.alpha*A*C;if(!(b<=0||B.scaleX===0||B.scaleY===0)){m.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),d.copyFrom(o.matrix),d.multiplyWithOffset(T,-o.scrollX*L,-o.scrollY*I),m.e=B.x,m.f=B.y,d.multiply(m,v);var X=B.frame,W=X.canvasData;if(W.width>0&&W.height>0){var $=-X.halfWidth,z=-X.halfHeight;E.globalAlpha=b,E.save(),v.setToContext(E),y&&($=Math.round($),z=Math.round(z)),E.imageSmoothingEnabled=!X.source.scaleMode,E.drawImage(X.source.image,W.x,W.y,W.width,W.height,$,z,W.width,W.height),E.restore()}}}E.restore()}};p.exports=r},765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(99325),h=t(20494),a=t(72632),s=t(9216);g.register("particles",function(i,r){i===void 0&&(i={});var u=h(i,"key",null),n=a(i,"config",null),o=new s(this.scene,0,0,u);return r!==void 0&&(i.add=r),l(this.scene,o,i),n&&o.setConfig(n),o})},81212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(9216);l.register("particles",function(h,a,s,i){return h!==void 0&&typeof h=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new g(this.scene,h,a,s,i))})},69116:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(10275),h=t(10456),p.exports={renderWebGL:g,renderCanvas:h}},10275:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90205),g=t(69360),h=t(75512),a=new g,s=new g,i=new g,r=new g,u=function(n,o,f,d){var v=n.pipelines.set(o.pipeline),m=a,T=s,E=i,y=r;d?(y.loadIdentity(),y.multiply(d),y.translate(o.x,o.y),y.rotate(o.rotation),y.scale(o.scaleX,o.scaleY)):y.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var C=f.roundPixels,A=h.getTintAppendFloatAlpha,M=f.alpha,R=o.alpha,O=o.frame.glTexture;n.pipelines.preBatch(o);var L=o.alive,I=L.length,N=o.viewBounds;if(!(I===0||N&&!l(N,f.worldView))){o.sortCallback&&o.depthSort();var B=v.setGameObject(o,o.frame);f.addToRenderList(o),m.copyFrom(f.matrix),m.multiplyWithOffset(y,-f.scrollX*o.scrollFactorX,-f.scrollY*o.scrollFactorY),n.setBlendMode(o.blendMode),o.mask&&(o.mask.preRenderWebGL(n,o,f),n.pipelines.set(o.pipeline));for(var b=o.tintFill,X=0;X<I;X++){var W=L[X],$=W.alpha*R*M;if(!($<=0||W.scaleX===0||W.scaleY===0)){E.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),E.e=W.x,E.f=W.y,m.multiply(E,T);var z=W.frame,V=-z.halfWidth,D=-z.halfHeight,G=T.setQuad(V,D,V+z.width,D+z.height,C),U=A(W.tint,$);v.shouldFlush(6)&&(v.flush(),B=v.setGameObject(o,o.frame)),v.batchQuad(o,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],z.u0,z.v0,z.u1,z.v1,U,U,U,U,b,O,B)}}o.mask&&o.mask.postRenderWebGL(n,f),n.pipelines.postBatch(o)}};p.exports=u},30891:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s,i){a===void 0&&(a=0),s===void 0&&(s=0),i===void 0&&(i=!0),this.emitter,this.x=a,this.y=s,this.active=i},update:function(){},destroy:function(){this.emitter=null}});p.exports=g},76100:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},26677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="deathzone"},62736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="explode"},56490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},85715:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},40629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(76100),DEATH_ZONE:t(26677),EXPLODE:t(62736),START:t(56490),STOP:t(85715)}},27684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EmitterColorOp:t(19737),EmitterOp:t(93025),Events:t(40629),GravityWell:t(87811),Particle:t(14909),ParticleBounds:t(73106),ParticleEmitter:t(9216),ParticleProcessor:t(30891),Zones:t(25962)}},69361:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s){this.source=a,this.killOnEnter=s},willKill:function(h){var a=h.worldPosition,s=this.source.contains(a.x,a.y);return s&&this.killOnEnter||!s&&!this.killOnEnter}});p.exports=g},54213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s,i,r,u,n){r===void 0&&(r=!1),u===void 0&&(u=!0),n===void 0&&(n=-1),this.source=a,this.points=[],this.quantity=s,this.stepRate=i,this.yoyo=r,this.counter=-1,this.seamless=u,this._length=0,this._direction=0,this.total=n,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var h=this.points[0],a=this.points[this.points.length-1];h.x===a.x&&h.y===a.y&&this.points.pop()}var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(h){return this.source=h,this.updateSource()},getPoint:function(h){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(h.x=a.x,h.y=a.y)}});p.exports=g},68433:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(93736),h=new l({initialize:function(s){this.source=s,this._tempVec=new g,this.total=-1},getPoint:function(a){var s=this._tempVec;this.source.getRandomPoint(s),a.x=s.x,a.y=s.y}});p.exports=h},25962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DeathZone:t(69361),EdgeZone:t(54213),RandomZone:t(68433)}},29598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(13747),a=new l({Extends:h,Mixins:[g.PathFollower],initialize:function(i,r,u,n,o,f){h.call(this,i,u,n,o,f),this.path=r},preUpdate:function(s,i){this.anims.update(s,i),this.pathUpdate(s)}});p.exports=a},19626:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(29598);l.register("follower",function(h,a,s,i,r){var u=new g(this.scene,h,a,s,i,r);return this.displayList.add(u),this.updateList.add(u),u})},33412:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16569),g=t(56694),h=t(99425),a=t(15978),s=t(83321),i=t(76583),r=new g({Extends:s,initialize:function(n,o,f,d,v,m,T,E){d||(d="__DEFAULT"),s.call(this,n,o,f,d,v),this.type="Plane",this.anims=new l(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(m,T,E),this.setSizeToFrame(!1),this.setViewHeight()},setGridSize:function(u,n,o){u===void 0&&(u=8),n===void 0&&(n=8),o===void 0&&(o=!1);var f=!1;return o&&(f=!0),this.gridWidth=u,this.gridHeight=n,this.isTiled=o,this.clear(),h({mesh:this,widthSegments:u,heightSegments:n,isOrtho:!1,tile:o,flipY:f}),this},setSizeToFrame:function(u){u===void 0&&(u=!0);var n=this.frame;if(this.setPerspective(this.width/n.width,this.height/n.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!u)return this;var o=this.gridWidth,f=this.gridHeight,d=this.vertices,v=n.u0,m=n.u1,T=n.v0,E=n.v1,y,C,A=0;if(this.isTiled)for(T=n.v1,E=n.v0,C=0;C<f;C++)for(y=0;y<o;y++)d[A++].setUVs(v,E),d[A++].setUVs(v,T),d[A++].setUVs(m,E),d[A++].setUVs(v,T),d[A++].setUVs(m,T),d[A++].setUVs(m,E);else{var M=o+1,R=f+1,O=m-v,L=E-T,I=[];for(C=0;C<R;C++)for(y=0;y<M;y++){var N=v+O*(y/o),B=T+L*(C/f);I.push(N,B)}for(C=0;C<f;C++)for(y=0;y<o;y++){var b=(y+M*C)*2,X=(y+M*(C+1))*2,W=(y+1+M*(C+1))*2,$=(y+1+M*C)*2;d[A++].setUVs(I[b],I[b+1]),d[A++].setUVs(I[X],I[X+1]),d[A++].setUVs(I[$],I[$+1]),d[A++].setUVs(I[X],I[X+1]),d[A++].setUVs(I[W],I[W+1]),d[A++].setUVs(I[$],I[$+1])}}return this},setViewHeight:function(u){u===void 0&&(u=this.frame.height);var n=this.fov*(Math.PI/180);this.viewPosition.z=this.height/u/Math.tan(n/2),this.dirtyCache[10]=1},createCheckerboard:function(u,n,o,f,d){u===void 0&&(u=16777215),n===void 0&&(n=255),o===void 0&&(o=255),f===void 0&&(f=255),d===void 0&&(d=128);var v=this.scene.sys.renderer.gl,m=v.createTexture();v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,m),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST);for(var T=a(u),E=a(n),y=[],C=0;C<16;C++)for(var A=0;A<16;A++)C<8&&A<8||C>7&&A>7?y.push(T.r,T.g,T.b,o):y.push(E.r,E.g,E.b,f);v.texImage2D(v.TEXTURE_2D,0,v.RGBA,16,16,0,v.RGBA,v.UNSIGNED_BYTE,new Uint8Array(y)),m.isAlphaPremultiplied=!0,m.isRenderTexture=!1,m.width=16,m.height=16;var M=this.scene.sys.textures.addGLTexture(i(),m,16,16);return this.removeCheckerboard(),this._checkerboard=M,v.bindTexture(v.TEXTURE_2D,null),this.setTexture(M),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(u,n){return this.anims.play(u,n)},playReverse:function(u,n){return this.anims.playReverse(u,n)},playAfterDelay:function(u,n){return this.anims.playAfterDelay(u,n)},playAfterRepeat:function(u,n){return this.anims.playAfterRepeat(u,n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(u){return this.anims.stopAfterDelay(u)},stopAfterRepeat:function(u){return this.anims.stopAfterRepeat(u)},stopOnFrame:function(u){return this.anims.stopOnFrame(u)},preUpdate:function(u,n){s.prototype.preUpdate.call(this,u,n),this.anims.update(u,n)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});p.exports=r},10912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(32291),h=t(99325),a=t(20494),s=t(10850),i=t(33412);h.register("plane",function(r,u){r===void 0&&(r={});var n=a(r,"key",null),o=a(r,"frame",null),f=s(r,"width",8),d=s(r,"height",8),v=s(r,"tile",!1),m=new i(this.scene,0,0,n,o,f,d,v);u!==void 0&&(r.add=u);var T=s(r,"checkerboard",null);if(T){var E=s(T,"color1",16777215),y=s(T,"color2",255),C=s(T,"alpha1",255),A=s(T,"alpha2",255),M=s(T,"height",128);m.createCheckerboard(E,y,C,A,M)}return l(this.scene,m,r),g(m,r),m})},58322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33412),g=t(61286);g.register("plane",function(h,a,s,i,r,u,n){return this.displayList.add(new l(this.scene,h,a,s,i,r,u,n))})},13171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(89980),a=t(74853),s=t(65641),i=t(71606),r=new l({Extends:h,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible,i],initialize:function(n,o,f,d,v,m,T){d===void 0&&(d=16777215),v===void 0&&(v=128),m===void 0&&(m=1),T===void 0&&(T=.1),h.call(this,n,"PointLight"),this.initPipeline(s.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(o,f),this.color=a(d),this.intensity=m,this.attenuation=T,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this.width=u*2,this.height=u*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});p.exports=r},162:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(99325),h=t(20494),a=t(13171);g.register("pointlight",function(s,i){s===void 0&&(s={});var r=h(s,"color",16777215),u=h(s,"radius",128),n=h(s,"intensity",1),o=h(s,"attenuation",.1),f=new a(this.scene,0,0,r,u,n,o);return i!==void 0&&(s.add=i),l(this.scene,f,s),f})},91201:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(13171);l.register("pointlight",function(h,a,s,i,r,u){return this.displayList.add(new g(this.scene,h,a,s,i,r,u))})},71606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(80590),p.exports={renderWebGL:g,renderCanvas:h}},80590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=function(h,a,s,i){s.addToRenderList(a);var r=h.pipelines.set(a.pipeline),u=l(a,s,i).calc,n=a.width,o=a.height,f=-a._radius,d=-a._radius,v=f+n,m=d+o,T=u.getX(0,0),E=u.getY(0,0),y=u.getX(f,d),C=u.getY(f,d),A=u.getX(f,m),M=u.getY(f,m),R=u.getX(v,m),O=u.getY(v,m),L=u.getX(v,d),I=u.getY(v,d);h.pipelines.preBatch(a),r.batchPointLight(a,s,y,C,A,M,R,O,L,I,T,E),h.pipelines.postBatch(a)};p.exports=g},15996:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(845),h=t(1539),a=new l({Extends:h,initialize:function(i,r,u,n,o){r===void 0&&(r=0),u===void 0&&(u=0),n===void 0&&(n=32),o===void 0&&(o=32);var f=new g(i.sys.textures,"",n,o);h.call(this,i,r,u,f),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(s,i){this.width=s,this.height=i,this.texture.setSize(s,i),this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=s,r.hitArea.height=i),this},resize:function(s,i){return this.setSize(s,i),this},saveTexture:function(s){var i=this.texture;return i.key=s,i.manager.addDynamicTexture(i)&&(this._saved=!0),i},fill:function(s,i,r,u,n,o){return this.texture.fill(s,i,r,u,n,o),this},clear:function(){return this.texture.clear(),this},stamp:function(s,i,r,u,n){return this.texture.stamp(s,i,r,u,n),this},erase:function(s,i,r){return this.texture.erase(s,i,r),this},draw:function(s,i,r,u,n){return this.texture.draw(s,i,r,u,n),this},drawFrame:function(s,i,r,u,n,o){return this.texture.drawFrame(s,i,r,u,n,o),this},repeat:function(s,i,r,u,n,o,f,d,v){return this.texture.repeat(s,i,r,u,n,o,f,d,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(s,i,r,u,n){return this.texture.batchDraw(s,i,r,u,n),this},batchDrawFrame:function(s,i,r,u,n,o){return this.texture.batchDrawFrame(s,i,r,u,n,o),this},endDraw:function(s){return this.texture.endDraw(s),this},snapshotArea:function(s,i,r,u,n,o,f){return this.texture.snapshotArea(s,i,r,u,n,o,f),this},snapshot:function(s,i,r){return this.snapshotArea(0,0,this.width,this.height,s,i,r)},snapshotPixel:function(s,i,r){return this.snapshotArea(s,i,1,1,r,"pixel")},preDestroy:function(){this._saved||this.texture.destroy()}});p.exports=a},85692:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(99325),h=t(20494),a=t(15996);g.register("renderTexture",function(s,i){s===void 0&&(s={});var r=h(s,"x",0),u=h(s,"y",0),n=h(s,"width",32),o=h(s,"height",32),f=new a(this.scene,r,u,n,o);return i!==void 0&&(s.add=i),l(this.scene,f,s),f})},29599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(15996);l.register("renderTexture",function(h,a,s,i){return this.displayList.add(new g(this.scene,h,a,s,i))})},79968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16569),g=t(56694),h=t(64937),a=t(89980),s=t(65641),i=t(58912),r=t(93736),u=new g({Extends:a,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Flip,h.Mask,h.Pipeline,h.PostPipeline,h.Size,h.Texture,h.Transform,h.Visible,h.ScrollFactor,i],initialize:function(o,f,d,v,m,T,E,y,C){v===void 0&&(v="__DEFAULT"),T===void 0&&(T=2),E===void 0&&(E=!0),a.call(this,o,"Rope"),this.anims=new l(this),this.points=T,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=E,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,m),this.setPosition(f,d),this.setSizeToFrame(),this.initPipeline(s.ROPE_PIPELINE),Array.isArray(T)&&this.resizeArrays(T.length),this.setPoints(T,y,C),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,o){var f=this.anims.currentFrame;this.anims.update(n,o),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(n,o,f){return this.anims.play(n,o,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(n,o,f){return n===void 0&&(n=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(n,o,f))},setVertical:function(n,o,f){return n===void 0&&(n=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(n,o,f)):this},setTintFill:function(n){return n===void 0&&(n=!1),this.tintFill=n,this},setAlphas:function(n,o){var f=this.points.length;if(f<1)return this;var d=this.alphas;n===void 0?n=[1]:!Array.isArray(n)&&o===void 0&&(n=[n]);var v,m=0;if(o!==void 0)for(v=0;v<f;v++)m=v*2,d[m]=n,d[m+1]=o;else if(n.length===f)for(v=0;v<f;v++)m=v*2,d[m]=n[v],d[m+1]=n[v];else{var T=n[0];for(v=0;v<f;v++)m=v*2,n.length>m&&(T=n[m]),d[m]=T,n.length>m+1&&(T=n[m+1]),d[m+1]=T}return this},setColors:function(n){var o=this.points.length;if(o<1)return this;var f=this.colors;n===void 0?n=[16777215]:Array.isArray(n)||(n=[n]);var d,v=0;if(n.length===o)for(d=0;d<o;d++)v=d*2,f[v]=n[d],f[v+1]=n[d];else{var m=n[0];for(d=0;d<o;d++)v=d*2,n.length>v&&(m=n[v]),f[v]=m,n.length>v+1&&(m=n[v+1]),f[v+1]=m}return this},setPoints:function(n,o,f){if(n===void 0&&(n=2),typeof n=="number"){var d=n;d<2&&(d=2),n=[];var v,m,T;if(this.horizontal)for(T=-this.frame.halfWidth,m=this.frame.width/(d-1),v=0;v<d;v++)n.push({x:T+v*m,y:0});else for(T=-this.frame.halfHeight,m=this.frame.height/(d-1),v=0;v<d;v++)n.push({x:0,y:T+v*m})}var E=n.length,y=this.points.length;return E<1?(console.warn("Rope: Not enough points given"),this):(E===1&&(n.unshift({x:0,y:0}),E++),y!==E&&this.resizeArrays(E),this.dirty=!0,this.points=n,this.updateUVs(),o!=null&&this.setColors(o),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var n=this.uv,o=this.points.length,f=this.frame.u0,d=this.frame.v0,v=this.frame.u1,m=this.frame.v1,T=(v-f)/(o-1),E=(m-d)/(o-1),y=0;y<o;y++){var C=y*4,A,M,R,O;this.horizontal?(this._flipX?(A=v-y*T,R=v-y*T):(A=f+y*T,R=f+y*T),this._flipY?(M=m,O=d):(M=d,O=m)):(this._flipX?(A=f,R=v):(A=v,R=f),this._flipY?(M=m-y*E,O=m-y*E):(M=d+y*E,O=d+y*E)),n[C+0]=A,n[C+1]=M,n[C+2]=R,n[C+3]=O}return this},resizeArrays:function(n){var o=this.colors,f=this.alphas;this.vertices=new Float32Array(n*4),this.uv=new Float32Array(n*4),o=new Uint32Array(n*2),f=new Float32Array(n*2);for(var d=0;d<n*2;d++)o[d]=16777215,f[d]=1;return this.colors=o,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var n=this._perp,o=this.points,f=this.vertices,d=o.length;if(this.dirty=!1,!(d<1)){for(var v,m=o[0],T=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,E=0;E<d;E++){var y=o[E],C=E*4;E<d-1?v=o[E+1]:v=y,n.x=v.y-m.y,n.y=-(v.x-m.x);var A=n.length();n.x/=A,n.y/=A,n.x*=T,n.y*=T,f[C]=y.x+n.x,f[C+1]=y.y+n.y,f[C+2]=y.x-n.x,f[C+3]=y.y-n.y,m=y}return this}},setDebug:function(n,o){return this.debugGraphic=n,!n&&!o?this.debugCallback=null:o?this.debugCallback=o:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(n,o,f){var d=n.debugGraphic,v=f[0],m=f[1],T=f[2],E=f[3];d.lineBetween(v,m,T,E);for(var y=4;y<o;y+=4){var C=f[y+0],A=f[y+1],M=f[y+2],R=f[y+3];d.lineBetween(v,m,C,A),d.lineBetween(T,E,M,R),d.lineBetween(T,E,C,A),d.lineBetween(C,A,M,R),v=C,m=A,T=M,E=R}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(n){return this._flipX=n,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(n){return this._flipY=n,this.updateUVs()}}});p.exports=u},44598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},96027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(99325),h=t(20494),a=t(10850),s=t(79968);g.register("rope",function(i,r){i===void 0&&(i={});var u=h(i,"key",null),n=h(i,"frame",null),o=h(i,"horizontal",!0),f=a(i,"points",void 0),d=a(i,"colors",void 0),v=a(i,"alphas",void 0),m=new s(this.scene,0,0,u,n,f,o,d,v);return r!==void 0&&(i.add=r),l(this.scene,m,i),m})},31982:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79968),g=t(61286);g.register("rope",function(h,a,s,i,r,u,n,o){return this.displayList.add(new l(this.scene,h,a,s,i,r,u,n,o))})},58912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(49489),h=t(44598),p.exports={renderWebGL:g,renderCanvas:h}},49489:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=t(75512),h=function(a,s,i,r){i.addToRenderList(s);var u=a.pipelines.set(s.pipeline,s),n=l(s,i,r).calc,o=s.vertices,f=s.uv,d=s.colors,v=s.alphas,m=s.alpha,T=g.getTintAppendFloatAlpha,E=i.roundPixels,y=o.length,C=Math.floor(y*.5);u.flush(),a.pipelines.preBatch(s);var A=u.setGameObject(s),M=u.vertexViewF32,R=u.vertexViewU32,O=u.vertexCount*u.currentShader.vertexComponentCount-1,L=0,I=s.tintFill;s.dirty&&s.updateVertices();for(var N=s.debugCallback,B=[],b=0;b<y;b+=2){var X=o[b+0],W=o[b+1],$=X*n.a+W*n.c+n.e,z=X*n.b+W*n.d+n.f;E&&($=Math.round($),z=Math.round(z)),M[++O]=$,M[++O]=z,M[++O]=f[b+0],M[++O]=f[b+1],M[++O]=A,M[++O]=I,R[++O]=T(d[L],i.alpha*(v[L]*m)),L++,N&&(B[b+0]=$,B[b+1]=z)}N&&N.call(s,s,y,B),u.vertexCount+=C,u.currentBatch.count=u.vertexCount-u.currentBatch.start,a.pipelines.postBatch(s)};p.exports=h},27902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(89980),a=t(72632),s=t(98611),i=t(22440),r=t(24252),u=t(69360),n=new l({Extends:h,Mixins:[g.ComputedSize,g.Depth,g.GetBounds,g.Mask,g.Origin,g.ScrollFactor,g.Transform,g.Visible,r],initialize:function(f,d,v,m,T,E,y,C){v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=128),E===void 0&&(E=128),h.call(this,f,"Shader"),this.blendMode=-1,this.shader;var A=f.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(v,m),this.setSize(T,E),this.setOrigin(.5,.5),this.setShader(d,y,C)},willRender:function(o){return this.renderToTexture?!0:!(h.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},setRenderToTexture:function(o,f){if(f===void 0&&(f=!1),!this.renderToTexture){var d=this.width,v=this.height,m=this.renderer;this.glTexture=m.createTextureFromSource(null,d,v,0),this.glTexture.flipY=f,this.framebuffer=m.createFramebuffer(d,v,this.glTexture,!1),this._rendererWidth=d,this._rendererHeight=v,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),o&&(this.texture=this.scene.sys.textures.addGLTexture(o,this.glTexture,d,v))}return this.shader&&(m.pipelines.clear(),this.load(),this.flush(),m.pipelines.rebind()),this},setShader:function(o,f,d){if(f===void 0&&(f=[]),typeof o=="string"){var v=this.scene.sys.cache.shader;if(!v.has(o))return console.warn("Shader missing: "+o),this;this.shader=v.get(o)}else this.shader=o;var m=this.gl,T=this.renderer;this.program&&m.deleteProgram(this.program);var E=T.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);m.uniformMatrix4fv(m.getUniformLocation(E,"uViewMatrix"),!1,this.viewMatrix),m.uniformMatrix4fv(m.getUniformLocation(E,"uProjectionMatrix"),!1,this.projectionMatrix),m.uniform2f(m.getUniformLocation(E,"uResolution"),this.width,this.height),this.program=E;var y=new Date,C={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[y.getFullYear(),y.getMonth(),y.getDate(),y.getHours()*60*60+y.getMinutes()*60+y.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=s(!0,{},this.shader.uniforms,C):this.uniforms=C;for(var A=0;A<4;A++)f[A]&&this.setSampler2D("iChannel"+A,f[A],A,d);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(o){return this.pointer=o,this},projOrtho:function(o,f,d,v){var m=-1e3,T=1e3,E=1/(o-f),y=1/(d-v),C=1/(m-T),A=this.projectionMatrix;A[0]=-2*E,A[5]=-2*y,A[10]=2*C,A[12]=(o+f)*E,A[13]=(v+d)*y,A[14]=(T+m)*C;var M=this.program,R=this.gl,O=this.renderer;O.setProgram(M),R.uniformMatrix4fv(R.getUniformLocation(M,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=f,this._rendererHeight=d},initUniforms:function(){var o=this.gl,f=this.renderer.glFuncMap,d=this.program;this._textureCount=0;for(var v in this.uniforms){var m=this.uniforms[v],T=m.type,E=f[T];m.uniformLocation=o.getUniformLocation(d,v),T!=="sampler2D"&&(m.glMatrix=E.matrix,m.glValueLength=E.length,m.glFunc=E.func)}},setSampler2DBuffer:function(o,f,d,v,m,T){m===void 0&&(m=0),T===void 0&&(T={});var E=this.uniforms[o];return E.value=f,T.width=d,T.height=v,E.textureData=T,this._textureCount=m,this.initSampler2D(E),this},setSampler2D:function(o,f,d,v){d===void 0&&(d=0);var m=this.scene.sys.textures;if(m.exists(f)){var T=m.getFrame(f);if(T.glTexture&&T.glTexture.isRenderTexture)return this.setSampler2DBuffer(o,T.glTexture,T.width,T.height,d,v);var E=this.uniforms[o],y=T.source;E.textureKey=f,E.source=y.image,E.value=T.glTexture,y.isGLTexture&&(v||(v={}),v.width=y.width,v.height=y.height),v&&(E.textureData=v),this._textureCount=d,this.initSampler2D(E)}return this},setUniform:function(o,f){return i(this.uniforms,o,f),this},getUniform:function(o){return a(this.uniforms,o,null)},setChannel0:function(o,f){return this.setSampler2D("iChannel0",o,0,f)},setChannel1:function(o,f){return this.setSampler2D("iChannel1",o,1,f)},setChannel2:function(o,f){return this.setSampler2D("iChannel2",o,2,f)},setChannel3:function(o,f){return this.setSampler2D("iChannel3",o,3,f)},initSampler2D:function(o){if(o.value){var f=this.gl;f.activeTexture(f.TEXTURE0+this._textureCount),f.bindTexture(f.TEXTURE_2D,o.value);var d=o.textureData;if(d&&!o.value.isRenderTexture){var v=f[a(d,"magFilter","linear").toUpperCase()],m=f[a(d,"minFilter","linear").toUpperCase()],T=f[a(d,"wrapS","repeat").toUpperCase()],E=f[a(d,"wrapT","repeat").toUpperCase()],y=f[a(d,"format","rgba").toUpperCase()];if(d.repeat&&(T=f.REPEAT,E=f.REPEAT),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!!d.flipY),d.width){var C=a(d,"width",512),A=a(d,"height",2),M=a(d,"border",0);f.texImage2D(f.TEXTURE_2D,0,y,C,A,M,y,f.UNSIGNED_BYTE,null)}else f.texImage2D(f.TEXTURE_2D,0,y,f.RGBA,f.UNSIGNED_BYTE,o.source);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,v),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,m),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,T),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,E)}this.renderer.setProgram(this.program),f.uniform1i(o.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var o=this.gl,f=this.uniforms,d,v,m,T,E,y=0;for(var C in f)d=f[C],m=d.glFunc,v=d.glValueLength,T=d.uniformLocation,E=d.value,E!==null&&(v===1?d.glMatrix?m.call(o,T,d.transpose,E):m.call(o,T,E):v===2?m.call(o,T,E.x,E.y):v===3?m.call(o,T,E.x,E.y,E.z):v===4?m.call(o,T,E.x,E.y,E.z,E.w):d.type==="sampler2D"&&(o.activeTexture(o.TEXTURE0+y),o.bindTexture(o.TEXTURE_2D,E),o.uniform1i(T,y),y++))},load:function(o){var f=this.gl,d=this.width,v=this.height,m=this.renderer,T=this.program,E=this.viewMatrix;if(!this.renderToTexture){var y=-this._displayOriginX,C=-this._displayOriginY;E[0]=o[0],E[1]=o[1],E[4]=o[2],E[5]=o[3],E[8]=o[4],E[9]=o[5],E[12]=E[0]*y+E[4]*C,E[13]=E[1]*y+E[5]*C}f.useProgram(T),f.uniformMatrix4fv(f.getUniformLocation(T,"uViewMatrix"),!1,E),f.uniform2f(f.getUniformLocation(T,"uResolution"),this.width,this.height);var A=this.uniforms,M=A.resolution;M.value.x=d,M.value.y=v,A.time.value=m.game.loop.getDuration();var R=this.pointer;if(R){var O=A.mouse,L=R.x/d,I=1-R.y/v;O.value.x=L.toFixed(2),O.value.y=I.toFixed(2)}this.syncUniforms()},flush:function(){var o=this.width,f=this.height,d=this.program,v=this.gl,m=this.vertexBuffer,T=this.renderer,E=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(T.setFramebuffer(this.framebuffer),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)),v.bindBuffer(v.ARRAY_BUFFER,m);var y=v.getAttribLocation(d,"inPosition");y!==-1&&(v.enableVertexAttribArray(y),v.vertexAttribPointer(y,2,v.FLOAT,!1,E,0));var C=this.vertexViewF32;C[3]=f,C[4]=o,C[5]=f,C[8]=o,C[9]=f,C[10]=o;var A=6;v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,A*E)),v.drawArrays(v.TRIANGLES,0,A),this.renderToTexture&&T.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var o=this.gl;o.deleteProgram(this.program),o.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});p.exports=n},10612:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},13908:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(99325),h=t(20494),a=t(27902);g.register("shader",function(s,i){s===void 0&&(s={});var r=h(s,"key",null),u=h(s,"x",0),n=h(s,"y",0),o=h(s,"width",128),f=h(s,"height",128),d=new a(this.scene,r,u,n,o,f);return i!==void 0&&(s.add=i),l(this.scene,d,s),d})},51979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27902),g=t(61286);g.register("shader",function(h,a,s,i,r,u,n){return this.displayList.add(new l(this.scene,h,a,s,i,r,u,n))})},24252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(19782),h=t(10612),p.exports={renderWebGL:g,renderCanvas:h}},19782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=function(h,a,s,i){if(a.shader){if(s.addToRenderList(a),h.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var r=l(a,s,i).calc;(h.width!==a._rendererWidth||h.height!==a._rendererHeight)&&a.projOrtho(0,h.width,h.height,0),a.load(r.matrix),a.flush()}h.pipelines.rebind()}};p.exports=g},19543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75512),g=function(h,a,s,i,r,u){for(var n=l.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*i),o=s.pathData,f=s.pathIndexes,d=0;d<f.length;d+=3){var v=f[d]*2,m=f[d+1]*2,T=f[d+2]*2,E=o[v+0]-r,y=o[v+1]-u,C=o[m+0]-r,A=o[m+1]-u,M=o[T+0]-r,R=o[T+1]-u,O=a.getX(E,y),L=a.getY(E,y),I=a.getX(C,A),N=a.getY(C,A),B=a.getX(M,R),b=a.getY(M,R);h.batchTri(s,O,L,I,N,B,b,0,0,1,1,n,n,n,2)}};p.exports=g},15608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=g||l.fillColor,s=h||l.fillAlpha,i=(a&16711680)>>>16,r=(a&65280)>>>8,u=a&255;t.fillStyle="rgba("+i+","+r+","+u+","+s+")"};p.exports=S},17876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=g||l.strokeColor,s=h||l.strokeAlpha,i=(a&16711680)>>>16,r=(a&65280)>>>8,u=a&255;t.strokeStyle="rgba("+i+","+r+","+u+","+s+")",t.lineWidth=l.lineWidth};p.exports=S},91461:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(89980),a=t(88829),s=new l({Extends:h,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible],initialize:function(r,u,n){u===void 0&&(u="Shape"),h.call(this,r,u),this.geom=n,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(i,r){return r===void 0&&(r=1),i===void 0?this.isFilled=!1:(this.fillColor=i,this.fillAlpha=r,this.isFilled=!0),this},setStrokeStyle:function(i,r,u){return u===void 0&&(u=1),i===void 0?this.isStroked=!1:(this.lineWidth=i,this.strokeColor=r,this.strokeAlpha=u,this.isStroked=!0),this},setClosePath:function(i){return this.closePath=i,this},setSize:function(i,r){return this.width=i,this.height=r,this},setDisplaySize:function(i,r){return this.displayWidth=i,this.displayHeight=r,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}}});p.exports=s},50262:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75512),g=function(h,a,s,i,r){var u=h.strokeTint,n=l.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*s);u.TL=n,u.TR=n,u.BL=n,u.BR=n;var o=a.pathData,f=o.length-1,d=a.lineWidth,v=d/2,m=o[0]-i,T=o[1]-r;a.closePath||(f-=2);for(var E=2;E<f;E+=2){var y=o[E]-i,C=o[E+1]-r;h.batchLine(m,T,y,C,v,v,d,E-2,a.closePath?E===f-1:!1),m=y,T=C}};p.exports=g},28593:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2213),g=t(56694),h=t(75606),a=t(11117),s=t(26673),i=t(83392),r=t(91461),u=new g({Extends:r,Mixins:[l],initialize:function(o,f,d,v,m,T,E,y,C){f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=128),m===void 0&&(m=0),T===void 0&&(T=360),E===void 0&&(E=!1),r.call(this,o,"Arc",new s(0,0,v)),this._startAngle=m,this._endAngle=T,this._anticlockwise=E,this._iterations=.01,this.setPosition(f,d);var A=this.geom.radius*2;this.setSize(A,A),y!==void 0&&this.setFillStyle(y,C),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(n){this._iterations=n,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(n){this.geom.radius=n;var o=n*2;this.setSize(o,o),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(n){this._startAngle=n,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(n){this._endAngle=n,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(n){this._anticlockwise=n,this.updateData()}},setRadius:function(n){return this.radius=n,this},setIterations:function(n){return n===void 0&&(n=.01),this.iterations=n,this},setStartAngle:function(n,o){return this._startAngle=n,o!==void 0&&(this._anticlockwise=o),this.updateData()},setEndAngle:function(n,o){return this._endAngle=n,o!==void 0&&(this._anticlockwise=o),this.updateData()},updateData:function(){var n=this._iterations,o=n,f=this.geom.radius,d=h(this._startAngle),v=h(this._endAngle),m=this._anticlockwise,T=f,E=f;v-=d,m?v<-i.PI2?v=-i.PI2:v>0&&(v=-i.PI2+v%i.PI2):v>i.PI2?v=i.PI2:v<0&&(v=i.PI2+v%i.PI2);for(var y=[T+Math.cos(d)*f,E+Math.sin(d)*f],C;o<1;)C=v*o+d,y.push(T+Math.cos(C)*f,E+Math.sin(C)*f),o+=n;return C=v+d,y.push(T+Math.cos(C)*f,E+Math.sin(C)*f),y.push(T+Math.cos(d)*f,E+Math.sin(d)*f),this.pathIndexes=a(y),this.pathData=y,this}});p.exports=u},23560:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75606),g=t(15608),h=t(17876),a=t(49584),s=function(i,r,u,n){u.addToRenderList(r);var o=i.currentContext;if(a(i,o,r,u,n)){var f=r.radius;o.beginPath(),o.arc(f-r.originX*(f*2),f-r.originY*(f*2),f,l(r._startAngle),l(r._endAngle),r.anticlockwise),r.closePath&&o.closePath(),r.isFilled&&(g(o,r),o.fill()),r.isStroked&&(h(o,r),o.stroke()),o.restore()}};p.exports=s},10369:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28593),g=t(61286);g.register("arc",function(h,a,s,i,r,u,n,o){return this.displayList.add(new l(this.scene,h,a,s,i,r,u,n,o))}),g.register("circle",function(h,a,s,i,r){return this.displayList.add(new l(this.scene,h,a,s,0,360,!1,i,r))})},2213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(58356),h=t(23560),p.exports={renderWebGL:g,renderCanvas:h}},58356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=t(19543),h=t(50262),a=function(s,i,r,u){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),o=l(i,r,u),f=n.calcMatrix.copyFrom(o.calc),d=i._displayOriginX,v=i._displayOriginY,m=r.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&g(n,f,i,m,d,v),i.isStroked&&h(n,i,m,d,v),s.pipelines.postBatch(i)};p.exports=a},15220:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(87203),h=t(11117),a=t(74118),s=t(91461),i=new l({Extends:s,Mixins:[g],initialize:function(u,n,o,f,d,v){n===void 0&&(n=0),o===void 0&&(o=0),s.call(this,u,"Curve",f),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(n,o),d!==void 0&&this.setFillStyle(d,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){var r=this._curveBounds,u=this._smoothness;this.geom.getBounds(r,u),this.setSize(r.width,r.height),this.updateDisplayOrigin();for(var n=[],o=this.geom.getPoints(u),f=0;f<o.length;f++)n.push(o[f].x,o[f].y);return n.push(o[0].x,o[0].y),this.pathIndexes=h(n),this.pathData=n,this}});p.exports=i},4024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),g=t(17876),h=t(49584),a=function(s,i,r,u){r.addToRenderList(i);var n=s.currentContext;if(h(s,n,i,r,u)){var o=i._displayOriginX+i._curveBounds.x,f=i._displayOriginY+i._curveBounds.y,d=i.pathData,v=d.length-1,m=d[0]-o,T=d[1]-f;n.beginPath(),n.moveTo(m,T),i.closePath||(v-=2);for(var E=2;E<v;E+=2){var y=d[E]-o,C=d[E+1]-f;n.lineTo(y,C)}i.closePath&&n.closePath(),i.isFilled&&(l(n,i),n.fill()),i.isStroked&&(g(n,i),n.stroke()),n.restore()}};p.exports=a},10147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(15220);l.register("curve",function(h,a,s,i,r){return this.displayList.add(new g(this.scene,h,a,s,i,r))})},87203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(82958),h=t(4024),p.exports={renderWebGL:g,renderCanvas:h}},82958:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19543),g=t(73329),h=t(50262),a=function(s,i,r,u){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),o=g(i,r,u),f=n.calcMatrix.copyFrom(o.calc),d=i._displayOriginX+i._curveBounds.x,v=i._displayOriginY+i._curveBounds.y,m=r.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&l(n,f,i,m,d,v),i.isStroked&&h(n,i,m,d,v),s.pipelines.postBatch(i)};p.exports=a},28591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(11117),h=t(84171),a=t(95669),s=t(91461),i=new l({Extends:s,Mixins:[h],initialize:function(u,n,o,f,d,v,m){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=128),d===void 0&&(d=128),s.call(this,u,"Ellipse",new a(f/2,d/2,f,d)),this._smoothness=64,this.setPosition(n,o),this.width=f,this.height=d,v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSize:function(r,u){return this.width=r,this.height=u,this.geom.setPosition(r/2,u/2),this.geom.setSize(r,u),this.updateData()},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){for(var r=[],u=this.geom.getPoints(this._smoothness),n=0;n<u.length;n++)r.push(u[n].x,u[n].y);return r.push(u[0].x,u[0].y),this.pathIndexes=g(r),this.pathData=r,this}});p.exports=i},55881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),g=t(17876),h=t(49584),a=function(s,i,r,u){r.addToRenderList(i);var n=s.currentContext;if(h(s,n,i,r,u)){var o=i._displayOriginX,f=i._displayOriginY,d=i.pathData,v=d.length-1,m=d[0]-o,T=d[1]-f;n.beginPath(),n.moveTo(m,T),i.closePath||(v-=2);for(var E=2;E<v;E+=2){var y=d[E]-o,C=d[E+1]-f;n.lineTo(y,C)}n.closePath(),i.isFilled&&(l(n,i),n.fill()),i.isStroked&&(g(n,i),n.stroke()),n.restore()}};p.exports=a},99869:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28591),g=t(61286);g.register("ellipse",function(h,a,s,i,r,u){return this.displayList.add(new l(this.scene,h,a,s,i,r,u))})},84171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(17554),h=t(55881),p.exports={renderWebGL:g,renderCanvas:h}},17554:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19543),g=t(73329),h=t(50262),a=function(s,i,r,u){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),o=g(i,r,u),f=n.calcMatrix.copyFrom(o.calc),d=i._displayOriginX,v=i._displayOriginY,m=r.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&l(n,f,i,m,d,v),i.isStroked&&h(n,i,m,d,v),s.pipelines.postBatch(i)};p.exports=a},39169:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(91461),h=t(88059),a=new l({Extends:g,Mixins:[h],initialize:function(i,r,u,n,o,f,d,v,m,T,E){r===void 0&&(r=0),u===void 0&&(u=0),n===void 0&&(n=128),o===void 0&&(o=128),f===void 0&&(f=32),d===void 0&&(d=32),g.call(this,i,"Grid",null),this.cellWidth=f,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(r,u),this.setSize(n,o),this.setFillStyle(v,m),T!==void 0&&this.setOutlineStyle(T,E),this.updateDisplayOrigin()},setFillStyle:function(s,i){return i===void 0&&(i=1),s===void 0?this.showCells=!1:(this.fillColor=s,this.fillAlpha=i,this.showCells=!0),this},setAltFillStyle:function(s,i){return i===void 0&&(i=1),s===void 0?this.showAltCells=!1:(this.altFillColor=s,this.altFillAlpha=i,this.showAltCells=!0),this},setOutlineStyle:function(s,i){return i===void 0&&(i=1),s===void 0?this.showOutline=!1:(this.outlineFillColor=s,this.outlineFillAlpha=i,this.showOutline=!0),this}});p.exports=a},95525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),g=t(17876),h=t(49584),a=function(s,i,r,u){r.addToRenderList(i);var n=s.currentContext;if(h(s,n,i,r,u)){var o=-i._displayOriginX,f=-i._displayOriginY,d=r.alpha*i.alpha,v=i.width,m=i.height,T=i.cellWidth,E=i.cellHeight,y=Math.ceil(v/T),C=Math.ceil(m/E),A=T,M=E,R=T-(y*T-v),O=E-(C*E-m),L=i.showCells,I=i.showAltCells,N=i.showOutline,B=0,b=0,X=0,W=0,$=0;if(N&&(A--,M--,R===T&&R--,O===E&&O--),L&&i.fillAlpha>0)for(l(n,i),b=0;b<C;b++)for(I&&(X=b%2),B=0;B<y;B++){if(I&&X){X=0;continue}X++,W=B<y-1?A:R,$=b<C-1?M:O,n.fillRect(o+B*T,f+b*E,W,$)}if(I&&i.altFillAlpha>0)for(l(n,i,i.altFillColor,i.altFillAlpha*d),b=0;b<C;b++)for(I&&(X=b%2),B=0;B<y;B++){if(I&&!X){X=1;continue}X=0,W=B<y-1?A:R,$=b<C-1?M:O,n.fillRect(o+B*T,f+b*E,W,$)}if(N&&i.outlineFillAlpha>0){for(g(n,i,i.outlineFillColor,i.outlineFillAlpha*d),B=1;B<y;B++){var z=B*T;n.beginPath(),n.moveTo(z+o,f),n.lineTo(z+o,m+f),n.stroke()}for(b=1;b<C;b++){var V=b*E;n.beginPath(),n.moveTo(o,V+f),n.lineTo(o+v,V+f),n.stroke()}}n.restore()}};p.exports=a},9326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(39169);l.register("grid",function(h,a,s,i,r,u,n,o,f,d){return this.displayList.add(new g(this.scene,h,a,s,i,r,u,n,o,f,d))})},88059:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(50639),h=t(95525),p.exports={renderWebGL:g,renderCanvas:h}},50639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=t(75512),h=function(a,s,i,r){i.addToRenderList(s);var u=a.pipelines.set(s.pipeline),n=l(s,i,r),o=u.calcMatrix.copyFrom(n.calc);o.translate(-s._displayOriginX,-s._displayOriginY);var f=i.alpha*s.alpha,d=s.width,v=s.height,m=s.cellWidth,T=s.cellHeight,E=Math.ceil(d/m),y=Math.ceil(v/T),C=m,A=T,M=m-(E*m-d),R=T-(y*T-v),O,L,I=s.showCells,N=s.showAltCells,B=s.showOutline,b=0,X=0,W=0,$=0,z=0;if(B&&(C--,A--,M===m&&M--,R===T&&R--),a.pipelines.preBatch(s),I&&s.fillAlpha>0)for(O=u.fillTint,L=g.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*f),O.TL=L,O.TR=L,O.BL=L,O.BR=L,X=0;X<y;X++)for(N&&(W=X%2),b=0;b<E;b++){if(N&&W){W=0;continue}W++,$=b<E-1?C:M,z=X<y-1?A:R,u.batchFillRect(b*m,X*T,$,z)}if(N&&s.altFillAlpha>0)for(O=u.fillTint,L=g.getTintAppendFloatAlpha(s.altFillColor,s.altFillAlpha*f),O.TL=L,O.TR=L,O.BL=L,O.BR=L,X=0;X<y;X++)for(N&&(W=X%2),b=0;b<E;b++){if(N&&!W){W=1;continue}W=0,$=b<E-1?C:M,z=X<y-1?A:R,u.batchFillRect(b*m,X*T,$,z)}if(B&&s.outlineFillAlpha>0){var V=u.strokeTint,D=g.getTintAppendFloatAlpha(s.outlineFillColor,s.outlineFillAlpha*f);for(V.TL=D,V.TR=D,V.BL=D,V.BR=D,b=1;b<E;b++){var G=b*m;u.batchLine(G,0,G,v,1,1,1,0,!1)}for(X=1;X<y;X++){var U=X*T;u.batchLine(0,U,d,U,1,1,1,0,!1)}}a.pipelines.postBatch(s)};p.exports=h},4415:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72296),g=t(56694),h=t(91461),a=new g({Extends:h,Mixins:[l],initialize:function(i,r,u,n,o,f,d,v){r===void 0&&(r=0),u===void 0&&(u=0),n===void 0&&(n=48),o===void 0&&(o=32),f===void 0&&(f=15658734),d===void 0&&(d=10066329),v===void 0&&(v=13421772),h.call(this,i,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=d,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(r,u),this.setSize(n,o),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setFaces:function(s,i,r){return s===void 0&&(s=!0),i===void 0&&(i=!0),r===void 0&&(r=!0),this.showTop=s,this.showLeft=i,this.showRight=r,this},setFillStyle:function(s,i,r){return this.fillTop=s,this.fillLeft=i,this.fillRight=r,this.isFilled=!0,this}});p.exports=a},32884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),g=t(49584),h=function(a,s,i,r){i.addToRenderList(s);var u=a.currentContext;if(g(a,u,s,i,r)&&s.isFilled){var n=s.width,o=s.height,f=n/2,d=n/s.projection;s.showTop&&(l(u,s,s.fillTop),u.beginPath(),u.moveTo(-f,-o),u.lineTo(0,-d-o),u.lineTo(f,-o),u.lineTo(f,-1),u.lineTo(0,d-1),u.lineTo(-f,-1),u.lineTo(-f,-o),u.fill()),s.showLeft&&(l(u,s,s.fillLeft),u.beginPath(),u.moveTo(-f,0),u.lineTo(0,d),u.lineTo(0,d-o),u.lineTo(-f,-o),u.lineTo(-f,0),u.fill()),s.showRight&&(l(u,s,s.fillRight),u.beginPath(),u.moveTo(f,0),u.lineTo(0,d),u.lineTo(0,d-o),u.lineTo(f,-o),u.lineTo(f,0),u.fill()),u.restore()}};p.exports=h},88154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(4415);l.register("isobox",function(h,a,s,i,r,u,n){return this.displayList.add(new g(this.scene,h,a,s,i,r,u,n))})},72296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(33101),h=t(32884),p.exports={renderWebGL:g,renderCanvas:h}},33101:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=t(75512),h=function(a,s,i,r){i.addToRenderList(s);var u=a.pipelines.set(s.pipeline),n=l(s,i,r),o=u.calcMatrix.copyFrom(n.calc),f=s.width,d=s.height,v=f/2,m=f/s.projection,T=i.alpha*s.alpha;if(s.isFilled){var E,y,C,A,M,R,O,L,I;a.pipelines.preBatch(s),s.showTop&&(E=g.getTintAppendFloatAlpha(s.fillTop,T),y=o.getX(-v,-d),C=o.getY(-v,-d),A=o.getX(0,-m-d),M=o.getY(0,-m-d),R=o.getX(v,-d),O=o.getY(v,-d),L=o.getX(0,m-d),I=o.getY(0,m-d),u.batchQuad(s,y,C,A,M,R,O,L,I,0,0,1,1,E,E,E,E,2)),s.showLeft&&(E=g.getTintAppendFloatAlpha(s.fillLeft,T),y=o.getX(-v,0),C=o.getY(-v,0),A=o.getX(0,m),M=o.getY(0,m),R=o.getX(0,m-d),O=o.getY(0,m-d),L=o.getX(-v,-d),I=o.getY(-v,-d),u.batchQuad(s,y,C,A,M,R,O,L,I,0,0,1,1,E,E,E,E,2)),s.showRight&&(E=g.getTintAppendFloatAlpha(s.fillRight,T),y=o.getX(v,0),C=o.getY(v,0),A=o.getX(0,m),M=o.getY(0,m),R=o.getX(0,m-d),O=o.getY(0,m-d),L=o.getX(v,-d),I=o.getY(v,-d),u.batchQuad(s,y,C,A,M,R,O,L,I,0,0,1,1,E,E,E,E,2)),a.pipelines.postBatch(s)}};p.exports=h},65159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(93387),h=t(91461),a=new l({Extends:h,Mixins:[g],initialize:function(i,r,u,n,o,f,d,v,m){r===void 0&&(r=0),u===void 0&&(u=0),n===void 0&&(n=48),o===void 0&&(o=32),f===void 0&&(f=!1),d===void 0&&(d=15658734),v===void 0&&(v=10066329),m===void 0&&(m=13421772),h.call(this,i,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=v,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(r,u),this.setSize(n,o),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setReversed:function(s){return this.isReversed=s,this},setFaces:function(s,i,r){return s===void 0&&(s=!0),i===void 0&&(i=!0),r===void 0&&(r=!0),this.showTop=s,this.showLeft=i,this.showRight=r,this},setFillStyle:function(s,i,r){return this.fillTop=s,this.fillLeft=i,this.fillRight=r,this.isFilled=!0,this}});p.exports=a},9923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),g=t(49584),h=function(a,s,i,r){i.addToRenderList(s);var u=a.currentContext;if(g(a,u,s,i,r)&&s.isFilled){var n=s.width,o=s.height,f=n/2,d=n/s.projection,v=s.isReversed;s.showTop&&v&&(l(u,s,s.fillTop),u.beginPath(),u.moveTo(-f,-o),u.lineTo(0,-d-o),u.lineTo(f,-o),u.lineTo(0,d-o),u.fill()),s.showLeft&&(l(u,s,s.fillLeft),u.beginPath(),v?(u.moveTo(-f,-o),u.lineTo(0,d),u.lineTo(0,d-o)):(u.moveTo(-f,0),u.lineTo(0,d),u.lineTo(0,d-o)),u.fill()),s.showRight&&(l(u,s,s.fillRight),u.beginPath(),v?(u.moveTo(f,-o),u.lineTo(0,d),u.lineTo(0,d-o)):(u.moveTo(f,0),u.lineTo(0,d),u.lineTo(0,d-o)),u.fill()),u.restore()}};p.exports=h},67765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(65159);l.register("isotriangle",function(h,a,s,i,r,u,n,o){return this.displayList.add(new g(this.scene,h,a,s,i,r,u,n,o))})},93387:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(54946),h=t(9923),p.exports={renderWebGL:g,renderCanvas:h}},54946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=t(75512),h=function(a,s,i,r){i.addToRenderList(s);var u=a.pipelines.set(s.pipeline),n=l(s,i,r),o=u.calcMatrix.copyFrom(n.calc),f=s.width,d=s.height,v=f/2,m=f/s.projection,T=s.isReversed,E=i.alpha*s.alpha;if(s.isFilled){a.pipelines.preBatch(s);var y,C,A,M,R,O,L;if(s.showTop&&T){y=g.getTintAppendFloatAlpha(s.fillTop,E),C=o.getX(-v,-d),A=o.getY(-v,-d),M=o.getX(0,-m-d),R=o.getY(0,-m-d),O=o.getX(v,-d),L=o.getY(v,-d);var I=o.getX(0,m-d),N=o.getY(0,m-d);u.batchQuad(s,C,A,M,R,O,L,I,N,0,0,1,1,y,y,y,y,2)}s.showLeft&&(y=g.getTintAppendFloatAlpha(s.fillLeft,E),T?(C=o.getX(-v,-d),A=o.getY(-v,-d),M=o.getX(0,m),R=o.getY(0,m),O=o.getX(0,m-d),L=o.getY(0,m-d)):(C=o.getX(-v,0),A=o.getY(-v,0),M=o.getX(0,m),R=o.getY(0,m),O=o.getX(0,m-d),L=o.getY(0,m-d)),u.batchTri(s,C,A,M,R,O,L,0,0,1,1,y,y,y,2)),s.showRight&&(y=g.getTintAppendFloatAlpha(s.fillRight,E),T?(C=o.getX(v,-d),A=o.getY(v,-d),M=o.getX(0,m),R=o.getY(0,m),O=o.getX(0,m-d),L=o.getY(0,m-d)):(C=o.getX(v,0),A=o.getY(v,0),M=o.getX(0,m),R=o.getY(0,m),O=o.getX(0,m-d),L=o.getY(0,m-d)),u.batchTri(s,C,A,M,R,O,L,0,0,1,1,y,y,y,2)),a.pipelines.postBatch(s)}};p.exports=h},579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(91461),h=t(88829),a=t(52660),s=new l({Extends:g,Mixins:[a],initialize:function(r,u,n,o,f,d,v,m,T){u===void 0&&(u=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),d===void 0&&(d=128),v===void 0&&(v=0),g.call(this,r,"Line",new h(o,f,d,v));var E=Math.max(1,this.geom.right-this.geom.left),y=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(u,n),this.setSize(E,y),m!==void 0&&this.setStrokeStyle(1,m,T),this.updateDisplayOrigin()},setLineWidth:function(i,r){return r===void 0&&(r=i),this._startWidth=i,this._endWidth=r,this.lineWidth=i,this},setTo:function(i,r,u,n){return this.geom.setTo(i,r,u,n),this}});p.exports=s},52044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(17876),g=t(49584),h=function(a,s,i,r){i.addToRenderList(s);var u=a.currentContext;if(g(a,u,s,i,r)){var n=s._displayOriginX,o=s._displayOriginY;s.isStroked&&(l(u,s),u.beginPath(),u.moveTo(s.geom.x1-n,s.geom.y1-o),u.lineTo(s.geom.x2-n,s.geom.y2-o),u.stroke()),u.restore()}};p.exports=h},85665:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(579);l.register("line",function(h,a,s,i,r,u,n,o){return this.displayList.add(new g(this.scene,h,a,s,i,r,u,n,o))})},52660:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(46952),h=t(52044),p.exports={renderWebGL:g,renderCanvas:h}},46952:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=t(75512),h=function(a,s,i,r){i.addToRenderList(s);var u=a.pipelines.set(s.pipeline),n=l(s,i,r);u.calcMatrix.copyFrom(n.calc);var o=s._displayOriginX,f=s._displayOriginY,d=i.alpha*s.alpha;if(a.pipelines.preBatch(s),s.isStroked){var v=u.strokeTint,m=g.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*d);v.TL=m,v.TR=m,v.BL=m,v.BR=m;var T=s._startWidth,E=s._endWidth;u.batchLine(s.geom.x1-o,s.geom.y1-f,s.geom.x2-o,s.geom.y2-f,T,E,1,0,!1,n.sprite,n.camera)}a.pipelines.postBatch(s)};p.exports=h},91249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70573),g=t(56694),h=t(11117),a=t(14045),s=t(8580),i=t(91461),r=t(18974),u=new g({Extends:i,Mixins:[l],initialize:function(o,f,d,v,m,T){f===void 0&&(f=0),d===void 0&&(d=0),i.call(this,o,"Polygon",new s(v));var E=a(this.geom);this.setPosition(f,d),this.setSize(E.width,E.height),m!==void 0&&this.setFillStyle(m,T),this.updateDisplayOrigin(),this.updateData()},smooth:function(n){n===void 0&&(n=1);for(var o=0;o<n;o++)r(this.geom);return this.updateData()},setTo:function(n){this.geom.setTo(n);var o=a(this.geom);return this.setSize(o.width,o.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var n=[],o=this.geom.points,f=0;f<o.length;f++)n.push(o[f].x,o[f].y);return n.push(o[0].x,o[0].y),this.pathIndexes=h(n),this.pathData=n,this}});p.exports=u},40834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),g=t(17876),h=t(49584),a=function(s,i,r,u){r.addToRenderList(i);var n=s.currentContext;if(h(s,n,i,r,u)){var o=i._displayOriginX,f=i._displayOriginY,d=i.pathData,v=d.length-1,m=d[0]-o,T=d[1]-f;n.beginPath(),n.moveTo(m,T),i.closePath||(v-=2);for(var E=2;E<v;E+=2){var y=d[E]-o,C=d[E+1]-f;n.lineTo(y,C)}i.closePath&&n.closePath(),i.isFilled&&(l(n,i),n.fill()),i.isStroked&&(g(n,i),n.stroke()),n.restore()}};p.exports=a},88203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(91249);l.register("polygon",function(h,a,s,i,r){return this.displayList.add(new g(this.scene,h,a,s,i,r))})},70573:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(72841),h=t(40834),p.exports={renderWebGL:g,renderCanvas:h}},72841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19543),g=t(73329),h=t(50262),a=function(s,i,r,u){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),o=g(i,r,u),f=n.calcMatrix.copyFrom(o.calc),d=i._displayOriginX,v=i._displayOriginY,m=r.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&l(n,f,i,m,d,v),i.isStroked&&h(n,i,m,d,v),s.pipelines.postBatch(i)};p.exports=a},517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(74118),h=t(91461),a=t(37673),s=new l({Extends:h,Mixins:[a],initialize:function(r,u,n,o,f,d,v){u===void 0&&(u=0),n===void 0&&(n=0),o===void 0&&(o=128),f===void 0&&(f=128),h.call(this,r,"Rectangle",new g(0,0,o,f)),this.setPosition(u,n),this.setSize(o,f),d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(i,r){this.width=i,this.height=r,this.geom.setSize(i,r),this.updateData(),this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=i,u.hitArea.height=r),this},updateData:function(){var i=[],r=this.geom,u=this._tempLine;return r.getLineA(u),i.push(u.x1,u.y1,u.x2,u.y2),r.getLineB(u),i.push(u.x2,u.y2),r.getLineC(u),i.push(u.x2,u.y2),r.getLineD(u),i.push(u.x2,u.y2),this.pathData=i,this}});p.exports=s},4091:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),g=t(17876),h=t(49584),a=function(s,i,r,u){r.addToRenderList(i);var n=s.currentContext;if(h(s,n,i,r,u)){var o=i._displayOriginX,f=i._displayOriginY;i.isFilled&&(l(n,i),n.fillRect(-o,-f,i.width,i.height)),i.isStroked&&(g(n,i),n.beginPath(),n.rect(-o,-f,i.width,i.height),n.stroke()),n.restore()}};p.exports=a},94355:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(517);l.register("rectangle",function(h,a,s,i,r,u){return this.displayList.add(new g(this.scene,h,a,s,i,r,u))})},37673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(43532),h=t(4091),p.exports={renderWebGL:g,renderCanvas:h}},43532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=t(50262),h=t(75512),a=function(s,i,r,u){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),o=l(i,r,u);n.calcMatrix.copyFrom(o.calc);var f=i._displayOriginX,d=i._displayOriginY,v=r.alpha*i.alpha;if(s.pipelines.preBatch(i),i.isFilled){var m=n.fillTint,T=h.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);m.TL=T,m.TR=T,m.BL=T,m.BR=T,n.batchFillRect(-f,-d,i.width,i.height)}i.isStroked&&g(n,i,v,f,d),s.pipelines.postBatch(i)};p.exports=a},77843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87956),g=t(56694),h=t(11117),a=t(91461),s=new g({Extends:a,Mixins:[l],initialize:function(r,u,n,o,f,d,v,m){u===void 0&&(u=0),n===void 0&&(n=0),o===void 0&&(o=5),f===void 0&&(f=32),d===void 0&&(d=64),a.call(this,r,"Star",null),this._points=o,this._innerRadius=f,this._outerRadius=d,this.setPosition(u,n),this.setSize(d*2,d*2),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(i){return this._points=i,this.updateData()},setInnerRadius:function(i){return this._innerRadius=i,this.updateData()},setOuterRadius:function(i){return this._outerRadius=i,this.updateData()},points:{get:function(){return this._points},set:function(i){this._points=i,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(i){this._innerRadius=i,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(i){this._outerRadius=i,this.updateData()}},updateData:function(){var i=[],r=this._points,u=this._innerRadius,n=this._outerRadius,o=Math.PI/2*3,f=Math.PI/r,d=n,v=n;i.push(d,v+-n);for(var m=0;m<r;m++)i.push(d+Math.cos(o)*n,v+Math.sin(o)*n),o+=f,i.push(d+Math.cos(o)*u,v+Math.sin(o)*u),o+=f;return i.push(d,v+-n),this.pathIndexes=h(i),this.pathData=i,this}});p.exports=s},11401:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),g=t(17876),h=t(49584),a=function(s,i,r,u){r.addToRenderList(i);var n=s.currentContext;if(h(s,n,i,r,u)){var o=i._displayOriginX,f=i._displayOriginY,d=i.pathData,v=d.length-1,m=d[0]-o,T=d[1]-f;n.beginPath(),n.moveTo(m,T),i.closePath||(v-=2);for(var E=2;E<v;E+=2){var y=d[E]-o,C=d[E+1]-f;n.lineTo(y,C)}n.closePath(),i.isFilled&&(l(n,i),n.fill()),i.isStroked&&(g(n,i),n.stroke()),n.restore()}};p.exports=a},23962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(77843),g=t(61286);g.register("star",function(h,a,s,i,r,u,n){return this.displayList.add(new l(this.scene,h,a,s,i,r,u,n))})},87956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(12037),h=t(11401),p.exports={renderWebGL:g,renderCanvas:h}},12037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19543),g=t(73329),h=t(50262),a=function(s,i,r,u){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),o=g(i,r,u),f=n.calcMatrix.copyFrom(o.calc),d=i._displayOriginX,v=i._displayOriginY,m=r.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&l(n,f,i,m,d,v),i.isStroked&&h(n,i,m,d,v),s.pipelines.postBatch(i)};p.exports=a},21873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(91461),h=t(66349),a=t(70498),s=new l({Extends:g,Mixins:[a],initialize:function(r,u,n,o,f,d,v,m,T,E,y){u===void 0&&(u=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=128),d===void 0&&(d=64),v===void 0&&(v=0),m===void 0&&(m=128),T===void 0&&(T=128),g.call(this,r,"Triangle",new h(o,f,d,v,m,T));var C=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(u,n),this.setSize(C,A),E!==void 0&&this.setFillStyle(E,y),this.updateDisplayOrigin(),this.updateData()},setTo:function(i,r,u,n,o,f){return this.geom.setTo(i,r,u,n,o,f),this.updateData()},updateData:function(){var i=[],r=this.geom,u=this._tempLine;return r.getLineA(u),i.push(u.x1,u.y1,u.x2,u.y2),r.getLineB(u),i.push(u.x2,u.y2),r.getLineC(u),i.push(u.x2,u.y2),this.pathData=i,this}});p.exports=s},60213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),g=t(17876),h=t(49584),a=function(s,i,r,u){r.addToRenderList(i);var n=s.currentContext;if(h(s,n,i,r,u)){var o=i._displayOriginX,f=i._displayOriginY,d=i.geom.x1-o,v=i.geom.y1-f,m=i.geom.x2-o,T=i.geom.y2-f,E=i.geom.x3-o,y=i.geom.y3-f;n.beginPath(),n.moveTo(d,v),n.lineTo(m,T),n.lineTo(E,y),n.closePath(),i.isFilled&&(l(n,i),n.fill()),i.isStroked&&(g(n,i),n.stroke()),n.restore()}};p.exports=a},79296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(21873);l.register("triangle",function(h,a,s,i,r,u,n,o,f,d){return this.displayList.add(new g(this.scene,h,a,s,i,r,u,n,o,f,d))})},70498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(72291),h=t(60213),p.exports={renderWebGL:g,renderCanvas:h}},72291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=t(50262),h=t(75512),a=function(s,i,r,u){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),o=l(i,r,u);n.calcMatrix.copyFrom(o.calc);var f=i._displayOriginX,d=i._displayOriginY,v=r.alpha*i.alpha;if(s.pipelines.preBatch(i),i.isFilled){var m=n.fillTint,T=h.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*v);m.TL=T,m.TR=T,m.BL=T,m.BR=T;var E=i.geom.x1-f,y=i.geom.y1-d,C=i.geom.x2-f,A=i.geom.y2-d,M=i.geom.x3-f,R=i.geom.y3-d;n.batchFillTriangle(E,y,C,A,M,R,o.sprite,o.camera)}i.isStroked&&g(n,i,v,f,d),s.pipelines.postBatch(i)};p.exports=a},13747:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16569),g=t(56694),h=t(64937),a=t(89980),s=t(20791),i=new g({Extends:a,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.TextureCrop,h.Tint,h.Transform,h.Visible,s],initialize:function(u,n,o,f,d){a.call(this,u,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(f,d),this.setPosition(n,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,u){this.anims.update(r,u)},play:function(r,u){return this.anims.play(r,u)},playReverse:function(r,u){return this.anims.playReverse(r,u)},playAfterDelay:function(r,u){return this.anims.playAfterDelay(r,u)},playAfterRepeat:function(r,u){return this.anims.playAfterRepeat(r,u)},chain:function(r){return this.anims.chain(r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(r){return this.anims.stopAfterDelay(r)},stopAfterRepeat:function(r){return this.anims.stopAfterRepeat(r)},stopOnFrame:function(r){return this.anims.stopOnFrame(r)},toJSON:function(){return h.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});p.exports=i},27573:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){g.addToRenderList(l),t.batchSprite(l,l.frame,g,h)};p.exports=S},89219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(32291),h=t(99325),a=t(20494),s=t(13747);h.register("sprite",function(i,r){i===void 0&&(i={});var u=a(i,"key",null),n=a(i,"frame",null),o=new s(this.scene,0,0,u,n);return r!==void 0&&(i.add=r),l(this.scene,o,i),g(o,i),o})},66135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(13747);l.register("sprite",function(h,a,s,i){return this.displayList.add(new g(this.scene,h,a,s,i))})},20791:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(21034),h=t(27573),p.exports={renderWebGL:g,renderCanvas:h}},21034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){g.addToRenderList(l),l.pipeline.batchSprite(l,g,h)};p.exports=S},32979:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=t.canvas,a=t.context,s=t.style,i=[],r=0,u=g.length;s.maxLines>0&&s.maxLines<g.length&&(u=s.maxLines),s.syncFont(h,a);for(var n=0;n<u;n++){var o=s.strokeThickness;o+=a.measureText(g[n]).width,s.wordWrap&&(o-=a.measureText(" ").width),i[n]=Math.ceil(o),r=Math.max(r,i[n])}var f=l.fontSize+s.strokeThickness,d=f*u,v=t.lineSpacing;return u>1&&(d+=v*(u-1)),{width:r,height:d,lines:u,lineWidths:i,lineSpacing:v,lineHeight:f}};p.exports=S},27030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),g=function(h){var a=l.create(this),s=a.getContext("2d",{willReadFrequently:!0});h.syncFont(a,s);var i=s.measureText(h.testString);if("actualBoundingBoxAscent"in i){var r=i.actualBoundingBoxAscent,u=i.actualBoundingBoxDescent;return l.remove(a),{ascent:r,descent:u,fontSize:r+u}}var n=Math.ceil(i.width*h.baselineX),o=n,f=2*o;o=o*h.baselineY|0,a.width=n,a.height=f,s.fillStyle="#f00",s.fillRect(0,0,n,f),s.font=h._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(h.testString,0,o);var d={ascent:0,descent:0,fontSize:0},v=s.getImageData(0,0,n,f);if(!v)return d.ascent=o,d.descent=o+6,d.fontSize=d.ascent+d.descent,l.remove(a),d;var m=v.data,T=m.length,E=n*4,y,C,A=0,M=!1;for(y=0;y<o;y++){for(C=0;C<E;C+=4)if(m[A+C]!==255){M=!0;break}if(!M)A+=E;else break}for(d.ascent=o-y,A=T-E,M=!1,y=f;y>o;y--){for(C=0;C<E;C+=4)if(m[A+C]!==255){M=!0;break}if(!M)A-=E;else break}return d.descent=y-o,d.fontSize=d.ascent+d.descent,l.remove(a),d};p.exports=g},76555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99584),g=t(61068),h=t(56694),a=t(64937),s=t(89980),i=t(32979),r=t(10850),u=t(55638),n=t(80032),o=t(74744),f=new h({Extends:s,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,n],initialize:function(v,m,T,E,y){m===void 0&&(m=0),T===void 0&&(T=0),s.call(this,v,"Text"),this.renderer=v.sys.renderer,this.setPosition(m,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=g.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.style=new o(this,y),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=v.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),y&&y.padding&&this.setPadding(y.padding),y&&y.lineSpacing&&this.setLineSpacing(y.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(d){var v=this.style;if(v.wordWrapCallback){var m=v.wordWrapCallback.call(v.wordWrapCallbackScope,d,this);return Array.isArray(m)&&(m=m.join(`
`)),m}else return v.wordWrapWidth?v.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,v,m){for(var T="",E=d.replace(/ +/gi," ").split(this.splitRegExp),y=E.length,C=0;C<y;C++){var A=E[C],M="";A=A.replace(/^ *|\s*$/gi,"");var R=v.measureText(A).width;if(R<m){T+=A+`
`;continue}for(var O=m,L=A.split(" "),I=0;I<L.length;I++){var N=L[I],B=N+" ",b=v.measureText(B).width;if(b>O){if(I===0){for(var X=B;X.length&&(X=X.slice(0,-1),b=v.measureText(X).width,!(b<=O)););if(!X.length)throw new Error("wordWrapWidth < a single character");var W=N.substr(X.length);L[I]=W,M+=X}var $=L[I].length?I:I+1,z=L.slice($).join(" ").replace(/[ \n]*$/gi,"");E.splice(C+1,0,z),y=E.length;break}else M+=B,O-=b}T+=M.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(d,v,m){for(var T="",E=d.split(this.splitRegExp),y=E.length-1,C=v.measureText(" ").width,A=0;A<=y;A++){for(var M=m,R=E[A].split(" "),O=R.length-1,L=0;L<=O;L++){var I=R[L],N=v.measureText(I).width,B=N;L<O&&(B+=C),B>M&&L>0&&(T+=`
`,M=m),T+=I,L<O?(T+=" ",M-=B):M-=N}A<y&&(T+=`
`)}return T},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var v=this.runWordWrap(d);return v.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},appendText:function(d,v){v===void 0&&(v=!0),!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d=d.toString();var m=this._text.concat(v?`
`+d:d);return m!==this._text&&(this._text=m,this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,v){return this.style.setFixedSize(d,v)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,v){return this.style.setStroke(d,v)},setShadow:function(d,v,m,T,E,y){return this.style.setShadow(d,v,m,T,E,y)},setShadowOffset:function(d,v){return this.style.setShadowOffset(d,v)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,v){return this.style.setWordWrapWidth(d,v)},setWordWrapCallback:function(d,v){return this.style.setWordWrapCallback(d,v)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setPadding:function(d,v,m,T){if(typeof d=="object"){var E=d,y=r(E,"x",null);y!==null?(d=y,m=y):(d=r(E,"left",0),m=r(E,"right",d));var C=r(E,"y",null);C!==null?(v=C,T=C):(v=r(E,"top",0),T=r(E,"bottom",v))}else d===void 0&&(d=0),v===void 0&&(v=d),m===void 0&&(m=d),T===void 0&&(T=v);return this.padding.left=d,this.padding.top=v,this.padding.right=m,this.padding.bottom=T,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},updateText:function(){var d=this.canvas,v=this.context,m=this.style,T=m.resolution,E=m.metrics;m.syncFont(d,v);var y=this._text;(m.wordWrapWidth||m.wordWrapCallback)&&(y=this.runWordWrap(this._text));var C=y.split(this.splitRegExp),A=i(this,E,C),M=this.padding,R;m.fixedWidth===0?(this.width=A.width+M.left+M.right,R=A.width):(this.width=m.fixedWidth,R=this.width-M.left-M.right,R<A.width&&(R=A.width)),m.fixedHeight===0?this.height=A.height+M.top+M.bottom:this.height=m.fixedHeight;var O=this.width,L=this.height;this.updateDisplayOrigin(),O*=T,L*=T,O=Math.max(O,1),L=Math.max(L,1),d.width!==O||d.height!==L?(d.width=O,d.height=L,this.frame.setSize(O,L),m.syncFont(d,v),m.rtl&&(v.direction="rtl")):v.clearRect(0,0,O,L),v.save(),v.scale(T,T),m.backgroundColor&&(v.fillStyle=m.backgroundColor,v.fillRect(0,0,O,L)),m.syncStyle(d,v),v.translate(M.left,M.top);for(var I,N,B=0;B<A.lines;B++){if(I=m.strokeThickness/2,N=m.strokeThickness/2+B*A.lineHeight+E.ascent,B>0&&(N+=A.lineSpacing*B),m.rtl)I=O-I-M.left-M.right;else if(m.align==="right")I+=R-A.lineWidths[B];else if(m.align==="center")I+=(R-A.lineWidths[B])/2;else if(m.align==="justify"){var b=.85;if(A.lineWidths[B]/A.width>=b){var X=A.width-A.lineWidths[B],W=v.measureText(" ").width,$=C[B].trim(),z=$.split(" ");X+=(C[B].length-$.length)*W;for(var V=Math.floor(X/W),D=0;V>0;)z[D]+=" ",D=(D+1)%(z.length-1||1),--V;C[B]=z.join(" ")}}this.autoRound&&(I=Math.round(I),N=Math.round(N)),m.strokeThickness&&(m.syncShadow(v,m.shadowStroke),v.strokeText(C[B],I,N)),m.color&&(m.syncShadow(v,m.shadowFill),v.fillText(C[B],I,N))}v.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var G=this.input;return G&&!G.customHitArea&&(G.hitArea.width=this.width,G.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=a.ToJSON(this),v={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=v,d},preDestroy:function(){this.style.rtl&&u(this.canvas),g.remove(this.canvas),this.texture.destroy()}});p.exports=f},71649:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){l.width===0||l.height===0||(g.addToRenderList(l),t.batchSprite(l,l.frame,g,h))};p.exports=S},75397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(99325),h=t(20494),a=t(76555);g.register("text",function(s,i){s===void 0&&(s={});var r=h(s,"text",""),u=h(s,"style",null),n=h(s,"padding",null);n!==null&&(u.padding=n);var o=new a(this.scene,0,0,r,u);return i!==void 0&&(s.add=i),l(this.scene,o,s),o.autoRound=h(s,"autoRound",!0),o.resolution=h(s,"resolution",1),o})},94627:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76555),g=t(61286);g.register("text",function(h,a,s,i){return this.displayList.add(new l(this.scene,h,a,s,i))})},80032:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(76128),h=t(71649),p.exports={renderWebGL:g,renderCanvas:h}},74744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(20494),h=t(10850),a=t(27030),s={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},i=new l({initialize:function(u,n){this.parent=u,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(n,!1,!0)},setStyle:function(r,u,n){u===void 0&&(u=!0),n===void 0&&(n=!1),r&&r.hasOwnProperty("fontSize")&&typeof r.fontSize=="number"&&(r.fontSize=r.fontSize.toString()+"px");for(var o in s){var f=n?s[o][1]:this[o];o==="wordWrapCallback"||o==="wordWrapCallbackScope"?this[o]=h(r,s[o][0],f):this[o]=g(r,s[o][0],f)}var d=h(r,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=h(r,"fill",null);v!==null&&(this.color=v);var m=h(r,"metrics",!1);return m?this.metrics={ascent:h(m,"ascent",0),descent:h(m,"descent",0),fontSize:h(m,"fontSize",0)}:(u||!this.metrics)&&(this.metrics=a(this)),u?this.parent.updateText():this.parent},syncFont:function(r,u){u.font=this._font},syncStyle:function(r,u){u.textBaseline="alphabetic",u.fillStyle=this.color,u.strokeStyle=this.stroke,u.lineWidth=this.strokeThickness,u.lineCap="round",u.lineJoin="round"},syncShadow:function(r,u){u?(r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY,r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur):(r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowColor=0,r.shadowBlur=0)},update:function(r){return r&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(r,u){u===void 0&&(u=!0);var n=r,o="",f="";if(typeof r!="string")n=h(r,"fontFamily","Courier"),o=h(r,"fontSize","16px"),f=h(r,"fontStyle","");else{var d=r.split(" "),v=0;f=d.length>2?d[v++]:"",o=d[v++]||"16px",n=d[v++]||"Courier"}return(n!==this.fontFamily||o!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=n,this.fontSize=o,this.fontStyle=f,u&&this.update(!0)),this.parent},setFontFamily:function(r){return this.fontFamily!==r&&(this.fontFamily=r,this.update(!0)),this.parent},setFontStyle:function(r){return this.fontStyle!==r&&(this.fontStyle=r,this.update(!0)),this.parent},setFontSize:function(r){return typeof r=="number"&&(r=r.toString()+"px"),this.fontSize!==r&&(this.fontSize=r,this.update(!0)),this.parent},setTestString:function(r){return this.testString=r,this.update(!0)},setFixedSize:function(r,u){return this.fixedWidth=r,this.fixedHeight=u,r&&(this.parent.width=r),u&&(this.parent.height=u),this.update(!1)},setBackgroundColor:function(r){return this.backgroundColor=r,this.update(!1)},setFill:function(r){return this.color=r,this.update(!1)},setColor:function(r){return this.color=r,this.update(!1)},setResolution:function(r){return this.resolution=r,this.update(!1)},setStroke:function(r,u){return u===void 0&&(u=this.strokeThickness),r===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==r||this.strokeThickness!==u)&&(this.stroke=r,this.strokeThickness=u,this.update(!0)),this.parent},setShadow:function(r,u,n,o,f,d){return r===void 0&&(r=0),u===void 0&&(u=0),n===void 0&&(n="#000"),o===void 0&&(o=0),f===void 0&&(f=!1),d===void 0&&(d=!0),this.shadowOffsetX=r,this.shadowOffsetY=u,this.shadowColor=n,this.shadowBlur=o,this.shadowStroke=f,this.shadowFill=d,this.update(!1)},setShadowOffset:function(r,u){return r===void 0&&(r=0),u===void 0&&(u=r),this.shadowOffsetX=r,this.shadowOffsetY=u,this.update(!1)},setShadowColor:function(r){return r===void 0&&(r="#000"),this.shadowColor=r,this.update(!1)},setShadowBlur:function(r){return r===void 0&&(r=0),this.shadowBlur=r,this.update(!1)},setShadowStroke:function(r){return this.shadowStroke=r,this.update(!1)},setShadowFill:function(r){return this.shadowFill=r,this.update(!1)},setWordWrapWidth:function(r,u){return u===void 0&&(u=!1),this.wordWrapWidth=r,this.wordWrapUseAdvanced=u,this.update(!1)},setWordWrapCallback:function(r,u){return u===void 0&&(u=null),this.wordWrapCallback=r,this.wordWrapCallbackScope=u,this.update(!1)},setAlign:function(r){return r===void 0&&(r="left"),this.align=r,this.update(!1)},setMaxLines:function(r){return r===void 0&&(r=0),this.maxLines=r,this.update(!1)},getTextMetrics:function(){var r=this.metrics;return{ascent:r.ascent,descent:r.descent,fontSize:r.fontSize}},toJSON:function(){var r={};for(var u in s)r[u]=this[u];return r.metrics=this.getTextMetrics(),r},destroy:function(){this.parent=void 0}});p.exports=i},76128:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75512),g=function(h,a,s,i){if(!(a.width===0||a.height===0)){s.addToRenderList(a);var r=a.frame,u=r.width,n=r.height,o=l.getTintAppendFloatAlpha,f=h.pipelines.set(a.pipeline,a),d=f.setTexture2D(r.glTexture,a);f.batchTexture(a,r.glTexture,u,n,a.x,a.y,u/a.style.resolution,n/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,u,n,o(a.tintTopLeft,s.alpha*a._alphaTL),o(a.tintTopRight,s.alpha*a._alphaTR),o(a.tintBottomLeft,s.alpha*a._alphaBL),o(a.tintBottomRight,s.alpha*a._alphaBR),a.tintFill,0,0,s,i,!1,d)}};p.exports=g},35856:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),g=t(56694),h=t(64937),a=t(89980),s=t(3504),i=t(8213),r=t(9271),u=t(93736),n=8,o=new g({Extends:a,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,r],initialize:function(d,v,m,T,E,y,C){var A=d.sys.renderer;a.call(this,d,"TileSprite");var M=d.sys.textures.get(y),R=M.get(C);R.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),M=d.sys.textures.get("__MISSING"),R=M.get()),M.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),M=d.sys.textures.get("__MISSING"),R=M.get()),!T||!E?(T=R.width,E=R.height):(T=Math.floor(T),E=Math.floor(E)),this._tilePosition=new u,this._tileScale=new u(1,1),this.dirty=!1,this.renderer=A,this.canvas=l.create(this,T,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=M,this.displayFrame=R,this._crop=this.resetCropObject(),this.texture=d.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=s(R.width),this.potHeight=s(R.height),this.fillCanvas=l.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(v,m),this.setSize(T,E),this.setFrame(C),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(f,d){return this.displayTexture=this.scene.sys.textures.get(f),this.setFrame(d)},setFrame:function(f){var d=this.displayTexture.get(f);return this.potWidth=s(d.width),this.potHeight=s(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=~n:this.renderFlags|=n,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(f,d){return f!==void 0&&(this.tilePositionX=f),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(f,d){return f===void 0&&(f=this.tileScaleX),d===void 0&&(d=f),this.tileScaleX=f,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var f=this.displayFrame;if(f.source.isRenderTexture||f.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,v=this.fillCanvas,m=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(m=f.cutWidth,T=f.cutHeight),d.clearRect(0,0,m,T),v.width=m,v.height=T,d.drawImage(f.source.image,f.cutX,f.cutY,f.cutWidth,f.cutHeight,0,0,m,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(v,this.fillPattern):this.fillPattern=d.createPattern(v,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var f=this.canvas;if((f.width!==this.width||f.height!==this.height)&&(f.width=this.width,f.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||i.disable(d);var v=this._tileScale.x,m=this._tileScale.y,T=this._tilePosition.x,E=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(v,m),d.translate(-T,-E),d.fillStyle=this.fillPattern,d.fillRect(T,E,this.width/v,this.height/m),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),l.remove(this.canvas),l.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(f){this._tilePosition.x=f,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(f){this._tilePosition.y=f,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(f){this._tileScale.x=f,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(f){this._tileScale.y=f,this.dirty=!0}}});p.exports=o},93305:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){l.updateCanvas(),g.addToRenderList(l),t.batchSprite(l,l.frame,g,h)};p.exports=S},63950:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(99325),h=t(20494),a=t(35856);g.register("tileSprite",function(s,i){s===void 0&&(s={});var r=h(s,"x",0),u=h(s,"y",0),n=h(s,"width",512),o=h(s,"height",512),f=h(s,"key",""),d=h(s,"frame",""),v=new a(this.scene,r,u,n,o,f,d);return i!==void 0&&(s.add=i),l(this.scene,v,s),v})},20509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35856),g=t(61286);g.register("tileSprite",function(h,a,s,i,r,u){return this.displayList.add(new l(this.scene,h,a,s,i,r,u))})},9271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(74287),h=t(93305),p.exports={renderWebGL:g,renderCanvas:h}},74287:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75512),g=function(h,a,s,i){a.updateCanvas();var r=a.width,u=a.height;if(!(r===0||u===0)){s.addToRenderList(a);var n=l.getTintAppendFloatAlpha,o=h.pipelines.set(a.pipeline,a),f=o.setTexture2D(a.fillPattern,a);o.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,r,u,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*r,a.originY*u,0,0,r,u,n(a.tintTopLeft,s.alpha*a._alphaTL),n(a.tintTopRight,s.alpha*a._alphaTR),n(a.tintBottomLeft,s.alpha*a._alphaBL),n(a.tintBottomRight,s.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,s,i,!1,f)}};p.exports=g},8630:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=t(56694),h=t(64937),a=t(56631),s=t(97081),i=t(89980),r=t(83392),u=t(76038),n=t(76583),o=t(77974),f=new g({Extends:i,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.TextureCrop,h.Tint,h.Transform,h.Visible,o],initialize:function(v,m,T,E){i.call(this,v,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=n(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var y=v.sys.game;this._device=y.device.video,this.setPosition(m,T),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),y.events.on(s.PAUSE,this.globalPause,this),y.events.on(s.RESUME,this.globalResume,this);var C=v.sys.sound;C&&C.on(u.GLOBAL_MUTE,this.globalMute,this),E&&this.load(E)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var v=this.scene.sys.cache.video.get(d);return v?(this.cacheKey=d,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,v,m,T,E){v===void 0&&(v=!0),m===void 0&&(m=!1),this.cacheKey!==d&&(this.load(d),v&&this.play(m,T,E))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,v,m){v===void 0&&(v=!1);var T=this._device.getVideoURL(d);return T?(this.cacheKey="",this.loadHandler(T.url,v,m)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,v,m){return this.loadHandler(null,v,m,d)},loadHandler:function(d,v,m,T){v||(v=!1);var E=this.video;if(E?(this.removeLoadEventHandlers(),this.stop()):(E=document.createElement("video"),E.controls=!1,E.setAttribute("playsinline","playsinline"),E.setAttribute("preload","auto"),E.setAttribute("disablePictureInPicture","true")),v?(E.muted=!0,E.defaultMuted=!0,E.setAttribute("autoplay","autoplay")):(E.muted=!1,E.defaultMuted=!1,E.removeAttribute("autoplay")),m?E.setAttribute("crossorigin",m):E.removeAttribute("crossorigin"),T)if("srcObject"in E)try{E.srcObject=T}catch(y){if(y.name!=="TypeError")throw y;E.src=URL.createObjectURL(T)}else E.src=URL.createObjectURL(T);else E.src=d;return this.addLoadEventHandlers(),this.retry=0,this.video=E,this._playCalled=!1,E.load(),this},requestVideoFrame:function(d,v){var m=this.video;if(m){var T=v.width,E=v.height,y=this.videoTexture,C=this.videoTextureSource,A=!y||C.source!==m;A?(this._codePaused=m.paused,this._codeMuted=m.muted,y?(C.source=m,C.width=T,C.height=E,y.get().setSize(T,E)):(y=this.scene.sys.textures.create(this._key,m,T,E),y.add("__BASE",0,0,0,T,E),this.setTexture(y),this.videoTexture=y,this.videoTextureSource=y.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(a.VIDEO_TEXTURE,this,y)),this.setSizeToFrame(),this.updateDisplayOrigin()):C.update(),this.isStalled=!1,this.metadata=v;var M=v.mediaTime;A&&(this._lastUpdate=M,this.emit(a.VIDEO_CREATED,this,T,E),this.frameReady||(this.frameReady=!0,this.emit(a.VIDEO_PLAY,this))),this._playingMarker?M>=this._markerOut&&(m.loop?(m.currentTime=this._markerIn,this.emit(a.VIDEO_LOOP,this)):(this.stop(!1),this.emit(a.VIDEO_COMPLETE,this))):M<this._lastUpdate&&this.emit(a.VIDEO_LOOP,this),this._lastUpdate=M,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,v,m){v===void 0&&(v=-1),m===void 0&&(m=r.MAX_SAFE_INTEGER);var T=this.video;return!T||this.isPlaying()?(T||console.warn("Video not loaded"),this):(d===void 0&&(d=T.loop),T.loop=d,this._markerIn=v,this._markerOut=m,this._playingMarker=v>-1&&m>v&&m<r.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=T.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var v=this._callbacks;for(var m in v)d.addEventListener(m,v[m])}},removeEventHandlers:function(){var d=this.video;if(d){var v=this._callbacks;for(var m in v)d.removeEventListener(m,v[m])}},createPlayPromise:function(d){d===void 0&&(d=!0);var v=this.video,m=v.play();if(m!==void 0){var T=this.playSuccess.bind(this),E=this.playError.bind(this);if(!d){var y=this;E=function(){y.failedPlayAttempts++}}m.then(T).catch(E)}else v.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,v,m){return!isNaN(v)&&v>=0&&!isNaN(m)&&m>v&&(this.markers[d]=[v,m]),this},playMarker:function(d,v){var m=this.markers[d];return m&&this.play(v,m[0],m[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,v){return d===void 0&&(d=this.width),v===void 0&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,d,v)},snapshotArea:function(d,v,m,T,E,y){d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=this.width),T===void 0&&(T=this.height),E===void 0&&(E=m),y===void 0&&(y=T);var C=this.video,A=this.snapshotTexture;return A?(A.setSize(E,y),C&&A.context.drawImage(C,d,v,m,T,0,0,E,y)):(A=this.scene.sys.textures.createCanvas(n(),E,y),this.snapshotTexture=A,C&&A.context.drawImage(C,d,v,m,T,0,0,E,y)),A.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(a.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var v=d.name;v==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(a.VIDEO_LOCKED,this)):v==="NotSupportedError"?(this.stop(!1),this.emit(a.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(a.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(a.VIDEO_ERROR,this,d)},stalledHandler:function(d){this.isStalled=!0,this.emit(a.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(d,v){var m=this.video;!m||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var v=this.video;if(v){var m=v.duration;if(m!==1/0&&!isNaN(m)){var T=m*d;this.setCurrentTime(T)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var v=this.video;if(v){if(typeof d=="string"){var m=d[0],T=parseFloat(d.substr(1));m==="+"?d=v.currentTime+T:m==="-"&&(d=v.currentTime-T)}v.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var v=d.duration;if(v!==1/0&&!isNaN(v))return d.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var v=this.video;return v&&(v.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,v){this._systemMuted=v;var m=this.video;m&&(m.muted=this._codeMuted?!0:v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){d===void 0&&(d=!0);var v=this.video;return this._codePaused=d,v&&!v.ended&&(d?v.paused||(this.removeEventHandlers(),v.pause()):d||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=l(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,v){return v===void 0&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(v)),this._key=d,this.flipY=v,!!this.videoTexture},stop:function(d){d===void 0&&(d=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(s.PAUSE,this.globalPause,this),d.off(s.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(u.GLOBAL_MUTE,this.globalMute,this)}});p.exports=f},56933:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){l.videoTexture&&(g.addToRenderList(l),t.batchSprite(l,l.frame,g,h))};p.exports=S},65601:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),g=t(99325),h=t(20494),a=t(8630);g.register("video",function(s,i){s===void 0&&(s={});var r=h(s,"key",null),u=new a(this.scene,0,0,r);return i!==void 0&&(s.add=i),l(this.scene,u,s),u})},215:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8630),g=t(61286);g.register("video",function(h,a,s){return this.displayList.add(new l(this.scene,h,a,s))})},77974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(83572),h=t(56933),p.exports={renderWebGL:g,renderCanvas:h}},83572:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){l.videoTexture&&(g.addToRenderList(l),l.pipeline.batchSprite(l,g,h))};p.exports=S},71030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),g=t(26673),h=t(65650),a=t(56694),s=t(64937),i=t(89980),r=t(74118),u=t(94287),n=new a({Extends:i,Mixins:[s.Depth,s.GetBounds,s.Origin,s.Transform,s.ScrollFactor,s.Visible],initialize:function(f,d,v,m,T){m===void 0&&(m=1),T===void 0&&(T=m),i.call(this,f,"Zone"),this.setPosition(d,v),this.width=m,this.height=T,this.blendMode=l.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,f,d){d===void 0&&(d=!0),this.width=o,this.height=f,this.updateDisplayOrigin();var v=this.input;return d&&v&&!v.customHitArea&&(v.hitArea.width=o,v.hitArea.height=f),this},setDisplaySize:function(o,f){return this.displayWidth=o,this.displayHeight=f,this},setCircleDropZone:function(o){return this.setDropZone(new g(0,0,o),h)},setRectangleDropZone:function(o,f){return this.setDropZone(new r(0,0,o,f),u)},setDropZone:function(o,f){return this.input||this.setInteractive(o,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(o,f,d){d.addToRenderList(f)},renderWebGL:function(o,f,d){d.addToRenderList(f)}});p.exports=n},24067:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99325),g=t(20494),h=t(71030);l.register("zone",function(a){var s=g(a,"x",0),i=g(a,"y",0),r=g(a,"width",1),u=g(a,"height",r);return new h(this.scene,s,i,r,u)})},34546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71030),g=t(61286);g.register("zone",function(h,a,s,i){return this.displayList.add(new l(this.scene,h,a,s,i))})},95847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};p.exports=S},26673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(65650),h=t(94026),a=t(62941),s=t(52394),i=t(30977),r=new l({initialize:function(n,o,f){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),this.type=s.CIRCLE,this.x=n,this.y=o,this._radius=f,this._diameter=f*2},contains:function(u,n){return g(this,u,n)},getPoint:function(u,n){return h(this,u,n)},getPoints:function(u,n,o){return a(this,u,n,o)},getRandomPoint:function(u){return i(this,u)},setTo:function(u,n,o){return this.x=u,this.y=n,this._radius=o,this._diameter=o*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(u,n){return n===void 0&&(n=u),this.x=u,this.y=n,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this._diameter=u*2}},diameter:{get:function(){return this._diameter},set:function(u){this._diameter=u,this._radius=u*.5}},left:{get:function(){return this.x-this._radius},set:function(u){this.x=u+this._radius}},right:{get:function(){return this.x+this._radius},set:function(u){this.x=u-this._radius}},top:{get:function(){return this.y-this._radius},set:function(u){this.y=u+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(u){this.y=u-this._radius}}});p.exports=r},37964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};p.exports=S},72233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a,s){return s===void 0&&(s=new l),s.x=h.x+h.radius*Math.cos(a),s.y=h.y+h.radius*Math.sin(a),s};p.exports=g},61761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26673),g=function(h){return new l(h.x,h.y,h.radius)};p.exports=g},65650:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(t.radius>0&&l>=t.left&&l<=t.right&&g>=t.top&&g<=t.bottom){var h=(t.x-l)*(t.x-l),a=(t.y-g)*(t.y-g);return h+a<=t.radius*t.radius}else return!1};p.exports=S},39187:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65650),g=function(h,a){return l(h,a.x,a.y)};p.exports=g},58672:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65650),g=function(h,a){return l(h,a.x,a.y)&&l(h,a.right,a.y)&&l(h,a.x,a.bottom)&&l(h,a.right,a.bottom)};p.exports=g},42997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x,t.y,t.radius)};p.exports=S},94894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x===l.x&&t.y===l.y&&t.radius===l.radius};p.exports=S},48027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=function(h,a){return a===void 0&&(a=new l),a.x=h.left,a.y=h.top,a.width=h.diameter,a.height=h.diameter,a};p.exports=g},94026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72233),g=t(91806),h=t(83392),a=t(79967),s=function(i,r,u){u===void 0&&(u=new a);var n=g(r,0,h.PI2);return l(i,n,u)};p.exports=s},62941:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37964),g=t(72233),h=t(91806),a=t(83392),s=function(i,r,u,n){n===void 0&&(n=[]),!r&&u>0&&(r=l(i)/u);for(var o=0;o<r;o++){var f=h(o/r,0,a.PI2);n.push(g(i,f))}return n};p.exports=s},34585:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t.x+=l,t.y+=g,t};p.exports=S},88665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x+=l.x,t.y+=l.y,t};p.exports=S},30977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a){a===void 0&&(a=new l);var s=2*Math.PI*Math.random(),i=Math.random()+Math.random(),r=i>1?2-i:i,u=r*Math.cos(s),n=r*Math.sin(s);return a.x=h.x+u*h.radius,a.y=h.y+n*h.radius,a};p.exports=g},6112:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26673);l.Area=t(95847),l.Circumference=t(37964),l.CircumferencePoint=t(72233),l.Clone=t(61761),l.Contains=t(65650),l.ContainsPoint=t(39187),l.ContainsRect=t(58672),l.CopyFrom=t(42997),l.Equals=t(94894),l.GetBounds=t(48027),l.GetPoint=t(94026),l.GetPoints=t(62941),l.Offset=t(34585),l.OffsetPoint=t(88665),l.Random=t(30977),p.exports=l},52394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};p.exports=S},58605:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};p.exports=S},39507:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=t.width/2,g=t.height/2,h=Math.pow(l-g,2)/Math.pow(l+g,2);return Math.PI*(l+g)*(1+3*h/(10+Math.sqrt(4-3*h)))};p.exports=S},86998:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a,s){s===void 0&&(s=new l);var i=h.width/2,r=h.height/2;return s.x=h.x+i*Math.cos(a),s.y=h.y+r*Math.sin(a),s};p.exports=g},81773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95669),g=function(h){return new l(h.x,h.y,h.width,h.height)};p.exports=g},72313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(t.width<=0||t.height<=0)return!1;var h=(l-t.x)/t.width,a=(g-t.y)/t.height;return h*=h,a*=a,h+a<.25};p.exports=S},34368:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72313),g=function(h,a){return l(h,a.x,a.y)};p.exports=g},71431:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72313),g=function(h,a){return l(h,a.x,a.y)&&l(h,a.right,a.y)&&l(h,a.x,a.bottom)&&l(h,a.right,a.bottom)};p.exports=g},75459:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x,t.y,t.width,t.height)};p.exports=S},95669:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72313),h=t(95340),a=t(54978),s=t(52394),i=t(72006),r=new l({initialize:function(n,o,f,d){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),d===void 0&&(d=0),this.type=s.ELLIPSE,this.x=n,this.y=o,this.width=f,this.height=d},contains:function(u,n){return g(this,u,n)},getPoint:function(u,n){return h(this,u,n)},getPoints:function(u,n,o){return a(this,u,n,o)},getRandomPoint:function(u){return i(this,u)},setTo:function(u,n,o,f){return this.x=u,this.y=n,this.width=o,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(u,n){return n===void 0&&(n=u),this.x=u,this.y=n,this},setSize:function(u,n){return n===void 0&&(n=u),this.width=u,this.height=n,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(u){this.x=u+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(u){this.y=u+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});p.exports=r},98068:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x===l.x&&t.y===l.y&&t.width===l.width&&t.height===l.height};p.exports=S},72897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=function(h,a){return a===void 0&&(a=new l),a.x=h.left,a.y=h.top,a.width=h.width,a.height=h.height,a};p.exports=g},95340:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86998),g=t(91806),h=t(83392),a=t(79967),s=function(i,r,u){u===void 0&&(u=new a);var n=g(r,0,h.PI2);return l(i,n,u)};p.exports=s},54978:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39507),g=t(86998),h=t(91806),a=t(83392),s=function(i,r,u,n){n===void 0&&(n=[]),!r&&u>0&&(r=l(i)/u);for(var o=0;o<r;o++){var f=h(o/r,0,a.PI2);n.push(g(i,f))}return n};p.exports=s},77951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t.x+=l,t.y+=g,t};p.exports=S},36233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x+=l.x,t.y+=l.y,t};p.exports=S},72006:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a){a===void 0&&(a=new l);var s=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return a.x=h.x+i*Math.cos(s)*h.width/2,a.y=h.y+i*Math.sin(s)*h.height/2,a};p.exports=g},40652:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95669);l.Area=t(58605),l.Circumference=t(39507),l.CircumferencePoint=t(86998),l.Clone=t(81773),l.Contains=t(72313),l.ContainsPoint=t(34368),l.ContainsRect=t(71431),l.CopyFrom=t(75459),l.Equals=t(98068),l.GetBounds=t(72897),l.GetPoint=t(95340),l.GetPoints=t(54978),l.Offset=t(77951),l.OffsetPoint=t(36233),l.Random=t(72006),p.exports=l},84068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(52394),g=t(98611),h={Circle:t(6112),Ellipse:t(40652),Intersects:t(7563),Line:t(28482),Mesh:t(14293),Point:t(63472),Polygon:t(44359),Rectangle:t(66658),Triangle:t(87619)};h=g(!1,h,l),p.exports=h},22184:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(53996),g=function(h,a){return l(h.x,h.y,a.x,a.y)<=h.radius+a.radius};p.exports=g},26535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=l.width/2,h=l.height/2,a=Math.abs(t.x-l.x-g),s=Math.abs(t.y-l.y-h),i=g+t.radius,r=h+t.radius;if(a>i||s>r)return!1;if(a<=g||s<=h)return!0;var u=a-g,n=s-h,o=u*u,f=n*n,d=t.radius*t.radius;return o+f<=d};p.exports=S},71145:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=t(22184),h=function(a,s,i){if(i===void 0&&(i=[]),g(a,s)){var r=a.x,u=a.y,n=a.radius,o=s.x,f=s.y,d=s.radius,v,m,T,E,y;if(u===f)y=(d*d-n*n-o*o+r*r)/(2*(r-o)),v=1,m=-2*f,T=o*o+y*y-2*o*y+f*f-d*d,E=m*m-4*v*T,E===0?i.push(new l(y,-m/(2*v))):E>0&&(i.push(new l(y,(-m+Math.sqrt(E))/(2*v))),i.push(new l(y,(-m-Math.sqrt(E))/(2*v))));else{var C=(r-o)/(u-f),A=(d*d-n*n-o*o+r*r-f*f+u*u)/(2*(u-f));v=C*C+1,m=2*u*C-2*A*C-2*r,T=r*r+u*u+A*A-n*n-2*u*A,E=m*m-4*v*T,E===0?(y=-m/(2*v),i.push(new l(y,A-y*C))):E>0&&(y=(-m+Math.sqrt(E))/(2*v),i.push(new l(y,A-y*C)),y=(-m-Math.sqrt(E))/(2*v),i.push(new l(y,A-y*C)))}}return i};p.exports=h},62508:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26111),g=t(26535),h=function(a,s,i){if(i===void 0&&(i=[]),g(a,s)){var r=s.getLineA(),u=s.getLineB(),n=s.getLineC(),o=s.getLineD();l(r,a,i),l(u,a,i),l(n,a,i),l(o,a,i)}return i};p.exports=h},26111:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=t(61472),h=function(a,s,i){if(i===void 0&&(i=[]),g(a,s)){var r=a.x1,u=a.y1,n=a.x2,o=a.y2,f=s.x,d=s.y,v=s.radius,m=n-r,T=o-u,E=r-f,y=u-d,C=m*m+T*T,A=2*(m*E+T*y),M=E*E+y*y-v*v,R=A*A-4*C*M,O,L;if(R===0){var I=-A/(2*C);O=r+I*m,L=u+I*T,I>=0&&I<=1&&i.push(new l(O,L))}else if(R>0){var N=(-A-Math.sqrt(R))/(2*C);O=r+N*m,L=u+N*T,N>=0&&N<=1&&i.push(new l(O,L));var B=(-A+Math.sqrt(R))/(2*C);O=r+B*m,L=u+B*T,B>=0&&B<=1&&i.push(new l(O,L))}}return i};p.exports=h},96537:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70015),g=function(h,a,s,i){s===void 0&&(s=!1);var r=h.x1,u=h.y1,n=h.x2,o=h.y2,f=a.x1,d=a.y1,v=a.x2,m=a.y2,T=n-r,E=o-u,y=v-f,C=m-d,A=T*C-E*y;if(A===0)return null;var M,R,O;if(s){if(M=(T*(d-u)+E*(r-f))/(y*E-C*T),R=(f+y*M-r)/T,R<0||M<0||M>1)return null;O=R}else{if(M=((f-r)*C-(d-u)*y)/A,R=((u-d)*T-(r-f)*E)/A,M<0||M>1||R<0||R>1)return null;O=M}return i===void 0&&(i=new l),i.set(r+T*O,u+E*O,O)};p.exports=g},17647:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96537),g=t(88829),h=t(70015),a=new g,s=new h,i=function(r,u,n,o){n===void 0&&(n=!1),o===void 0&&(o=new h);var f=!1;o.set(),s.set();for(var d=u[0],v=1;v<u.length;v++){var m=u[v];a.setTo(d.x,d.y,m.x,m.y),d=m,l(r,a,n,s)&&(!f||s.z<o.z)&&(o.copy(s),f=!0)}return f?o:null};p.exports=i},68439:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70015),g=t(51729),h=t(17647),a=new l,s=function(i,r,u,n){n===void 0&&(n=new g),Array.isArray(r)||(r=[r]);var o=!1;n.set(),a.set();for(var f=0;f<r.length;f++)h(i,r[f].points,u,a)&&(!o||a.z<n.z)&&(n.set(a.x,a.y,a.z,f),o=!0);return o?n:null};p.exports=s},9569:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=t(25227),h=t(47910),a=function(s,i,r){if(r===void 0&&(r=[]),h(s,i))for(var u=i.getLineA(),n=i.getLineB(),o=i.getLineC(),f=i.getLineD(),d=[new l,new l,new l,new l],v=[g(u,s,d[0]),g(n,s,d[1]),g(o,s,d[2]),g(f,s,d[3])],m=0;m<4;m++)v[m]&&r.push(d[m]);return r};p.exports=a},7449:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(51729),g=t(68439),h=t(88829),a=new h;function s(u,n,o,f,d){var v=Math.cos(u),m=Math.sin(u);a.setTo(n,o,n+v,o+m);var T=g(a,f,!0);T&&d.push(new l(T.x,T.y,u,T.w))}function i(u,n){return u.z-n.z}var r=function(u,n,o){Array.isArray(o)||(o=[o]);for(var f=[],d=[],v=0;v<o.length;v++)for(var m=o[v].points,T=0;T<m.length;T++){var E=Math.atan2(m[T].y-n,m[T].x-u);d.indexOf(E)===-1&&(s(E,u,n,o,f),s(E-1e-5,u,n,o,f),s(E+1e-5,u,n,o,f),d.push(E))}return f.sort(i)};p.exports=r},82931:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=t(90205),h=function(a,s,i){return i===void 0&&(i=new l),g(a,s)&&(i.x=Math.max(a.x,s.x),i.y=Math.max(a.y,s.y),i.width=Math.min(a.right,s.right)-i.x,i.height=Math.min(a.bottom,s.bottom)-i.y),i};p.exports=h},1946:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9569),g=t(90205),h=function(a,s,i){if(i===void 0&&(i=[]),g(a,s)){var r=a.getLineA(),u=a.getLineB(),n=a.getLineC(),o=a.getLineD();l(r,s,i),l(u,s,i),l(n,s,i),l(o,s,i)}return i};p.exports=h},34211:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20370),g=t(9569),h=function(a,s,i){if(i===void 0&&(i=[]),l(a,s)){var r=s.getLineA(),u=s.getLineB(),n=s.getLineC();g(r,a,i),g(u,a,i),g(n,a,i)}return i};p.exports=h},80511:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26111),g=t(48411),h=function(a,s,i){if(i===void 0&&(i=[]),g(a,s)){var r=a.getLineA(),u=a.getLineB(),n=a.getLineC();l(r,s,i),l(u,s,i),l(n,s,i)}return i};p.exports=h},31343:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=t(86117),h=t(25227),a=function(s,i,r){if(r===void 0&&(r=[]),g(s,i))for(var u=s.getLineA(),n=s.getLineB(),o=s.getLineC(),f=[new l,new l,new l],d=[h(u,i,f[0]),h(n,i,f[1]),h(o,i,f[2])],v=0;v<3;v++)d[v]&&r.push(f[v]);return r};p.exports=a},70534:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23589),g=t(31343),h=function(a,s,i){if(i===void 0&&(i=[]),l(a,s)){var r=s.getLineA(),u=s.getLineB(),n=s.getLineC();g(a,r,i),g(a,u,i),g(a,n,i)}return i};p.exports=h},61472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65650),g=t(79967),h=new g,a=function(s,i,r){if(r===void 0&&(r=h),l(i,s.x1,s.y1))return r.x=s.x1,r.y=s.y1,!0;if(l(i,s.x2,s.y2))return r.x=s.x2,r.y=s.y2,!0;var u=s.x2-s.x1,n=s.y2-s.y1,o=i.x-s.x1,f=i.y-s.y1,d=u*u+n*n,v=u,m=n;if(d>0){var T=(o*u+f*n)/d;v*=T,m*=T}r.x=s.x1+v,r.y=s.y1+m;var E=v*v+m*m;return E<=d&&v*u+m*n>=0&&l(i,r.x,r.y)};p.exports=a},25227:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=t.x1,a=t.y1,s=t.x2,i=t.y2,r=l.x1,u=l.y1,n=l.x2,o=l.y2;if(h===s&&a===i||r===n&&u===o)return!1;var f=(o-u)*(s-h)-(n-r)*(i-a);if(f===0)return!1;var d=((n-r)*(a-u)-(o-u)*(h-r))/f,v=((s-h)*(a-u)-(i-a)*(h-r))/f;return d<0||d>1||v<0||v>1?!1:(g&&(g.x=h+d*(s-h),g.y=a+d*(i-a)),!0)};p.exports=S},47910:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.x1,h=t.y1,a=t.x2,s=t.y2,i=l.x,r=l.y,u=l.right,n=l.bottom,o=0;if(g>=i&&g<=u&&h>=r&&h<=n||a>=i&&a<=u&&s>=r&&s<=n)return!0;if(g<i&&a>=i){if(o=h+(s-h)*(i-g)/(a-g),o>r&&o<=n)return!0}else if(g>u&&a<=u&&(o=h+(s-h)*(u-g)/(a-g),o>=r&&o<=n))return!0;if(h<r&&s>=r){if(o=g+(a-g)*(r-h)/(s-h),o>=i&&o<=u)return!0}else if(h>n&&s<=n&&(o=g+(a-g)*(n-h)/(s-h),o>=i&&o<=u))return!0;return!1};p.exports=S},34426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){g===void 0&&(g=1);var h=l.x1,a=l.y1,s=l.x2,i=l.y2,r=t.x,u=t.y,n=(s-h)*(s-h)+(i-a)*(i-a);if(n===0)return!1;var o=((r-h)*(s-h)+(u-a)*(i-a))/n;if(o<0)return Math.sqrt((h-r)*(h-r)+(a-u)*(a-u))<=g;if(o>=0&&o<=1){var f=((a-u)*(s-h)-(h-r)*(i-a))/n;return Math.abs(f)*Math.sqrt(n)<=g}else return Math.sqrt((s-r)*(s-r)+(i-u)*(i-u))<=g};p.exports=S},81414:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(34426),g=function(h,a){if(!l(h,a))return!1;var s=Math.min(a.x1,a.x2),i=Math.max(a.x1,a.x2),r=Math.min(a.y1,a.y2),u=Math.max(a.y1,a.y2);return h.x>=s&&h.x<=i&&h.y>=r&&h.y<=u};p.exports=g},90205:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.width<=0||t.height<=0||l.width<=0||l.height<=0?!1:!(t.right<l.x||t.bottom<l.y||t.x>l.right||t.y>l.bottom)};p.exports=S},20370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25227),g=t(94287),h=t(86875),a=t(87279),s=function(i,r){if(r.left>i.right||r.right<i.left||r.top>i.bottom||r.bottom<i.top)return!1;var u=r.getLineA(),n=r.getLineB(),o=r.getLineC();if(g(i,u.x1,u.y1)||g(i,u.x2,u.y2)||g(i,n.x1,n.y1)||g(i,n.x2,n.y2)||g(i,o.x1,o.y1)||g(i,o.x2,o.y2))return!0;var f=i.getLineA(),d=i.getLineB(),v=i.getLineC(),m=i.getLineD();if(l(u,f)||l(u,d)||l(u,v)||l(u,m)||l(n,f)||l(n,d)||l(n,v)||l(n,m)||l(o,f)||l(o,d)||l(o,v)||l(o,m))return!0;var T=a(i),E=h(r,T,!0);return E.length>0};p.exports=s},8786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a,s){return s===void 0&&(s=0),!(l>t.right+s||g<t.left-s||h>t.bottom+s||a<t.top-s)};p.exports=S},48411:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61472),g=t(60689),h=function(a,s){return a.left>s.right||a.right<s.left||a.top>s.bottom||a.bottom<s.top?!1:!!(g(a,s.x,s.y)||l(a.getLineA(),s)||l(a.getLineB(),s)||l(a.getLineC(),s))};p.exports=h},86117:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25227),g=function(h,a){return!!(h.contains(a.x1,a.y1)||h.contains(a.x2,a.y2)||l(h.getLineA(),a)||l(h.getLineB(),a)||l(h.getLineC(),a))};p.exports=g},23589:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86875),g=t(18680),h=t(25227),a=function(s,i){if(s.left>i.right||s.right<i.left||s.top>i.bottom||s.bottom<i.top)return!1;var r=s.getLineA(),u=s.getLineB(),n=s.getLineC(),o=i.getLineA(),f=i.getLineB(),d=i.getLineC();if(h(r,o)||h(r,f)||h(r,d)||h(u,o)||h(u,f)||h(u,d)||h(n,o)||h(n,f)||h(n,d))return!0;var v=g(s),m=l(i,v,!0);return m.length>0||(v=g(i),m=l(s,v,!0),m.length>0)};p.exports=a},7563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CircleToCircle:t(22184),CircleToRectangle:t(26535),GetCircleToCircle:t(71145),GetCircleToRectangle:t(62508),GetLineToCircle:t(26111),GetLineToLine:t(96537),GetLineToPoints:t(17647),GetLineToPolygon:t(68439),GetLineToRectangle:t(9569),GetRaysFromPointToPolygon:t(7449),GetRectangleIntersection:t(82931),GetRectangleToRectangle:t(1946),GetRectangleToTriangle:t(34211),GetTriangleToCircle:t(80511),GetTriangleToLine:t(31343),GetTriangleToTriangle:t(70534),LineToCircle:t(61472),LineToLine:t(25227),LineToRectangle:t(47910),PointToLine:t(34426),PointToLineSegment:t(81414),RectangleToRectangle:t(90205),RectangleToTriangle:t(20370),RectangleToValues:t(8786),TriangleToCircle:t(48411),TriangleToLine:t(86117),TriangleToTriangle:t(23589)}},50599:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};p.exports=S},58813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){l===void 0&&(l=1),g===void 0&&(g=[]);var h=Math.round(t.x1),a=Math.round(t.y1),s=Math.round(t.x2),i=Math.round(t.y2),r=Math.abs(s-h),u=Math.abs(i-a),n=h<s?1:-1,o=a<i?1:-1,f=r-u;g.push({x:h,y:a});for(var d=1;!(h===s&&a===i);){var v=f<<1;v>-u&&(f-=u,h+=n),v<r&&(f+=r,a+=o),d%l===0&&g.push({x:h,y:a}),d++}return g};p.exports=S},88513:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=l-(t.x1+t.x2)/2,a=g-(t.y1+t.y2)/2;return t.x1+=h,t.y1+=a,t.x2+=h,t.y2+=a,t};p.exports=S},26718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88829),g=function(h){return new l(h.x1,h.y1,h.x2,h.y2)};p.exports=g},88930:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x1,t.y1,t.x2,t.y2)};p.exports=S},90656:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x1===l.x1&&t.y1===l.y1&&t.x2===l.x2&&t.y2===l.y2};p.exports=S},30897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),g=function(h,a,s){s===void 0&&(s=a);var i=l(h),r=h.x2-h.x1,u=h.y2-h.y1;return a&&(h.x1=h.x1-r/i*a,h.y1=h.y1-u/i*a),s&&(h.x2=h.x2+r/i*s,h.y2=h.y2+u/i*s),h};p.exports=g},30684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92951),g=t(21902),h=t(79967),a=function(s,i,r,u,n){u===void 0&&(u=0),n===void 0&&(n=[]);var o=[],f=s.x1,d=s.y1,v=s.x2-f,m=s.y2-d,T=g(i,n),E,y,C=r-1;for(E=0;E<C;E++)y=T(E/C),o.push(new h(f+v*y,d+m*y));if(y=T(1),o.push(new h(f+v*y,d+m*y)),u>0){var A=o[0],M=[A];for(E=1;E<o.length-1;E++){var R=o[E];l(A,R)>=u&&(M.push(R),A=R)}var O=o[o.length-1];return l(A,O)<u&&M.pop(),M.push(O),M}else return o};p.exports=a},20487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a){return a===void 0&&(a=new l),a.x=(h.x1+h.x2)/2,a.y=(h.y1+h.y2)/2,a};p.exports=g},11222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a,s){s===void 0&&(s=new l);var i=h.x1,r=h.y1,u=h.x2,n=h.y2,o=(u-i)*(u-i)+(n-r)*(n-r);if(o===0)return s;var f=((a.x-i)*(u-i)+(a.y-r)*(n-r))/o;return s.x=i+f*(u-i),s.y=r+f*(n-r),s};p.exports=g},7377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),g=t(50599),h=t(79967),a=function(s,i){i===void 0&&(i=new h);var r=g(s)-l.TAU;return i.x=Math.cos(r),i.y=Math.sin(r),i};p.exports=a},66464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a,s){return s===void 0&&(s=new l),s.x=h.x1+(h.x2-h.x1)*a,s.y=h.y1+(h.y2-h.y1)*a,s};p.exports=g},8570:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),g=t(79967),h=function(a,s,i,r){r===void 0&&(r=[]),!s&&i>0&&(s=l(a)/i);for(var u=a.x1,n=a.y1,o=a.x2,f=a.y2,d=0;d<s;d++){var v=d/s,m=u+(o-u)*v,T=n+(f-n)*v;r.push(new g(m,T))}return r};p.exports=h},65269:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.x1,h=t.y1,a=t.x2,s=t.y2,i=(a-g)*(a-g)+(s-h)*(s-h);if(i===0)return!1;var r=((h-l.y)*(a-g)-(g-l.x)*(s-h))/i;return Math.abs(r)*Math.sqrt(i)};p.exports=S},82996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};p.exports=S},16028:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};p.exports=S},88829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(66464),h=t(8570),a=t(52394),s=t(74077),i=t(93736),r=new l({initialize:function(n,o,f,d){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),d===void 0&&(d=0),this.type=a.LINE,this.x1=n,this.y1=o,this.x2=f,this.y2=d},getPoint:function(u,n){return g(this,u,n)},getPoints:function(u,n,o){return h(this,u,n,o)},getRandomPoint:function(u){return s(this,u)},setTo:function(u,n,o,f){return u===void 0&&(u=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),this.x1=u,this.y1=n,this.x2=o,this.y2=f,this},getPointA:function(u){return u===void 0&&(u=new i),u.set(this.x1,this.y1),u},getPointB:function(u){return u===void 0&&(u=new i),u.set(this.x2,this.y2),u},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(u){this.x1<=this.x2?this.x1=u:this.x2=u}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(u){this.x1>this.x2?this.x1=u:this.x2=u}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(u){this.y1<=this.y2?this.y1=u:this.y2=u}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(u){this.y1>this.y2?this.y1=u:this.y2=u}}});p.exports=r},73273:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),g=t(1071),h=t(50599),a=function(s){var i=h(s)-l.TAU;return g(i,-Math.PI,Math.PI)};p.exports=a},96936:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),g=t(50599),h=function(a){return Math.cos(g(a)-l.TAU)};p.exports=h},43581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),g=t(50599),h=function(a){return Math.sin(g(a)-l.TAU)};p.exports=h},13990:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t.x1+=l,t.y1+=g,t.x2+=l,t.y2+=g,t};p.exports=S},1298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};p.exports=S},74077:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a){a===void 0&&(a=new l);var s=Math.random();return a.x=h.x1+s*(h.x2-h.x1),a.y=h.y1+s*(h.y2-h.y1),a};p.exports=g},30473:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50599),g=t(73273),h=function(a,s){return 2*g(s)-Math.PI-l(a)};p.exports=h},25968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1809),g=function(h,a){var s=(h.x1+h.x2)/2,i=(h.y1+h.y2)/2;return l(h,s,i,a)};p.exports=g},24296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1809),g=function(h,a,s){return l(h,a.x,a.y,s)};p.exports=g},1809:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=Math.cos(h),s=Math.sin(h),i=t.x1-l,r=t.y1-g;return t.x1=i*a-r*s+l,t.y1=i*s+r*a+g,i=t.x2-l,r=t.y2-g,t.x2=i*a-r*s+l,t.y2=i*s+r*a+g,t};p.exports=S},88171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a){return t.x1=l,t.y1=g,t.x2=l+Math.cos(h)*a,t.y2=g+Math.sin(h)*a,t};p.exports=S},82797:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};p.exports=S},41067:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};p.exports=S},28482:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88829);l.Angle=t(50599),l.BresenhamPoints=t(58813),l.CenterOn=t(88513),l.Clone=t(26718),l.CopyFrom=t(88930),l.Equals=t(90656),l.Extend=t(30897),l.GetEasedPoints=t(30684),l.GetMidPoint=t(20487),l.GetNearestPoint=t(11222),l.GetNormal=t(7377),l.GetPoint=t(66464),l.GetPoints=t(8570),l.GetShortestDistance=t(65269),l.Height=t(82996),l.Length=t(16028),l.NormalAngle=t(73273),l.NormalX=t(96936),l.NormalY=t(43581),l.Offset=t(13990),l.PerpSlope=t(1298),l.Random=t(74077),l.ReflectAngle=t(30473),l.Rotate=t(25968),l.RotateAroundPoint=t(24296),l.RotateAroundXY=t(1809),l.SetToAngle=t(88171),l.Slope=t(82797),l.Width=t(41067),p.exports=l},18693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(74118),h=t(93736);function a(i,r,u,n){var o=i-u,f=r-n,d=o*o+f*f;return Math.sqrt(d)}var s=new l({initialize:function(r,u,n){this.vertex1=r,this.vertex2=u,this.vertex3=n,this.bounds=new g,this._inCenter=new h},getInCenter:function(i){i===void 0&&(i=!0);var r=this.vertex1,u=this.vertex2,n=this.vertex3,o,f,d,v,m,T;i?(o=r.x,f=r.y,d=u.x,v=u.y,m=n.x,T=n.y):(o=r.vx,f=r.vy,d=u.vx,v=u.vy,m=n.vx,T=n.vy);var E=a(m,T,d,v),y=a(o,f,m,T),C=a(d,v,o,f),A=E+y+C;return this._inCenter.set((o*E+d*y+m*C)/A,(f*E+v*y+T*C)/A)},contains:function(i,r,u){var n=this.vertex1,o=this.vertex2,f=this.vertex3,d=n.vx,v=n.vy,m=o.vx,T=o.vy,E=f.vx,y=f.vy;if(u){var C=u.a,A=u.b,M=u.c,R=u.d,O=u.e,L=u.f;d=n.vx*C+n.vy*M+O,v=n.vx*A+n.vy*R+L,m=o.vx*C+o.vy*M+O,T=o.vx*A+o.vy*R+L,E=f.vx*C+f.vy*M+O,y=f.vx*A+f.vy*R+L}var I=E-d,N=y-v,B=m-d,b=T-v,X=i-d,W=r-v,$=I*I+N*N,z=I*B+N*b,V=I*X+N*W,D=B*B+b*b,G=B*X+b*W,U=$*D-z*z,Y=U===0?0:1/U,H=(D*V-z*G)*Y,Z=($*G-z*V)*Y;return H>=0&&Z>=0&&H+Z<1},isCounterClockwise:function(i){var r=this.vertex1,u=this.vertex2,n=this.vertex3,o=(u.vx-r.vx)*(n.vy-r.vy)-(u.vy-r.vy)*(n.vx-r.vx);return i<=0?o>=0:o<0},load:function(i,r,u,n,o){return u=this.vertex1.load(i,r,u,n,o),u=this.vertex2.load(i,r,u,n,o),u=this.vertex3.load(i,r,u,n,o),u},transformCoordinatesLocal:function(i,r,u,n){return this.vertex1.transformCoordinatesLocal(i,r,u,n),this.vertex2.transformCoordinatesLocal(i,r,u,n),this.vertex3.transformCoordinatesLocal(i,r,u,n),this},updateBounds:function(){var i=this.vertex1,r=this.vertex2,u=this.vertex3,n=this.bounds;return n.x=Math.min(i.vx,r.vx,u.vx),n.y=Math.min(i.vy,r.vy,u.vy),n.width=Math.max(i.vx,r.vx,u.vx)-n.x,n.height=Math.max(i.vy,r.vy,u.vy)-n.y,this},isInView:function(i,r,u,n,o,f,d,v,m,T,E){this.update(n,o,f,d,v,m,T,E);var y=this.vertex1,C=this.vertex2,A=this.vertex3;if(y.ta<=0&&C.ta<=0&&A.ta<=0||r&&!this.isCounterClockwise(u))return!1;var M=this.bounds;M.x=Math.min(y.tx,C.tx,A.tx),M.y=Math.min(y.ty,C.ty,A.ty),M.width=Math.max(y.tx,C.tx,A.tx)-M.x,M.height=Math.max(y.ty,C.ty,A.ty)-M.y;var R=i.x+i.width,O=i.y+i.height;return M.width<=0||M.height<=0||i.width<=0||i.height<=0?!1:!(M.right<i.x||M.bottom<i.y||M.x>R||M.y>O)},scrollUV:function(i,r){return this.vertex1.scrollUV(i,r),this.vertex2.scrollUV(i,r),this.vertex3.scrollUV(i,r),this},scaleUV:function(i,r){return this.vertex1.scaleUV(i,r),this.vertex2.scaleUV(i,r),this.vertex3.scaleUV(i,r),this},setColor:function(i){return this.vertex1.color=i,this.vertex2.color=i,this.vertex3.color=i,this},update:function(i,r,u,n,o,f,d,v){return this.vertex1.update(r,u,n,o,f,d,v,i),this.vertex2.update(r,u,n,o,f,d,v,i),this.vertex3.update(r,u,n,o,f,d,v,i),this},translate:function(i,r){r===void 0&&(r=0);var u=this.vertex1,n=this.vertex2,o=this.vertex3;return u.x+=i,u.y+=r,n.x+=i,n.y+=r,o.x+=i,o.y+=r,this},x:{get:function(){return this.getInCenter().x},set:function(i){var r=this.getInCenter();this.translate(i-r.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(i){var r=this.getInCenter();this.translate(0,i-r.y)}},alpha:{get:function(){var i=this.vertex1,r=this.vertex2,u=this.vertex3;return(i.alpha+r.alpha+u.alpha)/3},set:function(i){this.vertex1.alpha=i,this.vertex2.alpha=i,this.vertex3.alpha=i}},depth:{get:function(){var i=this.vertex1,r=this.vertex2,u=this.vertex3;return(i.vz+r.vz+u.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});p.exports=s},99425:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18693),g=t(72632),h=t(16650),a=t(70015),s=t(85769),i=new a,r=new a,u=new h,n=function(o){var f=g(o,"mesh"),d=g(o,"texture",null),v=g(o,"frame"),m=g(o,"width",1),T=g(o,"height",m),E=g(o,"widthSegments",1),y=g(o,"heightSegments",E),C=g(o,"x",0),A=g(o,"y",0),M=g(o,"z",0),R=g(o,"rotateX",0),O=g(o,"rotateY",0),L=g(o,"rotateZ",0),I=g(o,"zIsUp",!0),N=g(o,"isOrtho",f?f.dirtyCache[11]:!1),B=g(o,"colors",[16777215]),b=g(o,"alphas",[1]),X=g(o,"tile",!1),W=g(o,"flipY",!1),$=g(o,"width",null),z={faces:[],verts:[]};i.set(C,A,M),r.set(R,O,L),u.fromRotationXYTranslation(r,i,I);var V;if(!d&&f)d=f.texture,v||(V=f.frame);else if(f&&typeof d=="string")d=f.scene.sys.textures.get(d);else if(!d)return z;V||(V=d.get(v)),!$&&N&&d&&f&&(m=V.width/f.height,T=V.height/f.height);var D=m/2,G=T/2,U=Math.floor(E),Y=Math.floor(y),H=U+1,Z=Y+1,K=m/U,k=T/Y,j=[],Q=[],J,_,q=0,it=1,at=0,ht=1;V&&(q=V.u0,it=V.u1,W?(at=V.v1,ht=V.v0):(at=V.v0,ht=V.v1));var lt=it-q,tt=ht-at;for(_=0;_<Z;_++){var st=_*k-G;for(J=0;J<H;J++){var rt=J*K-D;Q.push(rt,-st);var dt=q+lt*(J/U),ft=at+tt*(_/Y);j.push(dt,ft)}}Array.isArray(B)||(B=[B]),Array.isArray(b)||(b=[b]);var Ot=0,At=0;for(_=0;_<Y;_++)for(J=0;J<U;J++){var mt=(J+H*_)*2,ct=(J+H*(_+1))*2,wt=(J+1+H*(_+1))*2,Wt=(J+1+H*_)*2,jt=B[At],ee=b[Ot],Oe=new s(Q[mt],Q[mt+1],0,j[mt],j[mt+1],jt,ee).transformMat4(u),wn=new s(Q[ct],Q[ct+1],0,j[ct],j[ct+1],jt,ee).transformMat4(u),Mn=new s(Q[Wt],Q[Wt+1],0,j[Wt],j[Wt+1],jt,ee).transformMat4(u),Pn=new s(Q[ct],Q[ct+1],0,j[ct],j[ct+1],jt,ee).transformMat4(u),Rn=new s(Q[wt],Q[wt+1],0,j[wt],j[wt+1],jt,ee).transformMat4(u),Ln=new s(Q[Wt],Q[Wt+1],0,j[Wt],j[Wt+1],jt,ee).transformMat4(u);X&&(Oe.setUVs(q,ht),wn.setUVs(q,at),Mn.setUVs(it,ht),Pn.setUVs(q,at),Rn.setUVs(it,at),Ln.setUVs(it,ht)),At++,At===B.length&&(At=0),Ot++,Ot===b.length&&(Ot=0),z.verts.push(Oe,wn,Mn,Pn,Rn,Ln),z.faces.push(new l(Oe,wn,Mn),new l(Pn,Rn,Ln))}return f&&(f.faces=f.faces.concat(z.faces),f.vertices=f.vertices.concat(z.verts)),z};p.exports=n},53267:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18693),g=t(16650),h=t(70015),a=t(85769),s=new h,i=new h,r=new g,u=function(n,o,f,d,v,m,T,E,y,C){f===void 0&&(f=1),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),E===void 0&&(E=0),y===void 0&&(y=0),C===void 0&&(C=!0);var A={faces:[],verts:[]},M=n.materials;s.set(d,v,m),i.set(T,E,y),r.fromRotationXYTranslation(i,s,C);for(var R=0;R<n.models.length;R++)for(var O=n.models[R],L=O.vertices,I=O.textureCoords,N=O.faces,B=0;B<N.length;B++){var b=N[B],X=b.vertices[0],W=b.vertices[1],$=b.vertices[2],z=L[X.vertexIndex],V=L[W.vertexIndex],D=L[$.vertexIndex],G=X.textureCoordsIndex,U=W.textureCoordsIndex,Y=$.textureCoordsIndex,H=G===-1?{u:0,v:1}:I[G],Z=U===-1?{u:0,v:0}:I[U],K=Y===-1?{u:1,v:1}:I[Y],k=16777215;b.material!==""&&M[b.material]&&(k=M[b.material]);var j=new a(z.x*f,z.y*f,z.z*f,H.u,H.v,k).transformMat4(r),Q=new a(V.x*f,V.y*f,V.z*f,Z.u,Z.v,k).transformMat4(r),J=new a(D.x*f,D.y*f,D.z*f,K.u,K.v,k).transformMat4(r);A.verts.push(j,Q,J),A.faces.push(new l(j,Q,J))}return o&&(o.faces=o.faces.concat(A.faces),o.vertices=o.vertices.concat(A.verts)),A};p.exports=u},67623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18693),g=t(85769),h=function(a,s,i,r,u,n,o,f){if(r===void 0&&(r=!1),n===void 0&&(n=16777215),o===void 0&&(o=1),f===void 0&&(f=!1),a.length!==s.length&&!r){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},v,m,T,E,y,C,A,M,R,O,L,I=r?3:2,N=Array.isArray(n),B=Array.isArray(o);if(Array.isArray(i)&&i.length>0)for(v=0;v<i.length;v++){var b=i[v],X=i[v]*2,W=i[v]*I;m=a[W],T=a[W+1],E=r?a[W+2]:0,y=s[X],C=s[X+1],f&&(C=1-C),A=N?n[b]:n,M=B?o[b]:o,R=0,O=0,L=0,u&&(R=u[W],O=u[W+1],L=r?u[W+2]:0),d.vertices.push(new g(m,T,E,y,C,A,M,R,O,L))}else{var $=0,z=0;for(v=0;v<a.length;v+=I)m=a[v],T=a[v+1],E=r?a[v+2]:0,y=s[$],C=s[$+1],A=N?n[z]:n,M=B?o[z]:o,R=0,O=0,L=0,u&&(R=u[v],O=u[v+1],L=r?u[v+2]:0),d.vertices.push(new g(m,T,E,y,C,A,M,R,O,L)),$+=2,z++}for(v=0;v<d.vertices.length;v+=3){var V=d.vertices[v],D=d.vertices[v+1],G=d.vertices[v+2];d.faces.push(new l(V,D,G))}return d};p.exports=h},27291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",l="",g="";function h(m){var T=m.indexOf("#");return T>-1?m.substring(0,T):m}function a(m){return m.models.length===0&&m.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),l="",m.models[m.models.length-1]}function s(m,T){var E=m.length>=2?m[1]:t;T.models.push({faces:[],name:E,textureCoords:[],vertexNormals:[],vertices:[]}),l=""}function i(m){m.length===2&&(l=m[1])}function r(m,T){var E=m.length,y=E>=2?parseFloat(m[1]):0,C=E>=3?parseFloat(m[2]):0,A=E>=4?parseFloat(m[3]):0;a(T).vertices.push({x:y,y:C,z:A})}function u(m,T){var E=m.length,y=E>=2?parseFloat(m[1]):0,C=E>=3?parseFloat(m[2]):0,A=E>=4?parseFloat(m[3]):0;isNaN(y)&&(y=0),isNaN(C)&&(C=0),isNaN(A)&&(A=0),S&&(C=1-C),a(T).textureCoords.push({u:y,v:C,w:A})}function n(m,T){var E=m.length,y=E>=2?parseFloat(m[1]):0,C=E>=3?parseFloat(m[2]):0,A=E>=4?parseFloat(m[3]):0;a(T).vertexNormals.push({x:y,y:C,z:A})}function o(m,T){var E=m.length-1;if(!(E<3)){for(var y={group:l,material:g,vertices:[]},C=0;C<E;C++){var A=m[C+1],M=A.split("/"),R=M.length;if(!(R<1||R>3)){var O=0,L=0,I=0;O=parseInt(M[0],10),R>1&&M[1]!==""&&(L=parseInt(M[1],10)),R>2&&(I=parseInt(M[2],10)),O!==0&&(O<0&&(O=a(T).vertices.length+1+O),L-=1,O-=1,I-=1,y.vertices.push({textureCoordsIndex:L,vertexIndex:O,vertexNormalIndex:I}))}}a(T).faces.push(y)}}function f(m,T){m.length>=2&&T.materialLibraries.push(m[1])}function d(m){m.length>=2&&(g=m[1])}var v=function(m,T){T===void 0&&(T=!0),S=T;var E={materials:{},materialLibraries:[],models:[]};l="",g="";for(var y=m.split(`
`),C=0;C<y.length;C++){var A=h(y[C]),M=A.replace(/\s\s+/g," ").trim().split(" ");switch(M[0].toLowerCase()){case"o":s(M,E);break;case"g":i(M);break;case"v":r(M,E);break;case"vt":u(M,E);break;case"vn":n(M,E);break;case"f":o(M,E);break;case"mtllib":f(M,E);break;case"usemtl":d(M);break}}return E};p.exports=v},76799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22946),g=function(h){for(var a={},s=h.split(`
`),i="",r=0;r<s.length;r++){var u=s[r].trim();if(!(u.indexOf("#")===0||u==="")){var n=u.replace(/\s\s+/g," ").trim().split(" ");switch(n[0].toLowerCase()){case"newmtl":{i=n[1];break}case"kd":{var o=Math.floor(n[1]*255),f=n.length>=2?Math.floor(n[2]*255):o,d=n.length>=3?Math.floor(n[3]*255):o;a[i]=l(o,f,d);break}}}}return a};p.exports=g},15313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a,s;if(g===void 0&&h===void 0){var i=t.getInCenter();a=i.x,s=i.y}var r=Math.cos(l),u=Math.sin(l),n=t.vertex1,o=t.vertex2,f=t.vertex3,d=n.x-a,v=n.y-s;n.set(d*r-v*u+a,d*u+v*r+s),d=o.x-a,v=o.y-s,o.set(d*r-v*u+a,d*u+v*r+s),d=f.x-a,v=f.y-s,f.set(d*r-v*u+a,d*u+v*r+s)};p.exports=S},85769:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(75512),h=t(70015),a=new l({Extends:h,initialize:function(i,r,u,n,o,f,d,v,m,T){f===void 0&&(f=16777215),d===void 0&&(d=1),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),h.call(this,i,r,u),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=m,this.nz=T,this.u=n,this.v=o,this.color=f,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=n,this.tv=o},setUVs:function(s,i){return this.u=s,this.v=i,this.tu=s,this.tv=i,this},scrollUV:function(s,i){return this.tu+=s,this.tv+=i,this},scaleUV:function(s,i){return this.tu=this.u*s,this.tv=this.v*i,this},transformCoordinatesLocal:function(s,i,r,u){var n=this.x,o=this.y,f=this.z,d=s.val,v=n*d[0]+o*d[4]+f*d[8]+d[12],m=n*d[1]+o*d[5]+f*d[9]+d[13],T=n*d[2]+o*d[6]+f*d[10]+d[14],E=n*d[3]+o*d[7]+f*d[11]+d[15];this.vx=v/E*i,this.vy=-(m/E)*r,u<=0?this.vz=T/E:this.vz=-(T/E)},resize:function(s,i,r,u,n,o){return this.x=s,this.y=i,this.vx=this.x*r,this.vy=-this.y*u,this.vz=0,n<.5?this.vx+=r*(.5-n):n>.5&&(this.vx-=r*(n-.5)),o<.5?this.vy+=u*(.5-o):o>.5&&(this.vy-=u*(o-.5)),this},update:function(s,i,r,u,n,o,f,d){var v=this.vx*s+this.vy*r+n,m=this.vx*i+this.vy*u+o;return f&&(v=Math.round(v),m=Math.round(m)),this.tx=v,this.ty=m,this.ta=this.alpha*d,this},load:function(s,i,r,u,n){return s[++r]=this.tx,s[++r]=this.ty,s[++r]=this.tu,s[++r]=this.tv,s[++r]=u,s[++r]=n,i[++r]=g.getTintAppendFloatAlpha(this.color,this.ta),r}});p.exports=a},14293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Face:t(18693),GenerateGridVerts:t(99425),GenerateObjVerts:t(53267),GenerateVerts:t(67623),ParseObj:t(27291),ParseObjMaterial:t(76799),RotateFace:t(15313),Vertex:t(85769)};p.exports=l},77601:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};p.exports=S},38933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h){return new l(h.x,h.y)};p.exports=g},47103:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x,t.y)};p.exports=S},13625:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x===l.x&&t.y===l.y};p.exports=S},12536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};p.exports=S},54205:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a){if(a===void 0&&(a=new l),!Array.isArray(h))throw new Error("GetCentroid points argument must be an array");var s=h.length;if(s<1)throw new Error("GetCentroid points array must not be empty");if(s===1)a.x=h[0].x,a.y=h[0].y;else{for(var i=0;i<s;i++)a.x+=h[i].x,a.y+=h[i].y;a.x/=s,a.y/=s}return a};p.exports=g},50083:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};p.exports=S},82712:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};p.exports=S},20052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=function(h,a){a===void 0&&(a=new l);for(var s=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,n=0;n<h.length;n++){var o=h[n];o.x>s&&(s=o.x),o.x<i&&(i=o.x),o.y>r&&(r=o.y),o.y<u&&(u=o.y)}return a.x=i,a.y=u,a.width=s-i,a.height=r-u,a};p.exports=g},77154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a,s,i){return s===void 0&&(s=0),i===void 0&&(i=new l),i.x=h.x+(a.x-h.x)*s,i.y=h.y+(a.y-h.y)*s,i};p.exports=g},42397:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};p.exports=S},59464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a){return a===void 0&&(a=new l),a.setTo(-h.x,-h.y)};p.exports=g},79967:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(52394),h=new l({initialize:function(s,i){s===void 0&&(s=0),i===void 0&&(i=s),this.type=g.POINT,this.x=s,this.y=i},setTo:function(a,s){return a===void 0&&(a=0),s===void 0&&(s=a),this.x=a,this.y=s,this}});p.exports=h},53581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=t(82712),h=function(a,s,i){i===void 0&&(i=new l);var r=a.x*s.x+a.y*s.y,u=r/g(s);return u!==0&&(i.x=u*s.x,i.y=u*s.y),i};p.exports=h},50817:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a,s){s===void 0&&(s=new l);var i=h.x*a.x+h.y*a.y;return i!==0&&(s.x=i*a.x,s.y=i*a.y),s};p.exports=g},40525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50083),g=function(h,a){if(h.x!==0||h.y!==0){var s=l(h);h.x/=s,h.y/=s}return h.x*=a,h.y*=a,h};p.exports=g},63472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967);l.Ceil=t(77601),l.Clone=t(38933),l.CopyFrom=t(47103),l.Equals=t(13625),l.Floor=t(12536),l.GetCentroid=t(54205),l.GetMagnitude=t(50083),l.GetMagnitudeSq=t(82712),l.GetRectangleFromPoints=t(20052),l.Interpolate=t(77154),l.Invert=t(42397),l.Negative=t(59464),l.Project=t(53581),l.ProjectUnit=t(50817),l.SetMagnitude=t(40525),p.exports=l},19631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8580),g=function(h){return new l(h.points)};p.exports=g},45604:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){for(var h=!1,a=-1,s=t.points.length-1;++a<t.points.length;s=a){var i=t.points[a].x,r=t.points[a].y,u=t.points[s].x,n=t.points[s].y;(r<=g&&g<n||n<=g&&g<r)&&l<(u-i)*(g-r)/(n-r)+i&&(h=!h)}return h};p.exports=S},87289:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45604),g=function(h,a){return l(h,a.x,a.y)};p.exports=g},11117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(z,V,D){D=D||2;var G=V&&V.length,U=G?V[0]*D:z.length,Y=t(z,0,U,D,!0),H=[];if(!Y||Y.next===Y.prev)return H;var Z,K,k,j,Q,J,_;if(G&&(Y=r(z,V,Y,D)),z.length>80*D){Z=k=z[0],K=j=z[1];for(var q=D;q<U;q+=D)Q=z[q],J=z[q+1],Q<Z&&(Z=Q),J<K&&(K=J),Q>k&&(k=Q),J>j&&(j=J);_=Math.max(k-Z,j-K),_=_!==0?32767/_:0}return g(Y,H,D,Z,K,_,0),H}function t(z,V,D,G,U){var Y,H;if(U===$(z,V,D,G)>0)for(Y=V;Y<D;Y+=G)H=b(Y,z[Y],z[Y+1],H);else for(Y=D-G;Y>=V;Y-=G)H=b(Y,z[Y],z[Y+1],H);return H&&A(H,H.next)&&(X(H),H=H.next),H}function l(z,V){if(!z)return z;V||(V=z);var D=z,G;do if(G=!1,!D.steiner&&(A(D,D.next)||C(D.prev,D,D.next)===0)){if(X(D),D=V=D.prev,D===D.next)break;G=!0}else D=D.next;while(G||D!==V);return V}function g(z,V,D,G,U,Y,H){if(z){!H&&Y&&d(z,G,U,Y);for(var Z=z,K,k;z.prev!==z.next;){if(K=z.prev,k=z.next,Y?a(z,G,U,Y):h(z)){V.push(K.i/D|0),V.push(z.i/D|0),V.push(k.i/D|0),X(z),z=k.next,Z=k.next;continue}if(z=k,z===Z){H?H===1?(z=s(l(z),V,D),g(z,V,D,G,U,Y,2)):H===2&&i(z,V,D,G,U,Y):g(l(z),V,D,G,U,Y,1);break}}}}function h(z){var V=z.prev,D=z,G=z.next;if(C(V,D,G)>=0)return!1;for(var U=V.x,Y=D.x,H=G.x,Z=V.y,K=D.y,k=G.y,j=U<Y?U<H?U:H:Y<H?Y:H,Q=Z<K?Z<k?Z:k:K<k?K:k,J=U>Y?U>H?U:H:Y>H?Y:H,_=Z>K?Z>k?Z:k:K>k?K:k,q=G.next;q!==V;){if(q.x>=j&&q.x<=J&&q.y>=Q&&q.y<=_&&E(U,Z,Y,K,H,k,q.x,q.y)&&C(q.prev,q,q.next)>=0)return!1;q=q.next}return!0}function a(z,V,D,G){var U=z.prev,Y=z,H=z.next;if(C(U,Y,H)>=0)return!1;for(var Z=U.x,K=Y.x,k=H.x,j=U.y,Q=Y.y,J=H.y,_=Z<K?Z<k?Z:k:K<k?K:k,q=j<Q?j<J?j:J:Q<J?Q:J,it=Z>K?Z>k?Z:k:K>k?K:k,at=j>Q?j>J?j:J:Q>J?Q:J,ht=m(_,q,V,D,G),lt=m(it,at,V,D,G),tt=z.prevZ,st=z.nextZ;tt&&tt.z>=ht&&st&&st.z<=lt;){if(tt.x>=_&&tt.x<=it&&tt.y>=q&&tt.y<=at&&tt!==U&&tt!==H&&E(Z,j,K,Q,k,J,tt.x,tt.y)&&C(tt.prev,tt,tt.next)>=0||(tt=tt.prevZ,st.x>=_&&st.x<=it&&st.y>=q&&st.y<=at&&st!==U&&st!==H&&E(Z,j,K,Q,k,J,st.x,st.y)&&C(st.prev,st,st.next)>=0))return!1;st=st.nextZ}for(;tt&&tt.z>=ht;){if(tt.x>=_&&tt.x<=it&&tt.y>=q&&tt.y<=at&&tt!==U&&tt!==H&&E(Z,j,K,Q,k,J,tt.x,tt.y)&&C(tt.prev,tt,tt.next)>=0)return!1;tt=tt.prevZ}for(;st&&st.z<=lt;){if(st.x>=_&&st.x<=it&&st.y>=q&&st.y<=at&&st!==U&&st!==H&&E(Z,j,K,Q,k,J,st.x,st.y)&&C(st.prev,st,st.next)>=0)return!1;st=st.nextZ}return!0}function s(z,V,D){var G=z;do{var U=G.prev,Y=G.next.next;!A(U,Y)&&M(U,G,G.next,Y)&&I(U,Y)&&I(Y,U)&&(V.push(U.i/D|0),V.push(G.i/D|0),V.push(Y.i/D|0),X(G),X(G.next),G=z=Y),G=G.next}while(G!==z);return l(G)}function i(z,V,D,G,U,Y){var H=z;do{for(var Z=H.next.next;Z!==H.prev;){if(H.i!==Z.i&&y(H,Z)){var K=B(H,Z);H=l(H,H.next),K=l(K,K.next),g(H,V,D,G,U,Y,0),g(K,V,D,G,U,Y,0);return}Z=Z.next}H=H.next}while(H!==z)}function r(z,V,D,G){var U=[],Y,H,Z,K,k;for(Y=0,H=V.length;Y<H;Y++)Z=V[Y]*G,K=Y<H-1?V[Y+1]*G:z.length,k=t(z,Z,K,G,!1),k===k.next&&(k.steiner=!0),U.push(T(k));for(U.sort(u),Y=0;Y<U.length;Y++)D=n(U[Y],D);return D}function u(z,V){return z.x-V.x}function n(z,V){var D=o(z,V);if(!D)return V;var G=B(D,z);return l(G,G.next),l(D,D.next)}function o(z,V){var D=V,G=z.x,U=z.y,Y=-1/0,H;do{if(U<=D.y&&U>=D.next.y&&D.next.y!==D.y){var Z=D.x+(U-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if(Z<=G&&Z>Y&&(Y=Z,H=D.x<D.next.x?D:D.next,Z===G))return H}D=D.next}while(D!==V);if(!H)return null;var K=H,k=H.x,j=H.y,Q=1/0,J;D=H;do G>=D.x&&D.x>=k&&G!==D.x&&E(U<j?G:Y,U,k,j,U<j?Y:G,U,D.x,D.y)&&(J=Math.abs(U-D.y)/(G-D.x),I(D,z)&&(J<Q||J===Q&&(D.x>H.x||D.x===H.x&&f(H,D)))&&(H=D,Q=J)),D=D.next;while(D!==K);return H}function f(z,V){return C(z.prev,z,V.prev)<0&&C(V.next,z,z.next)<0}function d(z,V,D,G){var U=z;do U.z===0&&(U.z=m(U.x,U.y,V,D,G)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==z);U.prevZ.nextZ=null,U.prevZ=null,v(U)}function v(z){var V,D,G,U,Y,H,Z,K,k=1;do{for(D=z,z=null,Y=null,H=0;D;){for(H++,G=D,Z=0,V=0;V<k&&(Z++,G=G.nextZ,!!G);V++);for(K=k;Z>0||K>0&&G;)Z!==0&&(K===0||!G||D.z<=G.z)?(U=D,D=D.nextZ,Z--):(U=G,G=G.nextZ,K--),Y?Y.nextZ=U:z=U,U.prevZ=Y,Y=U;D=G}Y.nextZ=null,k*=2}while(H>1);return z}function m(z,V,D,G,U){return z=(z-D)*U|0,V=(V-G)*U|0,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,z|V<<1}function T(z){var V=z,D=z;do(V.x<D.x||V.x===D.x&&V.y<D.y)&&(D=V),V=V.next;while(V!==z);return D}function E(z,V,D,G,U,Y,H,Z){return(U-H)*(V-Z)>=(z-H)*(Y-Z)&&(z-H)*(G-Z)>=(D-H)*(V-Z)&&(D-H)*(Y-Z)>=(U-H)*(G-Z)}function y(z,V){return z.next.i!==V.i&&z.prev.i!==V.i&&!L(z,V)&&(I(z,V)&&I(V,z)&&N(z,V)&&(C(z.prev,z,V.prev)||C(z,V.prev,V))||A(z,V)&&C(z.prev,z,z.next)>0&&C(V.prev,V,V.next)>0)}function C(z,V,D){return(V.y-z.y)*(D.x-V.x)-(V.x-z.x)*(D.y-V.y)}function A(z,V){return z.x===V.x&&z.y===V.y}function M(z,V,D,G){var U=O(C(z,V,D)),Y=O(C(z,V,G)),H=O(C(D,G,z)),Z=O(C(D,G,V));return!!(U!==Y&&H!==Z||U===0&&R(z,D,V)||Y===0&&R(z,G,V)||H===0&&R(D,z,G)||Z===0&&R(D,V,G))}function R(z,V,D){return V.x<=Math.max(z.x,D.x)&&V.x>=Math.min(z.x,D.x)&&V.y<=Math.max(z.y,D.y)&&V.y>=Math.min(z.y,D.y)}function O(z){return z>0?1:z<0?-1:0}function L(z,V){var D=z;do{if(D.i!==z.i&&D.next.i!==z.i&&D.i!==V.i&&D.next.i!==V.i&&M(D,D.next,z,V))return!0;D=D.next}while(D!==z);return!1}function I(z,V){return C(z.prev,z,z.next)<0?C(z,V,z.next)>=0&&C(z,z.prev,V)>=0:C(z,V,z.prev)<0||C(z,z.next,V)<0}function N(z,V){var D=z,G=!1,U=(z.x+V.x)/2,Y=(z.y+V.y)/2;do D.y>Y!=D.next.y>Y&&D.next.y!==D.y&&U<(D.next.x-D.x)*(Y-D.y)/(D.next.y-D.y)+D.x&&(G=!G),D=D.next;while(D!==z);return G}function B(z,V){var D=new W(z.i,z.x,z.y),G=new W(V.i,V.x,V.y),U=z.next,Y=V.prev;return z.next=V,V.prev=z,D.next=U,U.prev=D,G.next=D,D.prev=G,Y.next=G,G.prev=Y,G}function b(z,V,D,G){var U=new W(z,V,D);return G?(U.next=G.next,U.prev=G,G.next.prev=U,G.next=U):(U.prev=U,U.next=U),U}function X(z){z.next.prev=z.prev,z.prev.next=z.next,z.prevZ&&(z.prevZ.nextZ=z.nextZ),z.nextZ&&(z.nextZ.prevZ=z.prevZ)}function W(z,V,D){this.i=z,this.x=V,this.y=D,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(z,V,D,G){var U=V&&V.length,Y=U?V[0]*D:z.length,H=Math.abs($(z,0,Y,D));if(U)for(var Z=0,K=V.length;Z<K;Z++){var k=V[Z]*D,j=Z<K-1?V[Z+1]*D:z.length;H-=Math.abs($(z,k,j,D))}var Q=0;for(Z=0;Z<G.length;Z+=3){var J=G[Z]*D,_=G[Z+1]*D,q=G[Z+2]*D;Q+=Math.abs((z[J]-z[q])*(z[_+1]-z[J+1])-(z[J]-z[_])*(z[q+1]-z[J+1]))}return H===0&&Q===0?0:Math.abs((Q-H)/H)};function $(z,V,D,G){for(var U=0,Y=V,H=D-G;Y<D;Y+=G)U+=(z[H]-z[Y])*(z[Y+1]+z[H+1]),H=Y;return U}S.flatten=function(z){for(var V=z[0][0].length,D={vertices:[],holes:[],dimensions:V},G=0,U=0;U<z.length;U++){for(var Y=0;Y<z[U].length;Y++)for(var H=0;H<V;H++)D.vertices.push(z[U][Y][H]);U>0&&(G+=z[U-1].length,D.holes.push(G))}return D},p.exports=S},14045:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=function(h,a){a===void 0&&(a=new l);for(var s=1/0,i=1/0,r=-s,u=-i,n,o=0;o<h.points.length;o++)n=h.points[o],s=Math.min(s,n.x),i=Math.min(i,n.y),r=Math.max(r,n.x),u=Math.max(u,n.y);return a.x=s,a.y=i,a.width=r-s,a.height=u-i,a};p.exports=g},98286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=[]);for(var g=0;g<t.points.length;g++)l.push(t.points[g].x),l.push(t.points[g].y);return l};p.exports=S},89294:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),g=t(88829),h=t(5159),a=function(s,i,r,u){u===void 0&&(u=[]);var n=s.points,o=h(s);!i&&r>0&&(i=o/r);for(var f=0;f<i;f++)for(var d=o*(f/i),v=0,m=0;m<n.length;m++){var T=n[m],E=n[(m+1)%n.length],y=new g(T.x,T.y,E.x,E.y),C=l(y);if(d<v||d>v+C){v+=C;continue}var A=y.getPoint((d-v)/C);u.push(A);break}return u};p.exports=a},5159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),g=t(88829),h=function(a){for(var s=a.points,i=0,r=0;r<s.length;r++){var u=s[r],n=s[(r+1)%s.length],o=new g(u.x,u.y,n.x,n.y);i+=l(o)}return i};p.exports=h},8580:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(45604),h=t(89294),a=t(52394),s=new l({initialize:function(r){this.type=a.POLYGON,this.area=0,this.points=[],r&&this.setTo(r)},contains:function(i,r){return g(this,i,r)},setTo:function(i){if(this.area=0,this.points=[],typeof i=="string"&&(i=i.split(" ")),!Array.isArray(i))return this;for(var r,u=Number.MAX_VALUE,n=0;n<i.length;n++)r={x:0,y:0},typeof i[n]=="number"||typeof i[n]=="string"?(r.x=parseFloat(i[n]),r.y=parseFloat(i[n+1]),n++):Array.isArray(i[n])?(r.x=i[n][0],r.y=i[n][1]):(r.x=i[n].x,r.y=i[n].y),this.points.push(r),r.y<u&&(u=r.y);return this.calculateArea(u),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var i=0,r,u,n=0;n<this.points.length-1;n++)r=this.points[n],u=this.points[n+1],i+=(u.x-r.x)*(r.y+u.y);return r=this.points[0],u=this.points[this.points.length-1],i+=(r.x-u.x)*(u.y+r.y),this.area=-i*.5,this.area},getPoints:function(i,r,u){return h(this,i,r,u)}});p.exports=s},32244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};p.exports=S},95874:p=>{function S(s,i){var r=s.x-i.x,u=s.y-i.y;return r*r+u*u}function t(s,i,r){var u=i.x,n=i.y,o=r.x-u,f=r.y-n;if(o!==0||f!==0){var d=((s.x-u)*o+(s.y-n)*f)/(o*o+f*f);d>1?(u=r.x,n=r.y):d>0&&(u+=o*d,n+=f*d)}return o=s.x-u,f=s.y-n,o*o+f*f}function l(s,i){for(var r=s[0],u=[r],n,o=1,f=s.length;o<f;o++)n=s[o],S(n,r)>i&&(u.push(n),r=n);return r!==n&&u.push(n),u}function g(s,i,r,u,n){for(var o=u,f,d=i+1;d<r;d++){var v=t(s[d],s[i],s[r]);v>o&&(f=d,o=v)}o>u&&(f-i>1&&g(s,i,f,u,n),n.push(s[f]),r-f>1&&g(s,f,r,u,n))}function h(s,i){var r=s.length-1,u=[s[0]];return g(s,0,r,i,u),u.push(s[r]),u}var a=function(s,i,r){i===void 0&&(i=1),r===void 0&&(r=!1);var u=s.points;if(u.length>2){var n=i*i;r||(u=l(u,n)),s.setTo(h(u,n))}return s};p.exports=a},18974:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(l,g){return l[0]=g[0],l[1]=g[1],l},t=function(l){var g,h=[],a=l.points;for(g=0;g<a.length;g++)h.push([a[g].x,a[g].y]);var s=[];for(h.length>0&&s.push(S([0,0],h[0])),g=0;g<h.length-1;g++){var i=h[g],r=h[g+1],u=i[0],n=i[1],o=r[0],f=r[1];s.push([.85*u+.15*o,.85*n+.15*f]),s.push([.15*u+.85*o,.15*n+.85*f])}return h.length>1&&s.push(S([0,0],h[h.length-1])),l.setTo(s)};p.exports=t},23490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){for(var h=t.points,a=0;a<h.length;a++)h[a].x+=l,h[a].y+=g;return t};p.exports=S},44359:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8580);l.Clone=t(19631),l.Contains=t(45604),l.ContainsPoint=t(87289),l.Earcut=t(11117),l.GetAABB=t(14045),l.GetNumberArray=t(98286),l.GetPoints=t(89294),l.Perimeter=t(5159),l.Reverse=t(32244),l.Simplify=t(95874),l.Smooth=t(18974),l.Translate=t(23490),p.exports=l},1653:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};p.exports=S},33943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};p.exports=S},58662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};p.exports=S},79993:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t.x=l-t.width/2,t.y=g-t.height/2,t};p.exports=S},81572:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=function(h){return new l(h.x,h.y,h.width,h.height)};p.exports=g},94287:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t.width<=0||t.height<=0?!1:t.x<=l&&t.x+t.width>=l&&t.y<=g&&t.y+t.height>=g};p.exports=S},28687:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(94287),g=function(h,a){return l(h,a.x,a.y)};p.exports=g},73222:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.width*l.height>t.width*t.height?!1:l.x>t.x&&l.x<t.right&&l.right>t.x&&l.right<t.right&&l.y>t.y&&l.y<t.bottom&&l.bottom>t.y&&l.bottom<t.bottom};p.exports=S},29538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x,t.y,t.width,t.height)};p.exports=S},87279:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=[]),l.push({x:t.x,y:t.y}),l.push({x:t.right,y:t.y}),l.push({x:t.right,y:t.bottom}),l.push({x:t.x,y:t.bottom}),l};p.exports=S},19989:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x===l.x&&t.y===l.y&&t.width===l.width&&t.height===l.height};p.exports=S},92628:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6700),g=function(h,a){var s=l(h);return s<l(a)?h.setSize(a.height*s,a.height):h.setSize(a.width,a.width/s),h.setPosition(a.centerX-h.width/2,a.centerY-h.height/2)};p.exports=g},85028:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6700),g=function(h,a){var s=l(h);return s>l(a)?h.setSize(a.height*s,a.height):h.setSize(a.width,a.width/s),h.setPosition(a.centerX-h.width/2,a.centerY-h.height/2)};p.exports=g},71356:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};p.exports=S},21687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};p.exports=S},80222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=t(83392),h=function(a,s){if(s===void 0&&(s=new l),a.length===0)return s;for(var i=Number.MAX_VALUE,r=Number.MAX_VALUE,u=g.MIN_SAFE_INTEGER,n=g.MIN_SAFE_INTEGER,o,f,d,v=0;v<a.length;v++)o=a[v],Array.isArray(o)?(f=o[0],d=o[1]):(f=o.x,d=o.y),i=Math.min(i,f),r=Math.min(r,d),u=Math.max(u,f),n=Math.max(n,d);return s.x=i,s.y=r,s.width=u-i,s.height=n-r,s};p.exports=h},75785:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=function(h,a,s,i,r){return r===void 0&&(r=new l),r.setTo(Math.min(h,s),Math.min(a,i),Math.abs(h-s),Math.abs(a-i))};p.exports=g},6700:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};p.exports=S},35242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a){return a===void 0&&(a=new l),a.x=h.centerX,a.y=h.centerY,a};p.exports=g},47698:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85876),g=t(79967),h=function(a,s,i){if(i===void 0&&(i=new g),s<=0||s>=1)return i.x=a.x,i.y=a.y,i;var r=l(a)*s;return s>.5?(r-=a.width+a.height,r<=a.width?(i.x=a.right-r,i.y=a.bottom):(i.x=a.x,i.y=a.bottom-(r-a.width))):r<=a.width?(i.x=a.x+r,i.y=a.y):(i.x=a.right,i.y=a.y+(r-a.width)),i};p.exports=h},54932:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47698),g=t(85876),h=function(a,s,i,r){r===void 0&&(r=[]),!s&&i>0&&(s=g(a)/i);for(var u=0;u<s;u++){var n=u/s;r.push(l(a,n))}return r};p.exports=h},31591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a){return a===void 0&&(a=new l),a.x=h.width,a.y=h.height,a};p.exports=g},7782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79993),g=function(h,a,s){var i=h.centerX,r=h.centerY;return h.setSize(h.width+a*2,h.height+s*2),l(h,i,r)};p.exports=g},66217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=t(90205),h=function(a,s,i){return i===void 0&&(i=new l),g(a,s)?(i.x=Math.max(a.x,s.x),i.y=Math.max(a.y,s.y),i.width=Math.min(a.right,s.right)-i.x,i.height=Math.min(a.bottom,s.bottom)-i.y):i.setEmpty(),i};p.exports=h},40053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85876),g=t(79967),h=function(a,s,i,r){if(r===void 0&&(r=[]),!s&&!i)return r;s?i=Math.round(l(a)/s):s=l(a)/i;for(var u=a.x,n=a.y,o=0,f=0;f<i;f++)switch(r.push(new g(u,n)),o){case 0:u+=s,u>=a.right&&(o=1,n+=u-a.right,u=a.right);break;case 1:n+=s,n>=a.bottom&&(o=2,u-=n-a.bottom,n=a.bottom);break;case 2:u-=s,u<=a.left&&(o=3,n-=a.left-u,u=a.left);break;case 3:n-=s,n<=a.top&&(o=0,n=a.top);break}return r};p.exports=h},86673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){for(var g=t.x,h=t.right,a=t.y,s=t.bottom,i=0;i<l.length;i++)g=Math.min(g,l[i].x),h=Math.max(h,l[i].x),a=Math.min(a,l[i].y),s=Math.max(s,l[i].y);return t.x=g,t.y=a,t.width=h-g,t.height=s-a,t};p.exports=S},14655:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=Math.min(t.x,l.x),h=Math.max(t.right,l.right);t.x=g,t.width=h-g;var a=Math.min(t.y,l.y),s=Math.max(t.bottom,l.bottom);return t.y=a,t.height=s-a,t};p.exports=S},44755:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=Math.min(t.x,l),a=Math.max(t.right,l);t.x=h,t.width=a-h;var s=Math.min(t.y,g),i=Math.max(t.bottom,g);return t.y=s,t.height=i-s,t};p.exports=S},74466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t.x+=l,t.y+=g,t};p.exports=S},55946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x+=l.x,t.y+=l.y,t};p.exports=S},97474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x<l.right&&t.right>l.x&&t.y<l.bottom&&t.bottom>l.y};p.exports=S},85876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};p.exports=S},20243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=t(75606),h=function(a,s,i){i===void 0&&(i=new l),s=g(s);var r=Math.sin(s),u=Math.cos(s),n=u>0?a.width/2:a.width/-2,o=r>0?a.height/2:a.height/-2;return Math.abs(n*r)<Math.abs(o*u)?o=n*r/u:n=o*u/r,i.x=n+a.centerX,i.y=o+a.centerY,i};p.exports=h},30001:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a){return a===void 0&&(a=new l),a.x=h.x+Math.random()*h.width,a.y=h.y+Math.random()*h.height,a};p.exports=g},97691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(17489),g=t(73222),h=t(79967),a=function(s,i,r){if(r===void 0&&(r=new h),g(s,i))switch(l(0,3)){case 0:r.x=s.x+Math.random()*(i.right-s.x),r.y=s.y+Math.random()*(i.top-s.y);break;case 1:r.x=i.x+Math.random()*(s.right-i.x),r.y=i.bottom+Math.random()*(s.bottom-i.bottom);break;case 2:r.x=s.x+Math.random()*(i.x-s.x),r.y=i.y+Math.random()*(s.bottom-i.y);break;case 3:r.x=i.right+Math.random()*(s.right-i.right),r.y=s.y+Math.random()*(i.bottom-s.y);break}return r};p.exports=a},74118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(94287),h=t(47698),a=t(54932),s=t(52394),i=t(88829),r=t(30001),u=new l({initialize:function(o,f,d,v){o===void 0&&(o=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),this.type=s.RECTANGLE,this.x=o,this.y=f,this.width=d,this.height=v},contains:function(n,o){return g(this,n,o)},getPoint:function(n,o){return h(this,n,o)},getPoints:function(n,o,f){return a(this,n,o,f)},getRandomPoint:function(n){return r(this,n)},setTo:function(n,o,f,d){return this.x=n,this.y=o,this.width=f,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(n,o){return o===void 0&&(o=n),this.x=n,this.y=o,this},setSize:function(n,o){return o===void 0&&(o=n),this.width=n,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(n){return n===void 0&&(n=new i),n.setTo(this.x,this.y,this.right,this.y),n},getLineB:function(n){return n===void 0&&(n=new i),n.setTo(this.right,this.y,this.right,this.bottom),n},getLineC:function(n){return n===void 0&&(n=new i),n.setTo(this.right,this.bottom,this.x,this.bottom),n},getLineD:function(n){return n===void 0&&(n=new i),n.setTo(this.x,this.bottom,this.x,this.y),n},left:{get:function(){return this.x},set:function(n){n>=this.right?this.width=0:this.width=this.right-n,this.x=n}},right:{get:function(){return this.x+this.width},set:function(n){n<=this.x?this.width=0:this.width=n-this.x}},top:{get:function(){return this.y},set:function(n){n>=this.bottom?this.height=0:this.height=this.bottom-n,this.y=n}},bottom:{get:function(){return this.y+this.height},set:function(n){n<=this.y?this.height=0:this.height=n-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(n){this.x=n-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(n){this.y=n-this.height/2}}});p.exports=u},51828:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.width===l.width&&t.height===l.height};p.exports=S},5691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return g===void 0&&(g=l),t.width*=l,t.height*=g,t};p.exports=S},58795:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=function(h,a,s){s===void 0&&(s=new l);var i=Math.min(h.x,a.x),r=Math.min(h.y,a.y),u=Math.max(h.right,a.right)-i,n=Math.max(h.bottom,a.bottom)-r;return s.setTo(i,r,u,n)};p.exports=g},66658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118);l.Area=t(1653),l.Ceil=t(33943),l.CeilAll=t(58662),l.CenterOn=t(79993),l.Clone=t(81572),l.Contains=t(94287),l.ContainsPoint=t(28687),l.ContainsRect=t(73222),l.CopyFrom=t(29538),l.Decompose=t(87279),l.Equals=t(19989),l.FitInside=t(92628),l.FitOutside=t(85028),l.Floor=t(71356),l.FloorAll=t(21687),l.FromPoints=t(80222),l.FromXY=t(75785),l.GetAspectRatio=t(6700),l.GetCenter=t(35242),l.GetPoint=t(47698),l.GetPoints=t(54932),l.GetSize=t(31591),l.Inflate=t(7782),l.Intersection=t(66217),l.MarchingAnts=t(40053),l.MergePoints=t(86673),l.MergeRect=t(14655),l.MergeXY=t(44755),l.Offset=t(74466),l.OffsetPoint=t(55946),l.Overlaps=t(97474),l.Perimeter=t(85876),l.PerimeterPoint=t(20243),l.Random=t(30001),l.RandomOutside=t(97691),l.SameDimensions=t(51828),l.Scale=t(5691),l.Union=t(58795),p.exports=l},19108:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=t.x1,g=t.y1,h=t.x2,a=t.y2,s=t.x3,i=t.y3;return Math.abs(((s-l)*(a-g)-(h-l)*(i-g))/2)};p.exports=S},41199:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66349),g=function(h,a,s){var i=s*(Math.sqrt(3)/2),r=h,u=a,n=h+s/2,o=a+i,f=h-s/2,d=a+i;return new l(r,u,n,o,f,d)};p.exports=g},88730:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(11117),g=t(66349),h=function(a,s,i,r,u){s===void 0&&(s=null),i===void 0&&(i=1),r===void 0&&(r=1),u===void 0&&(u=[]);for(var n=l(a,s),o,f,d,v,m,T,E,y,C,A=0;A<n.length;A+=3)o=n[A],f=n[A+1],d=n[A+2],v=a[o*2]*i,m=a[o*2+1]*r,T=a[f*2]*i,E=a[f*2+1]*r,y=a[d*2]*i,C=a[d*2+1]*r,u.push(new g(v,m,T,E,y,C));return u};p.exports=h},3635:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66349),g=function(h,a,s,i){i===void 0&&(i=s);var r=h,u=a,n=h,o=a-i,f=h+s,d=a;return new l(r,u,n,o,f,d)};p.exports=g},1882:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56595),g=t(9640),h=function(a,s,i,r){r===void 0&&(r=l);var u=r(a),n=s-u.x,o=i-u.y;return g(a,n,o)};p.exports=h},56595:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a){return a===void 0&&(a=new l),a.x=(h.x1+h.x2+h.x3)/3,a.y=(h.y1+h.y2+h.y3)/3,a};p.exports=g},91835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736);function g(a,s,i,r){return a*r-s*i}var h=function(a,s){s===void 0&&(s=new l);var i=a.x3,r=a.y3,u=a.x1-i,n=a.y1-r,o=a.x2-i,f=a.y2-r,d=2*g(u,n,o,f),v=g(n,u*u+n*n,f,o*o+f*f),m=g(u,u*u+n*n,o,o*o+f*f);return s.x=i-v/d,s.y=r+m/d,s};p.exports=h},97073:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26673),g=function(h,a){a===void 0&&(a=new l);var s=h.x1,i=h.y1,r=h.x2,u=h.y2,n=h.x3,o=h.y3,f=r-s,d=u-i,v=n-s,m=o-i,T=f*(s+r)+d*(i+u),E=v*(s+n)+m*(i+o),y=2*(f*(o-u)-d*(n-r)),C,A;if(Math.abs(y)<1e-6){var M=Math.min(s,r,n),R=Math.min(i,u,o);C=(Math.max(s,r,n)-M)*.5,A=(Math.max(i,u,o)-R)*.5,a.x=M+C,a.y=R+A,a.radius=Math.sqrt(C*C+A*A)}else a.x=(m*T-d*E)/y,a.y=(f*E-v*T)/y,C=a.x-s,A=a.y-i,a.radius=Math.sqrt(C*C+A*A);return a};p.exports=g},75974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66349),g=function(h){return new l(h.x1,h.y1,h.x2,h.y2,h.x3,h.y3)};p.exports=g},60689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=t.x3-t.x1,a=t.y3-t.y1,s=t.x2-t.x1,i=t.y2-t.y1,r=l-t.x1,u=g-t.y1,n=h*h+a*a,o=h*s+a*i,f=h*r+a*u,d=s*s+i*i,v=s*r+i*u,m=n*d-o*o,T=m===0?0:1/m,E=(d*f-o*v)*T,y=(n*v-o*f)*T;return E>=0&&y>=0&&E+y<1};p.exports=S},86875:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){g===void 0&&(g=!1),h===void 0&&(h=[]);for(var a=t.x3-t.x1,s=t.y3-t.y1,i=t.x2-t.x1,r=t.y2-t.y1,u=a*a+s*s,n=a*i+s*r,o=i*i+r*r,f=u*o-n*n,d=f===0?0:1/f,v,m,T,E,y,C,A=t.x1,M=t.y1,R=0;R<l.length&&(T=l[R].x-A,E=l[R].y-M,y=a*T+s*E,C=i*T+r*E,v=(o*y-n*C)*d,m=(u*C-n*y)*d,!(v>=0&&m>=0&&v+m<1&&(h.push({x:l[R].x,y:l[R].y}),g)));R++);return h};p.exports=S},51532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60689),g=function(h,a){return l(h,a.x,a.y)};p.exports=g},42538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};p.exports=S},18680:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=[]),l.push({x:t.x1,y:t.y1}),l.push({x:t.x2,y:t.y2}),l.push({x:t.x3,y:t.y3}),l};p.exports=S},29977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x1===l.x1&&t.y1===l.y1&&t.x2===l.x2&&t.y2===l.y2&&t.x3===l.x3&&t.y3===l.y3};p.exports=S},56088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=t(16028),h=function(a,s,i){i===void 0&&(i=new l);var r=a.getLineA(),u=a.getLineB(),n=a.getLineC();if(s<=0||s>=1)return i.x=r.x1,i.y=r.y1,i;var o=g(r),f=g(u),d=g(n),v=o+f+d,m=v*s,T=0;return m<o?(T=m/o,i.x=r.x1+(r.x2-r.x1)*T,i.y=r.y1+(r.y2-r.y1)*T):m>o+f?(m-=o+f,T=m/d,i.x=n.x1+(n.x2-n.x1)*T,i.y=n.y1+(n.y2-n.y1)*T):(m-=o,T=m/f,i.x=u.x1+(u.x2-u.x1)*T,i.y=u.y1+(u.y2-u.y1)*T),i};p.exports=h},24402:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),g=t(79967),h=function(a,s,i,r){r===void 0&&(r=[]);var u=a.getLineA(),n=a.getLineB(),o=a.getLineC(),f=l(u),d=l(n),v=l(o),m=f+d+v;!s&&i>0&&(s=m/i);for(var T=0;T<s;T++){var E=m*(T/s),y=0,C=new g;E<f?(y=E/f,C.x=u.x1+(u.x2-u.x1)*y,C.y=u.y1+(u.y2-u.y1)*y):E>f+d?(E-=f+d,y=E/v,C.x=o.x1+(o.x2-o.x1)*y,C.y=o.y1+(o.y2-o.y1)*y):(E-=f,y=E/d,C.x=n.x1+(n.x2-n.x1)*y,C.y=n.y1+(n.y2-n.y1)*y),r.push(C)}return r};p.exports=h},83648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967);function g(a,s,i,r){var u=a-i,n=s-r,o=u*u+n*n;return Math.sqrt(o)}var h=function(a,s){s===void 0&&(s=new l);var i=a.x1,r=a.y1,u=a.x2,n=a.y2,o=a.x3,f=a.y3,d=g(o,f,u,n),v=g(i,r,o,f),m=g(u,n,i,r),T=d+v+m;return s.x=(i*d+u*v+o*m)/T,s.y=(r*d+n*v+f*m)/T,s};p.exports=h},9640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t.x1+=l,t.y1+=g,t.x2+=l,t.y2+=g,t.x3+=l,t.y3+=g,t};p.exports=S},95290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),g=function(h){var a=h.getLineA(),s=h.getLineB(),i=h.getLineC();return l(a)+l(s)+l(i)};p.exports=g},99761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),g=function(h,a){a===void 0&&(a=new l);var s=h.x2-h.x1,i=h.y2-h.y1,r=h.x3-h.x1,u=h.y3-h.y1,n=Math.random(),o=Math.random();return n+o>=1&&(n=1-n,o=1-o),a.x=h.x1+(s*n+r*o),a.y=h.y1+(i*n+u*o),a};p.exports=g},21934:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19211),g=t(83648),h=function(a,s){var i=g(a);return l(a,i.x,i.y,s)};p.exports=h},68454:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19211),g=function(h,a,s){return l(h,a.x,a.y,s)};p.exports=g},19211:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=Math.cos(h),s=Math.sin(h),i=t.x1-l,r=t.y1-g;return t.x1=i*a-r*s+l,t.y1=i*s+r*a+g,i=t.x2-l,r=t.y2-g,t.x2=i*a-r*s+l,t.y2=i*s+r*a+g,i=t.x3-l,r=t.y3-g,t.x3=i*a-r*s+l,t.y3=i*s+r*a+g,t};p.exports=S},66349:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(60689),h=t(56088),a=t(24402),s=t(52394),i=t(88829),r=t(99761),u=new l({initialize:function(o,f,d,v,m,T){o===void 0&&(o=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),T===void 0&&(T=0),this.type=s.TRIANGLE,this.x1=o,this.y1=f,this.x2=d,this.y2=v,this.x3=m,this.y3=T},contains:function(n,o){return g(this,n,o)},getPoint:function(n,o){return h(this,n,o)},getPoints:function(n,o,f){return a(this,n,o,f)},getRandomPoint:function(n){return r(this,n)},setTo:function(n,o,f,d,v,m){return n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=0),m===void 0&&(m=0),this.x1=n,this.y1=o,this.x2=f,this.y2=d,this.x3=v,this.y3=m,this},getLineA:function(n){return n===void 0&&(n=new i),n.setTo(this.x1,this.y1,this.x2,this.y2),n},getLineB:function(n){return n===void 0&&(n=new i),n.setTo(this.x2,this.y2,this.x3,this.y3),n},getLineC:function(n){return n===void 0&&(n=new i),n.setTo(this.x3,this.y3,this.x1,this.y1),n},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(n){var o=0;this.x1<=this.x2&&this.x1<=this.x3?o=this.x1-n:this.x2<=this.x1&&this.x2<=this.x3?o=this.x2-n:o=this.x3-n,this.x1-=o,this.x2-=o,this.x3-=o}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(n){var o=0;this.x1>=this.x2&&this.x1>=this.x3?o=this.x1-n:this.x2>=this.x1&&this.x2>=this.x3?o=this.x2-n:o=this.x3-n,this.x1-=o,this.x2-=o,this.x3-=o}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(n){var o=0;this.y1<=this.y2&&this.y1<=this.y3?o=this.y1-n:this.y2<=this.y1&&this.y2<=this.y3?o=this.y2-n:o=this.y3-n,this.y1-=o,this.y2-=o,this.y3-=o}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(n){var o=0;this.y1>=this.y2&&this.y1>=this.y3?o=this.y1-n:this.y2>=this.y1&&this.y2>=this.y3?o=this.y2-n:o=this.y3-n,this.y1-=o,this.y2-=o,this.y3-=o}}});p.exports=u},87619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66349);l.Area=t(19108),l.BuildEquilateral=t(41199),l.BuildFromPolygon=t(88730),l.BuildRight=t(3635),l.CenterOn=t(1882),l.Centroid=t(56595),l.CircumCenter=t(91835),l.CircumCircle=t(97073),l.Clone=t(75974),l.Contains=t(60689),l.ContainsArray=t(86875),l.ContainsPoint=t(51532),l.CopyFrom=t(42538),l.Decompose=t(18680),l.Equals=t(29977),l.GetPoint=t(56088),l.GetPoints=t(24402),l.InCenter=t(83648),l.Perimeter=t(95290),l.Offset=t(9640),l.Random=t(99761),l.Rotate=t(21934),l.RotateAroundPoint=t(68454),l.RotateAroundXY=t(19211),p.exports=l},27395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:l,hitAreaCallback:g,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};p.exports=S},18104:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return function(g,h,a,s){var i=t.getPixelAlpha(h,a,s.texture.key,s.frame.name);return i&&i>=l}};p.exports=S},69898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72687),h=t(6659),a=t(33963),s=t(97081),i=t(71064),r=t(7905),u=t(40398),n=t(37579),o=t(69360),f=t(64462),d=new l({initialize:function(m,T){this.game=m,this.scaleManager,this.canvas,this.config=T,this.enabled=!0,this.events=new h,this.isOver=!0,this.defaultCursor="",this.keyboard=T.inputKeyboard?new i(this):null,this.mouse=T.inputMouse?new r(this):null,this.touch=T.inputTouch?new n(this):null,this.pointers=[],this.pointersTotal=T.inputActivePointers,T.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var E=0;E<=this.pointersTotal;E++){var y=new u(this,E);y.smoothFactor=T.inputSmoothFactor,this.pointers.push(y)}this.mousePointer=T.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new o,this._tempMatrix2=new o,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(s.BOOT,this.boot,this)},boot:function(){var v=this.game,m=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(a.MANAGER_BOOT),m.on(s.PRE_RENDER,this.preRender,this),m.once(s.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(a.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(a.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,m=this.game.loop.delta,T=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(a.MANAGER_UPDATE);for(var E=0;E<T.length;E++){var y=T[E];if(y.sys.input&&y.sys.input.updatePoll(v,m)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v){v.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var m=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var T=0;T<v;T++){var E=this.pointers.length,y=new u(this,E);y.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(y),this.pointersTotal++,m.push(y)}return m},updateInputPlugins:function(v,m){var T=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var E=0;E<T.length;E++){var y=T[E];if(y.sys.input){var C=y.sys.input.update(v,m);if(C&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var y=v.changedTouches[E],C=1;C<this.pointersTotal;C++){var A=m[C];if(!A.active){A.touchstart(y,v),this.activePointer=A,T.push(A);break}}this.updateInputPlugins(g.TOUCH_START,T)},onTouchMove:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var y=v.changedTouches[E],C=1;C<this.pointersTotal;C++){var A=m[C];if(A.active&&A.identifier===y.identifier){var M=document.elementFromPoint(y.pageX,y.pageY),R=M===this.canvas;!this.isOver&&R?this.setCanvasOver(v):this.isOver&&!R&&this.setCanvasOut(v),this.isOver&&(A.touchmove(y,v),this.activePointer=A,T.push(A));break}}this.updateInputPlugins(g.TOUCH_MOVE,T)},onTouchEnd:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var y=v.changedTouches[E],C=1;C<this.pointersTotal;C++){var A=m[C];if(A.active&&A.identifier===y.identifier){A.touchend(y,v),T.push(A);break}}this.updateInputPlugins(g.TOUCH_END,T)},onTouchCancel:function(v){for(var m=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var y=v.changedTouches[E],C=1;C<this.pointersTotal;C++){var A=m[C];if(A.active&&A.identifier===y.identifier){A.touchcancel(y,v),T.push(A);break}}this.updateInputPlugins(g.TOUCH_CANCEL,T)},onMouseDown:function(v){var m=this.mousePointer;m.down(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(g.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var m=this.mousePointer;m.move(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(g.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var m=this.mousePointer;m.up(v),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(g.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var m=this.mousePointer;m.wheel(v),this.activePointer=m,this.updateInputPlugins(g.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(a.POINTERLOCK_CHANGE,v,m)},inputCandidate:function(v,m){var T=v.input;if(!T||!T.enabled||!v.willRender(m))return!1;var E=!0,y=v.parentContainer;if(y)do{if(!y.willRender(m)){E=!1;break}y=y.parentContainer}while(y);return E},hitTest:function(v,m,T,E){E===void 0&&(E=this._tempHitTest);var y=this._tempPoint,C=T.scrollX,A=T.scrollY;E.length=0;var M=v.x,R=v.y;T.getWorldPoint(M,R,y),v.worldX=y.x,v.worldY=y.y;for(var O={x:0,y:0},L=this._tempMatrix,I=this._tempMatrix2,N=0;N<m.length;N++){var B=m[N];if(this.inputCandidate(B,T)){var b=y.x+C*B.scrollFactorX-C,X=y.y+A*B.scrollFactorY-A;B.parentContainer?(B.getWorldTransformMatrix(L,I),L.applyInverse(b,X,O)):f(b,X,B.x,B.y,B.rotation,B.scaleX,B.scaleY,O),this.pointWithinHitArea(B,O.x,O.y)&&E.push(B)}}return E},pointWithinHitArea:function(v,m,T){m+=v.displayOriginX,T+=v.displayOriginY;var E=v.input;return E&&E.hitAreaCallback(E.hitArea,m,T,v)?(E.localX=m,E.localY=T,!0):!1},pointWithinInteractiveObject:function(v,m,T){return v.hitArea?(m+=v.gameObject.displayOriginX,T+=v.gameObject.displayOriginY,v.localX=m,v.localY=T,v.hitAreaCallback(v.hitArea,m,T,v)):!1},transformPointer:function(v,m,T,E){var y=v.position,C=v.prevPosition;C.x=y.x,C.y=y.y;var A=this.scaleManager.transformX(m),M=this.scaleManager.transformY(T),R=v.smoothFactor;!E||R===0?(y.x=A,y.y=M):(y.x=A*R+C.x*(1-R),y.y=M*R+C.y*(1-R))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(s.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});p.exports=d},12499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26673),g=t(65650),h=t(56694),a=t(72687),s=t(27395),i=t(18104),r=t(53996),u=t(95669),n=t(72313),o=t(33963),f=t(6659),d=t(72632),v=t(52394),m=t(63399),T=t(42911),E=t(91963),y=t(74118),C=t(94287),A=t(7599),M=t(66349),R=t(60689),O=new h({Extends:f,initialize:function(I){f.call(this),this.scene=I,this.systems=I.sys,this.settings=I.sys.settings,this.manager=I.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var N={cancelled:!1};this._eventContainer={stopPropagation:function(){N.cancelled=!0}},this._eventData=N,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,I.sys.events.once(A.BOOT,this.boot,this),I.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(o.BOOT)},start:function(){var L=this.systems.events;L.on(A.TRANSITION_START,this.transitionIn,this),L.on(A.TRANSITION_OUT,this.transitionOut,this),L.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(A.PRE_UPDATE,this.preUpdate,this),L.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(o.GAME_OUT,this.onGameOut,this),this.manager.events.on(o.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(o.START)},onGameOver:function(L){this.isActive()&&this.emit(o.GAME_OVER,L.timeStamp,L)},onGameOut:function(L){this.isActive()&&this.emit(o.GAME_OUT,L.timeStamp,L)},preUpdate:function(){this.pluginEvents.emit(o.PRE_UPDATE);var L=this._pendingRemoval,I=this._pendingInsertion,N=L.length,B=I.length;if(!(N===0&&B===0)){for(var b=this._list,X=0;X<N;X++){var W=L[X],$=b.indexOf(W);$>-1&&(b.splice($,1),this.clear(W,!0))}this._pendingRemoval.length=0,this._list=b.concat(I.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(L,I){if(!this.isActive())return!1;if(this.pluginEvents.emit(o.UPDATE,L,I),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var N,B=this.manager,b=B.pointers,X=B.pointersTotal;for(N=0;N<X;N++)b[N].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=I,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var $=!1;for(N=0;N<X;N++){var z=0,V=b[N];this._tempZones=[],this._temp=this.hitTestPointer(V),this.sortGameObjects(this._temp,V),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),z+=this.processOverOutEvents(V),this.getDragState(V)===2&&this.processDragThresholdEvent(V,L),z>0&&($=!0)}return $},update:function(L,I){if(!this.isActive())return!1;for(var N=I.length,B=!1,b=0;b<N;b++){var X=0,W=I[b];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case a.MOUSE_DOWN:X+=this.processDragDownEvent(W),X+=this.processDownEvents(W),X+=this.processOverOutEvents(W);break;case a.MOUSE_UP:X+=this.processDragUpEvent(W),X+=this.processUpEvents(W),X+=this.processOverOutEvents(W);break;case a.TOUCH_START:X+=this.processDragDownEvent(W),X+=this.processDownEvents(W),X+=this.processOverEvents(W);break;case a.TOUCH_END:case a.TOUCH_CANCEL:X+=this.processDragUpEvent(W),X+=this.processUpEvents(W),X+=this.processOutEvents(W);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:X+=this.processDragMoveEvent(W),X+=this.processMoveEvents(W),X+=this.processOverOutEvents(W);break;case a.MOUSE_WHEEL:X+=this.processWheelEvent(W);break}X>0&&(B=!0)}return this._updatedThisFrame=!0,B},clear:function(L,I){I===void 0&&(I=!1),this.disable(L);var N=L.input;N&&(this.removeDebug(L),N.gameObject=void 0,N.target=void 0,N.hitArea=void 0,N.hitAreaCallback=void 0,N.callbackContext=void 0,L.input=null),I||this.queueForRemoval(L);var B=this._draggable.indexOf(L);return B>-1&&this._draggable.splice(B,1),L},disable:function(L){var I=L.input;I&&(I.enabled=!1,I.dragState=0);var N=this._temp,B=this._drag,b=this._over,X=this.manager,W=N.indexOf(L);W>-1&&N.splice(W,1);for(var $=0;$<X.pointersTotal;$++)W=B[$].indexOf(L),W>-1&&B[$].splice(W,1),W=b[$].indexOf(L),W>-1&&(b[$].splice(W,1),X.resetCursor(I));return this},enable:function(L,I,N,B){return B===void 0&&(B=!1),L.input?L.input.enabled=!0:this.setHitArea(L,I,N),L.input&&B&&!L.input.dropZone&&(L.input.dropZone=B),this},hitTestPointer:function(L){for(var I=this.cameras.getCamerasBelowPointer(L),N=0;N<I.length;N++){for(var B=I[N],b=this.manager.hitTest(L,this._list,B),X=0;X<b.length;X++){var W=b[X];W.input.dropZone&&this._tempZones.push(W)}if(b.length>0)return L.camera=B,b}return L.camera=I[0],[]},processDownEvents:function(L){var I=0,N=this._temp,B=this._eventData,b=this._eventContainer;B.cancelled=!1;for(var X=!1,W=0;W<N.length;W++){var $=N[W];if(!(!$.input||!$.input.enabled)){if(I++,$.emit(o.GAMEOBJECT_POINTER_DOWN,L,$.input.localX,$.input.localY,b),B.cancelled||!$.input||!$.input.enabled){X=!0;break}if(this.emit(o.GAMEOBJECT_DOWN,L,$,b),B.cancelled||!$.input){X=!0;break}}}return!X&&this.manager&&(L.downElement===this.manager.game.canvas?this.emit(o.POINTER_DOWN,L,N):this.emit(o.POINTER_DOWN_OUTSIDE,L)),I},getDragState:function(L){return this._dragState[L.id]},setDragState:function(L,I){this._dragState[L.id]=I},processDragThresholdEvent:function(L,I){var N=!1,B=this.dragTimeThreshold,b=this.dragDistanceThreshold;if((b>0&&r(L.x,L.y,L.downX,L.downY)>=b||B>0&&I>=L.downTime+B)&&(N=!0),N)return this.setDragState(L,3),this.processDragStartList(L)},processDragStartList:function(L){if(this.getDragState(L)!==3)return 0;for(var I=this._drag[L.id],N=0;N<I.length;N++){var B=I[N],b=B.input;b.dragState=2,b.dragStartX=B.x,b.dragStartY=B.y,b.dragStartXGlobal=L.worldX,b.dragStartYGlobal=L.worldY,b.dragX=b.dragStartXGlobal-b.dragStartX,b.dragY=b.dragStartYGlobal-b.dragStartY,B.emit(o.GAMEOBJECT_DRAG_START,L,b.dragX,b.dragY),this.emit(o.DRAG_START,L,B)}return this.setDragState(L,4),I.length},processDragDownEvent:function(L){var I=this._temp;if(this._draggable.length===0||I.length===0||!L.primaryDown||this.getDragState(L)!==0)return 0;this.setDragState(L,1);for(var N=[],B=0;B<I.length;B++){var b=I[B];b.input.draggable&&b.input.dragState===0&&N.push(b)}return N.length===0?(this.setDragState(L,0),0):(N.length>1&&(this.sortGameObjects(N,L),this.topOnly&&N.splice(1)),this._drag[L.id]=N,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},processDragMoveEvent:function(L){if(this.getDragState(L)===2&&this.processDragThresholdEvent(L,this.manager.game.loop.now),this.getDragState(L)!==4)return 0;for(var I=this._tempZones,N=this._drag[L.id],B=0;B<N.length;B++){var b=N[B],X=b.input,W=X.target;if(W){var $=I.indexOf(W);$===0?(b.emit(o.GAMEOBJECT_DRAG_OVER,L,W),this.emit(o.DRAG_OVER,L,b,W)):$>0?(b.emit(o.GAMEOBJECT_DRAG_LEAVE,L,W),this.emit(o.DRAG_LEAVE,L,b,W),X.target=I[0],W=X.target,b.emit(o.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(o.DRAG_ENTER,L,b,W)):(b.emit(o.GAMEOBJECT_DRAG_LEAVE,L,W),this.emit(o.DRAG_LEAVE,L,b,W),I[0]?(X.target=I[0],W=X.target,b.emit(o.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(o.DRAG_ENTER,L,b,W)):X.target=null)}else!W&&I[0]&&(X.target=I[0],W=X.target,b.emit(o.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(o.DRAG_ENTER,L,b,W));var z,V;if(!b.parentContainer)z=L.worldX-X.dragX,V=L.worldY-X.dragY;else{var D=L.worldX-X.dragStartXGlobal,G=L.worldY-X.dragStartYGlobal,U=b.getParentRotation(),Y=D*Math.cos(U)+G*Math.sin(U),H=G*Math.cos(U)-D*Math.sin(U);Y*=1/b.parentContainer.scaleX,H*=1/b.parentContainer.scaleY,z=Y+X.dragStartX,V=H+X.dragStartY}b.emit(o.GAMEOBJECT_DRAG,L,z,V),this.emit(o.DRAG,L,b,z,V)}return N.length},processDragUpEvent:function(L){for(var I=this._drag[L.id],N=0;N<I.length;N++){var B=I[N],b=B.input;if(b&&b.dragState===2){b.dragState=0,b.dragX=b.localX-B.displayOriginX,b.dragY=b.localY-B.displayOriginY;var X=!1,W=b.target;W&&(B.emit(o.GAMEOBJECT_DROP,L,W),this.emit(o.DROP,L,B,W),b.target=null,X=!0),B.input&&B.input.enabled&&(B.emit(o.GAMEOBJECT_DRAG_END,L,b.dragX,b.dragY,X),this.emit(o.DRAG_END,L,B,X))}}return this.setDragState(L,0),I.splice(0),0},processMoveEvents:function(L){var I=0,N=this._temp,B=this._eventData,b=this._eventContainer;B.cancelled=!1;for(var X=!1,W=0;W<N.length;W++){var $=N[W];if(!(!$.input||!$.input.enabled)){if(I++,$.emit(o.GAMEOBJECT_POINTER_MOVE,L,$.input.localX,$.input.localY,b),B.cancelled||!$.input||!$.input.enabled){X=!0;break}if(this.emit(o.GAMEOBJECT_MOVE,L,$,b),B.cancelled||!$.input||!$.input.enabled){X=!0;break}if(this.topOnly)break}}return X||this.emit(o.POINTER_MOVE,L,N),I},processWheelEvent:function(L){var I=0,N=this._temp,B=this._eventData,b=this._eventContainer;B.cancelled=!1;for(var X=!1,W=L.deltaX,$=L.deltaY,z=L.deltaZ,V=0;V<N.length;V++){var D=N[V];if(!(!D.input||!D.input.enabled)){if(I++,D.emit(o.GAMEOBJECT_POINTER_WHEEL,L,W,$,z,b),B.cancelled||!D.input||!D.input.enabled){X=!0;break}if(this.emit(o.GAMEOBJECT_WHEEL,L,D,W,$,z,b),B.cancelled||!D.input||!D.input.enabled){X=!0;break}}}return X||this.emit(o.POINTER_WHEEL,L,N,W,$,z),I},processOverEvents:function(L){var I=this._temp,N=0,B=I.length,b=[];if(B>0){var X=this.manager,W=this._eventData,$=this._eventContainer;W.cancelled=!1;for(var z=!1,V=0;V<B;V++){var D=I[V];if(!(!D.input||!D.input.enabled)){if(b.push(D),X.setCursor(D.input),D.emit(o.GAMEOBJECT_POINTER_OVER,L,D.input.localX,D.input.localY,$),N++,W.cancelled||!D.input||!D.input.enabled){z=!0;break}if(this.emit(o.GAMEOBJECT_OVER,L,D,$),W.cancelled||!D.input||!D.input.enabled){z=!0;break}}}z||this.emit(o.POINTER_OVER,L,b)}return this._over[L.id]=b,N},processOutEvents:function(L){var I=this._over[L.id],N=0,B=I.length;if(B>0){var b=this.manager,X=this._eventData,W=this._eventContainer;X.cancelled=!1;var $=!1;this.sortGameObjects(I,L);for(var z=0;z<B;z++){var V=I[z];if(V=I[z],!(!V.input||!V.input.enabled)){if(b.resetCursor(V.input),V.emit(o.GAMEOBJECT_POINTER_OUT,L,W),N++,X.cancelled||!V.input||!V.input.enabled){$=!0;break}if(this.emit(o.GAMEOBJECT_OUT,L,V,W),X.cancelled||!V.input||!V.input.enabled){$=!0;break}$||this.emit(o.POINTER_OUT,L,I)}}this._over[L.id]=[]}return N},processOverOutEvents:function(L){var I=this._temp,N,B,b=[],X=[],W=[],$=this._over[L.id],z=this._drag[L.id],V=this.manager;for(N=0;N<$.length;N++)B=$[N],I.indexOf(B)===-1&&z.indexOf(B)===-1?b.push(B):W.push(B);for(N=0;N<I.length;N++)B=I[N],$.indexOf(B)===-1&&X.push(B);var D=b.length,G=0,U=this._eventData,Y=this._eventContainer;U.cancelled=!1;var H=!1;if(D>0){for(this.sortGameObjects(b,L),N=0;N<D;N++)if(B=b[N],!(!B.input||!B.input.enabled)){if(V.resetCursor(B.input),B.emit(o.GAMEOBJECT_POINTER_OUT,L,Y),G++,U.cancelled||!B.input||!B.input.enabled){H=!0;break}if(this.emit(o.GAMEOBJECT_OUT,L,B,Y),U.cancelled||!B.input||!B.input.enabled){H=!0;break}}H||this.emit(o.POINTER_OUT,L,b)}if(D=X.length,U.cancelled=!1,H=!1,D>0){for(this.sortGameObjects(X,L),N=0;N<D;N++)if(B=X[N],!(!B.input||!B.input.enabled)){if(V.setCursor(B.input),B.emit(o.GAMEOBJECT_POINTER_OVER,L,B.input.localX,B.input.localY,Y),G++,U.cancelled||!B.input||!B.input.enabled){H=!0;break}if(this.emit(o.GAMEOBJECT_OVER,L,B,Y),U.cancelled||!B.input||!B.input.enabled){H=!0;break}}H||this.emit(o.POINTER_OVER,L,X)}return $=W.concat(X),this._over[L.id]=this.sortGameObjects($,L),G},processUpEvents:function(L){var I=this._temp,N=this._eventData,B=this._eventContainer;N.cancelled=!1;for(var b=!1,X=0;X<I.length;X++){var W=I[X];if(!(!W.input||!W.input.enabled)){if(W.emit(o.GAMEOBJECT_POINTER_UP,L,W.input.localX,W.input.localY,B),N.cancelled||!W.input||!W.input.enabled){b=!0;break}if(this.emit(o.GAMEOBJECT_UP,L,W,B),N.cancelled||!W.input||!W.input.enabled){b=!0;break}}}return!b&&this.manager&&(L.upElement===this.manager.game.canvas?this.emit(o.POINTER_UP,L,I):this.emit(o.POINTER_UP_OUTSIDE,L)),I.length},queueForInsertion:function(L){return this._pendingInsertion.indexOf(L)===-1&&this._list.indexOf(L)===-1&&this._pendingInsertion.push(L),this},queueForRemoval:function(L){return this._pendingRemoval.push(L),this},setDraggable:function(L,I){I===void 0&&(I=!0),Array.isArray(L)||(L=[L]);for(var N=0;N<L.length;N++){var B=L[N];B.input.draggable=I;var b=this._draggable.indexOf(B);I&&b===-1?this._draggable.push(B):!I&&b>-1&&this._draggable.splice(b,1)}return this},makePixelPerfect:function(L){L===void 0&&(L=1);var I=this.systems.textures;return i(I,L)},setHitArea:function(L,I,N){if(I===void 0)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var B=!1,b=!1,X=!1,W=!1,$=!1,z=!0;if(T(I)){var V=I;I=d(V,"hitArea",null),N=d(V,"hitAreaCallback",null),B=d(V,"draggable",!1),b=d(V,"dropZone",!1),X=d(V,"cursor",!1),W=d(V,"useHandCursor",!1),$=d(V,"pixelPerfect",!1);var D=d(V,"alphaTolerance",1);$&&(I={},N=this.makePixelPerfect(D)),(!I||!N)&&(this.setHitAreaFromTexture(L),z=!1)}else typeof I=="function"&&!N&&(N=I,I={});for(var G=0;G<L.length;G++){var U=L[G];if($&&U.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Y=U.input?U.input:s(U,I,N);Y.customHitArea=z,Y.dropZone=b,Y.cursor=W?"pointer":X,U.input=Y,B&&this.setDraggable(U),this.queueForInsertion(U)}return this},setHitAreaCircle:function(L,I,N,B,b){b===void 0&&(b=g);var X=new l(I,N,B);return this.setHitArea(L,X,b)},setHitAreaEllipse:function(L,I,N,B,b,X){X===void 0&&(X=n);var W=new u(I,N,B,b);return this.setHitArea(L,W,X)},setHitAreaFromTexture:function(L,I){I===void 0&&(I=C),Array.isArray(L)||(L=[L]);for(var N=0;N<L.length;N++){var B=L[N],b=B.frame,X=0,W=0;if(B.width?(X=B.width,W=B.height):b&&(X=b.realWidth,W=b.realHeight),B.type==="Container"&&(X===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}X!==0&&W!==0&&(B.input=s(B,new y(0,0,X,W),I),this.queueForInsertion(B))}return this},setHitAreaRectangle:function(L,I,N,B,b,X){X===void 0&&(X=C);var W=new y(I,N,B,b);return this.setHitArea(L,W,X)},setHitAreaTriangle:function(L,I,N,B,b,X,W,$){$===void 0&&($=R);var z=new M(I,N,B,b,X,W);return this.setHitArea(L,z,$)},enableDebug:function(L,I){I===void 0&&(I=65280);var N=L.input;if(!N||!N.hitArea)return this;var B=N.hitArea,b=B.type,X=N.hitAreaDebug,W=this.systems.add,$=this.systems.updateList;X&&($.remove(X),X.destroy(),X=null);var z=0,V=0;switch(b){case v.CIRCLE:X=W.arc(0,0,B.radius),z=B.x-B.radius,V=B.y-B.radius;break;case v.ELLIPSE:X=W.ellipse(0,0,B.width,B.height),z=B.x-B.width/2,V=B.y-B.height/2;break;case v.LINE:X=W.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case v.POLYGON:X=W.polygon(0,0,B.points);break;case v.RECTANGLE:X=W.rectangle(0,0,B.width,B.height),z=B.x,V=B.y;break;case v.TRIANGLE:X=W.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return X&&(X.isFilled=!1,X.strokeColor=I,X.preUpdate=function(){X.setStrokeStyle(1/L.scale,X.strokeColor),X.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var D=L.x,G=L.y,U=L.rotation,Y=L.scaleX,H=L.scaleY;if(L.parentContainer){var Z=L.getWorldTransformMatrix();D=Z.tx,G=Z.ty,U=Z.rotation,Y=Z.scaleX,H=Z.scaleY}X.setRotation(U),X.setScale(Y,H),X.setPosition(D+z*Y,G+V*H),X.setScrollFactor(L.scrollFactorX,L.scrollFactorY),X.setDepth(L.depth)},$.add(X),N.hitAreaDebug=X),this},removeDebug:function(L){var I=L.input;if(I&&I.hitAreaDebug){var N=I.hitAreaDebug;this.systems.updateList.remove(N),N.destroy(),I.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(L){return this.pollRate=L,this._pollTimer=0,this},setGlobalTopOnly:function(L){return this.manager.globalTopOnly=L,this},setTopOnly:function(L){return this.topOnly=L,this},sortGameObjects:function(L,I){if(L.length<2||!I.camera)return L;var N=I.camera.renderList;return L.sort(function(B,b){var X=Math.max(N.indexOf(B),0),W=Math.max(N.indexOf(b),0);return W-X})},sortDropZones:function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(L,I){if(!L.parentContainer&&!I.parentContainer)return this.displayList.getIndex(I)-this.displayList.getIndex(L);if(L.parentContainer===I.parentContainer)return I.parentContainer.getIndex(I)-L.parentContainer.getIndex(L);if(L.parentContainer===I)return-1;if(I.parentContainer===L)return 1;for(var N=L.getIndexList(),B=I.getIndexList(),b=Math.min(N.length,B.length),X=0;X<b;X++){var W=N[X],$=B[X];if(W!==$)return $-W}return B.length-N.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(L){return this.manager.addPointer(L)},setDefaultCursor:function(L){return this.manager.setDefaultCursor(L),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(o.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var I=this.manager;I.canvas.style.cursor=I.defaultCursor;var N=this.systems.events;N.off(A.TRANSITION_START,this.transitionIn,this),N.off(A.TRANSITION_OUT,this.transitionOut,this),N.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),N.off(A.PRE_UPDATE,this.preUpdate,this),I.events.off(o.GAME_OUT,this.onGameOut,this),I.events.off(o.GAME_OVER,this.onGameOver,this),N.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var L=this.manager.pointers,I=0;I<L.length;I++)L[I].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(o.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});E.register("InputPlugin",O,"input"),p.exports=O},63399:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10850),g={},h={};h.register=function(a,s,i,r,u){g[a]={plugin:s,mapping:i,settingsKey:r,configKey:u}},h.getPlugin=function(a){return g[a]},h.install=function(a){var s=a.scene.sys,i=s.settings.input,r=s.game.config;for(var u in g){var n=g[u].plugin,o=g[u].mapping,f=g[u].settingsKey,d=g[u].configKey;l(i,f,r[d])&&(a[o]=new n(a))}},h.remove=function(a){g.hasOwnProperty(a)&&delete g[a]},p.exports=h},40398:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90447),g=t(56694),h=t(53996),a=t(88456),s=t(44521),i=t(93736),r=t(36580),u=new g({initialize:function(o,f){this.manager=o,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new i,this.prevPosition=new i,this.midPoint=new i(-1,-1),this.velocity=new i,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(n){var o=n.getWorldPoint(this.x,this.y);return this.worldX=o.x,this.worldY=o.y,this},positionToCamera:function(n,o){return n.getWorldPoint(this.x,this.y,o)},updateMotion:function(){var n=this.position.x,o=this.position.y,f=this.midPoint.x,d=this.midPoint.y;if(!(n===f&&o===d)){var v=s(this.motionFactor,f,n),m=s(this.motionFactor,d,o);a(v,n,.1)&&(v=n),a(m,o,.1)&&(m=o),this.midPoint.set(v,m);var T=n-v,E=o-m;this.velocity.set(T,E),this.angle=l(v,m,n,o),this.distance=Math.sqrt(T*T+E*E)}},up:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=n.timeStamp,this.wasTouch=!1)},down:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),r.macOS&&n.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=n.timeStamp),this.wasTouch=!1},move:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.locked&&(this.movementX=n.movementX||n.mozMovementX||n.webkitMovementX||0,this.movementY=n.movementY||n.mozMovementY||n.webkitMovementY||0),this.moveTime=n.timeStamp,this.wasTouch=!1},wheel:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.deltaX=n.deltaX,this.deltaY=n.deltaY,this.deltaZ=n.deltaZ,this.wasTouch=!1},touchstart:function(n,o){n.pointerId&&(this.pointerId=n.pointerId),this.identifier=n.identifier,this.target=n.target,this.active=!0,this.buttons=1,this.event=o,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=o.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(n,o){this.event=o,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.moveTime=o.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(n,o){this.buttons=0,this.event=o,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(n,o){this.buttons=0,this.event=o,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(n,o){n===void 0&&(n=10),o===void 0&&(o=[]);for(var f=this.prevPosition.x,d=this.prevPosition.y,v=this.position.x,m=this.position.y,T=0;T<n;T++){var E=1/n*T;o[T]={x:s(E,f,v),y:s(E,d,m)}}return o},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},time:{get:function(){return this.event?this.event.timeStamp:0}}});p.exports=u},72687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};p.exports=S},14874:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},54168:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},526:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},81623:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},94472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},9304:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},34265:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},50151:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},98134:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},56773:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectdown"},45824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},39578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},72072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},82569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},70833:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},81442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},32936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},99658:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectmove"},60515:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectout"},55254:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectover"},34782:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},41769:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},65588:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},61640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},49342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},82662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},13058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectup"},52426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectwheel"},78072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameout"},1545:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameover"},67137:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},27678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="process"},22257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},90379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerlockchange"},88909:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},36548:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdownoutside"},18483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},22355:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},7997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},66318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},94812:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerupoutside"},37310:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},24196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},27053:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},29413:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},25165:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},33963:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BOOT:t(14874),DESTROY:t(54168),DRAG_END:t(526),DRAG_ENTER:t(81623),DRAG:t(94472),DRAG_LEAVE:t(9304),DRAG_OVER:t(34265),DRAG_START:t(50151),DROP:t(98134),GAME_OUT:t(78072),GAME_OVER:t(1545),GAMEOBJECT_DOWN:t(56773),GAMEOBJECT_DRAG_END:t(45824),GAMEOBJECT_DRAG_ENTER:t(39578),GAMEOBJECT_DRAG:t(72072),GAMEOBJECT_DRAG_LEAVE:t(82569),GAMEOBJECT_DRAG_OVER:t(70833),GAMEOBJECT_DRAG_START:t(81442),GAMEOBJECT_DROP:t(32936),GAMEOBJECT_MOVE:t(99658),GAMEOBJECT_OUT:t(60515),GAMEOBJECT_OVER:t(55254),GAMEOBJECT_POINTER_DOWN:t(34782),GAMEOBJECT_POINTER_MOVE:t(41769),GAMEOBJECT_POINTER_OUT:t(65588),GAMEOBJECT_POINTER_OVER:t(61640),GAMEOBJECT_POINTER_UP:t(49342),GAMEOBJECT_POINTER_WHEEL:t(82662),GAMEOBJECT_UP:t(13058),GAMEOBJECT_WHEEL:t(52426),MANAGER_BOOT:t(67137),MANAGER_PROCESS:t(27678),MANAGER_UPDATE:t(22257),POINTER_DOWN:t(88909),POINTER_DOWN_OUTSIDE:t(36548),POINTER_MOVE:t(18483),POINTER_OUT:t(22355),POINTER_OVER:t(7997),POINTER_UP:t(66318),POINTER_UP_OUTSIDE:t(94812),POINTER_WHEEL:t(37310),POINTERLOCK_CHANGE:t(90379),PRE_UPDATE:t(24196),SHUTDOWN:t(27053),START:t(29413),UPDATE:t(25165)}},70848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s){this.pad=a,this.events=a.events,this.index=s,this.value=0,this.threshold=.1},update:function(h){this.value=h},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});p.exports=g},21274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(43200),h=new l({initialize:function(s,i){this.pad=s,this.events=s.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var s=this.pad,i=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(g.BUTTON_DOWN,s,this,a),this.pad.emit(g.GAMEPAD_BUTTON_DOWN,i,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(g.BUTTON_UP,s,this,a),this.pad.emit(g.GAMEPAD_BUTTON_UP,i,a,this))},destroy:function(){this.pad=null,this.events=null}});p.exports=h},75956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70848),g=t(21274),h=t(56694),a=t(6659),s=t(93736),i=new h({Extends:a,initialize:function(u,n){a.call(this),this.manager=u,this.pad=n,this.id=n.id,this.index=n.index;for(var o=[],f=0;f<n.buttons.length;f++)o.push(new g(this,f));this.buttons=o;var d=[];for(f=0;f<n.axes.length;f++)d.push(new l(this,f));this.axes=d,this.vibration=n.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=o[14]?o[14]:v,this._LCRight=o[15]?o[15]:v,this._LCTop=o[12]?o[12]:v,this._LCBottom=o[13]?o[13]:v,this._RCLeft=o[2]?o[2]:v,this._RCRight=o[1]?o[1]:v,this._RCTop=o[3]?o[3]:v,this._RCBottom=o[0]?o[0]:v,this._FBLeftTop=o[4]?o[4]:v,this._FBLeftBottom=o[6]?o[6]:v,this._FBRightTop=o[5]?o[5]:v,this._FBRightBottom=o[7]?o[7]:v;var m={value:0};this._HAxisLeft=d[0]?d[0]:m,this._VAxisLeft=d[1]?d[1]:m,this._HAxisRight=d[2]?d[2]:m,this._VAxisRight=d[3]?d[3]:m,this.leftStick=new s,this.rightStick=new s,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(r){return this.axes[r].getValue()},setAxisThreshold:function(r){for(var u=0;u<this.axes.length;u++)this.axes[u].threshold=r},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(r){return this.buttons[r].value},isButtonDown:function(r){return this.buttons[r].pressed},update:function(r){if(!(r.timestamp<this._created)){var u,n=this.buttons,o=r.buttons,f=n.length;for(u=0;u<f;u++)n[u].update(o[u].value);var d=this.axes,v=r.axes;for(f=d.length,u=0;u<f;u++)d[u].update(v[u]);f>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),f>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var r;for(r=0;r<this.buttons.length;r++)this.buttons[r].destroy();for(r=0;r<this.axes.length;r++)this.axes[r].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});p.exports=i},1379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(6659),h=t(43200),a=t(75956),s=t(10850),i=t(63399),r=t(33963),u=new l({Extends:g,initialize:function(o){g.call(this),this.scene=o.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=o,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,o.pluginEvents.once(r.BOOT,this.boot,this),o.pluginEvents.on(r.START,this.start,this)},boot:function(){var n=this.scene.sys.game,o=this.settings.input,f=n.config;this.enabled=s(o,"gamepad",f.inputGamepad)&&n.device.input.gamepads,this.target=s(o,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var n=this,o=this.target,f=function(d){d.defaultPrevented||!n.isActive()||(n.refreshPads(),n.queue.push(d))};this.onGamepadHandler=f,o.addEventListener("gamepadconnected",f,!1),o.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update);for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].removeAllListeners()},disconnectAll:function(){for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].pad.connected=!1},refreshPads:function(){var n=navigator.getGamepads();if(!n)this.disconnectAll();else for(var o=this.gamepads,f=0;f<n.length;f++){var d=n[f];if(d){var v=d.id,m=d.index,T=o[m];if(T)T.id!==v?(T.destroy(),o[m]=new a(this,d)):T.update(d);else{var E=new a(this,d);o[m]=E,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=E):this._pad3=E:this._pad2=E:this._pad1=E}}}},getAll:function(){for(var n=[],o=this.gamepads,f=0;f<o.length;f++)o[f]&&n.push(o[f]);return n},getPad:function(n){for(var o=this.gamepads,f=0;f<o.length;f++)if(o[f]&&o[f].index===n)return o[f]},update:function(){if(this.enabled){this.refreshPads();var n=this.queue.length;if(n!==0)for(var o=this.queue.splice(0,n),f=0;f<n;f++){var d=o[f],v=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(h.CONNECTED,v,d):d.type==="gamepaddisconnected"&&this.emit(h.DISCONNECTED,v,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var n=0;n<this.gamepads.length;n++)this.gamepads[n]&&this.gamepads[n].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});i.register("GamepadPlugin",u,"gamepad","gamepad","inputGamepad"),p.exports=u},33171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DUALSHOCK_4:t(74982),SNES_USB:t(33171),XBOX_360:t(43247)}},17344:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},36635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},85724:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="connected"},55832:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="disconnected"},772:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},33608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},43200:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BUTTON_DOWN:t(17344),BUTTON_UP:t(36635),CONNECTED:t(85724),DISCONNECTED:t(55832),GAMEPAD_BUTTON_DOWN:t(772),GAMEPAD_BUTTON_UP:t(33608)}},92636:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Axis:t(70848),Button:t(21274),Events:t(43200),Gamepad:t(75956),GamepadPlugin:t(1379),Configs:t(4898)}},20873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72687),g=t(98611),h={CreatePixelPerfectHandler:t(18104),CreateInteractiveObject:t(27395),Events:t(33963),Gamepad:t(92636),InputManager:t(69898),InputPlugin:t(12499),InputPluginCache:t(63399),Keyboard:t(28388),Mouse:t(11343),Pointer:t(40398),Touch:t(77423)};h=g(!1,h,l),p.exports=h},71064:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66458),g=t(56694),h=t(97081),a=t(33963),s=t(11873),i=t(72283),r=new g({initialize:function(n){this.manager=n,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=i,this.onKeyUp=i,n.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var u=this.manager.config;this.enabled=u.inputKeyboard,this.target=u.inputKeyboardEventTarget,this.addCapture(u.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(h.POST_STEP,this.postUpdate,this)},startListeners:function(){var u=this;this.onKeyDown=function(o){if(!(o.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(o),u.manager.events.emit(a.MANAGER_PROCESS);var f=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;u.preventDefault&&!f&&u.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}},this.onKeyUp=function(o){if(!(o.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(o),u.manager.events.emit(a.MANAGER_PROCESS);var f=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;u.preventDefault&&!f&&u.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}};var n=this.target;n&&(n.addEventListener("keydown",this.onKeyDown,!1),n.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var u=this.target;u.removeEventListener("keydown",this.onKeyDown,!1),u.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var n=this.captures,o=0;o<u.length;o++){var f=u[o];typeof f=="string"&&(f=s[f.trim().toUpperCase()]),n.indexOf(f)===-1&&n.push(f)}this.preventDefault=n.length>0},removeCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var n=this.captures,o=0;o<u.length;o++){var f=u[o];typeof f=="string"&&(f=s[f.toUpperCase()]),l(n,f)}this.preventDefault=n.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(h.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});p.exports=r},89666:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(6659),h=t(94030),a=t(97081),s=t(10850),i=t(33963),r=t(63399),u=t(50165),n=t(11873),o=t(95625),f=t(48044),d=t(7599),v=t(84314),m=new l({Extends:g,initialize:function(E){g.call(this),this.game=E.systems.game,this.scene=E.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=E,this.manager=E.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,E.pluginEvents.once(i.BOOT,this.boot,this),E.pluginEvents.on(i.START,this.start,this)},boot:function(){var T=this.settings.input;this.enabled=s(T,"keyboard",!0);var E=s(T,"keyboard.capture",null);E&&this.addCaptures(E),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(i.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(T){return this.manager.addCapture(T),this},removeCapture:function(T){return this.manager.removeCapture(T),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:n.UP,down:n.DOWN,left:n.LEFT,right:n.RIGHT,space:n.SPACE,shift:n.SHIFT})},addKeys:function(T,E,y){E===void 0&&(E=!0),y===void 0&&(y=!1);var C={};if(typeof T=="string"){T=T.split(",");for(var A=0;A<T.length;A++){var M=T[A].trim();M&&(C[M]=this.addKey(M,E,y))}}else for(var R in T)C[R]=this.addKey(T[R],E,y);return C},addKey:function(T,E,y){E===void 0&&(E=!0),y===void 0&&(y=!1);var C=this.keys;if(T instanceof u){var A=C.indexOf(T);return A>-1?C[A]=T:C[T.keyCode]=T,E&&this.addCapture(T.keyCode),T.setEmitOnRepeat(y),T}return typeof T=="string"&&(T=n[T.toUpperCase()]),C[T]||(C[T]=new u(this,T),E&&this.addCapture(T),C[T].setEmitOnRepeat(y)),C[T]},removeKey:function(T,E,y){E===void 0&&(E=!1),y===void 0&&(y=!1);var C=this.keys,A;if(T instanceof u){var M=C.indexOf(T);M>-1&&(A=this.keys[M],this.keys[M]=void 0)}else typeof T=="string"&&(T=n[T.toUpperCase()]);return C[T]&&(A=C[T],C[T]=void 0),A&&(A.plugin=null,y&&this.removeCapture(A.keyCode),E&&A.destroy()),this},removeAllKeys:function(T,E){T===void 0&&(T=!1),E===void 0&&(E=!1);for(var y=this.keys,C=0;C<y.length;C++){var A=y[C];A&&(y[C]=void 0,E&&this.removeCapture(A.keyCode),T&&A.destroy())}return this},createCombo:function(T,E){return new o(this,T,E)},checkDown:function(T,E){if(E===void 0&&(E=0),this.enabled&&T.isDown){var y=v(this.time-T.timeDown,E);if(y>T._tick)return T._tick=y,!0}return!1},update:function(){var T=this.manager.queue,E=T.length;if(!(!this.isActive()||E===0))for(var y=this.keys,C=0;C<E;C++){var A=T[C],M=A.keyCode,R=y[M],O=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(M===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=M,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(R&&(O=R.isDown,R.onDown(A)),!A.cancelled&&(!R||!O)&&(f[M]&&this.emit(h.KEY_DOWN+f[M],A),A.cancelled||this.emit(h.ANY_KEY_DOWN,A))):(R&&R.onUp(A),A.cancelled||(f[M]&&this.emit(h.KEY_UP+f[M],A),A.cancelled||this.emit(h.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var T=this.keys,E=0;E<T.length;E++)T[E]&&T[E].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(i.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var T=this.keys,E=0;E<T.length;E++)T[E]&&T[E].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});r.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),p.exports=m},60258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.timeLastMatched=t.timeStamp,l.index++,l.index===l.size?!0:(l.current=l.keyCodes[l.index],!1)};p.exports=S},95625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(94030),h=t(72632),a=t(2544),s=t(88754),i=new l({initialize:function(u,n,o){if(o===void 0&&(o={}),n.length<2)return!1;this.manager=u,this.enabled=!0,this.keyCodes=[];for(var f=0;f<n.length;f++){var d=n[f];typeof d=="string"?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):typeof d=="number"?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=h(o,"resetOnWrongKey",!0),this.maxKeyDelay=h(o,"maxKeyDelay",0),this.resetOnMatch=h(o,"resetOnMatch",!1),this.deleteOnMatch=h(o,"deleteOnMatch",!1);var v=this,m=function(T){if(!(v.matched||!v.enabled)){var E=a(T,v);E&&(v.manager.emit(g.COMBO_MATCH,v,T),v.resetOnMatch?s(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=m,this.manager.on(g.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(g.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});p.exports=i},2544:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60258),g=function(h,a){if(a.matched)return!0;var s=!1,i=!1;if(h.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var r=a.timeLastMatched+a.maxKeyDelay;h.timeStamp<=r&&(i=!0,s=l(h,a))}else i=!0,s=l(h,a);return!i&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),s&&(a.timeLastMatched=h.timeStamp,a.matched=!0,a.timeMatched=h.timeStamp),s};p.exports=g},88754:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};p.exports=S},5044:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown"},40813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup"},89319:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keycombomatch"},43267:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},78595:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown-"},30056:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup-"},81939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},94030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ANY_KEY_DOWN:t(5044),ANY_KEY_UP:t(40813),COMBO_MATCH:t(89319),DOWN:t(43267),KEY_DOWN:t(78595),KEY_UP:t(30056),UP:t(81939)}},28388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(94030),KeyboardManager:t(71064),KeyboardPlugin:t(89666),Key:t(50165),KeyCodes:t(11873),KeyCombo:t(95625),AdvanceKeyCombo:t(60258),ProcessKeyCombo:t(2544),ResetKeyCombo:t(88754),JustDown:t(42460),JustUp:t(53162),DownDuration:t(64964),UpDuration:t(70331)}},64964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=50);var g=t.plugin.game.loop.time-t.timeDown;return t.isDown&&g<l};p.exports=S},42460:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};p.exports=S},53162:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};p.exports=S},50165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(6659),h=t(94030),a=new l({Extends:g,initialize:function(i,r){g.call(this),this.plugin=i,this.keyCode=r,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(s){return this.emitOnRepeat=s,this},onDown:function(s){this.originalEvent=s,this.enabled&&(this.altKey=s.altKey,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.location=s.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(h.DOWN,this,s):(this.isDown=!0,this.isUp=!1,this.timeDown=s.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(h.DOWN,this,s)))},onUp:function(s){this.originalEvent=s,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=s.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(h.UP,this,s))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});p.exports=a},11873:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};p.exports=S},48044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(11873),g={};for(var h in l)g[l[h]]=h;p.exports=g},70331:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=50);var g=t.plugin.game.loop.time-t.timeUp;return t.isUp&&g<l};p.exports=S},7905:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(90185),h=t(33963),a=t(72283),s=new l({initialize:function(r){this.manager=r,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,r.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputMouse,this.target=i.inputMouseEventTarget,this.passive=i.inputMousePassive,this.preventDefaultDown=i.inputMousePreventDefaultDown,this.preventDefaultUp=i.inputMousePreventDefaultUp,this.preventDefaultMove=i.inputMousePreventDefaultMove,this.preventDefaultWheel=i.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},requestPointerLock:function(){if(g.pointerLock){var i=this.target;i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock,i.requestPointerLock()}},releasePointerLock:function(){g.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var i=this.target;if(i){var r=this,u=this.manager,n=u.canvas,o=window&&window.focus&&u.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&r.enabled&&u&&u.enabled&&(u.onMouseMove(d),r.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){o&&window.focus(),!d.defaultPrevented&&r.enabled&&u&&u.enabled&&(u.onMouseDown(d),r.preventDefaultDown&&d.target===n&&d.preventDefault())},this.onMouseDownWindow=function(d){!d.defaultPrevented&&r.enabled&&u&&u.enabled&&d.target!==n&&u.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&r.enabled&&u&&u.enabled&&(u.onMouseUp(d),r.preventDefaultUp&&d.target===n&&d.preventDefault())},this.onMouseUpWindow=function(d){!d.defaultPrevented&&r.enabled&&u&&u.enabled&&d.target!==n&&u.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&r.enabled&&u&&u.enabled&&u.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&r.enabled&&u&&u.enabled&&u.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&r.enabled&&u&&u.enabled&&u.onMouseWheel(d),r.preventDefaultWheel&&d.target===n&&d.preventDefault()};var f={passive:!0};if(i.addEventListener("mousemove",this.onMouseMove),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),i.addEventListener("mouseover",this.onMouseOver,f),i.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?i.addEventListener("wheel",this.onMouseWheel,{passive:!1}):i.addEventListener("wheel",this.onMouseWheel,f),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}g.pointerLock&&(this.pointerLockChange=function(d){var v=r.target;r.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,u.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("mousemove",this.onMouseMove),i.removeEventListener("mousedown",this.onMouseDown),i.removeEventListener("mouseup",this.onMouseUp),i.removeEventListener("mouseover",this.onMouseOver),i.removeEventListener("mouseout",this.onMouseOut),window&&(i=this.isTop?window.top:window,i.removeEventListener("mousedown",this.onMouseDownWindow),i.removeEventListener("mouseup",this.onMouseUpWindow)),g.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=s},11343:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={MouseManager:t(7905)}},37579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(33963),h=t(72283),a=new l({initialize:function(i){this.manager=i,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=h,this.onTouchStartWindow=h,this.onTouchMove=h,this.onTouchEnd=h,this.onTouchEndWindow=h,this.onTouchCancel=h,this.onTouchCancelWindow=h,this.isTop=!0,i.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputTouch,this.target=s.inputTouchEventTarget,this.capture=s.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},startListeners:function(){var s=this.target;if(s){var i=this,r=this.manager,u=r.canvas,n=window&&window.focus&&r.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&i.enabled&&r&&r.enabled&&(r.onTouchMove(v),i.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){n&&window.focus(),!v.defaultPrevented&&i.enabled&&r&&r.enabled&&(r.onTouchStart(v),i.capture&&v.cancelable&&v.target===u&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&i.enabled&&r&&r.enabled&&v.target!==u&&r.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&i.enabled&&r&&r.enabled&&(r.onTouchEnd(v),i.capture&&v.cancelable&&v.target===u&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&i.enabled&&r&&r.enabled&&v.target!==u&&r.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&i.enabled&&r&&r.enabled&&(r.onTouchCancel(v),i.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&i.enabled&&r&&r.enabled&&r.onTouchCancel(v)};var o=this.capture,f={passive:!0},d={passive:!1};if(s.addEventListener("touchstart",this.onTouchStart,o?d:f),s.addEventListener("touchmove",this.onTouchMove,o?d:f),s.addEventListener("touchend",this.onTouchEnd,o?d:f),s.addEventListener("touchcancel",this.onTouchCancel,o?d:f),window&&r.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("touchstart",this.onTouchStart),s.removeEventListener("touchmove",this.onTouchMove),s.removeEventListener("touchend",this.onTouchEnd),s.removeEventListener("touchcancel",this.onTouchCancel),window&&(s=this.isTop?window.top:window,s.removeEventListener("touchstart",this.onTouchStartWindow),s.removeEventListener("touchend",this.onTouchEndWindow),s.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=a},77423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TouchManager:t(37579)}},98035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(683),a=t(72632),s=t(30750),i=t(43531),r=t(88490),u=t(33868),n=new l({initialize:function(f,d){if(this.loader=f,this.cache=a(d,"cache",!1),this.type=a(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=a(d,"key",!1);var v=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var m=a(d,"url");m===void 0?m=f.path+v+"."+a(d,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(m=f.path+m),this.url=m,this.src="",this.xhrSettings=u(a(d,"responseType",void 0)),a(d,"xhrSettings",!1)&&(this.xhrSettings=i(this.xhrSettings,a(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?g.FILE_POPULATED:g.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(d,"config",{}),this.multiFile,this.linkFile},setLink:function(o){this.linkFile=o,o.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===g.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=g.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(o,f){var d=o.responseURL&&this.loader.localSchemes.some(function(T){return o.responseURL.indexOf(T)===0}),v=d&&f.target.status===0,m=!(f.target&&f.target.status!==200)||v;o.readyState===4&&o.status>=400&&o.status<=599&&(m=!1),this.state=g.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(o){o.lengthComputable&&(this.bytesLoaded=o.loaded,this.bytesTotal=o.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(h.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=g.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=g.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=g.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(o){if(this.state!==g.FILE_PENDING_DESTROY){o===void 0&&(o=this.data);var f=this.key,d=this.type;this.loader.emit(h.FILE_COMPLETE,f,d,o),this.loader.emit(h.FILE_KEY_COMPLETE+d+"-"+f,f,d,o),this.loader.flagForRemoval(this),this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});n.createObjectURL=function(o,f,d){if(typeof URL=="function")o.src=URL.createObjectURL(f);else{var v=new FileReader;v.onload=function(){o.removeAttribute("crossOrigin"),o.src="data:"+(f.type||d)+";base64,"+v.result.split(",")[1]},v.onerror=o.onerror,v.readAsDataURL(f)}},n.revokeObjectURL=function(o){typeof URL=="function"&&URL.revokeObjectURL(o.src)},p.exports=n},76846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(l){for(var g in S)l[g]=S[g]},register:function(l,g){S[l]=g},destroy:function(){S={}}};p.exports=t},30750:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:l+t.url:!1};p.exports=S},67285:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(58403),a=t(6659),s=t(683),i=t(76846),r=t(72632),u=t(10850),n=t(91963),o=t(7599),f=t(33868),d=new l({Extends:a,initialize:function(m){a.call(this);var T=m.sys.game.config,E=m.sys.settings.loader;this.scene=m,this.systems=m.sys,this.cacheManager=m.sys.cache,this.textureManager=m.sys.textures,this.sceneManager=m.sys.game.scene,i.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(r(E,"baseURL",T.loaderBaseURL)),this.setPath(r(E,"path",T.loaderPath)),this.setPrefix(r(E,"prefix",T.loaderPrefix)),this.maxParallelDownloads=r(E,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=f(r(E,"responseType",T.loaderResponseType),r(E,"async",T.loaderAsync),r(E,"user",T.loaderUser),r(E,"password",T.loaderPassword),r(E,"timeout",T.loaderTimeout),r(E,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=r(E,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=r(E,"imageLoadType",T.loaderImageLoadType),this.localSchemes=r(E,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new h,this.inflight=new h,this.queue=new h,this._deleteQueue=new h,this.totalFailed=0,this.totalComplete=0,this.state=g.LOADER_IDLE,this.multiKeyIndex=0,m.sys.events.once(o.BOOT,this.boot,this),m.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++){var T=v[m];this.keyExists(T)||(this.list.set(T),this.emit(s.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var m=v.hasCacheConflict();return m||this.list.iterate(function(T){if(T.type===v.type&&T.key===v.key)return m=!0,!1}),!m&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===v.type&&T.key===v.key)return m=!0,!1}),this.queue.iterate(function(T){if(T.type===v.type&&T.key===v.key)return m=!0,!1})),m},addPack:function(v,m){if(typeof m=="string"){var T=u(v,m);T&&(v={packKey:T})}var E=0,y=this.baseURL,C=this.path,A=this.prefix;for(var M in v)if(Object.prototype.hasOwnProperty.call(v,M)){var R=v[M],O=r(R,"baseURL",y),L=r(R,"path",C),I=r(R,"prefix",A),N=r(R,"files",null),B=r(R,"defaultType","void");if(Array.isArray(N)){this.setBaseURL(O),this.setPath(L),this.setPrefix(I);for(var b=0;b<N.length;b++){var X=N[b],W=X.hasOwnProperty("type")?X.type:B;this[W]&&(this[W](X),E++)}}}return this.setBaseURL(y),this.setPath(C),this.setPrefix(A),E>0},isLoading:function(){return this.state===g.LOADER_LOADING||this.state===g.LOADER_PROCESSING},isReady:function(){return this.state===g.LOADER_IDLE||this.state===g.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(s.START,this),this.list.size===0?this.loadComplete():(this.state=g.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(o.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(s.PROGRESS,this.progress)},update:function(){this.state===g.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===g.FILE_POPULATED||v.state===g.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,m){this.inflight&&(this.inflight.delete(v),this.updateProgress(),m?(this.totalComplete++,this.queue.set(v),this.emit(s.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(s.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===g.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===g.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&(v.multiFile.addToCache(),v.multiFile.pendingDestroy()):(v.addToCache(),v.pendingDestroy())),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(s.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=g.LOADER_COMPLETE,this.systems.events.off(o.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(s.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,m){return this.save(JSON.stringify(v),m)},save:function(v,m,T){m===void 0&&(m="file.json"),T===void 0&&(T="application/json");var E=new Blob([v],{type:T}),y=URL.createObjectURL(E),C=document.createElement("a");return C.download=m,C.textContent="Download "+m,C.href=y,C.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,m=this.systems.settings.loader;this.setBaseURL(r(m,"baseURL",v.loaderBaseURL)),this.setPath(r(m,"path",v.loaderPath)),this.setPrefix(r(m,"prefix",v.loaderPrefix)),this.state=g.LOADER_IDLE},shutdown:function(){this.reset(),this.state=g.LOADER_SHUTDOWN,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=g.LOADER_DESTROYED,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});n.register("Loader",d,"load"),p.exports=d},43531:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),g=t(33868),h=function(a,s){var i=a===void 0?g():l({},a);if(s)for(var r in s)s[r]!==void 0&&(i[r]=s[r]);return i};p.exports=h},45176:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(683),a=new l({initialize:function(i,r,u,n){var o=[];n.forEach(function(d){d&&o.push(d)}),this.loader=i,this.type=r,this.key=u,this.multiKeyIndex=i.multiKeyIndex++,this.files=o,this.state=g.FILE_PENDING,this.complete=!1,this.pending=o.length,this.failed=0,this.config={},this.baseURL=i.baseURL,this.path=i.path,this.prefix=i.prefix;for(var f=0;f<o.length;f++)o[f].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(s){return this.files.push(s),s.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(s){var i=this.files.indexOf(s);i!==-1&&this.pending--},onFileFailed:function(s){var i=this.files.indexOf(s);i!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,s.type,s.key))},pendingDestroy:function(){if(this.state!==g.FILE_PENDING_DESTROY){var s=this.key,i=this.type;this.loader.emit(h.FILE_COMPLETE,s,i),this.loader.emit(h.FILE_KEY_COMPLETE+i+"-"+s,s,i),this.loader.flagForRemoval(this);for(var r=0;r<this.files.length;r++)this.files[r].pendingDestroy();this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});p.exports=a},88490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43531),g=function(h,a){var s=l(a,h.xhrSettings),i=new XMLHttpRequest;if(i.open("GET",h.src,s.async,s.user,s.password),i.responseType=h.xhrSettings.responseType,i.timeout=s.timeout,s.headers)for(var r in s.headers)i.setRequestHeader(r,s.headers[r]);return s.header&&s.headerValue&&i.setRequestHeader(s.header,s.headerValue),s.requestedWith&&i.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&i.overrideMimeType(s.overrideMimeType),s.withCredentials&&(i.withCredentials=!0),i.onload=h.onLoad.bind(h,i),i.onerror=h.onError.bind(h,i),i.onprogress=h.onProgress.bind(h),i.send(),i};p.exports=g},33868:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a,s){return t===void 0&&(t=""),l===void 0&&(l=!0),g===void 0&&(g=""),h===void 0&&(h=""),a===void 0&&(a=0),s===void 0&&(s=!1),{responseType:t,async:l,user:g,password:h,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}};p.exports=S},12117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};p.exports=S},7398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addfile"},52187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},36627:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete"},81925:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete-"},29774:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loaderror"},20943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="load"},74693:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fileprogress"},71176:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postprocess"},88984:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="progress"},72753:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(7398),COMPLETE:t(52187),FILE_COMPLETE:t(36627),FILE_KEY_COMPLETE:t(81925),FILE_LOAD_ERROR:t(29774),FILE_LOAD:t(20943),FILE_PROGRESS:t(74693),POST_PROCESS:t(71176),PROGRESS:t(88984),START:t(72753)}},46468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(76846),h=t(70806),a=t(683),s=new l({Extends:h,initialize:function(r,u,n,o,f){h.call(this,r,u,n,o,f),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),h.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});g.register("animation",function(i,r,u,n){if(Array.isArray(i))for(var o=0;o<i.length;o++)this.addFile(new s(this,i[o]));else this.addFile(new s(this,i,r,n,u));return this}),p.exports=s},31648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(76846),h=t(72632),a=t(42927),s=t(42911),i=t(70806),r=t(45176),u=new l({Extends:r,initialize:function(o,f,d,v,m,T){var E,y;if(s(f)){var C=f;f=h(C,"key"),E=new a(o,{key:f,url:h(C,"textureURL"),extension:h(C,"textureExtension","png"),normalMap:h(C,"normalMap"),xhrSettings:h(C,"textureXhrSettings")}),y=new i(o,{key:f,url:h(C,"atlasURL"),extension:h(C,"atlasExtension","json"),xhrSettings:h(C,"atlasXhrSettings")})}else E=new a(o,f,d,m),y=new i(o,f,v,T);E.linkFile?r.call(this,o,"atlasjson",f,[E,y,E.linkFile]):r.call(this,o,"atlasjson",f,[E,y])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,o.data,f),o.addToCache(),this.complete=!0}}});g.register("aseprite",function(n,o,f,d,v){var m;if(Array.isArray(n))for(var T=0;T<n.length;T++)m=new u(this,n[T]),this.addFile(m.files);else m=new u(this,n,o,f,d,v),this.addFile(m.files);return this}),p.exports=u},73152:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(76846),h=t(72632),a=t(42927),s=t(42911),i=t(70806),r=t(45176),u=new l({Extends:r,initialize:function(o,f,d,v,m,T){var E,y;if(s(f)){var C=f;f=h(C,"key"),E=new a(o,{key:f,url:h(C,"textureURL"),extension:h(C,"textureExtension","png"),normalMap:h(C,"normalMap"),xhrSettings:h(C,"textureXhrSettings")}),y=new i(o,{key:f,url:h(C,"atlasURL"),extension:h(C,"atlasExtension","json"),xhrSettings:h(C,"atlasXhrSettings")})}else E=new a(o,f,d,m),y=new i(o,f,v,T);E.linkFile?r.call(this,o,"atlasjson",f,[E,y,E.linkFile]):r.call(this,o,"atlasjson",f,[E,y])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,o.data,f),this.complete=!0}}});g.register("atlas",function(n,o,f,d,v){var m;if(Array.isArray(n))for(var T=0;T<n.length;T++)m=new u(this,n[T]),this.addFile(m.files);else m=new u(this,n,o,f,d,v),this.addFile(m.files);return this}),p.exports=u},24616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(76846),h=t(72632),a=t(42927),s=t(42911),i=t(45176),r=t(15297),u=new l({Extends:i,initialize:function(o,f,d,v,m,T){var E,y;if(s(f)){var C=f;f=h(C,"key"),E=new a(o,{key:f,url:h(C,"textureURL"),extension:h(C,"textureExtension","png"),normalMap:h(C,"normalMap"),xhrSettings:h(C,"textureXhrSettings")}),y=new r(o,{key:f,url:h(C,"atlasURL"),extension:h(C,"atlasExtension","xml"),xhrSettings:h(C,"atlasXhrSettings")})}else E=new a(o,f,d,m),y=new r(o,f,v,T);E.linkFile?i.call(this,o,"atlasxml",f,[E,y,E.linkFile]):i.call(this,o,"atlasxml",f,[E,y])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(n.key,n.data,o.data,f),this.complete=!0}}});g.register("atlasXML",function(n,o,f,d,v){var m;if(Array.isArray(n))for(var T=0;T<n.length;T++)m=new u(this,n[T]),this.addFile(m.files);else m=new u(this,n,o,f,d,v),this.addFile(m.files);return this}),p.exports=u},67448:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(30929),r=t(42911),u=new l({Extends:h,initialize:function(o,f,d,v,m){if(r(f)){var T=f;f=s(T,"key"),v=s(T,"xhrSettings"),m=s(T,"context",m)}var E={type:"audio",cache:o.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:f,url:d.url,xhrSettings:v,config:{context:m}};h.call(this,o,E)},onProcess:function(){this.state=g.FILE_PROCESSING;var n=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(o){n.data=o,n.onProcessComplete()},function(o){console.error("Error decoding audio: "+n.key+" - ",o?o.message:null),n.onProcessError()}),this.config.context=null}});u.create=function(n,o,f,d,v){var m=n.systems.game,T=m.config.audio,E=m.device.audio;r(o)&&(f=s(o,"url",[]),d=s(o,"config",{}));var y=u.getAudioURL(m,f);return y?E.webAudio&&!T.disableWebAudio?new u(n,o,y,v,m.sound.context):new i(n,o,y,d):(console.warn('No audio URLs for "%s" matched this device',o),null)},u.getAudioURL=function(n,o){Array.isArray(o)||(o=[o]);for(var f=0;f<o.length;f++){var d=s(o[f],"url",o[f]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var v=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=s(o[f],"type",v?v[1]:"").toLowerCase(),n.device.audio[v])return{url:d,type:v}}return null},a.register("audio",function(n,o,f,d){var v=this.systems.game,m=v.config.audio,T=v.device.audio;if(m.noAudio||!T.webAudio&&!T.audioData)return this;var E;if(Array.isArray(n))for(var y=0;y<n.length;y++)E=u.create(this,n[y]),E&&this.addFile(E);else E=u.create(this,n,o,f,d),E&&this.addFile(E);return this}),p.exports=u},66109:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(67448),g=t(56694),h=t(76846),a=t(72632),s=t(42911),i=t(70806),r=t(45176),u=new g({Extends:r,initialize:function(o,f,d,v,m,T,E){if(s(f)){var y=f;f=a(y,"key"),d=a(y,"jsonURL"),v=a(y,"audioURL"),m=a(y,"audioConfig"),T=a(y,"audioXhrSettings"),E=a(y,"jsonXhrSettings")}var C;if(!v)C=new i(o,f,d,E),r.call(this,o,"audiosprite",f,[C]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=T;else{var A=l.create(o,f,v,m,T);A&&(C=new i(o,f,d,E),r.call(this,o,"audiosprite",f,[A,C]),this.config.resourceLoad=!1)}},onFileComplete:function(n){var o=this.files.indexOf(n);if(o!==-1&&(this.pending--,this.config.resourceLoad&&n.type==="json"&&n.data.hasOwnProperty("resources"))){var f=n.data.resources,d=a(this.config,"audioConfig"),v=a(this.config,"audioXhrSettings"),m=l.create(this.loader,n.key,f,d,v);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1];n.addToCache(),o.addToCache(),this.complete=!0}}});h.register("audioSprite",function(n,o,f,d,v,m){var T=this.systems.game,E=T.config.audio,y=T.device.audio;if(E&&E.noAudio||!y.webAudio&&!y.audioData)return this;var C;if(Array.isArray(n))for(var A=0;A<n.length;A++)C=new u(this,n[A]),C.files&&this.addFile(C.files);else C=new u(this,n,o,f,d,v,m),C.files&&this.addFile(C.files);return this})},40612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=new l({Extends:h,initialize:function(n,o,f,d,v){var m="bin";if(i(o)){var T=o;o=s(T,"key"),f=s(T,"url"),d=s(T,"xhrSettings"),m=s(T,"extension",m),v=s(T,"dataType",v)}var E={type:"binary",cache:n.cacheManager.binary,extension:m,responseType:"arraybuffer",key:o,url:f,xhrSettings:d,config:{dataType:v}};h.call(this,n,E)},onProcess:function(){this.state=g.FILE_PROCESSING;var u=this.config.dataType;this.data=u?new u(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(u,n,o,f){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new r(this,u[d]));else this.addFile(new r(this,u,n,f,o));return this}),p.exports=r},54565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(76846),h=t(72632),a=t(42927),s=t(42911),i=t(45176),r=t(31476),u=t(15297),n=new l({Extends:i,initialize:function(f,d,v,m,T,E){var y,C;if(s(d)){var A=d;d=h(A,"key"),y=new a(f,{key:d,url:h(A,"textureURL"),extension:h(A,"textureExtension","png"),normalMap:h(A,"normalMap"),xhrSettings:h(A,"textureXhrSettings")}),C=new u(f,{key:d,url:h(A,"fontDataURL"),extension:h(A,"fontDataExtension","xml"),xhrSettings:h(A,"fontDataXhrSettings")})}else y=new a(f,d,v,T),C=new u(f,d,m,E);y.linkFile?i.call(this,f,"bitmapfont",d,[y,C,y.linkFile]):i.call(this,f,"bitmapfont",d,[y,C])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],f=this.files[1];o.addToCache();var d=o.cache.get(o.key),v=r(f.data,o.cache.getFrame(o.key),0,0,d);this.loader.cacheManager.bitmapFont.add(o.key,{data:v,texture:o.key,frame:null}),this.complete=!0}}});g.register("bitmapFont",function(o,f,d,v,m){var T;if(Array.isArray(o))for(var E=0;E<o.length;E++)T=new n(this,o[E]),this.addFile(T.files);else T=new n(this,o,f,d,v,m),this.addFile(T.files);return this}),p.exports=n},99898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=new l({Extends:h,initialize:function(n,o,f,d){var v="css";if(i(o)){var m=o;o=s(m,"key"),f=s(m,"url"),d=s(m,"xhrSettings"),v=s(m,"extension",v)}var T={type:"script",cache:!1,extension:v,responseType:"text",key:o,url:f,xhrSettings:d};h.call(this,n,T)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(u,n,o){if(Array.isArray(u))for(var f=0;f<u.length;f++)this.addFile(new r(this,u[f]));else this.addFile(new r(this,u,n,o));return this}),p.exports=r},47375:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73152),g=t(40612),h=t(56694),a=t(76846),s=t(72632),i=t(42927),r=t(42911),u=t(70806),n=t(67409),o=t(30657),f=t(80802),d=t(45176),v=t(24904),m=new h({Extends:d,initialize:function(E,y,C,A){if(C.multiAtlasURL){var M=new u(E,{key:y,url:C.multiAtlasURL,xhrSettings:A,config:C});d.call(this,E,"texture",y,[M])}else{var R=C.textureURL.substr(C.textureURL.length-3);C.type||(C.type=R.toLowerCase()==="ktx"?"KTX":"PVR");var O=new g(E,{key:y,url:C.textureURL,extension:R,xhrSettings:A,config:C});if(C.atlasURL){var L=new u(E,{key:y,url:C.atlasURL,xhrSettings:A,config:C});d.call(this,E,"texture",y,[O,L])}else d.call(this,E,"texture",y,[O])}this.config=C},onFileComplete:function(T){var E=this.files.indexOf(T);if(E!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(T.type==="json"&&T.data.hasOwnProperty("textures")){var y=T.data.textures,C=this.config,A=this.loader,M=A.baseURL,R=A.path,O=A.prefix,L=s(C,"multiBaseURL",this.baseURL),I=s(C,"multiPath",this.path),N=s(C,"prefix",this.prefix),B=s(C,"textureXhrSettings");L&&A.setBaseURL(L),I&&A.setPath(I),N&&A.setPrefix(N);for(var b=0;b<y.length;b++){var X=y[b].image,W="CMA"+this.multiKeyIndex+"_"+X,$=new g(A,W,X,B);if(this.addToMultiFile($),A.addFile($),y[b].normalMap){var z=new g(A,W,y[b].normalMap,B);z.type="normalMap",$.setLink(z),this.addToMultiFile(z),A.addFile(z)}}A.setBaseURL(M),A.setPath(R),A.setPrefix(O)}}},addToCache:function(){if(this.isReadyToProcess()){var T=this.config;if(T.multiAtlasURL)this.addMultiToCache();else{var E=this.loader.systems.renderer,y=this.loader.textureManager,C,A=this.files[0],M=this.files[1];if(T.type==="PVR"?C=v(A.data):T.type==="KTX"&&(C=n(A.data)),C&&E.supportsCompressedTexture(T.format,C.internalFormat)){C.format=E.getCompressedTextureName(T.format,C.internalFormat);var R=M&&M.data?M.data:null;y.addCompressedTexture(A.key,C,R)}}this.complete=!0}},addMultiToCache:function(){for(var T=this.config,E=this.files[0],y=[],C=[],A=[],M=this.loader.systems.renderer,R=this.loader.textureManager,O,L=1;L<this.files.length;L++){var I=this.files[L];if(I.type!=="normalMap")for(var N=I.key.indexOf("_"),B=I.key.substr(N+1),b=I.data,X=0;X<E.data.textures.length;X++){var W=E.data.textures[X];if(W.image===B){T.type==="PVR"?O=v(b):T.type==="KTX"&&(O=n(b)),O&&M.supportsCompressedTexture(T.format,O.internalFormat)&&(O.format=M.getCompressedTextureName(T.format,O.internalFormat),C.push(O),y.push(W),I.linkFile&&A.push(I.linkFile.data));break}}}A.length===0&&(A=void 0),R.addAtlasJSONArray(this.key,C,y,A),this.complete=!0}});a.register("texture",function(T,E,y){var C=this.systems.renderer,A=function(R,O,L,I){var N={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(r(O)){var B=O;O=s(B,"key"),L=s(B,"url"),I=s(B,"xhrSettings")}var b=!1;for(var X in L)if(C.supportsCompressedTexture(X)){var W=L[X];typeof W=="string"?N.textureURL=W:N=o(W,N),N.format=X.toUpperCase(),b=!0;break}if(!b)console.warn("No supported compressed texture format or IMG fallback",O);else if(N.format==="IMG"){var $,z;N.multiAtlasURL?(z=new f(R,O,N.multiAtlasURL,N.multiPath,N.multiBaseURL,I),$=z.files):N.atlasURL?(z=new l(R,O,N.textureURL,N.atlasURL,I),$=z.files):$=new i(R,O,N.textureURL,I),R.addFile($)}else{var V=new m(R,O,N,I);R.addFile(V.files)}};if(Array.isArray(T))for(var M=0;M<T.length;M++)A(this,T[M]);else A(this,T,E,y);return this}),p.exports=m},46568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=t(31053),u=new l({Extends:h,initialize:function(o,f,d,v,m){var T="glsl";if(i(f)){var E=f;f=s(E,"key"),d=s(E,"url"),v=s(E,"shaderType","fragment"),m=s(E,"xhrSettings"),T=s(E,"extension",T)}else v===void 0&&(v="fragment");var y={type:"glsl",cache:o.cacheManager.shader,extension:T,responseType:"text",key:f,url:d,config:{shaderType:v},xhrSettings:m};h.call(this,o,y)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n=this.data.split(`
`),o=this.extractBlock(n,0);if(o)for(;o;){var f=this.getShaderName(o.header),d=this.getShaderType(o.header),v=this.getShaderUniforms(o.header),m=o.shader;if(this.cache.has(f)){var T=this.cache.get(f);d==="fragment"?T.fragmentSrc=m:T.vertexSrc=m,T.uniforms||(T.uniforms=v)}else d==="fragment"?this.cache.add(f,new r(f,m,"",v)):this.cache.add(f,new r(f,"",m,v));o=this.extractBlock(n,o.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new r(this.key,this.data)):this.cache.add(this.key,new r(this.key,"",this.data))},getShaderName:function(n){for(var o=0;o<n.length;o++){var f=n[o].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(n){for(var o=0;o<n.length;o++){var f=n[o].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(n){for(var o={},f=0;f<n.length;f++){var d=n[f].trim();if(d.substring(0,8)==="uniform."){var v=d.indexOf(":");if(v){var m=d.substring(8,v);try{o[m]=JSON.parse(d.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return o},extractBlock:function(n,o){for(var f=-1,d=-1,v=-1,m=!1,T=!1,E=[],y=[],C=o;C<n.length;C++){var A=n[C].trim();if(A==="---")if(f===-1)f=C,m=!0;else if(m)d=C,m=!1,T=!0;else{T=!1;break}else m?E.push(A):T&&(y.push(A),v=C)}return!m&&d!==-1?{header:E,shader:y.join(`
`),offset:v}:null}});a.register("glsl",function(n,o,f,d){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new u(this,n[v]));else this.addFile(new u(this,n,o,f,d));return this}),p.exports=u},30929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(683),h=t(98035),a=t(72632),s=t(30750),i=t(42911),r=new l({Extends:h,initialize:function(n,o,f,d){if(i(o)){var v=o;o=a(v,"key"),d=a(v,"config",d)}var m={type:"audio",cache:n.cacheManager.audio,extension:f.type,key:o,url:f.url,config:d};h.call(this,n,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var u=0;u<this.data.length;u++){var n=this.data[u];n.oncanplaythrough=null,n.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(u){var n=u.target;n.oncanplaythrough=null,n.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var u=this.config&&this.config.instances||1;this.filesTotal=u,this.filesLoaded=0,this.percentComplete=0;for(var n=0;n<u;n++){var o=new Audio;o.dataset||(o.dataset={}),o.dataset.name=this.key+("0"+n).slice(-2),o.dataset.used="false",this.locked?o.dataset.locked="true":(o.dataset.locked="false",o.preload="auto",o.oncanplaythrough=this.onProgress.bind(this),o.onerror=this.onError.bind(this)),this.data.push(o)}for(n=0;n<this.data.length;n++)o=this.data[n],o.src=s(this,this.loader.baseURL),this.locked||o.load();this.locked&&setTimeout(this.onLoad.bind(this))}});p.exports=r},77459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=new l({Extends:h,initialize:function(n,o,f,d){var v="html";if(i(o)){var m=o;o=s(m,"key"),f=s(m,"url"),d=s(m,"xhrSettings"),v=s(m,"extension",v)}var T={type:"text",cache:n.cacheManager.html,extension:v,responseType:"text",key:o,url:f,xhrSettings:d};h.call(this,n,T)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(u,n,o){if(Array.isArray(u))for(var f=0;f<u.length;f++)this.addFile(new r(this,u[f]));else this.addFile(new r(this,u,n,o));return this}),p.exports=r},9755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=new l({Extends:h,initialize:function(n,o,f,d,v,m){d===void 0&&(d=512),v===void 0&&(v=512);var T="html";if(i(o)){var E=o;o=s(E,"key"),f=s(E,"url"),m=s(E,"xhrSettings"),T=s(E,"extension",T),d=s(E,"width",d),v=s(E,"height",v)}var y={type:"html",cache:n.textureManager,extension:T,responseType:"text",key:o,url:f,xhrSettings:m,config:{width:d,height:v}};h.call(this,n,y)},onProcess:function(){this.state=g.FILE_PROCESSING;var u=this.config.width,n=this.config.height,o=[];o.push('<svg width="'+u+'px" height="'+n+'px" viewBox="0 0 '+u+" "+n+'" xmlns="http://www.w3.org/2000/svg">'),o.push('<foreignObject width="100%" height="100%">'),o.push('<body xmlns="http://www.w3.org/1999/xhtml">'),o.push(this.xhrLoader.responseText),o.push("</body>"),o.push("</foreignObject>"),o.push("</svg>");var f=[o.join(`
`)],d=this;try{var v=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{d.state=g.FILE_ERRORED,d.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){h.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(d.data),d.onProcessError()},h.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",function(u,n,o,f,d){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new r(this,u[v]));else this.addFile(new r(this,u,n,o,f,d));return this}),p.exports=r},42927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=t(30750),u=new l({Extends:h,initialize:function n(o,f,d,v,m){var T="png",E;if(i(f)){var y=f;f=s(y,"key"),d=s(y,"url"),E=s(y,"normalMap"),v=s(y,"xhrSettings"),T=s(y,"extension",T),m=s(y,"frameConfig")}Array.isArray(d)&&(E=d[1],d=d[0]);var C={type:"image",cache:o.textureManager,extension:T,responseType:"blob",key:f,url:d,xhrSettings:v,config:m};if(h.call(this,o,C),E){var A=new n(o,this.key,E,v,m);A.type="normalMap",this.setLink(A),o.addFile(A)}this.useImageElementLoad=o.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){h.revokeObjectURL(n.data),n.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(n.data),n.onProcessError()},h.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var n=this.state;this.state=g.FILE_PROCESSING,n===g.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=g.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){n.state=g.FILE_LOADED,n.loader.nextFile(n,!0)},this.data.onerror=function(){n.loader.nextFile(n,!1)},this.data.src=this.src}},addToCache:function(){var n=this.linkFile;n?n.state>=g.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addImage(this.key,n.data,this.data):this.cache.addImage(this.key,this.data,n.data)):this.cache.addImage(this.key,this.data)}});a.register("image",function(n,o,f){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new u(this,n[d]));else this.addFile(new u(this,n,o,f));return this}),p.exports=u},70806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(10850),r=t(42911),u=new l({Extends:h,initialize:function(o,f,d,v,m){var T="json";if(r(f)){var E=f;f=s(E,"key"),d=s(E,"url"),v=s(E,"xhrSettings"),T=s(E,"extension",T),m=s(E,"dataKey",m)}var y={type:"json",cache:o.cacheManager.json,extension:T,responseType:"text",key:f,url:d,xhrSettings:v,config:m};h.call(this,o,y),r(d)&&(m?this.data=i(d,m):this.data=d,this.state=g.FILE_POPULATED)},onProcess:function(){if(this.state!==g.FILE_POPULATED){this.state=g.FILE_PROCESSING;try{var n=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var o=this.config;typeof o=="string"?this.data=i(n,o,n):this.data=n}this.onProcessComplete()}});a.register("json",function(n,o,f,d){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new u(this,n[v]));else this.addFile(new u(this,n,o,d,f));return this}),p.exports=u},80802:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(76846),h=t(72632),a=t(42927),s=t(42911),i=t(70806),r=t(45176),u=new l({Extends:r,initialize:function(o,f,d,v,m,T,E){if(s(f)){var y=f;f=h(y,"key"),h(y,"url",!1)?d=h(y,"url"):d=h(y,"atlasURL"),T=h(y,"xhrSettings"),v=h(y,"path"),m=h(y,"baseURL"),E=h(y,"textureXhrSettings")}var C=new i(o,f,d,T);r.call(this,o,"multiatlas",f,[C]),this.config.path=v,this.config.baseURL=m,this.config.textureXhrSettings=E},onFileComplete:function(n){var o=this.files.indexOf(n);if(o!==-1&&(this.pending--,n.type==="json"&&n.data.hasOwnProperty("textures"))){var f=n.data.textures,d=this.config,v=this.loader,m=v.baseURL,T=v.path,E=v.prefix,y=h(d,"baseURL",this.baseURL),C=h(d,"path",this.path),A=h(d,"prefix",this.prefix),M=h(d,"textureXhrSettings");v.setBaseURL(y),v.setPath(C),v.setPrefix(A);for(var R=0;R<f.length;R++){var O=f[R].image,L="MA"+this.multiKeyIndex+"_"+O,I=new a(v,L,O,M);if(this.addToMultiFile(I),v.addFile(I),f[R].normalMap){var N=new a(v,L,f[R].normalMap,M);N.type="normalMap",I.setLink(N),this.addToMultiFile(N),v.addFile(N)}}v.setBaseURL(m),v.setPath(T),v.setPrefix(E)}},addToCache:function(){if(this.isReadyToProcess()){for(var n=this.files[0],o=[],f=[],d=[],v=1;v<this.files.length;v++){var m=this.files[v];if(m.type!=="normalMap")for(var T=m.key.indexOf("_"),E=m.key.substr(T+1),y=m.data,C=0;C<n.data.textures.length;C++){var A=n.data.textures[C];if(A.image===E){f.push(y),o.push(A),m.linkFile&&d.push(m.linkFile.data);break}}}d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,o,d),this.complete=!0}}});g.register("multiatlas",function(n,o,f,d,v){var m;if(Array.isArray(n))for(var T=0;T<n.length;T++)m=new u(this,n[T]),this.addFile(m.files);else m=new u(this,n,o,f,d,v),this.addFile(m.files);return this}),p.exports=u},39034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(76846),h=t(72632),a=t(42911),s=t(45176),i=t(55188),r=new l({Extends:s,initialize:function(n,o,f,d){var v="js",m=[];if(a(o)){var T=o;o=h(T,"key"),f=h(T,"url"),d=h(T,"xhrSettings"),v=h(T,"extension",v)}Array.isArray(f)||(f=[f]);for(var E=0;E<f.length;E++){var y=new i(n,{key:o+"_"+E.toString(),url:f[E],extension:v,xhrSettings:d});y.onProcess=function(){this.onProcessComplete()},m.push(y)}s.call(this,n,"scripts",o,m)},addToCache:function(){if(this.isReadyToProcess()){for(var u=0;u<this.files.length;u++){var n=this.files[u];n.data=document.createElement("script"),n.data.language="javascript",n.data.type="text/javascript",n.data.defer=!1,n.data.text=n.xhrLoader.responseText,document.head.appendChild(n.data)}this.complete=!0}}});g.register("scripts",function(u,n,o){var f;if(Array.isArray(u))for(var d=0;d<u.length;d++)f=new r(this,u[d]),this.addFile(f.files);else f=new r(this,u,n,o),this.addFile(f.files);return this}),p.exports=r},85527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(76846),h=t(72632),a=t(42911),s=t(45176),i=t(27291),r=t(76799),u=t(86897),n=new l({Extends:s,initialize:function(f,d,v,m,T,E){var y,C,A=f.cacheManager.obj;if(a(d)){var M=d;d=h(M,"key"),y=new u(f,{key:d,type:"obj",cache:A,url:h(M,"url"),extension:h(M,"extension","obj"),xhrSettings:h(M,"xhrSettings"),config:{flipUV:h(M,"flipUV",T)}}),m=h(M,"matURL"),m&&(C=new u(f,{key:d,type:"mat",cache:A,url:m,extension:h(M,"matExtension","mat"),xhrSettings:h(M,"xhrSettings")}))}else y=new u(f,{key:d,url:v,type:"obj",cache:A,extension:"obj",xhrSettings:E,config:{flipUV:T}}),m&&(C=new u(f,{key:d,url:m,type:"mat",cache:A,extension:"mat",xhrSettings:E}));s.call(this,f,"obj",d,[y,C])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],f=this.files[1],d=i(o.data,o.config.flipUV);f&&(d.materials=r(f.data)),o.cache.add(o.key,d),this.complete=!0}}});g.register("obj",function(o,f,d,v,m){var T;if(Array.isArray(o))for(var E=0;E<o.length;E++)T=new n(this,o[E]),this.addFile(T.files);else T=new n(this,o,f,d,v,m),this.addFile(T.files);return this}),p.exports=n},3616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(76846),a=t(70806),s=new l({Extends:a,initialize:function(r,u,n,o,f){a.call(this,r,u,n,o,f),this.type="packfile"},onProcess:function(){if(this.state!==g.FILE_POPULATED&&(this.state=g.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var i={};i[this.config]=this.data,this.data=i}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});h.register("pack",function(i,r,u,n){if(Array.isArray(i))for(var o=0;o<i.length;o++)this.addFile(new s(this,i[o]));else this.addFile(new s(this,i,r,n,u));return this}),p.exports=s},12217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=new l({Extends:h,initialize:function(n,o,f,d,v,m){var T="js";if(i(o)){var E=o;o=s(E,"key"),f=s(E,"url"),m=s(E,"xhrSettings"),T=s(E,"extension",T),d=s(E,"start"),v=s(E,"mapping")}var y={type:"plugin",cache:!1,extension:T,responseType:"text",key:o,url:f,xhrSettings:m,config:{start:d,mapping:v}};h.call(this,n,y),typeof f=="function"&&(this.data=f,this.state=g.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,n=this.config,o=s(n,"start",!1),f=s(n,"mapping",null);if(this.state===g.FILE_POPULATED)u.install(this.key,this.data,o,f);else{this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=u.install(this.key,window[this.key],o,f);(o||f)&&(this.loader.systems[f]=d,this.loader.scene[f]=d)}this.onProcessComplete()}});a.register("plugin",function(u,n,o,f,d){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new r(this,u[v]));else this.addFile(new r(this,u,n,o,f,d));return this}),p.exports=r},4474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=new l({Extends:h,initialize:function(n,o,f,d,v){var m="svg";if(i(o)){var T=o;o=s(T,"key"),f=s(T,"url"),d=s(T,"svgConfig",{}),v=s(T,"xhrSettings"),m=s(T,"extension",m)}var E={type:"svg",cache:n.textureManager,extension:m,responseType:"text",key:o,url:f,xhrSettings:v,config:{width:s(d,"width"),height:s(d,"height"),scale:s(d,"scale")}};h.call(this,n,E)},onProcess:function(){this.state=g.FILE_PROCESSING;var u=this.xhrLoader.responseText,n=[u],o=this.config.width,f=this.config.height,d=this.config.scale;t:if(o&&f||d){var v=null,m=new DOMParser;v=m.parseFromString(u,"text/xml");var T=v.getElementsByTagName("svg")[0],E=T.hasAttribute("viewBox"),y=parseFloat(T.getAttribute("width")),C=parseFloat(T.getAttribute("height"));if(!E&&y&&C)T.setAttribute("viewBox","0  0 "+y+" "+C);else if(E&&!y&&!C){var A=T.getAttribute("viewBox").split(/\s+|,/);y=A[2],C=A[3]}if(d)if(y&&C)o=y*d,f=C*d;else break t;T.setAttribute("width",o.toString()+"px"),T.setAttribute("height",f.toString()+"px"),n=[new XMLSerializer().serializeToString(T)]}try{var M=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var R=this,O=!1;this.data.onload=function(){O||h.revokeObjectURL(R.data),R.onProcessComplete()},this.data.onerror=function(){O?R.onProcessError():(O=!0,h.revokeObjectURL(R.data),R.data.src="data:image/svg+xml,"+encodeURIComponent(n.join("")))},h.createObjectURL(this.data,M,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",function(u,n,o,f){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new r(this,u[d]));else this.addFile(new r(this,u,n,o,f));return this}),p.exports=r},95171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=new l({Extends:h,initialize:function(n,o,f,d){var v="js";if(i(o)){var m=o;o=s(m,"key"),f=s(m,"url"),d=s(m,"xhrSettings"),v=s(m,"extension",v)}var T={type:"text",extension:v,responseType:"text",key:o,url:f,xhrSettings:d};h.call(this,n,T)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),n=eval;this.loader.sceneManager.add(this.key,n(u)),this.complete=!0}});a.register("sceneFile",function(u,n,o){if(Array.isArray(u))for(var f=0;f<u.length;f++)this.addFile(new r(this,u[f]));else this.addFile(new r(this,u,n,o));return this}),p.exports=r},82458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=new l({Extends:h,initialize:function(n,o,f,d,v,m){var T="js";if(i(o)){var E=o;o=s(E,"key"),f=s(E,"url"),m=s(E,"xhrSettings"),T=s(E,"extension",T),d=s(E,"systemKey"),v=s(E,"sceneKey")}var y={type:"scenePlugin",cache:!1,extension:T,responseType:"text",key:o,url:f,xhrSettings:m,config:{systemKey:d,sceneKey:v}};h.call(this,n,y),typeof f=="function"&&(this.data=f,this.state=g.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,n=this.config,o=this.key,f=s(n,"systemKey",o),d=s(n,"sceneKey",o);this.state===g.FILE_POPULATED?u.installScenePlugin(f,this.data,d,this.loader.scene,!0):(this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),u.installScenePlugin(f,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(u,n,o,f,d){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new r(this,u[v]));else this.addFile(new r(this,u,n,o,f,d));return this}),p.exports=r},55188:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=new l({Extends:h,initialize:function(n,o,f,d,v){var m="js";if(i(o)){var T=o;o=s(T,"key"),f=s(T,"url"),d=s(T,"type","script"),v=s(T,"xhrSettings"),m=s(T,"extension",m)}else d===void 0&&(d="script");var E={type:d,cache:!1,extension:m,responseType:"text",key:o,url:f,xhrSettings:v};h.call(this,n,E)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(u,n,o,f){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new r(this,u[d]));else this.addFile(new r(this,u,n,o,f));return this}),p.exports=r},33536:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(76846),a=t(42927),s=new l({Extends:a,initialize:function(r,u,n,o,f){a.call(this,r,u,n,f,o),this.type="spritesheet"},addToCache:function(){var i=this.linkFile;i?i.state>=g.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,i.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,i.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});h.register("spritesheet",function(i,r,u,n){if(Array.isArray(i))for(var o=0;o<i.length;o++)this.addFile(new s(this,i[o]));else this.addFile(new s(this,i,r,u,n));return this}),p.exports=s},86897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=new l({Extends:h,initialize:function(n,o,f,d){var v="text",m="txt",T=n.cacheManager.text;if(i(o)){var E=o;o=s(E,"key"),f=s(E,"url"),d=s(E,"xhrSettings"),m=s(E,"extension",m),v=s(E,"type",v),T=s(E,"cache",T)}var y={type:v,cache:T,extension:m,responseType:"text",key:o,url:f,xhrSettings:d};h.call(this,n,y)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(u,n,o){if(Array.isArray(u))for(var f=0;f<u.length;f++)this.addFile(new r(this,u[f]));else this.addFile(new r(this,u,n,o));return this}),p.exports=r},58673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=t(93560),u=new l({Extends:h,initialize:function(o,f,d,v){var m="csv";if(i(f)){var T=f;f=s(T,"key"),d=s(T,"url"),v=s(T,"xhrSettings"),m=s(T,"extension",m)}var E={type:"tilemapCSV",cache:o.cacheManager.tilemap,extension:m,responseType:"text",key:f,url:d,xhrSettings:v};h.call(this,o,E),this.tilemapFormat=r.CSV},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,n)}});a.register("tilemapCSV",function(n,o,f){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new u(this,n[d]));else this.addFile(new u(this,n,o,f));return this}),p.exports=u},98896:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(76846),h=t(70806),a=t(93560),s=new l({Extends:h,initialize:function(r,u,n,o){h.call(this,r,u,n,o),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var i={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,i)}});g.register("tilemapImpact",function(i,r,u){if(Array.isArray(i))for(var n=0;n<i.length;n++)this.addFile(new s(this,i[n]));else this.addFile(new s(this,i,r,u));return this}),p.exports=s},50563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(76846),h=t(70806),a=t(93560),s=new l({Extends:h,initialize:function(r,u,n,o){h.call(this,r,u,n,o),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var i={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,i)}});g.register("tilemapTiledJSON",function(i,r,u){if(Array.isArray(i))for(var n=0;n<i.length;n++)this.addFile(new s(this,i[n]));else this.addFile(new s(this,i,r,u));return this}),p.exports=s},82857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(76846),h=t(72632),a=t(42927),s=t(42911),i=t(45176),r=t(86897),u=new l({Extends:i,initialize:function(o,f,d,v,m,T){var E,y;if(s(f)){var C=f;f=h(C,"key"),E=new a(o,{key:f,url:h(C,"textureURL"),extension:h(C,"textureExtension","png"),normalMap:h(C,"normalMap"),xhrSettings:h(C,"textureXhrSettings")}),y=new r(o,{key:f,url:h(C,"atlasURL"),extension:h(C,"atlasExtension","txt"),xhrSettings:h(C,"atlasXhrSettings")})}else E=new a(o,f,d,m),y=new r(o,f,v,T);E.linkFile?i.call(this,o,"unityatlas",f,[E,y,E.linkFile]):i.call(this,o,"unityatlas",f,[E,y])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(n.key,n.data,o.data,f),this.complete=!0}}});g.register("unityAtlas",function(n,o,f,d,v){var m;if(Array.isArray(n))for(var T=0;T<n.length;T++)m=new u(this,n[T]),this.addFile(m.files);else m=new u(this,n,o,f,d,v),this.addFile(m.files);return this}),p.exports=u},22833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(30750),i=t(72632),r=t(42911),u=new l({Extends:h,initialize:function(o,f,d,v){if(v===void 0&&(v=!1),r(f)){var m=f;f=i(m,"key"),d=i(m,"url",[]),v=i(m,"noAudio",!1)}var T=o.systems.game.device.video.getVideoURL(d);T||console.warn("VideoFile: No supported format for "+f);var E={type:"video",cache:o.cacheManager.video,extension:T.type,key:f,url:T.url,config:{noAudio:v}};h.call(this,o,E)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=s(this,this.loader.baseURL),this.state=g.FILE_LOADED,this.loader.nextFile(this,!0)}});a.register("video",function(n,o,f){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new u(this,n[d]));else this.addFile(new u(this,n,o,f));return this}),p.exports=u},15297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12117),h=t(98035),a=t(76846),s=t(72632),i=t(42911),r=t(89200),u=new l({Extends:h,initialize:function(o,f,d,v){var m="xml";if(i(f)){var T=f;f=s(T,"key"),d=s(T,"url"),v=s(T,"xhrSettings"),m=s(T,"extension",m)}var E={type:"xml",cache:o.cacheManager.xml,extension:m,responseType:"text",key:f,url:d,xhrSettings:v};h.call(this,o,E)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=r(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});a.register("xml",function(n,o,f){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new u(this,n[d]));else this.addFile(new u(this,n,o,f));return this}),p.exports=u},34034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AnimationJSONFile:t(46468),AsepriteFile:t(31648),AtlasJSONFile:t(73152),AtlasXMLFile:t(24616),AudioFile:t(67448),AudioSpriteFile:t(66109),BinaryFile:t(40612),BitmapFontFile:t(54565),CompressedTextureFile:t(47375),CSSFile:t(99898),GLSLFile:t(46568),HTML5AudioFile:t(30929),HTMLFile:t(77459),HTMLTextureFile:t(9755),ImageFile:t(42927),JSONFile:t(70806),MultiAtlasFile:t(80802),MultiScriptFile:t(39034),OBJFile:t(85527),PackFile:t(3616),PluginFile:t(12217),SceneFile:t(95171),ScenePluginFile:t(82458),ScriptFile:t(55188),SpriteSheetFile:t(33536),SVGFile:t(4474),TextFile:t(86897),TilemapCSVFile:t(58673),TilemapImpactFile:t(98896),TilemapJSONFile:t(50563),UnityAtlasFile:t(82857),VideoFile:t(22833),XMLFile:t(15297)}},95695:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12117),g=t(98611),h={Events:t(683),FileTypes:t(34034),File:t(98035),FileTypesManager:t(76846),GetURL:t(30750),LoaderPlugin:t(67285),MergeXHRSettings:t(43531),MultiFile:t(45176),XHRLoader:t(88490),XHRSettings:t(33868)};h=g(!1,h,l),p.exports=h},26042:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=0,g=0;g<t.length;g++)l+=+t[g];return l/t.length};p.exports=S},22824:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8034),g=function(h,a){return l(h)/l(a)/l(h-a)};p.exports=g},17489:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return Math.floor(Math.random()*(l-t+1)+t)};p.exports=S},14976:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a){var s=(h-l)*.5,i=(a-g)*.5,r=t*t,u=t*r;return(2*g-2*h+s+i)*u+(-3*g+3*h-2*s-i)*r+s*t+g};p.exports=S},89129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){l===void 0&&(l=0),g===void 0&&(g=10);var h=Math.pow(g,-l);return Math.ceil(t*h)/h};p.exports=S},82897:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return Math.max(l,Math.min(g,t))};p.exports=S},75606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),g=function(h){return h*l.DEG_TO_RAD};p.exports=g},767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return Math.abs(t-l)};p.exports=S},9849:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=t(56694),h=t(16650),a=t(72283),s=new h,i=new g({initialize:function r(u,n,o,f){u===void 0&&(u=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=r.DefaultOrder),this._x=u,this._y=n,this._z=o,this._order=f,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,u,n,o){return o===void 0&&(o=this._order),this._x=r,this._y=u,this._z=n,this._order=o,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,u,n){return u===void 0&&(u=this._order),n===void 0&&(n=!1),s.fromQuat(r),this.setFromRotationMatrix(s,u,n)},setFromRotationMatrix:function(r,u,n){u===void 0&&(u=this._order),n===void 0&&(n=!1);var o=r.val,f=o[0],d=o[4],v=o[8],m=o[1],T=o[5],E=o[9],y=o[2],C=o[6],A=o[10],M=0,R=0,O=0,L=.99999;switch(u){case"XYZ":{R=Math.asin(l(v,-1,1)),Math.abs(v)<L?(M=Math.atan2(-E,A),O=Math.atan2(-d,f)):M=Math.atan2(C,T);break}case"YXZ":{M=Math.asin(-l(E,-1,1)),Math.abs(E)<L?(R=Math.atan2(v,A),O=Math.atan2(m,T)):R=Math.atan2(-y,f);break}case"ZXY":{M=Math.asin(l(C,-1,1)),Math.abs(C)<L?(R=Math.atan2(-y,A),O=Math.atan2(-d,T)):O=Math.atan2(m,f);break}case"ZYX":{R=Math.asin(-l(y,-1,1)),Math.abs(y)<L?(M=Math.atan2(C,A),O=Math.atan2(m,f)):O=Math.atan2(-d,T);break}case"YZX":{O=Math.asin(l(m,-1,1)),Math.abs(m)<L?(M=Math.atan2(-E,T),R=Math.atan2(-y,f)):R=Math.atan2(v,A);break}case"XZY":{O=Math.asin(-l(d,-1,1)),Math.abs(d)<L?(M=Math.atan2(C,T),R=Math.atan2(v,f)):M=Math.atan2(-E,A);break}}return this._x=M,this._y=R,this._z=O,this._order=u,n&&this.onChangeCallback(this),this}});i.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],i.DefaultOrder="XYZ",p.exports=i},8034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var l=t;--t;)l*=t;return l};p.exports=S},61616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return Math.random()*(l-t)+t};p.exports=S},60679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){l===void 0&&(l=0),g===void 0&&(g=10);var h=Math.pow(g,-l);return Math.floor(t*h)/h};p.exports=S},91806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=function(h,a,s){return h=l(h,0,1),(s-a)*h+a};p.exports=g},79366:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t/l/1e3};p.exports=S},43776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};p.exports=S},58442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};p.exports=S},42798:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return(l-t)*g+t};p.exports=S},61072:p=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return g===void 0&&(g=0),t.clone().lerp(l,g)};p.exports=S},5341:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new g(this)},set:function(h){return this.copy(h)},copy:function(h){var a=this.val,s=h.val;return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=s[4],a[5]=s[5],a[6]=s[6],a[7]=s[7],a[8]=s[8],this},fromMat4:function(h){var a=h.val,s=this.val;return s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[4],s[4]=a[5],s[5]=a[6],s[6]=a[8],s[7]=a[9],s[8]=a[10],this},fromArray:function(h){var a=this.val;return a[0]=h[0],a[1]=h[1],a[2]=h[2],a[3]=h[3],a[4]=h[4],a[5]=h[5],a[6]=h[6],a[7]=h[7],a[8]=h[8],this},identity:function(){var h=this.val;return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,this},transpose:function(){var h=this.val,a=h[1],s=h[2],i=h[5];return h[1]=h[3],h[2]=h[6],h[3]=a,h[5]=h[7],h[6]=s,h[7]=i,this},invert:function(){var h=this.val,a=h[0],s=h[1],i=h[2],r=h[3],u=h[4],n=h[5],o=h[6],f=h[7],d=h[8],v=d*u-n*f,m=-d*r+n*o,T=f*r-u*o,E=a*v+s*m+i*T;return E?(E=1/E,h[0]=v*E,h[1]=(-d*s+i*f)*E,h[2]=(n*s-i*u)*E,h[3]=m*E,h[4]=(d*a-i*o)*E,h[5]=(-n*a+i*r)*E,h[6]=T*E,h[7]=(-f*a+s*o)*E,h[8]=(u*a-s*r)*E,this):null},adjoint:function(){var h=this.val,a=h[0],s=h[1],i=h[2],r=h[3],u=h[4],n=h[5],o=h[6],f=h[7],d=h[8];return h[0]=u*d-n*f,h[1]=i*f-s*d,h[2]=s*n-i*u,h[3]=n*o-r*d,h[4]=a*d-i*o,h[5]=i*r-a*n,h[6]=r*f-u*o,h[7]=s*o-a*f,h[8]=a*u-s*r,this},determinant:function(){var h=this.val,a=h[0],s=h[1],i=h[2],r=h[3],u=h[4],n=h[5],o=h[6],f=h[7],d=h[8];return a*(d*u-n*f)+s*(-d*r+n*o)+i*(f*r-u*o)},multiply:function(h){var a=this.val,s=a[0],i=a[1],r=a[2],u=a[3],n=a[4],o=a[5],f=a[6],d=a[7],v=a[8],m=h.val,T=m[0],E=m[1],y=m[2],C=m[3],A=m[4],M=m[5],R=m[6],O=m[7],L=m[8];return a[0]=T*s+E*u+y*f,a[1]=T*i+E*n+y*d,a[2]=T*r+E*o+y*v,a[3]=C*s+A*u+M*f,a[4]=C*i+A*n+M*d,a[5]=C*r+A*o+M*v,a[6]=R*s+O*u+L*f,a[7]=R*i+O*n+L*d,a[8]=R*r+O*o+L*v,this},translate:function(h){var a=this.val,s=h.x,i=h.y;return a[6]=s*a[0]+i*a[3]+a[6],a[7]=s*a[1]+i*a[4]+a[7],a[8]=s*a[2]+i*a[5]+a[8],this},rotate:function(h){var a=this.val,s=a[0],i=a[1],r=a[2],u=a[3],n=a[4],o=a[5],f=Math.sin(h),d=Math.cos(h);return a[0]=d*s+f*u,a[1]=d*i+f*n,a[2]=d*r+f*o,a[3]=d*u-f*s,a[4]=d*n-f*i,a[5]=d*o-f*r,this},scale:function(h){var a=this.val,s=h.x,i=h.y;return a[0]=s*a[0],a[1]=s*a[1],a[2]=s*a[2],a[3]=i*a[3],a[4]=i*a[4],a[5]=i*a[5],this},fromQuat:function(h){var a=h.x,s=h.y,i=h.z,r=h.w,u=a+a,n=s+s,o=i+i,f=a*u,d=a*n,v=a*o,m=s*n,T=s*o,E=i*o,y=r*u,C=r*n,A=r*o,M=this.val;return M[0]=1-(m+E),M[3]=d+A,M[6]=v-C,M[1]=d-A,M[4]=1-(f+E),M[7]=T+y,M[2]=v+C,M[5]=T-y,M[8]=1-(f+m),this},normalFromMat4:function(h){var a=h.val,s=this.val,i=a[0],r=a[1],u=a[2],n=a[3],o=a[4],f=a[5],d=a[6],v=a[7],m=a[8],T=a[9],E=a[10],y=a[11],C=a[12],A=a[13],M=a[14],R=a[15],O=i*f-r*o,L=i*d-u*o,I=i*v-n*o,N=r*d-u*f,B=r*v-n*f,b=u*v-n*d,X=m*A-T*C,W=m*M-E*C,$=m*R-y*C,z=T*M-E*A,V=T*R-y*A,D=E*R-y*M,G=O*D-L*V+I*z+N*$-B*W+b*X;return G?(G=1/G,s[0]=(f*D-d*V+v*z)*G,s[1]=(d*$-o*D-v*W)*G,s[2]=(o*V-f*$+v*X)*G,s[3]=(u*V-r*D-n*z)*G,s[4]=(i*D-u*$+n*W)*G,s[5]=(r*$-i*V-n*X)*G,s[6]=(A*b-M*B+R*N)*G,s[7]=(M*I-C*b-R*L)*G,s[8]=(C*B-A*I+R*O)*G,this):null}});p.exports=g},16650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(70015),h=1e-6,a=new l({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new a(this)},set:function(o){return this.copy(o)},setValues:function(o,f,d,v,m,T,E,y,C,A,M,R,O,L,I,N){var B=this.val;return B[0]=o,B[1]=f,B[2]=d,B[3]=v,B[4]=m,B[5]=T,B[6]=E,B[7]=y,B[8]=C,B[9]=A,B[10]=M,B[11]=R,B[12]=O,B[13]=L,B[14]=I,B[15]=N,this},copy:function(o){var f=o.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(o){return this.setValues(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(o,f,d){var v=s.fromQuat(d),m=v.val,T=f.x,E=f.y,y=f.z;return this.setValues(m[0]*T,m[1]*T,m[2]*T,0,m[4]*E,m[5]*E,m[6]*E,0,m[8]*y,m[9]*y,m[10]*y,0,o.x,o.y,o.z,1)},xyz:function(o,f,d){this.identity();var v=this.val;return v[12]=o,v[13]=f,v[14]=d,this},scaling:function(o,f,d){this.zero();var v=this.val;return v[0]=o,v[5]=f,v[10]=d,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var o=this.val,f=o[1],d=o[2],v=o[3],m=o[6],T=o[7],E=o[11];return o[1]=o[4],o[2]=o[8],o[3]=o[12],o[4]=f,o[6]=o[9],o[7]=o[13],o[8]=d,o[9]=m,o[11]=o[14],o[12]=v,o[13]=T,o[14]=E,this},getInverse:function(o){return this.copy(o),this.invert()},invert:function(){var o=this.val,f=o[0],d=o[1],v=o[2],m=o[3],T=o[4],E=o[5],y=o[6],C=o[7],A=o[8],M=o[9],R=o[10],O=o[11],L=o[12],I=o[13],N=o[14],B=o[15],b=f*E-d*T,X=f*y-v*T,W=f*C-m*T,$=d*y-v*E,z=d*C-m*E,V=v*C-m*y,D=A*I-M*L,G=A*N-R*L,U=A*B-O*L,Y=M*N-R*I,H=M*B-O*I,Z=R*B-O*N,K=b*Z-X*H+W*Y+$*U-z*G+V*D;return K?(K=1/K,this.setValues((E*Z-y*H+C*Y)*K,(v*H-d*Z-m*Y)*K,(I*V-N*z+B*$)*K,(R*z-M*V-O*$)*K,(y*U-T*Z-C*G)*K,(f*Z-v*U+m*G)*K,(N*W-L*V-B*X)*K,(A*V-R*W+O*X)*K,(T*H-E*U+C*D)*K,(d*U-f*H-m*D)*K,(L*z-I*W+B*b)*K,(M*W-A*z-O*b)*K,(E*G-T*Y-y*D)*K,(f*Y-d*G+v*D)*K,(I*X-L*$-N*b)*K,(A*$-M*X+R*b)*K)):this},adjoint:function(){var o=this.val,f=o[0],d=o[1],v=o[2],m=o[3],T=o[4],E=o[5],y=o[6],C=o[7],A=o[8],M=o[9],R=o[10],O=o[11],L=o[12],I=o[13],N=o[14],B=o[15];return this.setValues(E*(R*B-O*N)-M*(y*B-C*N)+I*(y*O-C*R),-(d*(R*B-O*N)-M*(v*B-m*N)+I*(v*O-m*R)),d*(y*B-C*N)-E*(v*B-m*N)+I*(v*C-m*y),-(d*(y*O-C*R)-E*(v*O-m*R)+M*(v*C-m*y)),-(T*(R*B-O*N)-A*(y*B-C*N)+L*(y*O-C*R)),f*(R*B-O*N)-A*(v*B-m*N)+L*(v*O-m*R),-(f*(y*B-C*N)-T*(v*B-m*N)+L*(v*C-m*y)),f*(y*O-C*R)-T*(v*O-m*R)+A*(v*C-m*y),T*(M*B-O*I)-A*(E*B-C*I)+L*(E*O-C*M),-(f*(M*B-O*I)-A*(d*B-m*I)+L*(d*O-m*M)),f*(E*B-C*I)-T*(d*B-m*I)+L*(d*C-m*E),-(f*(E*O-C*M)-T*(d*O-m*M)+A*(d*C-m*E)),-(T*(M*N-R*I)-A*(E*N-y*I)+L*(E*R-y*M)),f*(M*N-R*I)-A*(d*N-v*I)+L*(d*R-v*M),-(f*(E*N-y*I)-T*(d*N-v*I)+L*(d*y-v*E)),f*(E*R-y*M)-T*(d*R-v*M)+A*(d*y-v*E))},determinant:function(){var o=this.val,f=o[0],d=o[1],v=o[2],m=o[3],T=o[4],E=o[5],y=o[6],C=o[7],A=o[8],M=o[9],R=o[10],O=o[11],L=o[12],I=o[13],N=o[14],B=o[15],b=f*E-d*T,X=f*y-v*T,W=f*C-m*T,$=d*y-v*E,z=d*C-m*E,V=v*C-m*y,D=A*I-M*L,G=A*N-R*L,U=A*B-O*L,Y=M*N-R*I,H=M*B-O*I,Z=R*B-O*N;return b*Z-X*H+W*Y+$*U-z*G+V*D},multiply:function(o){var f=this.val,d=f[0],v=f[1],m=f[2],T=f[3],E=f[4],y=f[5],C=f[6],A=f[7],M=f[8],R=f[9],O=f[10],L=f[11],I=f[12],N=f[13],B=f[14],b=f[15],X=o.val,W=X[0],$=X[1],z=X[2],V=X[3];return f[0]=W*d+$*E+z*M+V*I,f[1]=W*v+$*y+z*R+V*N,f[2]=W*m+$*C+z*O+V*B,f[3]=W*T+$*A+z*L+V*b,W=X[4],$=X[5],z=X[6],V=X[7],f[4]=W*d+$*E+z*M+V*I,f[5]=W*v+$*y+z*R+V*N,f[6]=W*m+$*C+z*O+V*B,f[7]=W*T+$*A+z*L+V*b,W=X[8],$=X[9],z=X[10],V=X[11],f[8]=W*d+$*E+z*M+V*I,f[9]=W*v+$*y+z*R+V*N,f[10]=W*m+$*C+z*O+V*B,f[11]=W*T+$*A+z*L+V*b,W=X[12],$=X[13],z=X[14],V=X[15],f[12]=W*d+$*E+z*M+V*I,f[13]=W*v+$*y+z*R+V*N,f[14]=W*m+$*C+z*O+V*B,f[15]=W*T+$*A+z*L+V*b,this},multiplyLocal:function(o){var f=this.val,d=o.val;return this.setValues(f[0]*d[0]+f[1]*d[4]+f[2]*d[8]+f[3]*d[12],f[0]*d[1]+f[1]*d[5]+f[2]*d[9]+f[3]*d[13],f[0]*d[2]+f[1]*d[6]+f[2]*d[10]+f[3]*d[14],f[0]*d[3]+f[1]*d[7]+f[2]*d[11]+f[3]*d[15],f[4]*d[0]+f[5]*d[4]+f[6]*d[8]+f[7]*d[12],f[4]*d[1]+f[5]*d[5]+f[6]*d[9]+f[7]*d[13],f[4]*d[2]+f[5]*d[6]+f[6]*d[10]+f[7]*d[14],f[4]*d[3]+f[5]*d[7]+f[6]*d[11]+f[7]*d[15],f[8]*d[0]+f[9]*d[4]+f[10]*d[8]+f[11]*d[12],f[8]*d[1]+f[9]*d[5]+f[10]*d[9]+f[11]*d[13],f[8]*d[2]+f[9]*d[6]+f[10]*d[10]+f[11]*d[14],f[8]*d[3]+f[9]*d[7]+f[10]*d[11]+f[11]*d[15],f[12]*d[0]+f[13]*d[4]+f[14]*d[8]+f[15]*d[12],f[12]*d[1]+f[13]*d[5]+f[14]*d[9]+f[15]*d[13],f[12]*d[2]+f[13]*d[6]+f[14]*d[10]+f[15]*d[14],f[12]*d[3]+f[13]*d[7]+f[14]*d[11]+f[15]*d[15])},premultiply:function(o){return this.multiplyMatrices(o,this)},multiplyMatrices:function(o,f){var d=o.val,v=f.val,m=d[0],T=d[4],E=d[8],y=d[12],C=d[1],A=d[5],M=d[9],R=d[13],O=d[2],L=d[6],I=d[10],N=d[14],B=d[3],b=d[7],X=d[11],W=d[15],$=v[0],z=v[4],V=v[8],D=v[12],G=v[1],U=v[5],Y=v[9],H=v[13],Z=v[2],K=v[6],k=v[10],j=v[14],Q=v[3],J=v[7],_=v[11],q=v[15];return this.setValues(m*$+T*G+E*Z+y*Q,C*$+A*G+M*Z+R*Q,O*$+L*G+I*Z+N*Q,B*$+b*G+X*Z+W*Q,m*z+T*U+E*K+y*J,C*z+A*U+M*K+R*J,O*z+L*U+I*K+N*J,B*z+b*U+X*K+W*J,m*V+T*Y+E*k+y*_,C*V+A*Y+M*k+R*_,O*V+L*Y+I*k+N*_,B*V+b*Y+X*k+W*_,m*D+T*H+E*j+y*q,C*D+A*H+M*j+R*q,O*D+L*H+I*j+N*q,B*D+b*H+X*j+W*q)},translate:function(o){return this.translateXYZ(o.x,o.y,o.z)},translateXYZ:function(o,f,d){var v=this.val;return v[12]=v[0]*o+v[4]*f+v[8]*d+v[12],v[13]=v[1]*o+v[5]*f+v[9]*d+v[13],v[14]=v[2]*o+v[6]*f+v[10]*d+v[14],v[15]=v[3]*o+v[7]*f+v[11]*d+v[15],this},scale:function(o){return this.scaleXYZ(o.x,o.y,o.z)},scaleXYZ:function(o,f,d){var v=this.val;return v[0]=v[0]*o,v[1]=v[1]*o,v[2]=v[2]*o,v[3]=v[3]*o,v[4]=v[4]*f,v[5]=v[5]*f,v[6]=v[6]*f,v[7]=v[7]*f,v[8]=v[8]*d,v[9]=v[9]*d,v[10]=v[10]*d,v[11]=v[11]*d,this},makeRotationAxis:function(o,f){var d=Math.cos(f),v=Math.sin(f),m=1-d,T=o.x,E=o.y,y=o.z,C=m*T,A=m*E;return this.setValues(C*T+d,C*E-v*y,C*y+v*E,0,C*E+v*y,A*E+d,A*y-v*T,0,C*y-v*E,A*y+v*T,m*y*y+d,0,0,0,0,1)},rotate:function(o,f){var d=this.val,v=f.x,m=f.y,T=f.z,E=Math.sqrt(v*v+m*m+T*T);if(Math.abs(E)<h)return this;E=1/E,v*=E,m*=E,T*=E;var y=Math.sin(o),C=Math.cos(o),A=1-C,M=d[0],R=d[1],O=d[2],L=d[3],I=d[4],N=d[5],B=d[6],b=d[7],X=d[8],W=d[9],$=d[10],z=d[11],V=d[12],D=d[13],G=d[14],U=d[15],Y=v*v*A+C,H=m*v*A+T*y,Z=T*v*A-m*y,K=v*m*A-T*y,k=m*m*A+C,j=T*m*A+v*y,Q=v*T*A+m*y,J=m*T*A-v*y,_=T*T*A+C;return this.setValues(M*Y+I*H+X*Z,R*Y+N*H+W*Z,O*Y+B*H+$*Z,L*Y+b*H+z*Z,M*K+I*k+X*j,R*K+N*k+W*j,O*K+B*k+$*j,L*K+b*k+z*j,M*Q+I*J+X*_,R*Q+N*J+W*_,O*Q+B*J+$*_,L*Q+b*J+z*_,V,D,G,U)},rotateX:function(o){var f=this.val,d=Math.sin(o),v=Math.cos(o),m=f[4],T=f[5],E=f[6],y=f[7],C=f[8],A=f[9],M=f[10],R=f[11];return f[4]=m*v+C*d,f[5]=T*v+A*d,f[6]=E*v+M*d,f[7]=y*v+R*d,f[8]=C*v-m*d,f[9]=A*v-T*d,f[10]=M*v-E*d,f[11]=R*v-y*d,this},rotateY:function(o){var f=this.val,d=Math.sin(o),v=Math.cos(o),m=f[0],T=f[1],E=f[2],y=f[3],C=f[8],A=f[9],M=f[10],R=f[11];return f[0]=m*v-C*d,f[1]=T*v-A*d,f[2]=E*v-M*d,f[3]=y*v-R*d,f[8]=m*d+C*v,f[9]=T*d+A*v,f[10]=E*d+M*v,f[11]=y*d+R*v,this},rotateZ:function(o){var f=this.val,d=Math.sin(o),v=Math.cos(o),m=f[0],T=f[1],E=f[2],y=f[3],C=f[4],A=f[5],M=f[6],R=f[7];return f[0]=m*v+C*d,f[1]=T*v+A*d,f[2]=E*v+M*d,f[3]=y*v+R*d,f[4]=C*v-m*d,f[5]=A*v-T*d,f[6]=M*v-E*d,f[7]=R*v-y*d,this},fromRotationTranslation:function(o,f){var d=o.x,v=o.y,m=o.z,T=o.w,E=d+d,y=v+v,C=m+m,A=d*E,M=d*y,R=d*C,O=v*y,L=v*C,I=m*C,N=T*E,B=T*y,b=T*C;return this.setValues(1-(O+I),M+b,R-B,0,M-b,1-(A+I),L+N,0,R+B,L-N,1-(A+O),0,f.x,f.y,f.z,1)},fromQuat:function(o){var f=o.x,d=o.y,v=o.z,m=o.w,T=f+f,E=d+d,y=v+v,C=f*T,A=f*E,M=f*y,R=d*E,O=d*y,L=v*y,I=m*T,N=m*E,B=m*y;return this.setValues(1-(R+L),A+B,M-N,0,A-B,1-(C+L),O+I,0,M+N,O-I,1-(C+R),0,0,0,0,1)},frustum:function(o,f,d,v,m,T){var E=1/(f-o),y=1/(v-d),C=1/(m-T);return this.setValues(m*2*E,0,0,0,0,m*2*y,0,0,(f+o)*E,(v+d)*y,(T+m)*C,-1,0,0,T*m*2*C,0)},perspective:function(o,f,d,v){var m=1/Math.tan(o/2),T=1/(d-v);return this.setValues(m/f,0,0,0,0,m,0,0,0,0,(v+d)*T,-1,0,0,2*v*d*T,0)},perspectiveLH:function(o,f,d,v){return this.setValues(2*d/o,0,0,0,0,2*d/f,0,0,0,0,-v/(d-v),1,0,0,d*v/(d-v),0)},ortho:function(o,f,d,v,m,T){var E=o-f,y=d-v,C=m-T;return E=E===0?E:1/E,y=y===0?y:1/y,C=C===0?C:1/C,this.setValues(-2*E,0,0,0,0,-2*y,0,0,0,0,2*C,0,(o+f)*E,(v+d)*y,(T+m)*C,1)},lookAtRH:function(o,f,d){var v=this.val;return n.subVectors(o,f),n.getLengthSquared()===0&&(n.z=1),n.normalize(),r.crossVectors(d,n),r.getLengthSquared()===0&&(Math.abs(d.z)===1?n.x+=1e-4:n.z+=1e-4,n.normalize(),r.crossVectors(d,n)),r.normalize(),u.crossVectors(n,r),v[0]=r.x,v[1]=r.y,v[2]=r.z,v[4]=u.x,v[5]=u.y,v[6]=u.z,v[8]=n.x,v[9]=n.y,v[10]=n.z,this},lookAt:function(o,f,d){var v=o.x,m=o.y,T=o.z,E=d.x,y=d.y,C=d.z,A=f.x,M=f.y,R=f.z;if(Math.abs(v-A)<h&&Math.abs(m-M)<h&&Math.abs(T-R)<h)return this.identity();var O=v-A,L=m-M,I=T-R,N=1/Math.sqrt(O*O+L*L+I*I);O*=N,L*=N,I*=N;var B=y*I-C*L,b=C*O-E*I,X=E*L-y*O;N=Math.sqrt(B*B+b*b+X*X),N?(N=1/N,B*=N,b*=N,X*=N):(B=0,b=0,X=0);var W=L*X-I*b,$=I*B-O*X,z=O*b-L*B;return N=Math.sqrt(W*W+$*$+z*z),N?(N=1/N,W*=N,$*=N,z*=N):(W=0,$=0,z=0),this.setValues(B,W,O,0,b,$,L,0,X,z,I,0,-(B*v+b*m+X*T),-(W*v+$*m+z*T),-(O*v+L*m+I*T),1)},yawPitchRoll:function(o,f,d){this.zero(),s.zero(),i.zero();var v=this.val,m=s.val,T=i.val,E=Math.sin(d),y=Math.cos(d);return v[10]=1,v[15]=1,v[0]=y,v[1]=E,v[4]=-E,v[5]=y,E=Math.sin(f),y=Math.cos(f),m[0]=1,m[15]=1,m[5]=y,m[10]=y,m[9]=-E,m[6]=E,E=Math.sin(o),y=Math.cos(o),T[5]=1,T[15]=1,T[0]=y,T[2]=-E,T[8]=E,T[10]=y,this.multiplyLocal(s),this.multiplyLocal(i),this},setWorldMatrix:function(o,f,d,v,m){return this.yawPitchRoll(o.y,o.x,o.z),s.scaling(d.x,d.y,d.z),i.xyz(f.x,f.y,f.z),this.multiplyLocal(s),this.multiplyLocal(i),v&&this.multiplyLocal(v),m&&this.multiplyLocal(m),this},multiplyToMat4:function(o,f){var d=this.val,v=o.val,m=d[0],T=d[1],E=d[2],y=d[3],C=d[4],A=d[5],M=d[6],R=d[7],O=d[8],L=d[9],I=d[10],N=d[11],B=d[12],b=d[13],X=d[14],W=d[15],$=v[0],z=v[1],V=v[2],D=v[3],G=v[4],U=v[5],Y=v[6],H=v[7],Z=v[8],K=v[9],k=v[10],j=v[11],Q=v[12],J=v[13],_=v[14],q=v[15];return f.setValues($*m+z*C+V*O+D*B,z*T+z*A+V*L+D*b,V*E+z*M+V*I+D*X,D*y+z*R+V*N+D*W,G*m+U*C+Y*O+H*B,G*T+U*A+Y*L+H*b,G*E+U*M+Y*I+H*X,G*y+U*R+Y*N+H*W,Z*m+K*C+k*O+j*B,Z*T+K*A+k*L+j*b,Z*E+K*M+k*I+j*X,Z*y+K*R+k*N+j*W,Q*m+J*C+_*O+q*B,Q*T+J*A+_*L+q*b,Q*E+J*M+_*I+q*X,Q*y+J*R+_*N+q*W)},fromRotationXYTranslation:function(o,f,d){var v=f.x,m=f.y,T=f.z,E=Math.sin(o.x),y=Math.cos(o.x),C=Math.sin(o.y),A=Math.cos(o.y),M=v,R=m,O=T,L=-E,I=0-L*C,N=0-y*C,B=L*A,b=y*A;return d||(M=A*v+C*T,R=I*v+y*m+B*T,O=N*v+E*m+b*T),this.setValues(A,I,N,0,0,y,E,0,C,B,b,0,M,R,O,1)},getMaxScaleOnAxis:function(){var o=this.val,f=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],d=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],v=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(f,d,v))}}),s=new a,i=new a,r=new g,u=new g,n=new g;p.exports=a},69635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return Math.min(t+l,g)};p.exports=S},37394:p=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=t.length;if(l===0)return 0;t.sort(function(h,a){return h-a});var g=Math.floor(l/2);return l%2===0?(t[g]+t[g-1])/2:t[g]};p.exports=S},17259:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return Math.max(t-l,g)};p.exports=S},61820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){g===void 0&&(g=l+1);var a=(t-l)/(g-l);return a>1?h!==void 0?(a=(h-t)/(h-g),a<0&&(a=0)):a=1:a<0&&(a=0),a};p.exports=S},75003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(5341),h=t(72283),a=t(70015),s=1e-6,i=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),u=new a(1,0,0),n=new a(0,1,0),o=new a,f=new g,d=new l({initialize:function(m,T,E,y){this.onChangeCallback=h,this.set(m,T,E,y)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,m,T,E,y){return y===void 0&&(y=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=m||0,this._z=T||0,this._w=E||0),y&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,m=this.y,T=this.z,E=this.w;return Math.sqrt(v*v+m*m+T*T+E*E)},lengthSq:function(){var v=this.x,m=this.y,T=this.z,E=this.w;return v*v+m*m+T*T+E*E},normalize:function(){var v=this.x,m=this.y,T=this.z,E=this.w,y=v*v+m*m+T*T+E*E;return y>0&&(y=1/Math.sqrt(y),this._x=v*y,this._y=m*y,this._z=T*y,this._w=E*y),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,m){m===void 0&&(m=0);var T=this.x,E=this.y,y=this.z,C=this.w;return this.set(T+m*(v.x-T),E+m*(v.y-E),y+m*(v.z-y),C+m*(v.w-C))},rotationTo:function(v,m){var T=v.x*m.x+v.y*m.y+v.z*m.z;return T<-.999999?(o.copy(u).cross(v).length()<s&&o.copy(n).cross(v),o.normalize(),this.setAxisAngle(o,Math.PI)):T>.999999?this.set(0,0,0,1):(o.copy(v).cross(m),this._x=o.x,this._y=o.y,this._z=o.z,this._w=1+T,this.normalize())},setAxes:function(v,m,T){var E=f.val;return E[0]=m.x,E[3]=m.y,E[6]=m.z,E[1]=T.x,E[4]=T.y,E[7]=T.z,E[2]=-v.x,E[5]=-v.y,E[8]=-v.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,m){m=m*.5;var T=Math.sin(m);return this.set(T*v.x,T*v.y,T*v.z,Math.cos(m))},multiply:function(v){var m=this.x,T=this.y,E=this.z,y=this.w,C=v.x,A=v.y,M=v.z,R=v.w;return this.set(m*R+y*C+T*M-E*A,T*R+y*A+E*C-m*M,E*R+y*M+m*A-T*C,y*R-m*C-T*A-E*M)},slerp:function(v,m){var T=this.x,E=this.y,y=this.z,C=this.w,A=v.x,M=v.y,R=v.z,O=v.w,L=T*A+E*M+y*R+C*O;L<0&&(L=-L,A=-A,M=-M,R=-R,O=-O);var I=1-m,N=m;if(1-L>s){var B=Math.acos(L),b=Math.sin(B);I=Math.sin((1-m)*B)/b,N=Math.sin(m*B)/b}return this.set(I*T+N*A,I*E+N*M,I*y+N*R,I*C+N*O)},invert:function(){var v=this.x,m=this.y,T=this.z,E=this.w,y=v*v+m*m+T*T+E*E,C=y?1/y:0;return this.set(-v*C,-m*C,-T*C,E*C)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var m=this.x,T=this.y,E=this.z,y=this.w,C=Math.sin(v),A=Math.cos(v);return this.set(m*A+y*C,T*A+E*C,E*A-T*C,y*A-m*C)},rotateY:function(v){v*=.5;var m=this.x,T=this.y,E=this.z,y=this.w,C=Math.sin(v),A=Math.cos(v);return this.set(m*A-E*C,T*A+y*C,E*A+m*C,y*A-T*C)},rotateZ:function(v){v*=.5;var m=this.x,T=this.y,E=this.z,y=this.w,C=Math.sin(v),A=Math.cos(v);return this.set(m*A+T*C,T*A-m*C,E*A+y*C,y*A-E*C)},calculateW:function(){var v=this.x,m=this.y,T=this.z;return this.w=-Math.sqrt(1-v*v-m*m-T*T),this},setFromEuler:function(v,m){var T=v.x/2,E=v.y/2,y=v.z/2,C=Math.cos(T),A=Math.cos(E),M=Math.cos(y),R=Math.sin(T),O=Math.sin(E),L=Math.sin(y);switch(v.order){case"XYZ":{this.set(R*A*M+C*O*L,C*O*M-R*A*L,C*A*L+R*O*M,C*A*M-R*O*L,m);break}case"YXZ":{this.set(R*A*M+C*O*L,C*O*M-R*A*L,C*A*L-R*O*M,C*A*M+R*O*L,m);break}case"ZXY":{this.set(R*A*M-C*O*L,C*O*M+R*A*L,C*A*L+R*O*M,C*A*M-R*O*L,m);break}case"ZYX":{this.set(R*A*M-C*O*L,C*O*M+R*A*L,C*A*L-R*O*M,C*A*M+R*O*L,m);break}case"YZX":{this.set(R*A*M+C*O*L,C*O*M+R*A*L,C*A*L-R*O*M,C*A*M-R*O*L,m);break}case"XZY":{this.set(R*A*M-C*O*L,C*O*M-R*A*L,C*A*L+R*O*M,C*A*M+R*O*L,m);break}}return this},setFromRotationMatrix:function(v){var m=v.val,T=m[0],E=m[4],y=m[8],C=m[1],A=m[5],M=m[9],R=m[2],O=m[6],L=m[10],I=T+A+L,N;return I>0?(N=.5/Math.sqrt(I+1),this.set((O-M)*N,(y-R)*N,(C-E)*N,.25/N)):T>A&&T>L?(N=2*Math.sqrt(1+T-A-L),this.set(.25*N,(E+C)/N,(y+R)/N,(O-M)/N)):A>L?(N=2*Math.sqrt(1+A-T-L),this.set((E+C)/N,.25*N,(M+O)/N,(y-R)/N)):(N=2*Math.sqrt(1+L-T-A),this.set((y+R)/N,(M+O)/N,.25*N,(C-E)/N)),this},fromMat3:function(v){var m=v.val,T=m[0]+m[4]+m[8],E;if(T>0)E=Math.sqrt(T+1),this.w=.5*E,E=.5/E,this._x=(m[7]-m[5])*E,this._y=(m[2]-m[6])*E,this._z=(m[3]-m[1])*E;else{var y=0;m[4]>m[0]&&(y=1),m[8]>m[y*3+y]&&(y=2);var C=i[y],A=i[C];E=Math.sqrt(m[y*3+y]-m[C*3+C]-m[A*3+A]+1),r[y]=.5*E,E=.5/E,r[C]=(m[C*3+y]+m[y*3+C])*E,r[A]=(m[A*3+y]+m[y*3+A])*E,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(m[A*3+C]-m[C*3+A])*E}return this.onChangeCallback(this),this}});p.exports=d},23701:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),g=function(h){return h*l.RAD_TO_DEG};p.exports=g},16906:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=1);var g=Math.random()*2*Math.PI;return t.x=Math.cos(g)*l,t.y=Math.sin(g)*l,t};p.exports=S},52417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=1);var g=Math.random()*2*Math.PI,h=Math.random()*2-1,a=Math.sqrt(1-h*h)*l;return t.x=Math.cos(g)*a,t.y=Math.sin(g)*a,t.z=h*l,t};p.exports=S},17915:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1),t.x=(Math.random()*2-1)*l,t.y=(Math.random()*2-1)*l,t.z=(Math.random()*2-1)*l,t.w=(Math.random()*2-1)*l,t};p.exports=S},52257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.x,h=t.y;return t.x=g*Math.cos(l)-h*Math.sin(l),t.y=g*Math.sin(l)+h*Math.cos(l),t};p.exports=S},2386:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=Math.cos(h),s=Math.sin(h),i=t.x-l,r=t.y-g;return t.x=i*a-r*s+l,t.y=i*s+r*a+g,t};p.exports=S},72395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a){var s=h+Math.atan2(t.y-g,t.x-l);return t.x=l+a*Math.cos(s),t.y=g+a*Math.sin(s),t};p.exports=S},41061:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a){return t.x=l+a*Math.cos(h),t.y=g+a*Math.sin(h),t};p.exports=S},93709:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70015),g=t(16650),h=t(75003),a=new g,s=new h,i=new l,r=function(u,n,o){return s.setAxisAngle(n,o),a.fromRotationTranslation(s,i.set(0,0,0)),u.transformMat4(a)};p.exports=r},67233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};p.exports=S},64333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){l===void 0&&(l=0),g===void 0&&(g=10);var h=Math.pow(g,-l);return Math.round(t*h)/h};p.exports=S},59533:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){l===void 0&&(l=1),g===void 0&&(g=1),h===void 0&&(h=1),h*=Math.PI/t;for(var a=[],s=[],i=0;i<t;i++)g-=l*h,l+=g*h,a[i]=g,s[i]=l;return{sin:s,cos:a,length:t}};p.exports=S},5514:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t<=l?0:t>=g?1:(t=(t-l)/(g-l),t*t*(3-2*t))};p.exports=S},87736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t=Math.max(0,Math.min(1,(t-l)/(g-l))),t*t*t*(t*(t*6-15)+10)};p.exports=S},55805:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=function(h,a,s,i){i===void 0&&(i=new l);var r=0,u=0,n=a*s;return h>0&&h<=n&&(h>a-1?(u=Math.floor(h/a),r=h-u*a):r=h),i.set(r,u)};p.exports=g},64462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=function(h,a,s,i,r,u,n,o){o===void 0&&(o=new l);var f=Math.sin(r),d=Math.cos(r),v=d*u,m=f*u,T=-f*n,E=d*n,y=1/(v*E+T*-m);return o.x=E*y*h+-T*y*a+(i*T-s*E)*y,o.y=v*y*a+-m*y*h+(-i*v+s*m)*y,o};p.exports=g},93736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(88456),h=new l({initialize:function(s,i){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(i===void 0&&(i=s),this.x=s||0,this.y=i||0)},clone:function(){return new h(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,s){return s===void 0&&(s=a),this.x=a,this.y=s,this},setTo:function(a,s){return this.set(a,s)},setToPolar:function(a,s){return s==null&&(s=1),this.x=Math.cos(a)*s,this.y=Math.sin(a)*s,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,s){return g(this.x,a.x,s)&&g(this.y,a.y,s)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var s=a.x-this.x,i=a.y-this.y;return Math.sqrt(s*s+i*i)},distanceSq:function(a){var s=a.x-this.x,i=a.y-this.y;return s*s+i*i},length:function(){var a=this.x,s=this.y;return Math.sqrt(a*a+s*s)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,s=this.y;return a*a+s*s},normalize:function(){var a=this.x,s=this.y,i=a*a+s*s;return i>0&&(i=1/Math.sqrt(i),this.x=a*i,this.y=s*i),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,s){s===void 0&&(s=0);var i=this.x,r=this.y;return this.x=i+s*(a.x-i),this.y=r+s*(a.y-r),this},transformMat3:function(a){var s=this.x,i=this.y,r=a.val;return this.x=r[0]*s+r[3]*i+r[6],this.y=r[1]*s+r[4]*i+r[7],this},transformMat4:function(a){var s=this.x,i=this.y,r=a.val;return this.x=r[0]*s+r[4]*i+r[12],this.y=r[1]*s+r[5]*i+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var s=this.length();return s&&s>a&&this.scale(a/s),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var s=Math.cos(a),i=Math.sin(a);return this.set(s*this.x-i*this.y,i*this.x+s*this.y)},project:function(a){var s=this.dot(a)/a.dot(a);return this.copy(a).scale(s)}});h.ZERO=new h,h.RIGHT=new h(1,0),h.LEFT=new h(-1,0),h.UP=new h(0,-1),h.DOWN=new h(0,1),h.ONE=new h(1,1),p.exports=h},70015:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s,i){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=s||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(h){return this.x=Math.min(this.x,h.x),this.y=Math.min(this.y,h.y),this.z=Math.min(this.z,h.z),this},max:function(h){return this.x=Math.max(this.x,h.x),this.y=Math.max(this.y,h.y),this.z=Math.max(this.z,h.z),this},clone:function(){return new g(this.x,this.y,this.z)},addVectors:function(h,a){return this.x=h.x+a.x,this.y=h.y+a.y,this.z=h.z+a.z,this},crossVectors:function(h,a){var s=h.x,i=h.y,r=h.z,u=a.x,n=a.y,o=a.z;return this.x=i*o-r*n,this.y=r*u-s*o,this.z=s*n-i*u,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this},set:function(h,a,s){return typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=a||0,this.z=s||0),this},setFromMatrixPosition:function(h){return this.fromArray(h.val,12)},setFromMatrixColumn:function(h,a){return this.fromArray(h.val,a*4)},fromArray:function(h,a){return a===void 0&&(a=0),this.x=h[a],this.y=h[a+1],this.z=h[a+2],this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this},addScalar:function(h){return this.x+=h,this.y+=h,this.z+=h,this},addScale:function(h,a){return this.x+=h.x*a,this.y+=h.y*a,this.z+=h.z*a||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h,this.z*=h):(this.x=0,this.y=0,this.z=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(h){var a=h.x-this.x,s=h.y-this.y,i=h.z-this.z||0;return Math.sqrt(a*a+s*s+i*i)},distanceSq:function(h){var a=h.x-this.x,s=h.y-this.y,i=h.z-this.z||0;return a*a+s*s+i*i},length:function(){var h=this.x,a=this.y,s=this.z;return Math.sqrt(h*h+a*a+s*s)},lengthSq:function(){var h=this.x,a=this.y,s=this.z;return h*h+a*a+s*s},normalize:function(){var h=this.x,a=this.y,s=this.z,i=h*h+a*a+s*s;return i>0&&(i=1/Math.sqrt(i),this.x=h*i,this.y=a*i,this.z=s*i),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z},cross:function(h){var a=this.x,s=this.y,i=this.z,r=h.x,u=h.y,n=h.z;return this.x=s*n-i*u,this.y=i*r-a*n,this.z=a*u-s*r,this},lerp:function(h,a){a===void 0&&(a=0);var s=this.x,i=this.y,r=this.z;return this.x=s+a*(h.x-s),this.y=i+a*(h.y-i),this.z=r+a*(h.z-r),this},applyMatrix3:function(h){var a=this.x,s=this.y,i=this.z,r=h.val;return this.x=r[0]*a+r[3]*s+r[6]*i,this.y=r[1]*a+r[4]*s+r[7]*i,this.z=r[2]*a+r[5]*s+r[8]*i,this},applyMatrix4:function(h){var a=this.x,s=this.y,i=this.z,r=h.val,u=1/(r[3]*a+r[7]*s+r[11]*i+r[15]);return this.x=(r[0]*a+r[4]*s+r[8]*i+r[12])*u,this.y=(r[1]*a+r[5]*s+r[9]*i+r[13])*u,this.z=(r[2]*a+r[6]*s+r[10]*i+r[14])*u,this},transformMat3:function(h){var a=this.x,s=this.y,i=this.z,r=h.val;return this.x=a*r[0]+s*r[3]+i*r[6],this.y=a*r[1]+s*r[4]+i*r[7],this.z=a*r[2]+s*r[5]+i*r[8],this},transformMat4:function(h){var a=this.x,s=this.y,i=this.z,r=h.val;return this.x=r[0]*a+r[4]*s+r[8]*i+r[12],this.y=r[1]*a+r[5]*s+r[9]*i+r[13],this.z=r[2]*a+r[6]*s+r[10]*i+r[14],this},transformCoordinates:function(h){var a=this.x,s=this.y,i=this.z,r=h.val,u=a*r[0]+s*r[4]+i*r[8]+r[12],n=a*r[1]+s*r[5]+i*r[9]+r[13],o=a*r[2]+s*r[6]+i*r[10]+r[14],f=a*r[3]+s*r[7]+i*r[11]+r[15];return this.x=u/f,this.y=n/f,this.z=o/f,this},transformQuat:function(h){var a=this.x,s=this.y,i=this.z,r=h.x,u=h.y,n=h.z,o=h.w,f=o*a+u*i-n*s,d=o*s+n*a-r*i,v=o*i+r*s-u*a,m=-r*a-u*s-n*i;return this.x=f*o+m*-r+d*-n-v*-u,this.y=d*o+m*-u+v*-r-f*-n,this.z=v*o+m*-n+f*-u-d*-r,this},project:function(h){var a=this.x,s=this.y,i=this.z,r=h.val,u=r[0],n=r[1],o=r[2],f=r[3],d=r[4],v=r[5],m=r[6],T=r[7],E=r[8],y=r[9],C=r[10],A=r[11],M=r[12],R=r[13],O=r[14],L=r[15],I=1/(a*f+s*T+i*A+L);return this.x=(a*u+s*d+i*E+M)*I,this.y=(a*n+s*v+i*y+R)*I,this.z=(a*o+s*m+i*C+O)*I,this},projectViewMatrix:function(h,a){return this.applyMatrix4(h).applyMatrix4(a)},unprojectViewMatrix:function(h,a){return this.applyMatrix4(h).applyMatrix4(a)},unproject:function(h,a){var s=h.x,i=h.y,r=h.z,u=h.w,n=this.x-s,o=u-this.y-1-i,f=this.z;return this.x=2*n/r-1,this.y=2*o/u-1,this.z=2*f-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});g.ZERO=new g,g.RIGHT=new g(1,0,0),g.LEFT=new g(-1,0,0),g.UP=new g(0,-1,0),g.DOWN=new g(0,1,0),g.FORWARD=new g(0,0,1),g.BACK=new g(0,0,-1),g.ONE=new g(1,1,1),p.exports=g},51729:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s,i,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=s||0,this.z=i||0,this.w=r||0)},clone:function(){return new g(this.x,this.y,this.z,this.w)},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this.w=h.w||0,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z&&this.w===h.w},set:function(h,a,s,i){return typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=a||0,this.z=s||0,this.w=i||0),this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this.w+=h.w||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this.w-=h.w||0,this},scale:function(h){return this.x*=h,this.y*=h,this.z*=h,this.w*=h,this},length:function(){var h=this.x,a=this.y,s=this.z,i=this.w;return Math.sqrt(h*h+a*a+s*s+i*i)},lengthSq:function(){var h=this.x,a=this.y,s=this.z,i=this.w;return h*h+a*a+s*s+i*i},normalize:function(){var h=this.x,a=this.y,s=this.z,i=this.w,r=h*h+a*a+s*s+i*i;return r>0&&(r=1/Math.sqrt(r),this.x=h*r,this.y=a*r,this.z=s*r,this.w=i*r),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z+this.w*h.w},lerp:function(h,a){a===void 0&&(a=0);var s=this.x,i=this.y,r=this.z,u=this.w;return this.x=s+a*(h.x-s),this.y=i+a*(h.y-i),this.z=r+a*(h.z-r),this.w=u+a*(h.w-u),this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this.w*=h.w||1,this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this.w/=h.w||1,this},distance:function(h){var a=h.x-this.x,s=h.y-this.y,i=h.z-this.z||0,r=h.w-this.w||0;return Math.sqrt(a*a+s*s+i*i+r*r)},distanceSq:function(h){var a=h.x-this.x,s=h.y-this.y,i=h.z-this.z||0,r=h.w-this.w||0;return a*a+s*s+i*i+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(h){var a=this.x,s=this.y,i=this.z,r=this.w,u=h.val;return this.x=u[0]*a+u[4]*s+u[8]*i+u[12]*r,this.y=u[1]*a+u[5]*s+u[9]*i+u[13]*r,this.z=u[2]*a+u[6]*s+u[10]*i+u[14]*r,this.w=u[3]*a+u[7]*s+u[11]*i+u[15]*r,this},transformQuat:function(h){var a=this.x,s=this.y,i=this.z,r=h.x,u=h.y,n=h.z,o=h.w,f=o*a+u*i-n*s,d=o*s+n*a-r*i,v=o*i+r*s-u*a,m=-r*a-u*s-n*i;return this.x=f*o+m*-r+d*-n-v*-u,this.y=d*o+m*-u+v*-r-f*-n,this.z=v*o+m*-n+f*-u-d*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});g.prototype.sub=g.prototype.subtract,g.prototype.mul=g.prototype.multiply,g.prototype.div=g.prototype.divide,g.prototype.dist=g.prototype.distance,g.prototype.distSq=g.prototype.distanceSq,g.prototype.len=g.prototype.length,g.prototype.lenSq=g.prototype.lengthSq,p.exports=g},9557:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return Math.abs(t-l)<=g};p.exports=S},1071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(t>=l&&t<=g)return t;var h=g-l;return l+((t-l)%h+h)%h};p.exports=S},90447:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){return Math.atan2(h-l,g-t)};p.exports=S},94240:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return Math.atan2(l.y-t.y,l.x-t.x)};p.exports=S},84066:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return Math.atan2(l.x-t.x,l.y-t.y)};p.exports=S},9678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){return Math.atan2(g-t,h-l)};p.exports=S},76861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),g=function(h){return h>Math.PI&&(h-=l.PI2),Math.abs(((h+l.TAU)%l.PI2-l.PI2)%l.PI2)};p.exports=g},37570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};p.exports=S},87597:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61616),g=function(){return l(-Math.PI,Math.PI)};p.exports=g},74493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61616),g=function(){return l(-180,180)};p.exports=g},19049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37570),g=function(h){return l(h+Math.PI)};p.exports=g},90612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),g=function(h,a,s){return s===void 0&&(s=.05),h===a||(Math.abs(a-h)<=s||Math.abs(a-h)>=l.PI2-s?h=a:(Math.abs(a-h)>Math.PI&&(a<h?a+=l.PI2:a-=l.PI2),a>h?h+=s:a<h&&(h-=s))),h};p.exports=g},93954:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=l-t;if(g===0)return 0;var h=Math.floor((g- -180)/360);return g-h*360};p.exports=S},35786:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1071),g=function(h){return l(h,-Math.PI,Math.PI)};p.exports=g},62138:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1071),g=function(h){return l(h,-180,180)};p.exports=g},22153:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(90447),BetweenPoints:t(94240),BetweenPointsY:t(84066),BetweenY:t(9678),CounterClockwise:t(76861),Normalize:t(37570),Random:t(87597),RandomDegrees:t(74493),Reverse:t(19049),RotateTo:t(90612),ShortestBetween:t(93954),Wrap:t(35786),WrapDegrees:t(62138)}},83392:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};p.exports=S},53996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=t-g,s=l-h;return Math.sqrt(a*a+s*s)};p.exports=S},92951:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.x-l.x,h=t.y-l.y;return Math.sqrt(g*g+h*h)};p.exports=S},12161:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.x-l.x,h=t.y-l.y;return g*g+h*h};p.exports=S},38057:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){return Math.max(Math.abs(t-g),Math.abs(l-h))};p.exports=S},33297:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(g-t,a)+Math.pow(h-l,a))};p.exports=S},90366:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){return Math.abs(t-g)+Math.abs(l-h)};p.exports=S},35032:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=t-g,s=l-h;return a*a+s*s};p.exports=S},10130:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(53996),BetweenPoints:t(92951),BetweenPointsSquared:t(12161),Chebyshev:t(38057),Power:t(33297),Snake:t(90366),Squared:t(35032)}},35060:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25265),g=t(57428),h=t(73214),a=t(71778),s=t(36468),i=t(88258),r=t(52910),u=t(67799),n=t(74083),o=t(92284),f=t(28035),d=t(8754);p.exports={Power0:r,Power1:u.Out,Power2:a.Out,Power3:n.Out,Power4:o.Out,Linear:r,Quad:u.Out,Cubic:a.Out,Quart:n.Out,Quint:o.Out,Sine:f.Out,Expo:i.Out,Circ:h.Out,Elastic:s.Out,Back:l.Out,Bounce:g.Out,Stepped:d,"Quad.easeIn":u.In,"Cubic.easeIn":a.In,"Quart.easeIn":n.In,"Quint.easeIn":o.In,"Sine.easeIn":f.In,"Expo.easeIn":i.In,"Circ.easeIn":h.In,"Elastic.easeIn":s.In,"Back.easeIn":l.In,"Bounce.easeIn":g.In,"Quad.easeOut":u.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":n.Out,"Quint.easeOut":o.Out,"Sine.easeOut":f.Out,"Expo.easeOut":i.Out,"Circ.easeOut":h.Out,"Elastic.easeOut":s.Out,"Back.easeOut":l.Out,"Bounce.easeOut":g.Out,"Quad.easeInOut":u.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":n.InOut,"Quint.easeInOut":o.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":i.InOut,"Circ.easeInOut":h.InOut,"Elastic.easeInOut":s.InOut,"Back.easeInOut":l.InOut,"Bounce.easeInOut":g.InOut}},25860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1.70158),t*t*((l+1)*t-l)};p.exports=S},45264:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=1.70158);var g=l*1.525;return(t*=2)<1?.5*(t*t*((g+1)*t-g)):.5*((t-=2)*t*((g+1)*t+g)+2)};p.exports=S},36699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1.70158),--t*t*((l+1)*t+l)+1};p.exports=S},25265:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(25860),Out:t(36699),InOut:t(45264)}},62191:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};p.exports=S},24799:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=!1;return t<.5?(t=1-t*2,l=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,l?(1-t)*.5:t*.5+.5};p.exports=S},60819:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};p.exports=S},57428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(62191),Out:t(60819),InOut:t(24799)}},86855:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};p.exports=S},7280:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};p.exports=S},18058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};p.exports=S},73214:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(86855),Out:t(18058),InOut:t(7280)}},91532:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};p.exports=S},63180:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};p.exports=S},16518:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};p.exports=S},71778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(91532),Out:t(16518),InOut:t(63180)}},24729:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(l===void 0&&(l=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var h=g/4;return l<1?l=1:h=g*Math.asin(1/l)/(2*Math.PI),-(l*Math.pow(2,10*(t-=1))*Math.sin((t-h)*(2*Math.PI)/g))};p.exports=S},50325:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(l===void 0&&(l=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var h=g/4;return l<1?l=1:h=g*Math.asin(1/l)/(2*Math.PI),(t*=2)<1?-.5*(l*Math.pow(2,10*(t-=1))*Math.sin((t-h)*(2*Math.PI)/g)):l*Math.pow(2,-10*(t-=1))*Math.sin((t-h)*(2*Math.PI)/g)*.5+1};p.exports=S},84074:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(l===void 0&&(l=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var h=g/4;return l<1?l=1:h=g*Math.asin(1/l)/(2*Math.PI),l*Math.pow(2,-10*t)*Math.sin((t-h)*(2*Math.PI)/g)+1};p.exports=S},36468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(24729),Out:t(84074),InOut:t(50325)}},95638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};p.exports=S},10357:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};p.exports=S},14894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};p.exports=S},88258:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(95638),Out:t(14894),InOut:t(10357)}},33063:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Back:t(25265),Bounce:t(57428),Circular:t(73214),Cubic:t(71778),Elastic:t(36468),Expo:t(88258),Linear:t(52910),Quadratic:t(67799),Quartic:t(74083),Quintic:t(92284),Sine:t(28035),Stepped:t(8754)}},43927:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};p.exports=S},52910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(43927)},77471:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};p.exports=S},83863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};p.exports=S},44383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};p.exports=S},67799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(77471),Out:t(44383),InOut:t(83863)}},48311:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};p.exports=S},55248:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};p.exports=S},23135:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};p.exports=S},74083:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(48311),Out:t(23135),InOut:t(55248)}},7313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};p.exports=S},98759:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};p.exports=S},26670:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};p.exports=S},92284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(7313),Out:t(26670),InOut:t(98759)}},52929:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};p.exports=S},66333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};p.exports=S},37255:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};p.exports=S},28035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(52929),Out:t(37255),InOut:t(66333)}},52770:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1),t<=0?0:t>=1?1:((l*t|0)+1)*(1/l)};p.exports=S},8754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(52770)},17247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1e-4),Math.ceil(t-l)};p.exports=S},88456:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return g===void 0&&(g=1e-4),Math.abs(t-l)<g};p.exports=S},61824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1e-4),Math.floor(t+l)};p.exports=S},41935:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return g===void 0&&(g=1e-4),t>l-g};p.exports=S},54726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return g===void 0&&(g=1e-4),t<l+g};p.exports=S},52778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(17247),Equal:t(88456),Floor:t(61824),GreaterThan:t(41935),LessThan:t(54726)}},5923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),g=t(98611),h={Angle:t(22153),Distance:t(10130),Easing:t(33063),Fuzzy:t(52778),Interpolation:t(48528),Pow2:t(73773),Snap:t(23679),RandomDataGenerator:t(81429),Average:t(26042),Bernstein:t(22824),Between:t(17489),CatmullRom:t(14976),CeilTo:t(89129),Clamp:t(82897),DegToRad:t(75606),Difference:t(767),Euler:t(9849),Factorial:t(8034),FloatBetween:t(61616),FloorTo:t(60679),FromPercent:t(91806),GetSpeed:t(79366),IsEven:t(43776),IsEvenStrict:t(58442),Linear:t(42798),LinearXY:t(61072),MaxAdd:t(69635),Median:t(37394),MinSub:t(17259),Percent:t(61820),RadToDeg:t(23701),RandomXY:t(16906),RandomXYZ:t(52417),RandomXYZW:t(17915),Rotate:t(52257),RotateAround:t(2386),RotateAroundDistance:t(72395),RotateTo:t(41061),RoundAwayFromZero:t(67233),RoundTo:t(64333),SinCosTableGenerator:t(59533),SmootherStep:t(87736),SmoothStep:t(5514),ToXY:t(55805),TransformXY:t(64462),Within:t(9557),Wrap:t(1071),Vector2:t(93736),Vector3:t(70015),Vector4:t(51729),Matrix3:t(5341),Matrix4:t(16650),Quaternion:t(75003),RotateVec3:t(93709)};h=g(!1,h,l),p.exports=h},63210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22824),g=function(h,a){for(var s=0,i=h.length-1,r=0;r<=i;r++)s+=Math.pow(1-a,i-r)*Math.pow(a,r)*h[r]*l(i,r);return s};p.exports=g},88332:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14976),g=function(h,a){var s=h.length-1,i=s*a,r=Math.floor(i);return h[0]===h[s]?(a<0&&(r=Math.floor(i=s*(1+a))),l(i-r,h[(r-1+s)%s],h[r],h[(r+1)%s],h[(r+2)%s])):a<0?h[0]-(l(-i,h[0],h[0],h[1],h[1])-h[0]):a>1?h[s]-(l(i-s,h[s],h[s],h[s-1],h[s-1])-h[s]):l(i-r,h[r?r-1:0],h[r],h[s<r+1?s:r+1],h[s<r+2?s:r+2])};p.exports=g},34631:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(a,s){var i=1-a;return i*i*i*s}function t(a,s){var i=1-a;return 3*i*i*a*s}function l(a,s){return 3*(1-a)*a*a*s}function g(a,s){return a*a*a*s}var h=function(a,s,i,r,u){return S(a,s)+t(a,i)+l(a,r)+g(a,u)};p.exports=h},47614:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42798),g=function(h,a){var s=h.length-1,i=s*a,r=Math.floor(i);return a<0?l(h[0],h[1],i):a>1?l(h[s],h[s-1],s-i):l(h[r],h[r+1>s?s:r+1],i-r)};p.exports=g},16252:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(h,a){var s=1-h;return s*s*a}function t(h,a){return 2*(1-h)*h*a}function l(h,a){return h*h*a}var g=function(h,a,s,i){return S(h,a)+t(h,s)+l(h,i)};p.exports=g},44521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(5514),g=function(h,a,s){return a+(s-a)*l(h,0,1)};p.exports=g},45507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87736),g=function(h,a,s){return a+(s-a)*l(h,0,1)};p.exports=g},48528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bezier:t(63210),CatmullRom:t(88332),CubicBezier:t(34631),Linear:t(47614),QuadraticBezier:t(16252),SmoothStep:t(44521),SmootherStep:t(45507)}},3504:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=Math.log(t)/.6931471805599453;return 1<<Math.ceil(l)};p.exports=S},28621:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t>0&&(t&t-1)===0&&l>0&&(l&l-1)===0};p.exports=S},2018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};p.exports=S},73773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetNext:t(3504),IsSize:t(28621),IsValue:t(2018)}},81429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var h=2091639*this.s0+this.c*23283064365386963e-26;return this.c=h|0,this.s0=this.s1,this.s1=this.s2,this.s2=h-this.c,this.s2},hash:function(h){var a,s=this.n;h=h.toString();for(var i=0;i<h.length;i++)s+=h.charCodeAt(i),a=.02519603282416938*s,s=a>>>0,a-=s,a*=s,s=a>>>0,a-=s,s+=a*4294967296;return this.n=s,(s>>>0)*23283064365386963e-26},init:function(h){typeof h=="string"?this.state(h):this.sow(h)},sow:function(h){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!h)for(var a=0;a<h.length&&h[a]!=null;a++){var s=h[a];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(h,a){return Math.floor(this.realInRange(0,a-h+1)+h)},between:function(h,a){return Math.floor(this.realInRange(0,a-h+1)+h)},realInRange:function(h,a){return this.frac()*(a-h)+h},normal:function(){return 1-2*this.frac()},uuid:function(){var h="",a="";for(a=h="";h++<36;a+=~h%5|h*3&4?(h^15?8^this.frac()*(h^20?16:4):4).toString(16):"-");return a},pick:function(h){return h[this.integerInRange(0,h.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(h){return h[~~(Math.pow(this.frac(),2)*(h.length-1)+.5)]},timestamp:function(h,a){return this.realInRange(h||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(h){return typeof h=="string"&&h.match(/^!rnd/)&&(h=h.split(","),this.c=parseFloat(h[1]),this.s0=parseFloat(h[2]),this.s1=parseFloat(h[3]),this.s2=parseFloat(h[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(h){for(var a=h.length-1,s=a;s>0;s--){var i=Math.floor(this.frac()*(s+1)),r=h[i];h[i]=h[s],h[s]=r}return h}});p.exports=g},82127:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){return g===void 0&&(g=0),l===0?t:(t-=g,t=l*Math.ceil(t/l),h?(g+t)/l:g+t)};p.exports=S},84314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){return g===void 0&&(g=0),l===0?t:(t-=g,t=l*Math.floor(t/l),h?(g+t)/l:g+t)};p.exports=S},88462:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){return g===void 0&&(g=0),l===0?t:(t-=g,t=l*Math.round(t/l),h?(g+t)/l:g+t)};p.exports=S},23679:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(82127),Floor:t(84314),To:t(88462)}},92491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(75205);var l=t(86459),g=t(98611),h={Actions:t(83979),Animations:t(13517),BlendModes:t(95723),Cache:t(45820),Cameras:t(44143),Core:t(80293),Class:t(56694),Create:t(84106),Curves:t(73962),Data:t(1999),Display:t(24816),DOM:t(3590),Events:t(95146),FX:t(96910),Game:t(15213),GameObjects:t(48013),Geom:t(84068),Input:t(20873),Loader:t(95695),Math:t(5923),Physics:t(53954),Plugins:t(45615),Renderer:t(42069),Scale:t(86754),ScaleModes:t(27394),Scene:t(87157),Scenes:t(20436),Structs:t(20010),Textures:t(87499),Tilemaps:t(52678),Time:t(97121),Tweens:t(75193),Utils:t(22178)};h.Sound=t(56751),h=g(!1,h,l),p.exports=h,t.g.Phaser=h},62832:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(7864),h=t(1539),a=new l({Extends:h,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(i,r,u,n,o){h.call(this,i,r,u,n,o),this.body=null}});p.exports=a},66150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(75606),h=t(53996),a=t(35032),s=t(99523),i=t(72632),r=t(30657),u=t(2732),n=t(15147),o=t(91963),f=t(7599),d=t(93736),v=t(85233),m=new l({initialize:function(E){this.scene=E,this.systems=E.sys,this.config=this.getConfig(),this.world,this.add,E.sys.events.once(f.BOOT,this.boot,this),E.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new s(this.world));var T=this.systems.events;i(this.config,"customUpdate",!1)||T.on(f.UPDATE,this.world.update,this.world),T.on(f.POST_UPDATE,this.world.postUpdate,this.world),T.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var T=this.systems.game.config.physics,E=this.systems.settings.physics,y=r(i(E,"arcade",{}),i(T,"arcade",{}));return y},overlap:function(T,E,y,C,A){return y===void 0&&(y=null),C===void 0&&(C=null),A===void 0&&(A=y),this.world.collideObjects(T,E,y,C,A,!0)},collide:function(T,E,y,C,A){return y===void 0&&(y=null),C===void 0&&(C=null),A===void 0&&(A=y),this.world.collideObjects(T,E,y,C,A,!1)},collideTiles:function(T,E,y,C,A){return this.world.collideTiles(T,E,y,C,A)},overlapTiles:function(T,E,y,C,A){return this.world.overlapTiles(T,E,y,C,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(T,E,y,C,A,M){C===void 0&&(C=60);var R=Math.atan2(y-T.y,E-T.x);return T.body.acceleration.setToPolar(R,C),A!==void 0&&M!==void 0&&T.body.maxVelocity.set(A,M),R},accelerateToObject:function(T,E,y,C,A){return this.accelerateTo(T,E.x,E.y,y,C,A)},closest:function(T,E){E||(E=this.world.bodies.entries);for(var y=Number.MAX_VALUE,C=null,A=T.x,M=T.y,R=E.length,O=0;O<R;O++){var L=E[O],I=L.body||L;if(!(T===L||T===I||T===I.gameObject||T===I.center)){var N=a(A,M,I.center.x,I.center.y);N<y&&(C=L,y=N)}}return C},furthest:function(T,E){E||(E=this.world.bodies.entries);for(var y=-1,C=null,A=T.x,M=T.y,R=E.length,O=0;O<R;O++){var L=E[O],I=L.body||L;if(!(T===L||T===I||T===I.gameObject||T===I.center)){var N=a(A,M,I.center.x,I.center.y);N>y&&(C=L,y=N)}}return C},moveTo:function(T,E,y,C,A){C===void 0&&(C=60),A===void 0&&(A=0);var M=Math.atan2(y-T.y,E-T.x);return A>0&&(C=h(T.x,T.y,E,y)/(A/1e3)),T.body.velocity.setToPolar(M,C),M},moveToObject:function(T,E,y,C){return this.moveTo(T,E.x,E.y,y,C)},velocityFromAngle:function(T,E,y){return E===void 0&&(E=60),y===void 0&&(y=new d),y.setToPolar(g(T),E)},velocityFromRotation:function(T,E,y){return E===void 0&&(E=60),y===void 0&&(y=new d),y.setToPolar(T,E)},overlapRect:function(T,E,y,C,A,M){return n(this.world,T,E,y,C,A,M)},overlapCirc:function(T,E,y,C,A){return u(this.world,T,E,y,C,A)},shutdown:function(){if(this.world){var T=this.systems.events;T.off(f.UPDATE,this.world.update,this.world),T.off(f.POST_UPDATE,this.world.postUpdate,this.world),T.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});o.register("ArcadePhysics",m,"arcadePhysics"),p.exports=m},25084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(7864),h=t(13747),a=new l({Extends:h,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(i,r,u,n,o){h.call(this,i,r,u,n,o),this.body=null}});p.exports=a},97602:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(47401),h=t(27037),a=t(23701),s=t(74118),i=t(94287),r=t(93736),u=new l({initialize:function(o,f){var d=64,v=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=f!==void 0;T&&f.displayWidth&&(d=f.displayWidth,v=f.displayHeight),T||(f=m),this.world=o,this.gameObject=T?f:void 0,this.isBody=!0,this.transform={x:f.x,y:f.y,rotation:f.angle,scaleX:f.scaleX,scaleY:f.scaleY,displayOriginX:f.displayOriginX,displayOriginY:f.displayOriginY},this.debugShowBody=o.defaults.debugShowBody,this.debugShowVelocity=o.defaults.debugShowVelocity,this.debugBodyColor=o.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(f.x-f.scaleX*f.displayOriginX,f.y-f.scaleY*f.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=f.angle,this.preRotation=f.angle,this.width=d,this.height=v,this.sourceWidth=d,this.sourceHeight=v,f.frame&&(this.sourceWidth=f.frame.realWidth,this.sourceHeight=f.frame.realHeight),this.halfWidth=Math.abs(d/2),this.halfHeight=Math.abs(v/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new r,this.newVelocity=new r,this.deltaMax=new r,this.acceleration=new r,this.allowDrag=!0,this.drag=new r,this.allowGravity=!0,this.gravity=new r,this.bounce=new r,this.worldBounce=null,this.customBoundsRectangle=o.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new r(1e4,1e4),this.maxSpeed=-1,this.friction=new r(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=g.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=g.DYNAMIC_BODY,this._sx=f.scaleX,this._sy=f.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new s},updateBounds:function(){var n=this.gameObject,o=this.transform;if(n.parentContainer){var f=n.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);o.x=f.tx,o.y=f.ty,o.rotation=a(f.rotation),o.scaleX=f.scaleX,o.scaleY=f.scaleY,o.displayOriginX=n.displayOriginX,o.displayOriginY=n.displayOriginY}else o.x=n.x,o.y=n.y,o.rotation=n.angle,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.displayOriginX=n.displayOriginX,o.displayOriginY=n.displayOriginY;var d=!1;if(this.syncBounds){var v=n.getBounds(this._bounds);this.width=v.width,this.height=v.height,d=!0}else{var m=Math.abs(o.scaleX),T=Math.abs(o.scaleY);(this._sx!==m||this._sy!==T)&&(this.width=this.sourceWidth*m,this.height=this.sourceHeight*T,this._sx=m,this._sy=T,d=!0)}d&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var n=this.transform;this.position.x=n.x+n.scaleX*(this.offset.x-n.displayOriginX),this.position.y=n.y+n.scaleY*(this.offset.y-n.displayOriginY),this.updateCenter()},resetFlags:function(n){n===void 0&&(n=!1);var o=this.wasTouching,f=this.touching,d=this.blocked;n?(o.none=!0,o.up=!1,o.down=!1,o.left=!1,o.right=!1):(o.none=f.none,o.up=f.up,o.down=f.down,o.left=f.left,o.right=f.right),f.none=!0,f.up=!1,f.down=!1,f.left=!1,f.right=!1,d.none=!0,d.up=!1,d.down=!1,d.left=!1,d.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(n,o){n&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),n&&this.update(o)},update:function(n){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,n);var o=this.velocity.x,f=this.velocity.y;this.newVelocity.set(o*n,f*n),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(f,o),this.speed=Math.sqrt(o*o+f*f),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(h.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var n=this.position.x-this.prevFrame.x,o=this.position.y-this.prevFrame.y,f=this.gameObject;if(this.moves){var d=this.deltaMax.x,v=this.deltaMax.y;d!==0&&n!==0&&(n<0&&n<-d?n=-d:n>0&&n>d&&(n=d)),v!==0&&o!==0&&(o<0&&o<-v?o=-v:o>0&&o>v&&(o=v)),f&&(f.x+=n,f.y+=o)}n<0?this.facing=g.FACING_LEFT:n>0&&(this.facing=g.FACING_RIGHT),o<0?this.facing=g.FACING_UP:o>0&&(this.facing=g.FACING_DOWN),this.allowRotation&&f&&(f.angle+=this.deltaZ()),this._tx=n,this._ty=o},setBoundsRectangle:function(n){return this.customBoundsRectangle=n||this.world.bounds,this},checkWorldBounds:function(){var n=this.position,o=this.customBoundsRectangle,f=this.world.checkCollision,d=this.worldBounce?-this.worldBounce.x:-this.bounce.x,v=this.worldBounce?-this.worldBounce.y:-this.bounce.y,m=!1;return n.x<o.x&&f.left?(n.x=o.x,this.velocity.x*=d,this.blocked.left=!0,m=!0):this.right>o.right&&f.right&&(n.x=o.right-this.width,this.velocity.x*=d,this.blocked.right=!0,m=!0),n.y<o.y&&f.up?(n.y=o.y,this.velocity.y*=v,this.blocked.up=!0,m=!0):this.bottom>o.bottom&&f.down&&(n.y=o.bottom-this.height,this.velocity.y*=v,this.blocked.down=!0,m=!0),m&&(this.blocked.none=!1,this.updateCenter()),m},setOffset:function(n,o){return o===void 0&&(o=n),this.offset.set(n,o),this},setGameObject:function(n,o){return o===void 0&&(o=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=n,n.body&&(n.body=this),this.setSize(),this.world.add(this),this.enable=o,this},setSize:function(n,o,f){f===void 0&&(f=!0);var d=this.gameObject;if(d&&(!n&&d.frame&&(n=d.frame.realWidth),!o&&d.frame&&(o=d.frame.realHeight)),this.sourceWidth=n,this.sourceHeight=o,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),f&&d&&d.getCenter){var v=(d.width-n)/2,m=(d.height-o)/2;this.offset.set(v,m)}return this.isCircle=!1,this.radius=0,this},setCircle:function(n,o,f){return o===void 0&&(o=this.offset.x),f===void 0&&(f=this.offset.y),n>0?(this.isCircle=!0,this.radius=n,this.sourceWidth=n*2,this.sourceHeight=n*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,f),this.updateCenter()):this.isCircle=!1,this},reset:function(n,o){this.stop();var f=this.gameObject;f&&(f.setPosition(n,o),this.rotation=f.angle,this.preRotation=f.angle);var d=this.position;f&&f.getTopLeft?f.getTopLeft(d):d.set(n,o),this.prev.copy(d),this.prevFrame.copy(d),f&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(n){return n.x=this.x,n.y=this.y,n.right=this.right,n.bottom=this.bottom,n},hitTest:function(n,o){if(!this.isCircle)return i(this,n,o);if(this.radius>0&&n>=this.left&&n<=this.right&&o>=this.top&&o<=this.bottom){var f=(this.center.x-n)*(this.center.x-n),d=(this.center.y-o)*(this.center.y-o);return f+d<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(n){var o=this.position,f=o.x+this.halfWidth,d=o.y+this.halfHeight;this.debugShowBody&&(n.lineStyle(n.defaultStrokeWidth,this.debugBodyColor),this.isCircle?n.strokeCircle(f,d,this.width/2):(this.checkCollision.up&&n.lineBetween(o.x,o.y,o.x+this.width,o.y),this.checkCollision.right&&n.lineBetween(o.x+this.width,o.y,o.x+this.width,o.y+this.height),this.checkCollision.down&&n.lineBetween(o.x,o.y+this.height,o.x+this.width,o.y+this.height),this.checkCollision.left&&n.lineBetween(o.x,o.y,o.x,o.y+this.height))),this.debugShowVelocity&&(n.lineStyle(n.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),n.lineBetween(f,d,f+this.velocity.x/2,d+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(n,o,f,d){n===void 0&&(n=!0),this.collideWorldBounds=n;var v=o!==void 0,m=f!==void 0;return(v||m)&&(this.worldBounce||(this.worldBounce=new r),v&&(this.worldBounce.x=o),m&&(this.worldBounce.y=f)),d!==void 0&&(this.onWorldBounds=d),this},setVelocity:function(n,o){return this.velocity.set(n,o),n=this.velocity.x,o=this.velocity.y,this.speed=Math.sqrt(n*n+o*o),this},setVelocityX:function(n){return this.setVelocity(n,this.velocity.y)},setVelocityY:function(n){return this.setVelocity(this.velocity.x,n)},setMaxVelocity:function(n,o){return this.maxVelocity.set(n,o),this},setMaxVelocityX:function(n){return this.maxVelocity.x=n,this},setMaxVelocityY:function(n){return this.maxVelocity.y=n,this},setMaxSpeed:function(n){return this.maxSpeed=n,this},setBounce:function(n,o){return this.bounce.set(n,o),this},setBounceX:function(n){return this.bounce.x=n,this},setBounceY:function(n){return this.bounce.y=n,this},setAcceleration:function(n,o){return this.acceleration.set(n,o),this},setAccelerationX:function(n){return this.acceleration.x=n,this},setAccelerationY:function(n){return this.acceleration.y=n,this},setAllowDrag:function(n){return n===void 0&&(n=!0),this.allowDrag=n,this},setAllowGravity:function(n){return n===void 0&&(n=!0),this.allowGravity=n,this},setAllowRotation:function(n){return n===void 0&&(n=!0),this.allowRotation=n,this},setDrag:function(n,o){return this.drag.set(n,o),this},setDamping:function(n){return this.useDamping=n,this},setDragX:function(n){return this.drag.x=n,this},setDragY:function(n){return this.drag.y=n,this},setGravity:function(n,o){return this.gravity.set(n,o),this},setGravityX:function(n){return this.gravity.x=n,this},setGravityY:function(n){return this.gravity.y=n,this},setFriction:function(n,o){return this.friction.set(n,o),this},setFrictionX:function(n){return this.friction.x=n,this},setFrictionY:function(n){return this.friction.y=n,this},setAngularVelocity:function(n){return this.angularVelocity=n,this},setAngularAcceleration:function(n){return this.angularAcceleration=n,this},setAngularDrag:function(n){return this.angularDrag=n,this},setMass:function(n){return this.mass=n,this},setImmovable:function(n){return n===void 0&&(n=!0),this.immovable=n,this},setEnable:function(n){return n===void 0&&(n=!0),this.enable=n,this},processX:function(n,o,f,d){this.x+=n,this.updateCenter(),o!==null&&(this.velocity.x=o);var v=this.blocked;f&&(v.left=!0,v.none=!1),d&&(v.right=!0,v.none=!1)},processY:function(n,o,f,d){this.y+=n,this.updateCenter(),o!==null&&(this.velocity.y=o);var v=this.blocked;f&&(v.up=!0,v.none=!1),d&&(v.down=!0,v.none=!1)},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=u},3909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s,i,r,u,n,o){this.world=a,this.name="",this.active=!0,this.overlapOnly=s,this.object1=i,this.object2=r,this.collideCallback=u,this.processCallback=n,this.callbackContext=o},setName:function(h){return this.name=h,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});p.exports=g},99523:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62832),g=t(25084),h=t(97602),a=t(56694),s=t(47401),i=t(10481),r=t(66634),u=t(46346),n=new a({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(o,f,d,v,m){return this.world.addCollider(o,f,d,v,m)},overlap:function(o,f,d,v,m){return this.world.addOverlap(o,f,d,v,m)},existing:function(o,f){var d=f?s.STATIC_BODY:s.DYNAMIC_BODY;return this.world.enableBody(o,d),o},staticImage:function(o,f,d,v){var m=new l(this.scene,o,f,d,v);return this.sys.displayList.add(m),this.world.enableBody(m,s.STATIC_BODY),m},image:function(o,f,d,v){var m=new l(this.scene,o,f,d,v);return this.sys.displayList.add(m),this.world.enableBody(m,s.DYNAMIC_BODY),m},staticSprite:function(o,f,d,v){var m=new g(this.scene,o,f,d,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,s.STATIC_BODY),m},sprite:function(o,f,d,v){var m=new g(this.scene,o,f,d,v);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,s.DYNAMIC_BODY),m},staticGroup:function(o,f){return this.sys.updateList.add(new u(this.world,this.world.scene,o,f))},group:function(o,f){return this.sys.updateList.add(new i(this.world,this.world.scene,o,f))},body:function(o,f,d,v){var m=new h(this.world);return m.position.set(o,f),d&&v&&m.setSize(d,v),this.world.add(m,s.DYNAMIC_BODY),m},staticBody:function(o,f,d,v){var m=new r(this.world);return m.position.set(o,f),d&&v&&m.setSize(d,v),this.world.add(m,s.STATIC_BODY),m},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=n},75671:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47401),g=function(h,a,s,i){var r=0,u=h.deltaAbsX()+a.deltaAbsX()+i;return h._dx===0&&a._dx===0?(h.embedded=!0,a.embedded=!0):h._dx>a._dx?(r=h.right-a.x,r>u&&!s||h.checkCollision.right===!1||a.checkCollision.left===!1?r=0:(h.touching.none=!1,h.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===l.STATIC_BODY&&!s&&(h.blocked.none=!1,h.blocked.right=!0),h.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.left=!0))):h._dx<a._dx&&(r=h.x-a.width-a.x,-r>u&&!s||h.checkCollision.left===!1||a.checkCollision.right===!1?r=0:(h.touching.none=!1,h.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===l.STATIC_BODY&&!s&&(h.blocked.none=!1,h.blocked.left=!0),h.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.right=!0))),h.overlapX=r,a.overlapX=r,r};p.exports=g},66185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47401),g=function(h,a,s,i){var r=0,u=h.deltaAbsY()+a.deltaAbsY()+i;return h._dy===0&&a._dy===0?(h.embedded=!0,a.embedded=!0):h._dy>a._dy?(r=h.bottom-a.y,r>u&&!s||h.checkCollision.down===!1||a.checkCollision.up===!1?r=0:(h.touching.none=!1,h.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===l.STATIC_BODY&&!s&&(h.blocked.none=!1,h.blocked.down=!0),h.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.up=!0))):h._dy<a._dy&&(r=h.y-a.bottom,-r>u&&!s||h.checkCollision.up===!1||a.checkCollision.down===!1?r=0:(h.touching.none=!1,h.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===l.STATIC_BODY&&!s&&(h.blocked.none=!1,h.blocked.up=!0),h.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.down=!0))),h.overlapY=r,a.overlapY=r,r};p.exports=g},10481:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25084),g=t(56694),h=t(47401),a=t(72632),s=t(59192),i=t(42911),r=new g({Extends:s,initialize:function(n,o,f,d){if(!f&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(i(f))d=f,f=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(f)&&i(f[0])){d=f[0];var v=this;f.forEach(function(m){m.internalCreateCallback=v.createCallbackHandler,m.internalRemoveCallback=v.removeCallbackHandler}),f=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=n,d.classType=a(d,"classType",l),this.physicsType=h.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:a(d,"collideWorldBounds",!1),setBoundsRectangle:a(d,"customBoundsRectangle",null),setAccelerationX:a(d,"accelerationX",0),setAccelerationY:a(d,"accelerationY",0),setAllowDrag:a(d,"allowDrag",!0),setAllowGravity:a(d,"allowGravity",!0),setAllowRotation:a(d,"allowRotation",!0),setDamping:a(d,"useDamping",!1),setBounceX:a(d,"bounceX",0),setBounceY:a(d,"bounceY",0),setDragX:a(d,"dragX",0),setDragY:a(d,"dragY",0),setEnable:a(d,"enable",!0),setGravityX:a(d,"gravityX",0),setGravityY:a(d,"gravityY",0),setFrictionX:a(d,"frictionX",0),setFrictionY:a(d,"frictionY",0),setMaxSpeed:a(d,"maxSpeed",-1),setMaxVelocityX:a(d,"maxVelocityX",1e4),setMaxVelocityY:a(d,"maxVelocityY",1e4),setVelocityX:a(d,"velocityX",0),setVelocityY:a(d,"velocityY",0),setAngularVelocity:a(d,"angularVelocity",0),setAngularAcceleration:a(d,"angularAcceleration",0),setAngularDrag:a(d,"angularDrag",0),setMass:a(d,"mass",1),setImmovable:a(d,"immovable",!1)},s.call(this,o,f,d),this.type="PhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,h.DYNAMIC_BODY);var n=u.body;for(var o in this.defaults)n[o](this.defaults[o])},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},setVelocity:function(u,n,o){o===void 0&&(o=0);for(var f=this.getChildren(),d=0;d<f.length;d++)f[d].body.velocity.set(u+d*o,n+d*o);return this},setVelocityX:function(u,n){n===void 0&&(n=0);for(var o=this.getChildren(),f=0;f<o.length;f++)o[f].body.velocity.x=u+f*n;return this},setVelocityY:function(u,n){n===void 0&&(n=0);for(var o=this.getChildren(),f=0;f<o.length;f++)o[f].body.velocity.y=u+f*n;return this}});p.exports=r},22916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,l,g,h,a,s,i,r,u,n,o,f,d,v,m,T,E=function(O,L,I){S=O,t=L;var N=S.velocity.x,B=t.velocity.x;return l=S.pushable,r=S._dx<0,u=S._dx>0,n=S._dx===0,v=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),s=B-N*S.bounce.x,g=t.pushable,o=t._dx<0,f=t._dx>0,d=t._dx===0,m=!v,i=N-B*t.bounce.x,T=Math.abs(I),y()},y=function(){return u&&v&&t.blocked.right?(S.processX(-T,s,!1,!0),1):r&&m&&t.blocked.left?(S.processX(T,s,!0),1):f&&m&&S.blocked.right?(t.processX(-T,i,!1,!0),2):o&&v&&S.blocked.left?(t.processX(T,i,!0),2):0},C=function(){var O=S.velocity.x,L=t.velocity.x,I=Math.sqrt(L*L*t.mass/S.mass)*(L>0?1:-1),N=Math.sqrt(O*O*S.mass/t.mass)*(O>0?1:-1),B=(I+N)*.5;return I-=B,N-=B,h=B+I*S.bounce.x,a=B+N*t.bounce.x,r&&m?A(0):o&&v?A(1):u&&v?A(2):f&&m?A(3):!1},A=function(O){if(l&&g)T*=.5,O===0||O===3?(S.processX(T,h),t.processX(-T,a)):(S.processX(-T,h),t.processX(T,a));else if(l&&!g)O===0||O===3?S.processX(T,s,!0):S.processX(-T,s,!1,!0);else if(!l&&g)O===0||O===3?t.processX(-T,i,!1,!0):t.processX(T,i,!0);else{var L=T*.5;O===0?d?(S.processX(T,0,!0),t.processX(0,null,!1,!0)):f?(S.processX(L,0,!0),t.processX(-L,0,!1,!0)):(S.processX(L,t.velocity.x,!0),t.processX(-L,null,!1,!0)):O===1?n?(S.processX(0,null,!1,!0),t.processX(T,0,!0)):u?(S.processX(-L,0,!1,!0),t.processX(L,0,!0)):(S.processX(-L,null,!1,!0),t.processX(L,S.velocity.x,!0)):O===2?d?(S.processX(-T,0,!1,!0),t.processX(0,null,!0)):o?(S.processX(-L,0,!1,!0),t.processX(L,0,!0)):(S.processX(-L,t.velocity.x,!1,!0),t.processX(L,null,!0)):O===3&&(n?(S.processX(0,null,!0),t.processX(-T,0,!1,!0)):r?(S.processX(L,0,!0),t.processX(-L,0,!1,!0)):(S.processX(L,t.velocity.y,!0),t.processX(-L,null,!1,!0)))}return!0},M=function(O){O===1?t.velocity.x=0:v?t.processX(T,i,!0):t.processX(-T,i,!1,!0),S.moves&&(t.y+=(S.y-S.prev.y)*S.friction.y,t._dy=t.y-t.prev.y)},R=function(O){O===2?S.velocity.x=0:m?S.processX(T,s,!0):S.processX(-T,s,!1,!0),t.moves&&(S.y+=(t.y-t.prev.y)*t.friction.y,S._dy=S.y-S.prev.y)};p.exports={BlockCheck:y,Check:C,Set:E,Run:A,RunImmovableBody1:M,RunImmovableBody2:R}},67050:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,l,g,h,a,s,i,r,u,n,o,f,d,v,m,T,E=function(O,L,I){S=O,t=L;var N=S.velocity.y,B=t.velocity.y;return l=S.pushable,r=S._dy<0,u=S._dy>0,n=S._dy===0,v=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),s=B-N*S.bounce.y,g=t.pushable,o=t._dy<0,f=t._dy>0,d=t._dy===0,m=!v,i=N-B*t.bounce.y,T=Math.abs(I),y()},y=function(){return u&&v&&t.blocked.down?(S.processY(-T,s,!1,!0),1):r&&m&&t.blocked.up?(S.processY(T,s,!0),1):f&&m&&S.blocked.down?(t.processY(-T,i,!1,!0),2):o&&v&&S.blocked.up?(t.processY(T,i,!0),2):0},C=function(){var O=S.velocity.y,L=t.velocity.y,I=Math.sqrt(L*L*t.mass/S.mass)*(L>0?1:-1),N=Math.sqrt(O*O*S.mass/t.mass)*(O>0?1:-1),B=(I+N)*.5;return I-=B,N-=B,h=B+I*S.bounce.y,a=B+N*t.bounce.y,r&&m?A(0):o&&v?A(1):u&&v?A(2):f&&m?A(3):!1},A=function(O){if(l&&g)T*=.5,O===0||O===3?(S.processY(T,h),t.processY(-T,a)):(S.processY(-T,h),t.processY(T,a));else if(l&&!g)O===0||O===3?S.processY(T,s,!0):S.processY(-T,s,!1,!0);else if(!l&&g)O===0||O===3?t.processY(-T,i,!1,!0):t.processY(T,i,!0);else{var L=T*.5;O===0?d?(S.processY(T,0,!0),t.processY(0,null,!1,!0)):f?(S.processY(L,0,!0),t.processY(-L,0,!1,!0)):(S.processY(L,t.velocity.y,!0),t.processY(-L,null,!1,!0)):O===1?n?(S.processY(0,null,!1,!0),t.processY(T,0,!0)):u?(S.processY(-L,0,!1,!0),t.processY(L,0,!0)):(S.processY(-L,null,!1,!0),t.processY(L,S.velocity.y,!0)):O===2?d?(S.processY(-T,0,!1,!0),t.processY(0,null,!0)):o?(S.processY(-L,0,!1,!0),t.processY(L,0,!0)):(S.processY(-L,t.velocity.y,!1,!0),t.processY(L,null,!0)):O===3&&(n?(S.processY(0,null,!0),t.processY(-T,0,!1,!0)):r?(S.processY(L,0,!0),t.processY(-L,0,!1,!0)):(S.processY(L,t.velocity.y,!0),t.processY(-L,null,!1,!0)))}return!0},M=function(O){O===1?t.velocity.y=0:v?t.processY(T,i,!0):t.processY(-T,i,!1,!0),S.moves&&(t.x+=(S.x-S.prev.x)*S.friction.x,t._dx=t.x-t.prev.x)},R=function(O){O===2?S.velocity.y=0:m?S.processY(T,s,!0):S.processY(-T,s,!1,!0),t.moves&&(S.x+=(t.x-t.prev.x)*t.friction.x,S._dx=S.x-S.prev.x)};p.exports={BlockCheck:y,Check:C,Set:E,Run:A,RunImmovableBody1:M,RunImmovableBody2:R}},61777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75671),g=t(22916),h=function(a,s,i,r,u){u===void 0&&(u=l(a,s,i,r));var n=a.immovable,o=s.immovable;if(i||u===0||n&&o||a.customSeparateX||s.customSeparateX)return u!==0||a.embedded&&s.embedded;var f=g.Set(a,s,u);return!n&&!o?f>0?!0:g.Check():(n?g.RunImmovableBody1(f):o&&g.RunImmovableBody2(f),!0)};p.exports=h},25299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66185),g=t(67050),h=function(a,s,i,r,u){u===void 0&&(u=l(a,s,i,r));var n=a.immovable,o=s.immovable;if(i||u===0||n&&o||a.customSeparateY||s.customSeparateY)return u!==0||a.embedded&&s.embedded;var f=g.Set(a,s,u);return!n&&!o?f>0?!0:g.Check():(n?g.RunImmovableBody1(f):o&&g.RunImmovableBody2(f),!0)};p.exports=h},66634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65650),g=t(56694),h=t(47401),a=t(94287),s=t(93736),i=new g({initialize:function(u,n){var o=64,f=64,d={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},v=n!==void 0;v&&n.displayWidth&&(o=n.displayWidth,f=n.displayHeight),v||(n=d),this.world=u,this.gameObject=v?n:void 0,this.isBody=!0,this.debugShowBody=u.defaults.debugShowStaticBody,this.debugBodyColor=u.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(n.x-o*n.originX,n.y-f*n.originY),this.width=o,this.height=f,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=h.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(r,u){return r&&r!==this.gameObject&&(this.gameObject.body=null,r.body=this,this.gameObject=r),u&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var r=this.gameObject;return r.getTopLeft(this.position),this.width=r.displayWidth,this.height=r.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(r,u){return u===void 0&&(u=r),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(r,u),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(r,u,n){n===void 0&&(n=!0);var o=this.gameObject;if(!r&&o.frame&&(r=o.frame.realWidth),!u&&o.frame&&(u=o.frame.realHeight),this.world.staticTree.remove(this),this.width=r,this.height=u,this.halfWidth=Math.floor(r/2),this.halfHeight=Math.floor(u/2),n&&o.getCenter){var f=o.displayWidth/2,d=o.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f-this.halfWidth,d-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(r,u,n){return u===void 0&&(u=this.offset.x),n===void 0&&(n=this.offset.y),r>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=r,this.width=r*2,this.height=r*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,n),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(r,u){var n=this.gameObject;r===void 0&&(r=n.x),u===void 0&&(u=n.y),this.world.staticTree.remove(this),n.setPosition(r,u),n.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(r){return r.x=this.x,r.y=this.y,r.right=this.right,r.bottom=this.bottom,r},hitTest:function(r,u){return this.isCircle?l(this,r,u):a(this,r,u)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(r){var u=this.position,n=u.x+this.halfWidth,o=u.y+this.halfHeight;this.debugShowBody&&(r.lineStyle(r.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?r.strokeCircle(n,o,this.width/2):r.strokeRect(u.x,u.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(r){return r<=0&&(r=.1),this.mass=r,this},x:{get:function(){return this.position.x},set:function(r){this.world.staticTree.remove(this),this.position.x=r,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(r){this.world.staticTree.remove(this),this.position.y=r,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=i},46346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25084),g=t(56694),h=t(47401),a=t(72632),s=t(59192),i=t(42911),r=new g({Extends:s,initialize:function(n,o,f,d){!f&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:l}:i(f)?(d=f,f=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=a(d,"classType",l)):Array.isArray(f)&&i(f[0])?(d=f,f=null,d.forEach(function(v){v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=a(v,"classType",l)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=n,this.physicsType=h.STATIC_BODY,s.call(this,o,f,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,h.STATIC_BODY)},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var u=this.children.entries,n=0;n<u.length;n++)u[n].body.reset();return this}});p.exports=r},85233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(94240),g=t(97602),h=t(82897),a=t(56694),s=t(3909),i=t(47401),r=t(53996),u=t(92951),n=t(6659),o=t(27037),f=t(88456),d=t(41935),v=t(54726),m=t(75671),T=t(66185),E=t(44662),y=t(10850),C=t(83392),A=t(74623),M=t(25163),R=t(74118),O=t(68687),L=t(27354),I=t(61777),N=t(25299),B=t(58403),b=t(66634),X=t(28808),W=t(69360),$=t(93736),z=t(1071),V=new a({Extends:n,initialize:function(G,U){n.call(this),this.scene=G,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new A,this.gravity=new $(y(U,"gravity.x",0),y(U,"gravity.y",0)),this.bounds=new R(y(U,"x",0),y(U,"y",0),y(U,"width",G.sys.scale.width),y(U,"height",G.sys.scale.height)),this.checkCollision={up:y(U,"checkCollision.up",!0),down:y(U,"checkCollision.down",!0),left:y(U,"checkCollision.left",!0),right:y(U,"checkCollision.right",!0)},this.fps=y(U,"fps",60),this.fixedStep=y(U,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(U,"timeScale",1),this.OVERLAP_BIAS=y(U,"overlapBias",4),this.TILE_BIAS=y(U,"tileBias",16),this.forceX=y(U,"forceX",!1),this.isPaused=y(U,"isPaused",!1),this._total=0,this.drawDebug=y(U,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(U,"debugShowBody",!0),debugShowStaticBody:y(U,"debugShowStaticBody",!0),debugShowVelocity:y(U,"debugShowVelocity",!0),bodyDebugColor:y(U,"debugBodyColor",16711935),staticBodyDebugColor:y(U,"debugStaticBodyColor",255),velocityDebugColor:y(U,"debugVelocityColor",65280)},this.maxEntries=y(U,"maxEntries",16),this.useTree=y(U,"useTree",!0),this.tree=new O(this.maxEntries),this.staticTree=new O(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(D,G){G===void 0&&(G=i.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var U=0;U<D.length;U++){var Y=D[U];if(Y.isParent)for(var H=Y.getChildren(),Z=0;Z<H.length;Z++){var K=H[Z];K.isParent?this.enable(K,G):this.enableBody(K,G)}else this.enableBody(Y,G)}},enableBody:function(D,G){return G===void 0&&(G=i.DYNAMIC_BODY),D.hasTransformComponent&&(D.body||(G===i.DYNAMIC_BODY?D.body=new g(this,D):G===i.STATIC_BODY&&(D.body=new b(this,D))),this.add(D.body)),D},add:function(D){return D.physicsType===i.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===i.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var G=0;G<D.length;G++){var U=D[G];if(U.isParent)for(var Y=U.getChildren(),H=0;H<Y.length;H++){var Z=Y[H];Z.isParent?this.disable(Z):this.disableBody(Z.body)}else this.disableBody(U.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===i.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===i.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,G,U,Y,H,Z,K,k){return this.bounds.setTo(D,G,U,Y),H!==void 0&&this.setBoundsCollision(H,Z,K,k),this},setBoundsCollision:function(D,G,U,Y){return D===void 0&&(D=!0),G===void 0&&(G=!0),U===void 0&&(U=!0),Y===void 0&&(Y=!0),this.checkCollision.left=D,this.checkCollision.right=G,this.checkCollision.up=U,this.checkCollision.down=Y,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(D,G,U,Y,H){U===void 0&&(U=null),Y===void 0&&(Y=null),H===void 0&&(H=U);var Z=new s(this,!1,D,G,U,Y,H);return this.colliders.add(Z),Z},addOverlap:function(D,G,U,Y,H){U===void 0&&(U=null),Y===void 0&&(Y=null),H===void 0&&(H=U);var Z=new s(this,!0,D,G,U,Y,H);return this.colliders.add(Z),Z},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,G){if(!(this.isPaused||this.bodies.size===0)){var U,Y=this._frameTime,H=this._frameTimeMS*this.timeScale;this._elapsed+=G;var Z,K=this.bodies.entries,k=this._elapsed>=H;for(this.fixedStep||(Y=G*.001,k=!0,this._elapsed=0),U=0;U<K.length;U++)Z=K[U],Z.enable&&Z.preUpdate(k,Y);if(k){this._elapsed-=H,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var j=this.colliders.update();for(U=0;U<j.length;U++){var Q=j[U];Q.active&&Q.update()}this.emit(o.WORLD_STEP,Y)}for(;this._elapsed>=H;)this._elapsed-=H,this.step(Y)}},step:function(D){var G,U,Y=this.bodies.entries,H=Y.length;for(G=0;G<H;G++)U=Y[G],U.enable&&U.update(D);this.useTree&&(this.tree.clear(),this.tree.load(Y));var Z=this.colliders.update();for(G=0;G<Z.length;G++){var K=Z[G];K.active&&K.update()}this.emit(o.WORLD_STEP,D),this.stepsLastFrame++},postUpdate:function(){var D,G,U=this.bodies.entries,Y=U.length,H=this.bodies,Z=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<Y;D++)G=U[D],G.enable&&G.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),D=0;D<Y;D++)G=U[D],G.willDrawDebug()&&G.drawDebug(K);for(U=Z.entries,Y=U.length,D=0;D<Y;D++)G=U[D],G.willDrawDebug()&&G.drawDebug(K)}var k=this.pendingDestroy;if(k.size>0){var j=this.tree,Q=this.staticTree;for(U=k.entries,Y=U.length,D=0;D<Y;D++)G=U[D],G.physicsType===i.DYNAMIC_BODY?(j.remove(G),H.delete(G)):G.physicsType===i.STATIC_BODY&&(Q.remove(G),Z.delete(G)),G.world=void 0,G.gameObject=void 0;k.clear()}},updateMotion:function(D,G){D.allowRotation&&this.computeAngularVelocity(D,G),this.computeVelocity(D,G)},computeAngularVelocity:function(D,G){var U=D.angularVelocity,Y=D.angularAcceleration,H=D.angularDrag,Z=D.maxAngular;Y?U+=Y*G:D.allowDrag&&H&&(H*=G,d(U-H,0,.1)?U-=H:v(U+H,0,.1)?U+=H:U=0),U=h(U,-Z,Z);var K=U-D.angularVelocity;D.angularVelocity+=K,D.rotation+=D.angularVelocity*G},computeVelocity:function(D,G){var U=D.velocity.x,Y=D.acceleration.x,H=D.drag.x,Z=D.maxVelocity.x,K=D.velocity.y,k=D.acceleration.y,j=D.drag.y,Q=D.maxVelocity.y,J=D.speed,_=D.maxSpeed,q=D.allowDrag,it=D.useDamping;D.allowGravity&&(U+=(this.gravity.x+D.gravity.x)*G,K+=(this.gravity.y+D.gravity.y)*G),Y?U+=Y*G:q&&H&&(it?(H=Math.pow(H,G),U*=H,J=Math.sqrt(U*U+K*K),f(J,0,.001)&&(U=0)):(H*=G,d(U-H,0,.01)?U-=H:v(U+H,0,.01)?U+=H:U=0)),k?K+=k*G:q&&j&&(it?(j=Math.pow(j,G),K*=j,J=Math.sqrt(U*U+K*K),f(J,0,.001)&&(K=0)):(j*=G,d(K-j,0,.01)?K-=j:v(K+j,0,.01)?K+=j:K=0)),U=h(U,-Z,Z),K=h(K,-Q,Q),D.velocity.set(U,K),_>-1&&D.velocity.length()>_&&(D.velocity.normalize().scale(_),J=_),D.speed=J},separate:function(D,G,U,Y,H){var Z,K,k=!1,j=!0;if(!D.enable||!G.enable||D.checkCollision.none||G.checkCollision.none||!this.intersects(D,G)||U&&U.call(Y,D.gameObject,G.gameObject)===!1)return k;if(D.isCircle||G.isCircle){var Q=this.separateCircle(D,G,H);Q.result?(k=!0,j=!1):(Z=Q.x,K=Q.y,j=!0)}if(j){var J=!1,_=!1,q=this.OVERLAP_BIAS;H?(J=I(D,G,H,q,Z),_=N(D,G,H,q,K)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(J=I(D,G,H,q,Z),this.intersects(D,G)&&(_=N(D,G,H,q,K))):(_=N(D,G,H,q,K),this.intersects(D,G)&&(J=I(D,G,H,q,Z))),k=J||_}return k&&(H?(D.onOverlap||G.onOverlap)&&this.emit(o.OVERLAP,D.gameObject,G.gameObject,D,G):(D.onCollide||G.onCollide)&&this.emit(o.COLLIDE,D.gameObject,G.gameObject,D,G)),k},separateCircle:function(D,G,U){m(D,G,!1,0),T(D,G,!1,0);var Y=D.isCircle,H=G.isCircle,Z=D.center,K=G.center,k=D.immovable,j=G.immovable,Q=D.velocity,J=G.velocity,_=0,q=!0;if(Y!==H){q=!1;var it=Z.x,at=Z.y,ht=D.halfWidth,lt=G.position.x,tt=G.position.y,st=G.right,rt=G.bottom;H&&(it=K.x,at=K.y,ht=G.halfWidth,lt=D.position.x,tt=D.position.y,st=D.right,rt=D.bottom),at<tt?it<lt?_=r(it,at,lt,tt)-ht:it>st&&(_=r(it,at,st,tt)-ht):at>rt&&(it<lt?_=r(it,at,lt,rt)-ht:it>st&&(_=r(it,at,st,rt)-ht)),_*=-1}else _=D.halfWidth+G.halfWidth-u(Z,K);D.overlapR=_,G.overlapR=_;var dt=l(Z,K),ft=(_+C.EPSILON)*Math.cos(dt),Ot=(_+C.EPSILON)*Math.sin(dt),At={overlap:_,result:!1,x:ft,y:Ot};if(U&&(!q||q&&_!==0))return At.result=!0,At;if(!q&&_===0||k&&j||D.customSeparateX||G.customSeparateX)return At.x=void 0,At.y=void 0,At;var mt=!D.pushable&&!G.pushable;if(q){var ct=Z.x-K.x,wt=Z.y-K.y,Wt=Math.sqrt(Math.pow(ct,2)+Math.pow(wt,2)),jt=(K.x-Z.x)/Wt||0,ee=(K.y-Z.y)/Wt||0,Oe=2*(Q.x*jt+Q.y*ee-J.x*jt-J.y*ee)/(D.mass+G.mass);(k||j)&&(Oe*=2),k||(Q.x=Q.x-Oe/D.mass*jt,Q.y=Q.y-Oe/D.mass*ee,Q.multiply(D.bounce)),j||(J.x=J.x+Oe/G.mass*jt,J.y=J.y+Oe/G.mass*ee,J.multiply(G.bounce)),!k&&!j&&(ft*=.5,Ot*=.5),k||(D.x-=ft,D.y-=Ot,D.updateCenter()),j||(G.x+=ft,G.y+=Ot,G.updateCenter()),At.result=!0}else!k||D.pushable||mt?(D.x-=ft,D.y-=Ot,D.updateCenter()):(!j||G.pushable||mt)&&(G.x+=ft,G.y+=Ot,G.updateCenter()),At.x=void 0,At.y=void 0;return At},intersects:function(D,G){return D===G?!1:!D.isCircle&&!G.isCircle?!(D.right<=G.left||D.bottom<=G.top||D.left>=G.right||D.top>=G.bottom):D.isCircle?G.isCircle?u(D.center,G.center)<=D.halfWidth+G.halfWidth:this.circleBodyIntersects(D,G):this.circleBodyIntersects(G,D)},circleBodyIntersects:function(D,G){var U=h(D.center.x,G.left,G.right),Y=h(D.center.y,G.top,G.bottom),H=(D.center.x-U)*(D.center.x-U),Z=(D.center.y-Y)*(D.center.y-Y);return H+Z<=D.halfWidth*D.halfWidth},overlap:function(D,G,U,Y,H){return U===void 0&&(U=null),Y===void 0&&(Y=null),H===void 0&&(H=U),this.collideObjects(D,G,U,Y,H,!0)},collide:function(D,G,U,Y,H){return U===void 0&&(U=null),Y===void 0&&(Y=null),H===void 0&&(H=U),this.collideObjects(D,G,U,Y,H,!1)},collideObjects:function(D,G,U,Y,H,Z){var K,k;D.isParent&&(D.physicsType===void 0||G===void 0||D===G)&&(D=D.children.entries),G&&G.isParent&&G.physicsType===void 0&&(G=G.children.entries);var j=Array.isArray(D),Q=Array.isArray(G);if(this._total=0,!j&&!Q)this.collideHandler(D,G,U,Y,H,Z);else if(!j&&Q)for(K=0;K<G.length;K++)this.collideHandler(D,G[K],U,Y,H,Z);else if(j&&!Q)if(G)for(K=0;K<D.length;K++)this.collideHandler(D[K],G,U,Y,H,Z);else for(K=0;K<D.length;K++){var J=D[K];for(k=K+1;k<D.length;k++)K!==k&&this.collideHandler(J,D[k],U,Y,H,Z)}else for(K=0;K<D.length;K++)for(k=0;k<G.length;k++)this.collideHandler(D[K],G[k],U,Y,H,Z);return this._total>0},collideHandler:function(D,G,U,Y,H,Z){if(G===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,U,Y,H,Z);if(!D||!G)return!1;if(D.body||D.isBody){if(G.body||G.isBody)return this.collideSpriteVsSprite(D,G,U,Y,H,Z);if(G.isParent)return this.collideSpriteVsGroup(D,G,U,Y,H,Z);if(G.isTilemap)return this.collideSpriteVsTilemapLayer(D,G,U,Y,H,Z)}else if(D.isParent){if(G.body||G.isBody)return this.collideSpriteVsGroup(G,D,U,Y,H,Z);if(G.isParent)return this.collideGroupVsGroup(D,G,U,Y,H,Z);if(G.isTilemap)return this.collideGroupVsTilemapLayer(D,G,U,Y,H,Z)}else if(D.isTilemap){if(G.body||G.isBody)return this.collideSpriteVsTilemapLayer(G,D,U,Y,H,Z);if(G.isParent)return this.collideGroupVsTilemapLayer(G,D,U,Y,H,Z)}},collideSpriteVsSprite:function(D,G,U,Y,H,Z){var K=D.isBody?D:D.body,k=G.isBody?G:G.body;return!K||!k?!1:(this.separate(K,k,Y,H,Z)&&(U&&U.call(H,D,G),this._total++),!0)},collideSpriteVsGroup:function(D,G,U,Y,H,Z){var K=D.isBody?D:D.body;if(!(G.length===0||!K||!K.enable||K.checkCollision.none)){var k,j,Q;if(this.useTree||G.physicsType===i.STATIC_BODY){var J=this.treeMinMax;J.minX=K.left,J.minY=K.top,J.maxX=K.right,J.maxY=K.bottom;var _=G.physicsType===i.DYNAMIC_BODY?this.tree.search(J):this.staticTree.search(J);for(j=_.length,k=0;k<j;k++)Q=_[k],!(K===Q||!Q.enable||Q.checkCollision.none||!G.contains(Q.gameObject))&&this.separate(K,Q,Y,H,Z)&&(U&&U.call(H,K.gameObject,Q.gameObject),this._total++)}else{var q=G.getChildren(),it=G.children.entries.indexOf(D);for(j=q.length,k=0;k<j;k++)Q=q[k].body,!(!Q||k===it||!Q.enable)&&this.separate(K,Q,Y,H,Z)&&(U&&U.call(H,K.gameObject,Q.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,G,U,Y,H,Z){var K=D.getChildren();if(K.length===0)return!1;for(var k=!1,j=0;j<K.length;j++)(K[j].body||K[j].isBody)&&this.collideSpriteVsTilemapLayer(K[j],G,U,Y,H,Z)&&(k=!0);return k},collideTiles:function(D,G,U,Y,H){return G.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,G,U,Y,H,!1,!1)},overlapTiles:function(D,G,U,Y,H){return G.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,G,U,Y,H,!0,!1)},collideSpriteVsTilemapLayer:function(D,G,U,Y,H,Z){var K=D.isBody?D:D.body;if(!K.enable||K.checkCollision.none)return!1;var k=K.x,j=K.y,Q=K.width,J=K.height,_=G.layer;if(_.tileWidth>_.baseTileWidth){var q=(_.tileWidth-_.baseTileWidth)*G.scaleX;k-=q,Q+=q}if(_.tileHeight>_.baseTileHeight){var it=(_.tileHeight-_.baseTileHeight)*G.scaleY;J+=it}var at=Z?null:this.tileFilterOptions,ht=E(k,j,Q,J,at,G.scene.cameras.main,G.layer);return ht.length===0?!1:this.collideSpriteVsTilesHandler(D,ht,U,Y,H,Z,!0)},collideSpriteVsTilesHandler:function(D,G,U,Y,H,Z,K){for(var k=D.isBody?D:D.body,j,Q={left:0,right:0,top:0,bottom:0},J,_=!1,q=0;q<G.length;q++){j=G[q],J=j.tilemapLayer;var it=J.tileToWorldXY(j.x,j.y);Q.left=it.x,Q.top=it.y,j.baseHeight!==j.height&&(Q.top-=(j.height-j.baseHeight)*J.scaleY),Q.right=Q.left+j.width*J.scaleX,Q.bottom=Q.top+j.height*J.scaleY,X(Q,k)&&(!Y||Y.call(H,D,j))&&M(j,D)&&(Z||L(q,k,j,Q,J,this.TILE_BIAS,K))&&(this._total++,_=!0,U&&U.call(H,D,j),Z&&k.onOverlap?this.emit(o.TILE_OVERLAP,D,j,k):k.onCollide&&this.emit(o.TILE_COLLIDE,D,j,k))}return _},collideGroupVsGroup:function(D,G,U,Y,H,Z){if(!(D.length===0||G.length===0))for(var K=D.getChildren(),k=0;k<K.length;k++)this.collideSpriteVsGroup(K[k],G,U,Y,H,Z)},wrap:function(D,G){D.body?this.wrapObject(D,G):D.getChildren?this.wrapArray(D.getChildren(),G):Array.isArray(D)?this.wrapArray(D,G):this.wrapObject(D,G)},wrapArray:function(D,G){for(var U=0;U<D.length;U++)this.wrapObject(D[U],G)},wrapObject:function(D,G){G===void 0&&(G=0),D.x=z(D.x,this.bounds.left-G,this.bounds.right+G),D.y=z(D.y,this.bounds.top-G,this.bounds.bottom+G)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});p.exports=V},5321:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,l){return this.body.acceleration.set(t,l),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};p.exports=S},29257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};p.exports=S},62122:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,l){return this.body.bounce.set(t,l),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,l,g,h){return this.body.setCollideWorldBounds(t,l,g,h),this}};p.exports=S},99803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,l,g){return this.debugShowBody=t,this.debugShowVelocity=l,this.debugBodyColor=g,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};p.exports=S},87145:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,l){return this.body.drag.set(t,l),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};p.exports=S},96174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={enableBody:function(t,l,g,h,a){return t&&this.body.reset(l,g),h&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,l){return t===void 0&&(t=!1),l===void 0&&(l=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),l&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};p.exports=S},51702:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,l){return this.body.friction.set(t,l),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};p.exports=S},25578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,l){return this.body.gravity.set(t,l),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};p.exports=S},72029:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};p.exports=S},34566:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};p.exports=S},2732:(p,S,t)=>{var l=t(15147),g=t(26673),h=t(22184),a=t(26535),s=function(i,r,u,n,o,f){var d=l(i,r-n,u-n,2*n,2*n,o,f);if(d.length===0)return d;for(var v=new g(r,u,n),m=new g,T=[],E=0;E<d.length;E++){var y=d[E];y.isCircle?(m.setTo(y.center.x,y.center.y,y.halfWidth),h(v,m)&&T.push(y)):a(v,y)&&T.push(y)}return T};p.exports=s},15147:p=>{var S=function(t,l,g,h,a,s,i){s===void 0&&(s=!0),i===void 0&&(i=!1);var r=[],u=[],n=t.treeMinMax;if(n.minX=l,n.minY=g,n.maxX=l+h,n.maxY=g+a,i&&(u=t.staticTree.search(n)),s&&t.useTree)r=t.tree.search(n);else if(s){var o=t.bodies,f={position:{x:l,y:g},left:l,top:g,right:l+h,bottom:g+a,isCircle:!1},d=t.intersects;o.iterate(function(v){d(v,f)&&r.push(v)})}return u.concat(r)};p.exports=S},57527:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};p.exports=S},77687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,l){return this.body.setOffset(t,l),this},setSize:function(t,l,g){return this.body.setSize(t,l,g),this},setBodySize:function(t,l,g){return this.body.setSize(t,l,g),this},setCircle:function(t,l,g){return this.body.setCircle(t,l,g),this}};p.exports=S},66536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,l){return this.body.setVelocity(t,l),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,l){return this.body.maxVelocity.set(t,l),this}};p.exports=S},7864:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Acceleration:t(5321),Angular:t(29257),Bounce:t(62122),Debug:t(99803),Drag:t(87145),Enable:t(96174),Friction:t(51702),Gravity:t(25578),Immovable:t(72029),Mass:t(34566),OverlapCirc:t(2732),OverlapRect:t(15147),Pushable:t(57527),Size:t(77687),Velocity:t(66536)}},47401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};p.exports=S},22346:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collide"},95092:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="overlap"},15775:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},74142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22825:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tilecollide"},10851:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tileoverlap"},7543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldbounds"},1487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldstep"},27037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COLLIDE:t(22346),OVERLAP:t(95092),PAUSE:t(15775),RESUME:t(74142),TILE_COLLIDE:t(22825),TILE_OVERLAP:t(10851),WORLD_BOUNDS:t(7543),WORLD_STEP:t(1487)}},39977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47401),g=t(98611),h={ArcadePhysics:t(66150),Body:t(97602),Collider:t(3909),Components:t(7864),Events:t(27037),Factory:t(99523),GetOverlapX:t(75671),GetOverlapY:t(66185),SeparateX:t(61777),SeparateY:t(25299),Group:t(10481),Image:t(62832),Sprite:t(25084),StaticBody:t(66634),StaticGroup:t(46346),Tilemap:t(8413),World:t(85233)};h=g(!1,h,l),p.exports=h},25163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,l,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,l,t):!0};p.exports=S},98209:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l<0?(t.blocked.none=!1,t.blocked.left=!0):l>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=l,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};p.exports=S},72792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l<0?(t.blocked.none=!1,t.blocked.up=!0):l>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=l,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};p.exports=S},27354:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14405),g=t(52926),h=t(28808),a=function(s,i,r,u,n,o,f){var d=u.left,v=u.top,m=u.right,T=u.bottom,E=r.faceLeft||r.faceRight,y=r.faceTop||r.faceBottom;if(f||(E=!0,y=!0),!E&&!y)return!1;var C=0,A=0,M=0,R=1;if(i.deltaAbsX()>i.deltaAbsY()?M=-1:i.deltaAbsX()<i.deltaAbsY()&&(R=-1),i.deltaX()!==0&&i.deltaY()!==0&&E&&y&&(M=Math.min(Math.abs(i.position.x-m),Math.abs(i.right-d)),R=Math.min(Math.abs(i.position.y-T),Math.abs(i.bottom-v))),M<R){if(E&&(C=l(i,r,d,m,o,f),C!==0&&!h(u,i)))return!0;y&&(A=g(i,r,v,T,o,f))}else{if(y&&(A=g(i,r,v,T,o,f),A!==0&&!h(u,i)))return!0;E&&(C=l(i,r,d,m,o,f))}return C!==0||A!==0};p.exports=a},14405:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98209),g=function(h,a,s,i,r,u){var n=0,o=a.faceLeft,f=a.faceRight,d=a.collideLeft,v=a.collideRight;return u||(o=!0,f=!0,d=!0,v=!0),h.deltaX()<0&&v&&h.checkCollision.left?f&&h.x<i&&(n=h.x-i,n<-r&&(n=0)):h.deltaX()>0&&d&&h.checkCollision.right&&o&&h.right>s&&(n=h.right-s,n>r&&(n=0)),n!==0&&(h.customSeparateX?h.overlapX=n:l(h,n)),n};p.exports=g},52926:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72792),g=function(h,a,s,i,r,u){var n=0,o=a.faceTop,f=a.faceBottom,d=a.collideUp,v=a.collideDown;return u||(o=!0,f=!0,d=!0,v=!0),h.deltaY()<0&&v&&h.checkCollision.up?f&&h.y<i&&(n=h.y-i,n<-r&&(n=0)):h.deltaY()>0&&d&&h.checkCollision.down&&o&&h.bottom>s&&(n=h.bottom-s,n>r&&(n=0)),n!==0&&(h.customSeparateY?h.overlapY=n:l(h,n)),n};p.exports=g},28808:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return!(l.right<=t.left||l.bottom<=t.top||l.position.x>=t.right||l.position.y>=t.bottom)};p.exports=S},8413:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={ProcessTileCallbacks:t(25163),ProcessTileSeparationX:t(98209),ProcessTileSeparationY:t(72792),SeparateTile:t(27354),TileCheckX:t(14405),TileCheckY:t(52926),TileIntersectsBody:t(28808)};p.exports=l},53954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Arcade:t(39977),Matter:t(45949)}},63568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(93736),h=new l({initialize:function(){this.boundsCenter=new g,this.centerDiff=new g},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var s=this.boundsCenter,i=this.centerDiff,r=a.bounds.max.x-a.bounds.min.x,u=a.bounds.max.y-a.bounds.min.y,n=r*a.centerOfMass.x,o=u*a.centerOfMass.y;return s.set(r/2,u/2),i.set(n-s.x,o-s.y),!0},getTopLeft:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,u=this.centerDiff;return new g(s+r.x+u.x,i+r.y+u.y)}return!1},getTopCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,u=this.centerDiff;return new g(s+u.x,i+r.y+u.y)}return!1},getTopRight:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,u=this.centerDiff;return new g(s-(r.x-u.x),i+r.y+u.y)}return!1},getLeftCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,u=this.centerDiff;return new g(s+r.x+u.x,i+u.y)}return!1},getCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.centerDiff;return new g(s+r.x,i+r.y)}return!1},getRightCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,u=this.centerDiff;return new g(s-(r.x-u.x),i+u.y)}return!1},getBottomLeft:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,u=this.centerDiff;return new g(s+r.x+u.x,i-(r.y-u.y))}return!1},getBottomCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,u=this.centerDiff;return new g(s+u.x,i-(r.y-u.y))}return!1},getBottomRight:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,u=this.centerDiff;return new g(s-(r.x-u.x),i-(r.y-u.y))}return!1}});p.exports=h},18171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16929);l.Body=t(84125),l.Composite=t(11299),l.World=t(72005),l.Collision=t(63454),l.Detector=t(13657),l.Pairs=t(91327),l.Pair=t(70584),l.Query=t(13390),l.Resolver=t(44272),l.Constraint=t(52838),l.Common=t(68758),l.Engine=t(45775),l.Events=t(39073),l.Sleeping=t(22806),l.Plugin=t(84474),l.Bodies=t(68516),l.Composites=t(56643),l.Axes=t(50658),l.Bounds=t(84091),l.Svg=t(92765),l.Vector=t(10438),l.Vertices=t(39745),l.World.add=l.Composite.add,l.World.remove=l.Composite.remove,l.World.addComposite=l.Composite.addComposite,l.World.addBody=l.Composite.addBody,l.World.addConstraint=l.Composite.addConstraint,l.World.clear=l.Composite.clear,p.exports=l},72653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),g=t(56694),h=t(56643),a=t(52838),s=t(92765),i=t(3860),r=t(7030),u=t(73658),n=t(84720),o=t(10998),f=t(72829),d=t(88596),v=t(39745),m=new g({initialize:function(E){this.world=E,this.scene=E.scene,this.sys=E.scene.sys},rectangle:function(T,E,y,C,A){var M=l.rectangle(T,E,y,C,A);return this.world.add(M),M},trapezoid:function(T,E,y,C,A,M){var R=l.trapezoid(T,E,y,C,A,M);return this.world.add(R),R},circle:function(T,E,y,C,A){var M=l.circle(T,E,y,C,A);return this.world.add(M),M},polygon:function(T,E,y,C,A){var M=l.polygon(T,E,y,C,A);return this.world.add(M),M},fromVertices:function(T,E,y,C,A,M,R){typeof y=="string"&&(y=v.fromPath(y));var O=l.fromVertices(T,E,y,C,A,M,R);return this.world.add(O),O},fromPhysicsEditor:function(T,E,y,C,A){A===void 0&&(A=!0);var M=o.parseBody(T,E,y,C);return A&&!this.world.has(M)&&this.world.add(M),M},fromSVG:function(T,E,y,C,A,M){C===void 0&&(C=1),A===void 0&&(A={}),M===void 0&&(M=!0);for(var R=y.getElementsByTagName("path"),O=[],L=0;L<R.length;L++){var I=s.pathToVertices(R[L],30);C!==1&&v.scale(I,C,C),O.push(I)}var N=l.fromVertices(T,E,O,A);return M&&this.world.add(N),N},fromJSON:function(T,E,y,C,A){C===void 0&&(C={}),A===void 0&&(A=!0);var M=f.parseBody(T,E,y,C);return M&&A&&this.world.add(M),M},imageStack:function(T,E,y,C,A,M,R,O,L){R===void 0&&(R=0),O===void 0&&(O=0),L===void 0&&(L={});var I=this.world,N=this.sys.displayList;L.addToWorld=!1;var B=h.stack(y,C,A,M,R,O,function(b,X){var W=new r(I,b,X,T,E,L);return N.add(W),W.body});return I.add(B),B},stack:function(T,E,y,C,A,M,R){var O=h.stack(T,E,y,C,A,M,R);return this.world.add(O),O},pyramid:function(T,E,y,C,A,M,R){var O=h.pyramid(T,E,y,C,A,M,R);return this.world.add(O),O},chain:function(T,E,y,C,A,M){return h.chain(T,E,y,C,A,M)},mesh:function(T,E,y,C,A){return h.mesh(T,E,y,C,A)},newtonsCradle:function(T,E,y,C,A){var M=h.newtonsCradle(T,E,y,C,A);return this.world.add(M),M},car:function(T,E,y,C,A){var M=h.car(T,E,y,C,A);return this.world.add(M),M},softBody:function(T,E,y,C,A,M,R,O,L,I){var N=h.softBody(T,E,y,C,A,M,R,O,L,I);return this.world.add(N),N},joint:function(T,E,y,C,A){return this.constraint(T,E,y,C,A)},spring:function(T,E,y,C,A){return this.constraint(T,E,y,C,A)},constraint:function(T,E,y,C,A){C===void 0&&(C=1),A===void 0&&(A={}),A.bodyA=T.type==="body"?T:T.body,A.bodyB=E.type==="body"?E:E.body,isNaN(y)||(A.length=y),A.stiffness=C;var M=a.create(A);return this.world.add(M),M},worldConstraint:function(T,E,y,C){y===void 0&&(y=1),C===void 0&&(C={}),C.bodyB=T.type==="body"?T:T.body,isNaN(E)||(C.length=E),C.stiffness=y;var A=a.create(C);return this.world.add(A),A},mouseSpring:function(T){return this.pointerConstraint(T)},pointerConstraint:function(T){T===void 0&&(T={}),T.hasOwnProperty("render")||(T.render={visible:!1});var E=new d(this.scene,this.world,T);return this.world.add(E.constraint),E},image:function(T,E,y,C,A){var M=new r(this.world,T,E,y,C,A);return this.sys.displayList.add(M),M},tileBody:function(T,E){return new n(this.world,T,E)},sprite:function(T,E,y,C,A){var M=new u(this.world,T,E,y,C,A);return this.sys.displayList.add(M),this.sys.updateList.add(M),M},gameObject:function(T,E,y){return i(this.world,T,E,y)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=m},3860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74527),g=t(72632),h=t(93736);function a(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}var s=function(i,r,u,n){u===void 0&&(u={}),n===void 0&&(n=!0);var o=r.x,f=r.y;r.body={temp:!0,position:{x:o,y:f}};var d=[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity];if(d.forEach(function(m){for(var T in m)a(m[T])?Object.defineProperty(r,T,{get:m[T].get,set:m[T].set}):Object.defineProperty(r,T,{value:m[T]})}),r.world=i,r._tempVec2=new h(o,f),u.hasOwnProperty("type")&&u.type==="body")r.setExistingBody(u,n);else{var v=g(u,"shape",null);v||(v="rectangle"),u.addToWorld=n,r.setBody(v,u)}return r};p.exports=s},7030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(74527),h=t(89980),a=t(72632),s=t(1539),i=t(58210),r=t(93736),u=new l({Extends:s,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,i],initialize:function(o,f,d,v,m,T){h.call(this,o.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,m),this.setSizeToFrame(),this.setOrigin(),this.world=o,this._tempVec2=new r(f,d);var E=a(T,"shape",null);E?this.setBody(E,T):this.setRectangle(this.width,this.height,T),this.setPosition(f,d),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=u},50583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84093),g=t(50658),h=t(68516),a=t(84125),s=t(63568),i=t(84091),r=t(56694),u=t(63454),n=t(68758),o=t(11299),f=t(56643),d=t(52838),v=t(13657),m=t(53996),T=t(72653),E=t(72632),y=t(10850),C=t(1675),A=t(80391),M=t(16929),R=t(44097),O=t(30657),L=t(70584),I=t(91327),N=t(84474),B=t(91963),b=t(13390),X=t(44272),W=t(7599),$=t(92765),z=t(10438),V=t(39745),D=t(31468);n.setDecomp(t(81084));var G=new r({initialize:function(Y){this.scene=Y,this.systems=Y.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=o,this.collision=u,this.detector=v,this.pair=L,this.pairs=I,this.query=b,this.resolver=X,this.constraint=d,this.bodies=h,this.composites=f,this.axes=g,this.bounds=i,this.svg=$,this.vector=z,this.vertices=V,this.verts=V,this._tempVec2=z.create(),y(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),y(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),y(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),X._restingThresh=y(this.config,"restingThresh",4),X._restingThreshTangent=y(this.config,"restingThreshTangent",6),X._positionDampen=y(this.config,"positionDampen",.9),X._positionWarming=y(this.config,"positionWarming",.8),X._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),Y.sys.events.once(W.BOOT,this.boot,this),Y.sys.events.on(W.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new T(this.world),this.bodyBounds=new s,this.systems.events.once(W.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new T(this.world));var U=this.systems.events;U.on(W.UPDATE,this.world.update,this.world),U.on(W.POST_UPDATE,this.world.postUpdate,this.world),U.once(W.SHUTDOWN,this.shutdown,this)},getConfig:function(){var U=this.systems.game.config.physics,Y=this.systems.settings.physics,H=O(E(Y,"matter",{}),E(U,"matter",{}));return H},enableAttractorPlugin:function(){return N.register(C),N.use(M,C),this},enableWrapPlugin:function(){return N.register(R),N.use(M,R),this},enableCollisionEventsPlugin:function(){return N.register(A),N.use(M,A),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(U,Y){this.world.step(U,Y)},containsPoint:function(U,Y,H){U=this.getMatterBodies(U);var Z=z.create(Y,H),K=b.point(U,Z);return K.length>0},intersectPoint:function(U,Y,H){H=this.getMatterBodies(H);var Z=z.create(U,Y),K=[],k=b.point(H,Z);return k.forEach(function(j){K.indexOf(j)===-1&&K.push(j)}),K},intersectRect:function(U,Y,H,Z,K,k){K===void 0&&(K=!1),k=this.getMatterBodies(k);var j={min:{x:U,y:Y},max:{x:U+H,y:Y+Z}},Q=[],J=b.region(k,j,K);return J.forEach(function(_){Q.indexOf(_)===-1&&Q.push(_)}),Q},intersectRay:function(U,Y,H,Z,K,k){K===void 0&&(K=1),k=this.getMatterBodies(k);for(var j=[],Q=b.ray(k,z.create(U,Y),z.create(H,Z),K),J=0;J<Q.length;J++)j.push(Q[J].body);return j},intersectBody:function(U,Y){Y=this.getMatterBodies(Y);for(var H=[],Z=b.collides(U,Y),K=0;K<Z.length;K++){var k=Z[K];k.bodyA===U?H.push(k.bodyB):H.push(k.bodyA)}return H},overlap:function(U,Y,H,Z,K){H===void 0&&(H=null),Z===void 0&&(Z=null),K===void 0&&(K=H),Array.isArray(U)||(U=[U]),U=this.getMatterBodies(U),Y=this.getMatterBodies(Y);for(var k=!1,j=0;j<U.length;j++)for(var Q=U[j],J=b.collides(Q,Y),_=0;_<J.length;_++){var q=J[_],it=q.bodyA.id===Q.id?q.bodyB:q.bodyA;if(!Z||Z.call(K,Q,it,q)){if(k=!0,H)H.call(K,Q,it,q);else if(!Z)return!0}}return k},setCollisionCategory:function(U,Y){return U=this.getMatterBodies(U),U.forEach(function(H){H.collisionFilter.category=Y}),this},setCollisionGroup:function(U,Y){return U=this.getMatterBodies(U),U.forEach(function(H){H.collisionFilter.group=Y}),this},setCollidesWith:function(U,Y){U=this.getMatterBodies(U);var H=0;if(!Array.isArray(Y))H=Y;else for(var Z=0;Z<Y.length;Z++)H|=Y[Z];return U.forEach(function(K){K.collisionFilter.mask=H}),this},getMatterBodies:function(U){if(!U)return this.world.getAllBodies();Array.isArray(U)||(U=[U]);for(var Y=[],H=0;H<U.length;H++){var Z=U[H].hasOwnProperty("body")?U[H].body:U[H];Y.push(Z)}return Y},setVelocity:function(U,Y,H){U=this.getMatterBodies(U);var Z=this._tempVec2;return Z.x=Y,Z.y=H,U.forEach(function(K){a.setVelocity(K,Z)}),this},setVelocityX:function(U,Y){U=this.getMatterBodies(U);var H=this._tempVec2;return H.x=Y,U.forEach(function(Z){H.y=Z.velocity.y,a.setVelocity(Z,H)}),this},setVelocityY:function(U,Y){U=this.getMatterBodies(U);var H=this._tempVec2;return H.y=Y,U.forEach(function(Z){H.x=Z.velocity.x,a.setVelocity(Z,H)}),this},setAngularVelocity:function(U,Y){return U=this.getMatterBodies(U),U.forEach(function(H){a.setAngularVelocity(H,Y)}),this},applyForce:function(U,Y){U=this.getMatterBodies(U);var H=this._tempVec2;return U.forEach(function(Z){H.x=Z.position.x,H.y=Z.position.y,a.applyForce(Z,H,Y)}),this},applyForceFromPosition:function(U,Y,H,Z){U=this.getMatterBodies(U);var K=this._tempVec2;return U.forEach(function(k){Z===void 0&&(Z=k.angle),K.x=H*Math.cos(Z),K.y=H*Math.sin(Z),a.applyForce(k,Y,K)}),this},applyForceFromAngle:function(U,Y,H){U=this.getMatterBodies(U);var Z=this._tempVec2;return U.forEach(function(K){H===void 0&&(H=K.angle),Z.x=Y*Math.cos(H),Z.y=Y*Math.sin(H),a.applyForce(K,{x:K.position.x,y:K.position.y},Z)}),this},getConstraintLength:function(U){var Y=U.pointA.x,H=U.pointA.y,Z=U.pointB.x,K=U.pointB.y;return U.bodyA&&(Y+=U.bodyA.position.x,H+=U.bodyA.position.y),U.bodyB&&(Z+=U.bodyB.position.x,K+=U.bodyB.position.y),m(Y,H,Z,K)},alignBody:function(U,Y,H,Z){U=U.hasOwnProperty("body")?U.body:U;var K;switch(Z){case l.TOP_LEFT:case l.LEFT_TOP:K=this.bodyBounds.getTopLeft(U,Y,H);break;case l.TOP_CENTER:K=this.bodyBounds.getTopCenter(U,Y,H);break;case l.TOP_RIGHT:case l.RIGHT_TOP:K=this.bodyBounds.getTopRight(U,Y,H);break;case l.LEFT_CENTER:K=this.bodyBounds.getLeftCenter(U,Y,H);break;case l.CENTER:K=this.bodyBounds.getCenter(U,Y,H);break;case l.RIGHT_CENTER:K=this.bodyBounds.getRightCenter(U,Y,H);break;case l.LEFT_BOTTOM:case l.BOTTOM_LEFT:K=this.bodyBounds.getBottomLeft(U,Y,H);break;case l.BOTTOM_CENTER:K=this.bodyBounds.getBottomCenter(U,Y,H);break;case l.BOTTOM_RIGHT:case l.RIGHT_BOTTOM:K=this.bodyBounds.getBottomRight(U,Y,H);break}return K&&a.setPosition(U,K),this},shutdown:function(){var U=this.systems.events;this.world&&(U.off(W.UPDATE,this.world.update,this.world),U.off(W.POST_UPDATE,this.world.postUpdate,this.world)),U.off(W.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(W.START,this.start,this),this.scene=null,this.systems=null}});B.register("MatterPhysics",G,"matterPhysics"),p.exports=G},73658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16569),g=t(56694),h=t(74527),a=t(89980),s=t(72632),i=t(58210),r=t(13747),u=t(93736),n=new g({Extends:r,Mixins:[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity,i],initialize:function(f,d,v,m,T,E){a.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(m,T),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new u(d,v);var y=s(E,"shape",null);y?this.setBody(y,E):this.setRectangle(this.width,this.height,E),this.setPosition(d,v),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=n},84720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),g=t(84125),h=t(56694),a=t(74527),s=t(28699),i=t(6659),r=t(72632),u=t(19256),n=t(39745),o=new h({Extends:i,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(d,v,m){i.call(this),this.tile=v,this.world=d,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var T=r(m,"body",null),E=r(m,"addToWorld",!0);if(T)this.setBody(T,E);else{var y=v.getCollisionGroup(),C=r(y,"objects",[]);C.length>0?this.setFromTileCollision(m):this.setFromTileRectangle(m)}if(v.flipX||v.flipY){var A={x:v.getCenterX(),y:v.getCenterY()},M=v.flipX?-1:1,R=v.flipY?-1:1;g.scale(T,M,R,A)}},setFromTileRectangle:function(f){f===void 0&&(f={}),u(f,"isStatic")||(f.isStatic=!0),u(f,"addToWorld")||(f.addToWorld=!0);var d=this.tile.getBounds(),v=d.x+d.width/2,m=d.y+d.height/2,T=l.rectangle(v,m,d.width,d.height,f);return this.setBody(T,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),u(f,"isStatic")||(f.isStatic=!0),u(f,"addToWorld")||(f.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,m=this.tile.getLeft(),T=this.tile.getTop(),E=this.tile.getCollisionGroup(),y=r(E,"objects",[]),C=[],A=0;A<y.length;A++){var M=y[A],R=m+M.x*d,O=T+M.y*v,L=M.width*d,I=M.height*v,N=null;if(M.rectangle)N=l.rectangle(R+L/2,O+I/2,L,I,f);else if(M.ellipse)N=l.circle(R+L/2,O+I/2,L/2,f);else if(M.polygon||M.polyline){var B=M.polygon?M.polygon:M.polyline,b=B.map(function(z){return{x:z.x*d,y:z.y*v}}),X=n.create(b),W=n.centre(X);R+=W.x,O+=W.y,N=l.fromVertices(R,O,X,f)}N&&C.push(N)}if(C.length===1)this.setBody(C[0],f.addToWorld);else if(C.length>1){var $=s(f);$.parts=C,this.setBody(g.create($),$.addToWorld)}return this},setBody:function(f,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});p.exports=o},10998:(p,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),g=t(84125),h=t(68758),a=t(72632),s=t(39745),i={parseBody:function(r,u,n,o){o===void 0&&(o={});for(var f=a(n,"fixtures",[]),d=[],v=0;v<f.length;v++)for(var m=this.parseFixture(f[v]),T=0;T<m.length;T++)d.push(m[T]);var E=h.clone(n,!0);h.extend(E,o,!0),delete E.fixtures,delete E.type;var y=g.create(E);return g.setParts(y,d),g.setPosition(y,{x:r,y:u}),y},parseFixture:function(r){var u=h.extend({},!1,r);delete u.circle,delete u.vertices;var n;if(r.circle){var o=a(r.circle,"x"),f=a(r.circle,"y"),d=a(r.circle,"radius");n=[l.circle(o,f,d,u)]}else r.vertices&&(n=this.parseVertices(r.vertices,u));return n},parseVertices:function(r,u){u===void 0&&(u={});for(var n=[],o=0;o<r.length;o++)s.clockwiseSort(r[o]),n.push(g.create(h.extend({position:s.centre(r[o]),vertices:r[o]},u)));return l.flagCoincidentParts(n)}};p.exports=i},72829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),g=t(84125),h={parseBody:function(a,s,i,r){r===void 0&&(r={});var u,n=i.vertices;if(n.length===1)r.vertices=n[0],u=g.create(r),l.flagCoincidentParts(u.parts);else{for(var o=[],f=0;f<n.length;f++){var d=g.create({vertices:n[f]});o.push(d)}l.flagCoincidentParts(o),r.parts=o,u=g.create(r)}return u.label=i.label,g.setPosition(u,{x:a,y:s}),u}};p.exports=h},88596:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84091),g=t(56694),h=t(11299),a=t(52838),s=t(13657),i=t(35416),r=t(33963),u=t(30657),n=t(22806),o=t(93736),f=t(39745),d=new g({initialize:function(m,T,E){E===void 0&&(E={});var y={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=T,this.camera=null,this.pointer=null,this.active=!0,this.position=new o,this.body=null,this.part=null,this.constraint=a.create(u(E,y)),this.world.on(i.BEFORE_UPDATE,this.update,this),m.sys.input.on(r.POINTER_DOWN,this.onDown,this),m.sys.input.on(r.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var m=this.position,T=this.constraint;this.camera.getWorldPoint(v.x,v.y,m);for(var E=h.allBodies(this.world.localWorld),y=0;y<E.length;y++){var C=E[y];if(!C.ignorePointer&&l.contains(C.bounds,m)&&s.canCollide(C.collisionFilter,T.collisionFilter)&&this.hitTestBody(C,m))return this.world.emit(i.DRAG_START,C,this.part,this),!0}return!1},hitTestBody:function(v,m){for(var T=this.constraint,E=v.parts.length,y=E>1?1:0,C=y;C<E;C++){var A=v.parts[C];if(f.contains(A.vertices,m))return T.pointA=m,T.pointB={x:m.x-v.position.x,y:m.y-v.position.y},T.bodyB=v,T.angleB=v.angle,n.set(v,!1),this.part=A,this.body=v,!0}return!1},update:function(){var v=this.pointer,m=this.body;if(!this.active||!v){m&&this.stopDrag();return}if(!v.isDown&&m){this.stopDrag();return}else if(v.isDown){if(!m&&!this.getBody(v))return;m=this.body;var T=this.position,E=this.constraint;this.camera.getWorldPoint(v.x,v.y,T),E.pointA.x=T.x,E.pointA.y=T.y,n.set(m,!1),this.world.emit(i.DRAG,m,this)}},stopDrag:function(){var v=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(i.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(i.BEFORE_UPDATE,this.update),this.scene.sys.input.off(r.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(r.POINTER_UP,this.onUp,this)}});p.exports=d},31468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),g=t(84125),h=t(56694),a=t(68758),s=t(11299),i=t(45775),r=t(6659),u=t(35416),n=t(72632),o=t(10850),f=t(84125),d=t(39073),v=t(84720),m=t(72005),T=t(10438),E=new h({Extends:r,initialize:function(C,A){r.call(this),this.scene=C,this.engine=i.create(A),this.localWorld=this.engine.world;var M=o(A,"gravity",null);M?this.setGravity(M.x,M.y,M.scale):M===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=o(A,"enabled",!0),this.getDelta=o(A,"getDelta",this.update60Hz);var R=n(A,"runner",{}),O=n(R,"fps",!1),L=n(R,"fps",60),I=n(R,"delta",1e3/L),N=n(R,"deltaMin",1e3/L),B=n(R,"deltaMax",1e3/(L*.5));O||(L=1e3/I),this.runner={fps:L,deltaSampleSize:n(R,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:n(R,"isFixed",!1),delta:I,deltaMin:N,deltaMax:B},this.autoUpdate=o(A,"autoUpdate",!0);var b=o(A,"debug",!1);if(this.drawDebug=typeof b=="object"?!0:b,this.debugGraphic,this.debugConfig={showAxes:n(b,"showAxes",!1),showAngleIndicator:n(b,"showAngleIndicator",!1),angleColor:n(b,"angleColor",15208787),showBroadphase:n(b,"showBroadphase",!1),broadphaseColor:n(b,"broadphaseColor",16757760),showBounds:n(b,"showBounds",!1),boundsColor:n(b,"boundsColor",16777215),showVelocity:n(b,"showVelocity",!1),velocityColor:n(b,"velocityColor",44783),showCollisions:n(b,"showCollisions",!1),collisionColor:n(b,"collisionColor",16094476),showSeparations:n(b,"showSeparations",!1),separationColor:n(b,"separationColor",16753920),showBody:n(b,"showBody",!0),showStaticBody:n(b,"showStaticBody",!0),showInternalEdges:n(b,"showInternalEdges",!1),renderFill:n(b,"renderFill",!1),renderLine:n(b,"renderLine",!0),fillColor:n(b,"fillColor",1075465),fillOpacity:n(b,"fillOpacity",1),lineColor:n(b,"lineColor",2678297),lineOpacity:n(b,"lineOpacity",1),lineThickness:n(b,"lineThickness",1),staticFillColor:n(b,"staticFillColor",857979),staticLineColor:n(b,"staticLineColor",1255396),showSleeping:n(b,"showSleeping",!1),staticBodySleepOpacity:n(b,"staticBodySleepOpacity",.7),sleepFillColor:n(b,"sleepFillColor",4605510),sleepLineColor:n(b,"sleepLineColor",10066585),showSensors:n(b,"showSensors",!0),sensorFillColor:n(b,"sensorFillColor",857979),sensorLineColor:n(b,"sensorLineColor",1255396),showPositions:n(b,"showPositions",!0),positionSize:n(b,"positionSize",4),positionColor:n(b,"positionColor",14697178),showJoint:n(b,"showJoint",!0),jointColor:n(b,"jointColor",14737474),jointLineOpacity:n(b,"jointLineOpacity",1),jointLineThickness:n(b,"jointLineThickness",2),pinSize:n(b,"pinSize",4),pinColor:n(b,"pinColor",4382944),springColor:n(b,"springColor",14697184),anchorColor:n(b,"anchorColor",15724527),anchorSize:n(b,"anchorSize",4),showConvexHulls:n(b,"showConvexHulls",!1),hullColor:n(b,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),n(A,"setBounds",!1)){var X=A.setBounds;if(typeof X=="boolean")this.setBounds();else{var W=n(X,"x",0),$=n(X,"y",0),z=n(X,"width",C.sys.scale.width),V=n(X,"height",C.sys.scale.height),D=n(X,"thickness",64),G=n(X,"left",!0),U=n(X,"right",!0),Y=n(X,"top",!0),H=n(X,"bottom",!0);this.setBounds(W,$,z,V,D,G,U,Y,H)}}},setCompositeRenderStyle:function(y){var C=y.bodies,A=y.constraints,M=y.composites,R,O,L;for(R=0;R<C.length;R++)O=C[R],L=O.render,this.setBodyRenderStyle(O,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(R=0;R<A.length;R++)O=A[R],L=O.render,this.setConstraintRenderStyle(O,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(R=0;R<M.length;R++)O=M[R],this.setCompositeRenderStyle(O);return this},setBodyRenderStyle:function(y,C,A,M,R,O){var L=y.render,I=this.debugConfig;return L?(C==null&&(C=y.isStatic?I.staticLineColor:I.lineColor),A==null&&(A=I.lineOpacity),M==null&&(M=I.lineThickness),R==null&&(R=y.isStatic?I.staticFillColor:I.fillColor),O==null&&(O=I.fillOpacity),C!==!1&&(L.lineColor=C),A!==!1&&(L.lineOpacity=A),M!==!1&&(L.lineThickness=M),R!==!1&&(L.fillColor=R),O!==!1&&(L.fillOpacity=O),this):this},setConstraintRenderStyle:function(y,C,A,M,R,O,L){var I=y.render,N=this.debugConfig;if(!I)return this;if(C==null){var B=I.type;B==="line"?C=N.jointColor:B==="pin"?C=N.pinColor:B==="spring"&&(C=N.springColor)}return A==null&&(A=N.jointLineOpacity),M==null&&(M=N.jointLineThickness),R==null&&(R=N.pinSize),O==null&&(O=N.anchorColor),L==null&&(L=N.anchorSize),C!==!1&&(I.lineColor=C),A!==!1&&(I.lineOpacity=A),M!==!1&&(I.lineThickness=M),R!==!1&&(I.pinSize=R),O!==!1&&(I.anchorColor=O),L!==!1&&(I.anchorSize=L),this},setEventsProxy:function(){var y=this,C=this.engine,A=this.localWorld;this.drawDebug&&(d.on(A,"compositeModified",function(M){y.setCompositeRenderStyle(M)}),d.on(A,"beforeAdd",function(M){for(var R=[].concat(M.object),O=0;O<R.length;O++){var L=R[O],I=L.render;L.type==="body"?y.setBodyRenderStyle(L,I.lineColor,I.lineOpacity,I.lineThickness,I.fillColor,I.fillOpacity):L.type==="composite"?y.setCompositeRenderStyle(L):L.type==="constraint"&&y.setConstraintRenderStyle(L,I.lineColor,I.lineOpacity,I.lineThickness,I.pinSize,I.anchorColor,I.anchorSize)}})),d.on(A,"beforeAdd",function(M){y.emit(u.BEFORE_ADD,M)}),d.on(A,"afterAdd",function(M){y.emit(u.AFTER_ADD,M)}),d.on(A,"beforeRemove",function(M){y.emit(u.BEFORE_REMOVE,M)}),d.on(A,"afterRemove",function(M){y.emit(u.AFTER_REMOVE,M)}),d.on(C,"beforeUpdate",function(M){y.emit(u.BEFORE_UPDATE,M)}),d.on(C,"afterUpdate",function(M){y.emit(u.AFTER_UPDATE,M)}),d.on(C,"collisionStart",function(M){var R=M.pairs,O,L;R.length>0&&(O=R[0].bodyA,L=R[0].bodyB),y.emit(u.COLLISION_START,M,O,L)}),d.on(C,"collisionActive",function(M){var R=M.pairs,O,L;R.length>0&&(O=R[0].bodyA,L=R[0].bodyB),y.emit(u.COLLISION_ACTIVE,M,O,L)}),d.on(C,"collisionEnd",function(M){var R=M.pairs,O,L;R.length>0&&(O=R[0].bodyA,L=R[0].bodyB),y.emit(u.COLLISION_END,M,O,L)})},setBounds:function(y,C,A,M,R,O,L,I,N){return y===void 0&&(y=0),C===void 0&&(C=0),A===void 0&&(A=this.scene.sys.scale.width),M===void 0&&(M=this.scene.sys.scale.height),R===void 0&&(R=64),O===void 0&&(O=!0),L===void 0&&(L=!0),I===void 0&&(I=!0),N===void 0&&(N=!0),this.updateWall(O,"left",y-R,C-R,R,M+R*2),this.updateWall(L,"right",y+A,C-R,R,M+R*2),this.updateWall(I,"top",y,C-R,A,R),this.updateWall(N,"bottom",y,C+M,A,R),this},updateWall:function(y,C,A,M,R,O){var L=this.walls[C];y?(L&&m.remove(this.localWorld,L),A+=R/2,M+=O/2,this.walls[C]=this.create(A,M,R,O,{isStatic:!0,friction:0,frictionStatic:0})):(L&&m.remove(this.localWorld,L),this.walls[C]=null)},createDebugGraphic:function(){var y=this.scene.sys.add.graphics({x:0,y:0});return y.setDepth(Number.MAX_VALUE),this.debugGraphic=y,this.drawDebug=!0,y},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(y,C,A){return y===void 0&&(y=0),C===void 0&&(C=1),A===void 0&&(A=.001),this.localWorld.gravity.x=y,this.localWorld.gravity.y=C,this.localWorld.gravity.scale=A,this},create:function(y,C,A,M,R){var O=l.rectangle(y,C,A,M,R);return m.add(this.localWorld,O),O},add:function(y){return m.add(this.localWorld,y),this},remove:function(y,C){Array.isArray(y)||(y=[y]);for(var A=0;A<y.length;A++){var M=y[A],R=M.body?M.body:M;s.remove(this.localWorld,R,C)}return this},removeConstraint:function(y,C){return s.remove(this.localWorld,y,C),this},convertTilemapLayer:function(y,C){var A=y.layer,M=y.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(M,C),this},convertTiles:function(y,C){if(y.length===0)return this;for(var A=0;A<y.length;A++)new v(this,y[A],C);return this},nextGroup:function(y){return f.nextGroup(y)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(u.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(u.RESUME),this},update:function(y,C){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,M=this.runner,R=A.timing;M.isFixed?C=this.getDelta(y,C):(C=y-M.timePrev||M.delta,M.timePrev=y,M.deltaHistory.push(C),M.deltaHistory=M.deltaHistory.slice(-M.deltaSampleSize),C=Math.min.apply(null,M.deltaHistory),C=C<M.deltaMin?M.deltaMin:C,C=C>M.deltaMax?M.deltaMax:C,M.delta=C),M.timeScalePrev=R.timeScale,M.frameCounter+=1,y-M.counterTimestamp>=1e3&&(M.fps=M.frameCounter*((y-M.counterTimestamp)/1e3),M.counterTimestamp=y,M.frameCounter=0),i.update(A,C)}},step:function(y){i.update(this.engine,y)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(y){var C=y.hasOwnProperty("body")?y.body:y;return s.get(this.localWorld,C.id,C.type)!==null},getAllBodies:function(){return s.allBodies(this.localWorld)},getAllConstraints:function(){return s.allConstraints(this.localWorld)},getAllComposites:function(){return s.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var y=this.debugConfig,C=this.engine,A=this.debugGraphic,M=s.allBodies(this.localWorld);this.debugGraphic.clear(),y.showBroadphase&&C.broadphase.controller&&this.renderGrid(C.broadphase,A,y.broadphaseColor,.5),y.showBounds&&this.renderBodyBounds(M,A,y.boundsColor,.5),(y.showBody||y.showStaticBody)&&this.renderBodies(M),y.showJoint&&this.renderJoints(),(y.showAxes||y.showAngleIndicator)&&this.renderBodyAxes(M,A,y.showAxes,y.angleColor,.5),y.showVelocity&&this.renderBodyVelocity(M,A,y.velocityColor,1,2),y.showSeparations&&this.renderSeparations(C.pairs.list,A,y.separationColor),y.showCollisions&&this.renderCollisions(C.pairs.list,A,y.collisionColor)}},renderGrid:function(y,C,A,M){C.lineStyle(1,A,M);for(var R=a.keys(y.buckets),O=0;O<R.length;O++){var L=R[O];if(!(y.buckets[L].length<2)){var I=L.split(/C|R/);C.strokeRect(parseInt(I[1],10)*y.bucketWidth,parseInt(I[2],10)*y.bucketHeight,y.bucketWidth,y.bucketHeight)}}return this},renderSeparations:function(y,C,A){C.lineStyle(1,A,1);for(var M=0;M<y.length;M++){var R=y[M];if(R.isActive){var O=R.collision,L=O.bodyA,I=O.bodyB,N=L.position,B=I.position,b=O.penetration,X=!L.isStatic&&!I.isStatic?4:1;I.isStatic&&(X=0),C.lineBetween(B.x,B.y,B.x-b.x*X,B.y-b.y*X),X=!L.isStatic&&!I.isStatic?4:1,L.isStatic&&(X=0),C.lineBetween(N.x,N.y,N.x-b.x*X,N.y-b.y*X)}}return this},renderCollisions:function(y,C,A){C.lineStyle(1,A,.5),C.fillStyle(A,1);var M,R;for(M=0;M<y.length;M++)if(R=y[M],!!R.isActive)for(var O=0;O<R.activeContacts.length;O++){var L=R.activeContacts[O],I=L.vertex;C.fillRect(I.x-2,I.y-2,5,5)}for(M=0;M<y.length;M++)if(R=y[M],!!R.isActive){var N=R.collision,B=R.activeContacts;if(B.length>0){var b=B[0].vertex.x,X=B[0].vertex.y;B.length===2&&(b=(B[0].vertex.x+B[1].vertex.x)/2,X=(B[0].vertex.y+B[1].vertex.y)/2),N.bodyB===N.supports[0].body||N.bodyA.isStatic?C.lineBetween(b-N.normal.x*8,X-N.normal.y*8,b,X):C.lineBetween(b+N.normal.x*8,X+N.normal.y*8,b,X)}}return this},renderBodyBounds:function(y,C,A,M){C.lineStyle(1,A,M);for(var R=0;R<y.length;R++){var O=y[R];if(O.render.visible){var L=O.bounds;if(L)C.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var I=O.parts,N=I.length>1?1:0;N<I.length;N++){var B=I[N];C.strokeRect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}}return this},renderBodyAxes:function(y,C,A,M,R){C.lineStyle(1,M,R);for(var O=0;O<y.length;O++){var L=y[O],I=L.parts;if(L.render.visible){var N,B,b;if(A)for(B=I.length>1?1:0;B<I.length;B++)for(N=I[B],b=0;b<N.axes.length;b++){var X=N.axes[b];C.lineBetween(N.position.x,N.position.y,N.position.x+X.x*20,N.position.y+X.y*20)}else for(B=I.length>1?1:0;B<I.length;B++)for(N=I[B],b=0;b<N.axes.length;b++)C.lineBetween(N.position.x,N.position.y,(N.vertices[0].x+N.vertices[N.vertices.length-1].x)/2,(N.vertices[0].y+N.vertices[N.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(y,C,A,M,R){C.lineStyle(R,A,M);for(var O=0;O<y.length;O++){var L=y[O];L.render.visible&&C.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(y){for(var C=this.debugGraphic,A=this.debugConfig,M=A.showBody,R=A.showStaticBody,O=A.showSleeping,L=A.showInternalEdges,I=A.showConvexHulls,N=A.renderFill,B=A.renderLine,b=A.staticBodySleepOpacity,X=A.sleepFillColor,W=A.sleepLineColor,$=A.hullColor,z=0;z<y.length;z++){var V=y[z];if(V.render.visible&&!(!R&&V.isStatic||!M&&!V.isStatic)){var D=V.render.lineColor,G=V.render.lineOpacity,U=V.render.lineThickness,Y=V.render.fillColor,H=V.render.fillOpacity;O&&V.isSleeping&&(V.isStatic?(G*=b,H*=b):(D=W,Y=X)),N||(Y=null),B||(D=null),this.renderBody(V,C,L,D,G,U,Y,H);var Z=V.parts.length;I&&Z>1&&this.renderConvexHull(V,C,$,U)}}},renderBody:function(y,C,A,M,R,O,L,I){M===void 0&&(M=null),R===void 0&&(R=null),O===void 0&&(O=1),L===void 0&&(L=null),I===void 0&&(I=null);for(var N=this.debugConfig,B=N.sensorFillColor,b=N.sensorLineColor,X=y.parts,W=X.length,$=W>1?1:0;$<W;$++){var z=X[$],V=z.render,D=V.opacity;if(!(!V.visible||D===0||z.isSensor&&!N.showSensors)){var G=z.circleRadius;if(C.beginPath(),z.isSensor?(L!==null&&C.fillStyle(B,I*D),M!==null&&C.lineStyle(O,b,R*D)):(L!==null&&C.fillStyle(L,I*D),M!==null&&C.lineStyle(O,M,R*D)),G)C.arc(z.position.x,z.position.y,G,0,2*Math.PI);else{var U=z.vertices,Y=U.length;C.moveTo(U[0].x,U[0].y);for(var H=1;H<Y;H++){var Z=U[H];if(!U[H-1].isInternal||A?C.lineTo(Z.x,Z.y):C.moveTo(Z.x,Z.y),H<Y&&Z.isInternal&&!A){var K=(H+1)%Y;C.moveTo(U[K].x,U[K].y)}}C.closePath()}L!==null&&C.fillPath(),M!==null&&C.strokePath()}}if(N.showPositions&&!y.isStatic){var k=y.position.x,j=y.position.y,Q=Math.ceil(N.positionSize/2);C.fillStyle(N.positionColor,1),C.fillRect(k-Q,j-Q,N.positionSize,N.positionSize)}return this},renderConvexHull:function(y,C,A,M){M===void 0&&(M=1);var R=y.parts,O=R.length;if(O>1){var L=y.vertices;C.lineStyle(M,A),C.beginPath(),C.moveTo(L[0].x,L[0].y);for(var I=1;I<L.length;I++)C.lineTo(L[I].x,L[I].y);C.lineTo(L[0].x,L[0].y),C.strokePath()}return this},renderJoints:function(){for(var y=this.debugGraphic,C=s.allConstraints(this.localWorld),A=0;A<C.length;A++){var M=C[A].render,R=M.lineColor,O=M.lineOpacity,L=M.lineThickness,I=M.pinSize,N=M.anchorColor,B=M.anchorSize;this.renderConstraint(C[A],y,R,O,L,I,N,B)}},renderConstraint:function(y,C,A,M,R,O,L,I){var N=y.render;if(!N.visible||!y.pointA||!y.pointB)return this;C.lineStyle(R,A,M);var B=y.bodyA,b=y.bodyB,X,W;if(B?X=T.add(B.position,y.pointA):X=y.pointA,N.type==="pin")C.strokeCircle(X.x,X.y,O);else{if(b?W=T.add(b.position,y.pointB):W=y.pointB,C.beginPath(),C.moveTo(X.x,X.y),N.type==="spring")for(var $=T.sub(W,X),z=T.perp(T.normalise($)),V=Math.ceil(a.clamp(y.length/5,12,20)),D,G=1;G<V;G+=1)D=G%2===0?1:-1,C.lineTo(X.x+$.x*(G/V)+z.x*D*4,X.y+$.y*(G/V)+z.y*D*4);C.lineTo(W.x,W.y)}return C.strokePath(),N.anchors&&I>0&&(C.fillStyle(L),C.fillCircle(X.x,X.y,I),C.fillCircle(W.x,W.y,I)),this},resetCollisionIDs:function(){return g._nextCollidingGroupId=1,g._nextNonCollidingGroupId=-1,g._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),i.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});p.exports=E},95349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};p.exports=S},70679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var l=0;if(!Array.isArray(t))l=t;else for(var g=0;g<t.length;g++)l|=t[g];return this.body.collisionFilter.mask=l,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,l){Array.isArray(t)||(t=[t]);for(var g=0;g<t.length;g++){var h=t[g].hasOwnProperty("body")?t[g].body:t[g];this.body.setOnCollideWith(h,l)}return this}};p.exports=S},77178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84125),g={applyForce:function(h){return this._tempVec2.set(this.body.position.x,this.body.position.y),l.applyForce(this.body,this._tempVec2,h),this},applyForceFrom:function(h,a){return l.applyForce(this.body,h,a),this},thrust:function(h){var a=this.body.angle;return this._tempVec2.set(h*Math.cos(a),h*Math.sin(a)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(h){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(h*Math.cos(a),h*Math.sin(a)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(h){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(h*Math.cos(a),h*Math.sin(a)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(h){var a=this.body.angle-Math.PI;return this._tempVec2.set(h*Math.cos(a),h*Math.sin(a)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};p.exports=g},74015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,l,g){return this.body.friction=t,l!==void 0&&(this.body.frictionAir=l),g!==void 0&&(this.body.frictionStatic=g),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};p.exports=S},11535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};p.exports=S},74497:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84125),g=t(93736),h={setMass:function(a){return l.setMass(this.body,a),this},setDensity:function(a){return l.setDensity(this.body,a),this},centerOfMass:{get:function(){return new g(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};p.exports=h},75529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};p.exports=S},64024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),g=t(84125),h=t(88456),a=t(72632),s=t(10998),i=t(72829),r=t(39745),u={setRectangle:function(n,o,f){return this.setBody({type:"rectangle",width:n,height:o},f)},setCircle:function(n,o){return this.setBody({type:"circle",radius:n},o)},setPolygon:function(n,o,f){return this.setBody({type:"polygon",sides:o,radius:n},f)},setTrapezoid:function(n,o,f,d){return this.setBody({type:"trapezoid",width:n,height:o,slope:f},d)},setExistingBody:function(n,o){o===void 0&&(o=!0),this.body&&this.world.remove(this.body,!0),this.body=n;for(var f=0;f<n.parts.length;f++)n.parts[f].gameObject=this;var d=this;if(n.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},o&&(this.world.has(n)&&this.world.remove(n,!0),this.world.add(n)),this._originComponent){var v=n.render.sprite.xOffset,m=n.render.sprite.yOffset,T=n.centerOfMass.x,E=n.centerOfMass.y;if(h(T,.5)&&h(E,.5))this.setOrigin(v+.5,m+.5);else{var y=n.centerOffset.x,C=n.centerOffset.y;this.setOrigin(v+y/this.displayWidth,m+C/this.displayHeight)}}return this},setBody:function(n,o){if(!n)return this;var f;typeof n=="string"&&(n={type:n});var d=a(n,"type","rectangle"),v=a(n,"x",this._tempVec2.x),m=a(n,"y",this._tempVec2.y),T=a(n,"width",this.width),E=a(n,"height",this.height);switch(d){case"rectangle":f=l.rectangle(v,m,T,E,o);break;case"circle":var y=a(n,"radius",Math.max(T,E)/2),C=a(n,"maxSides",25);f=l.circle(v,m,y,o,C);break;case"trapezoid":var A=a(n,"slope",.5);f=l.trapezoid(v,m,T,E,A,o);break;case"polygon":var M=a(n,"sides",5),R=a(n,"radius",Math.max(T,E)/2);f=l.polygon(v,m,M,R,o);break;case"fromVertices":case"fromVerts":var O=a(n,"verts",null);if(O)if(typeof O=="string"&&(O=r.fromPath(O)),this.body&&!this.body.hasOwnProperty("temp"))g.setVertices(this.body,O),f=this.body;else{var L=a(n,"flagInternal",!1),I=a(n,"removeCollinear",.01),N=a(n,"minimumArea",10);f=l.fromVertices(v,m,O,o,L,I,N)}break;case"fromPhysicsEditor":f=s.parseBody(v,m,n,o);break;case"fromPhysicsTracer":f=i.parseBody(v,m,n,o);break}return f&&this.setExistingBody(f,n.addToWorld),this}};p.exports=u},25106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35416),g=t(22806),h=t(39073),a={setToSleep:function(){return g.set(this.body,!0),this},setAwake:function(){return g.set(this.body,!1),this},setSleepThreshold:function(s){return s===void 0&&(s=60),this.body.sleepThreshold=s,this},setSleepEvents:function(s,i){return this.setSleepStartEvent(s),this.setSleepEndEvent(i),this},setSleepStartEvent:function(s){if(s){var i=this.world;h.on(this.body,"sleepStart",function(r){i.emit(l.SLEEP_START,r,this)})}else h.off(this.body,"sleepStart");return this},setSleepEndEvent:function(s){if(s){var i=this.world;h.on(this.body,"sleepEnd",function(r){i.emit(l.SLEEP_END,r,this)})}else h.off(this.body,"sleepEnd");return this}};p.exports=a},82884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84125),g={setStatic:function(h){return l.setStatic(this.body,h),this},isStatic:function(){return this.body.isStatic}};p.exports=g},4753:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84125),g=t(83392),h=t(35786),a=t(62138),s=4,i={x:{get:function(){return this.body.position.x},set:function(r){this._tempVec2.set(r,this.y),l.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(r){this._tempVec2.set(this.x,r),l.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(r){var u=1/this._scaleX,n=1/this._scaleY;this._scaleX=r,this._scaleX===0?this.renderFlags&=~s:this.renderFlags|=s,l.scale(this.body,u,n),l.scale(this.body,r,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(r){var u=1/this._scaleX,n=1/this._scaleY;this._scaleY=r,this._scaleY===0?this.renderFlags&=~s:this.renderFlags|=s,l.scale(this.body,u,n),l.scale(this.body,this._scaleX,r)}},angle:{get:function(){return a(this.body.angle*g.RAD_TO_DEG)},set:function(r){this.rotation=a(r)*g.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(r){this._rotation=h(r),l.setAngle(this.body,this._rotation)}},setPosition:function(r,u){return r===void 0&&(r=0),u===void 0&&(u=r),this._tempVec2.set(r,u),l.setPosition(this.body,this._tempVec2),this},setRotation:function(r){return r===void 0&&(r=0),this._rotation=h(r),l.setAngle(this.body,r),this},setFixedRotation:function(){return l.setInertia(this.body,1/0),this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,l.setAngle(this.body,this.rotation),this},setScale:function(r,u,n){r===void 0&&(r=1),u===void 0&&(u=r);var o=1/this._scaleX,f=1/this._scaleY;return this._scaleX=r,this._scaleY=u,l.scale(this.body,o,f,n),l.scale(this.body,r,u,n),this}};p.exports=i},37268:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84125),g={setVelocityX:function(h){return this._tempVec2.set(h,this.body.velocity.y),l.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(h){return this._tempVec2.set(this.body.velocity.x,h),l.setVelocity(this.body,this._tempVec2),this},setVelocity:function(h,a){return this._tempVec2.set(h,a),l.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return l.getVelocity(this.body)},setAngularVelocity:function(h){return l.setAngularVelocity(this.body,h),this},getAngularVelocity:function(){return l.getAngularVelocity(this.body)},setAngularSpeed:function(h){return l.setAngularSpeed(this.body,h),this},getAngularSpeed:function(){return l.getAngularSpeed(this.body)}};p.exports=g},74527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bounce:t(95349),Collision:t(70679),Force:t(77178),Friction:t(74015),Gravity:t(11535),Mass:t(74497),Sensor:t(75529),SetBody:t(64024),Sleep:t(25106),Static:t(82884),Transform:t(4753),Velocity:t(37268)}},63201:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afteradd"},30474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterremove"},44822:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterupdate"},88820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeadd"},94849:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeremove"},6391:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeupdate"},96738:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionactive"},7916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionend"},59529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionstart"},10219:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},183:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},39143:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},16483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},35806:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22106:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepend"},5803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepstart"},35416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_ADD:t(63201),AFTER_REMOVE:t(30474),AFTER_UPDATE:t(44822),BEFORE_ADD:t(88820),BEFORE_REMOVE:t(94849),BEFORE_UPDATE:t(6391),COLLISION_ACTIVE:t(96738),COLLISION_END:t(7916),COLLISION_START:t(59529),DRAG_END:t(10219),DRAG:t(183),DRAG_START:t(39143),PAUSE:t(16483),RESUME:t(35806),SLEEP_END:t(22106),SLEEP_START:t(5803)}},45949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BodyBounds:t(63568),Components:t(74527),Events:t(35416),Factory:t(72653),MatterGameObject:t(3860),Image:t(7030),Matter:t(18171),MatterPhysics:t(50583),PolyDecomp:t(81084),Sprite:t(73658),TileBody:t(84720),PhysicsEditorParser:t(10998),PhysicsJSONParser:t(72829),PointerConstraint:t(88596),World:t(31468)}},84125:(p,S,t)=>{var l={};p.exports=l;var g=t(39745),h=t(10438),a=t(22806),s=t(68758),i=t(84091),r=t(50658);(function(){l._timeCorrection=!0,l._inertiaScale=4,l._nextCollidingGroupId=1,l._nextNonCollidingGroupId=-1,l._nextCategory=1,l._baseDelta=16.666666666666668,l.create=function(n){var o={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!n.hasOwnProperty("position")&&n.hasOwnProperty("vertices")?n.position=g.centre(n.vertices):n.hasOwnProperty("vertices")||(o.vertices=g.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=s.extend(o,n);return u(f,n),f.setOnCollideWith=function(d,v){return v?this.onCollideWith[d.id]=v:delete this.onCollideWith[d.id],this},f},l.nextGroup=function(n){return n?l._nextNonCollidingGroupId--:l._nextCollidingGroupId++},l.nextCategory=function(){return l._nextCategory=l._nextCategory<<1,l._nextCategory};var u=function(n,o){if(o=o||{},l.set(n,{bounds:n.bounds||i.create(n.vertices),positionPrev:n.positionPrev||h.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n}),g.rotate(n.vertices,n.angle,n.position),r.rotate(n.axes,n.angle),i.update(n.bounds,n.vertices,n.velocity),l.set(n,{axes:o.axes||n.axes,area:o.area||n.area,mass:o.mass||n.mass,inertia:o.inertia||n.inertia}),n.parts.length===1){var f=n.bounds,d=n.centerOfMass,v=n.centerOffset,m=f.max.x-f.min.x,T=f.max.y-f.min.y;d.x=-(f.min.x-n.position.x)/m,d.y=-(f.min.y-n.position.y)/T,v.x=m*d.x,v.y=T*d.y}};l.set=function(n,o,f){var d;typeof o=="string"&&(d=o,o={},o[d]=f);for(d in o)if(Object.prototype.hasOwnProperty.call(o,d))switch(f=o[d],d){case"isStatic":l.setStatic(n,f);break;case"isSleeping":a.set(n,f);break;case"mass":l.setMass(n,f);break;case"density":l.setDensity(n,f);break;case"inertia":l.setInertia(n,f);break;case"vertices":l.setVertices(n,f);break;case"position":l.setPosition(n,f);break;case"angle":l.setAngle(n,f);break;case"velocity":l.setVelocity(n,f);break;case"angularVelocity":l.setAngularVelocity(n,f);break;case"speed":l.setSpeed(n,f);break;case"angularSpeed":l.setAngularSpeed(n,f);break;case"parts":l.setParts(n,f);break;case"centre":l.setCentre(n,f);break;default:n[d]=f}},l.setStatic=function(n,o){for(var f=0;f<n.parts.length;f++){var d=n.parts[f];o?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=o}},l.setMass=function(n,o){var f=n.inertia/(n.mass/6);n.inertia=f*(o/6),n.inverseInertia=1/n.inertia,n.mass=o,n.inverseMass=1/n.mass,n.density=n.mass/n.area},l.setDensity=function(n,o){l.setMass(n,o*n.area),n.density=o},l.setInertia=function(n,o){n.inertia=o,n.inverseInertia=1/n.inertia},l.setVertices=function(n,o){o[0].body===n?n.vertices=o:n.vertices=g.create(o,n),n.axes=r.fromVertices(n.vertices),n.area=g.area(n.vertices),l.setMass(n,n.density*n.area);var f=g.centre(n.vertices);g.translate(n.vertices,f,-1),l.setInertia(n,l._inertiaScale*g.inertia(n.vertices,n.mass)),g.translate(n.vertices,n.position),i.update(n.bounds,n.vertices,n.velocity)},l.setParts=function(n,o,f){var d;for(o=o.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,d=0;d<o.length;d++){var v=o[d];v!==n&&(v.parent=n,n.parts.push(v))}if(n.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var m=[];for(d=0;d<o.length;d++)m=m.concat(o[d].vertices);g.clockwiseSort(m);var T=g.hull(m),E=g.centre(T);l.setVertices(n,T),g.translate(n.vertices,E)}var y=l._totalProperties(n),C=y.centre.x,A=y.centre.y,M=n.bounds,R=n.centerOfMass,O=n.centerOffset;i.update(M,n.vertices,n.velocity),R.x=-(M.min.x-C)/(M.max.x-M.min.x),R.y=-(M.min.y-A)/(M.max.y-M.min.y),O.x=C,O.y=A,n.area=y.area,n.parent=n,n.position.x=C,n.position.y=A,n.positionPrev.x=C,n.positionPrev.y=A,l.setMass(n,y.mass),l.setInertia(n,y.inertia),l.setPosition(n,y.centre)}},l.setCentre=function(n,o,f){f?(n.positionPrev.x+=o.x,n.positionPrev.y+=o.y,n.position.x+=o.x,n.position.y+=o.y):(n.positionPrev.x=o.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=o.y-(n.position.y-n.positionPrev.y),n.position.x=o.x,n.position.y=o.y)},l.setPosition=function(n,o,f){var d=h.sub(o,n.position);f?(n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.velocity.x=d.x,n.velocity.y=d.y,n.speed=h.magnitude(d)):(n.positionPrev.x+=d.x,n.positionPrev.y+=d.y);for(var v=0;v<n.parts.length;v++){var m=n.parts[v];m.position.x+=d.x,m.position.y+=d.y,g.translate(m.vertices,d),i.update(m.bounds,m.vertices,n.velocity)}},l.setAngle=function(n,o,f){var d=o-n.angle;f?(n.anglePrev=n.angle,n.angularVelocity=d,n.angularSpeed=Math.abs(d)):n.anglePrev+=d;for(var v=0;v<n.parts.length;v++){var m=n.parts[v];m.angle+=d,g.rotate(m.vertices,d,n.position),r.rotate(m.axes,d),i.update(m.bounds,m.vertices,n.velocity),v>0&&h.rotateAbout(m.position,d,n.position,m.position)}},l.setVelocity=function(n,o){var f=n.deltaTime/l._baseDelta;n.positionPrev.x=n.position.x-o.x*f,n.positionPrev.y=n.position.y-o.y*f,n.velocity.x=(n.position.x-n.positionPrev.x)/f,n.velocity.y=(n.position.y-n.positionPrev.y)/f,n.speed=h.magnitude(n.velocity)},l.getVelocity=function(n){var o=l._baseDelta/n.deltaTime;return{x:(n.position.x-n.positionPrev.x)*o,y:(n.position.y-n.positionPrev.y)*o}},l.getSpeed=function(n){return h.magnitude(l.getVelocity(n))},l.setSpeed=function(n,o){l.setVelocity(n,h.mult(h.normalise(l.getVelocity(n)),o))},l.setAngularVelocity=function(n,o){var f=n.deltaTime/l._baseDelta;n.anglePrev=n.angle-o*f,n.angularVelocity=(n.angle-n.anglePrev)/f,n.angularSpeed=Math.abs(n.angularVelocity)},l.getAngularVelocity=function(n){return(n.angle-n.anglePrev)*l._baseDelta/n.deltaTime},l.getAngularSpeed=function(n){return Math.abs(l.getAngularVelocity(n))},l.setAngularSpeed=function(n,o){l.setAngularVelocity(n,s.sign(l.getAngularVelocity(n))*o)},l.translate=function(n,o,f){l.setPosition(n,h.add(n.position,o),f)},l.rotate=function(n,o,f,d){if(!f)l.setAngle(n,n.angle+o,d);else{var v=Math.cos(o),m=Math.sin(o),T=n.position.x-f.x,E=n.position.y-f.y;l.setPosition(n,{x:f.x+(T*v-E*m),y:f.y+(T*m+E*v)},d),l.setAngle(n,n.angle+o,d)}},l.scale=function(n,o,f,d){var v=0,m=0;d=d||n.position;for(var T=0;T<n.parts.length;T++){var E=n.parts[T];E.scale.x=o,E.scale.y=f,g.scale(E.vertices,o,f,d),E.axes=r.fromVertices(E.vertices),E.area=g.area(E.vertices),l.setMass(E,n.density*E.area),g.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),l.setInertia(E,l._inertiaScale*g.inertia(E.vertices,E.mass)),g.translate(E.vertices,{x:E.position.x,y:E.position.y}),T>0&&(v+=E.area,m+=E.inertia),E.position.x=d.x+(E.position.x-d.x)*o,E.position.y=d.y+(E.position.y-d.y)*f,i.update(E.bounds,E.vertices,n.velocity)}n.parts.length>1&&(n.area=v,n.isStatic||(l.setMass(n,n.density*v),l.setInertia(n,m))),n.circleRadius&&(o===f?n.circleRadius*=o:n.circleRadius=null)},l.update=function(n,o){o=(typeof o<"u"?o:16.666666666666668)*n.timeScale;var f=o*o,d=l._timeCorrection?o/(n.deltaTime||o):1,v=1-n.frictionAir*(o/s._baseDelta),m=(n.position.x-n.positionPrev.x)*d,T=(n.position.y-n.positionPrev.y)*d;n.velocity.x=m*v+n.force.x/n.mass*f,n.velocity.y=T*v+n.force.y/n.mass*f,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.deltaTime=o,n.angularVelocity=(n.angle-n.anglePrev)*v*d+n.torque/n.inertia*f,n.anglePrev=n.angle,n.angle+=n.angularVelocity,n.speed=h.magnitude(n.velocity),n.angularSpeed=Math.abs(n.angularVelocity);for(var E=0;E<n.parts.length;E++){var y=n.parts[E];g.translate(y.vertices,n.velocity),E>0&&(y.position.x+=n.velocity.x,y.position.y+=n.velocity.y),n.angularVelocity!==0&&(g.rotate(y.vertices,n.angularVelocity,n.position),r.rotate(y.axes,n.angularVelocity),E>0&&h.rotateAbout(y.position,n.angularVelocity,n.position,y.position)),i.update(y.bounds,y.vertices,n.velocity)}},l.updateVelocities=function(n){var o=l._baseDelta/n.deltaTime,f=n.velocity;f.x=(n.position.x-n.positionPrev.x)*o,f.y=(n.position.y-n.positionPrev.y)*o,n.speed=Math.sqrt(f.x*f.x+f.y*f.y),n.angularVelocity=(n.angle-n.anglePrev)*o,n.angularSpeed=Math.abs(n.angularVelocity)},l.applyForce=function(n,o,f){var d={x:o.x-n.position.x,y:o.y-n.position.y};n.force.x+=f.x,n.force.y+=f.y,n.torque+=d.x*f.y-d.y*f.x},l._totalProperties=function(n){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=n.parts.length===1?0:1;f<n.parts.length;f++){var d=n.parts[f],v=d.mass!==1/0?d.mass:1;o.mass+=v,o.area+=d.area,o.inertia+=d.inertia,o.centre=h.add(o.centre,h.mult(d.position,v))}return o.centre=h.div(o.centre,o.mass),o}})()},11299:(p,S,t)=>{var l={};p.exports=l;var g=t(39073),h=t(68758),a=t(84091),s=t(84125);(function(){l.create=function(i){return h.extend({id:h.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},l.setModified=function(i,r,u,n){if(g.trigger(i,"compositeModified",i),i.isModified=r,r&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),u&&i.parent&&l.setModified(i.parent,r,u,n),n)for(var o=0;o<i.composites.length;o++){var f=i.composites[o];l.setModified(f,r,u,n)}},l.add=function(i,r){var u=[].concat(r);g.trigger(i,"beforeAdd",{object:r});for(var n=0;n<u.length;n++){var o=u[n];switch(o.type){case"body":if(o.parent!==o){h.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}l.addBody(i,o);break;case"constraint":l.addConstraint(i,o);break;case"composite":l.addComposite(i,o);break;case"mouseConstraint":l.addConstraint(i,o.constraint);break}}return g.trigger(i,"afterAdd",{object:r}),i},l.remove=function(i,r,u){var n=[].concat(r);g.trigger(i,"beforeRemove",{object:r});for(var o=0;o<n.length;o++){var f=n[o];switch(f.type){case"body":l.removeBody(i,f,u);break;case"constraint":l.removeConstraint(i,f,u);break;case"composite":l.removeComposite(i,f,u);break;case"mouseConstraint":l.removeConstraint(i,f.constraint);break}}return g.trigger(i,"afterRemove",{object:r}),i},l.addComposite=function(i,r){return i.composites.push(r),r.parent=i,l.setModified(i,!0,!0,!1),i},l.removeComposite=function(i,r,u){var n=h.indexOf(i.composites,r);if(n!==-1&&l.removeCompositeAt(i,n),u)for(var o=0;o<i.composites.length;o++)l.removeComposite(i.composites[o],r,!0);return i},l.removeCompositeAt=function(i,r){return i.composites.splice(r,1),l.setModified(i,!0,!0,!1),i},l.addBody=function(i,r){return i.bodies.push(r),l.setModified(i,!0,!0,!1),i},l.removeBody=function(i,r,u){var n=h.indexOf(i.bodies,r);if(n!==-1&&l.removeBodyAt(i,n),u)for(var o=0;o<i.composites.length;o++)l.removeBody(i.composites[o],r,!0);return i},l.removeBodyAt=function(i,r){return i.bodies.splice(r,1),l.setModified(i,!0,!0,!1),i},l.addConstraint=function(i,r){return i.constraints.push(r),l.setModified(i,!0,!0,!1),i},l.removeConstraint=function(i,r,u){var n=h.indexOf(i.constraints,r);if(n!==-1&&l.removeConstraintAt(i,n),u)for(var o=0;o<i.composites.length;o++)l.removeConstraint(i.composites[o],r,!0);return i},l.removeConstraintAt=function(i,r){return i.constraints.splice(r,1),l.setModified(i,!0,!0,!1),i},l.clear=function(i,r,u){if(u)for(var n=0;n<i.composites.length;n++)l.clear(i.composites[n],r,!0);return r?i.bodies=i.bodies.filter(function(o){return o.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,l.setModified(i,!0,!0,!1),i},l.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var r=[].concat(i.bodies),u=0;u<i.composites.length;u++)r=r.concat(l.allBodies(i.composites[u]));return i.cache&&(i.cache.allBodies=r),r},l.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var r=[].concat(i.constraints),u=0;u<i.composites.length;u++)r=r.concat(l.allConstraints(i.composites[u]));return i.cache&&(i.cache.allConstraints=r),r},l.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var r=[].concat(i.composites),u=0;u<i.composites.length;u++)r=r.concat(l.allComposites(i.composites[u]));return i.cache&&(i.cache.allComposites=r),r},l.get=function(i,r,u){var n,o;switch(u){case"body":n=l.allBodies(i);break;case"constraint":n=l.allConstraints(i);break;case"composite":n=l.allComposites(i).concat(i);break}return n?(o=n.filter(function(f){return f.id.toString()===r.toString()}),o.length===0?null:o[0]):null},l.move=function(i,r,u){return l.remove(i,r),l.add(u,r),i},l.rebase=function(i){for(var r=l.allBodies(i).concat(l.allConstraints(i)).concat(l.allComposites(i)),u=0;u<r.length;u++)r[u].id=h.nextId();return i},l.translate=function(i,r,u){for(var n=u?l.allBodies(i):i.bodies,o=0;o<n.length;o++)s.translate(n[o],r);return i},l.rotate=function(i,r,u,n){for(var o=Math.cos(r),f=Math.sin(r),d=n?l.allBodies(i):i.bodies,v=0;v<d.length;v++){var m=d[v],T=m.position.x-u.x,E=m.position.y-u.y;s.setPosition(m,{x:u.x+(T*o-E*f),y:u.y+(T*f+E*o)}),s.rotate(m,r)}return i},l.scale=function(i,r,u,n,o){for(var f=o?l.allBodies(i):i.bodies,d=0;d<f.length;d++){var v=f[d],m=v.position.x-n.x,T=v.position.y-n.y;s.setPosition(v,{x:n.x+m*r,y:n.y+T*u}),s.scale(v,r,u)}return i},l.bounds=function(i){for(var r=l.allBodies(i),u=[],n=0;n<r.length;n+=1){var o=r[n];u.push(o.bounds.min,o.bounds.max)}return a.create(u)}})()},72005:(p,S,t)=>{var l={};p.exports=l;var g=t(11299);(function(){l.create=g.create,l.add=g.add,l.remove=g.remove,l.clear=g.clear,l.addComposite=g.addComposite,l.addBody=g.addBody,l.addConstraint=g.addConstraint})()},63454:(p,S,t)=>{var l={};p.exports=l;var g=t(39745),h=t(70584);(function(){var a=[],s={overlap:0,axis:null},i={overlap:0,axis:null};l.create=function(r,u){return{pair:null,collided:!1,bodyA:r,bodyB:u,parentA:r.parent,parentB:u.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},l.collides=function(r,u,n){if(l._overlapAxes(s,r.vertices,u.vertices,r.axes),s.overlap<=0||(l._overlapAxes(i,u.vertices,r.vertices,u.axes),i.overlap<=0))return null;var o=n&&n.table[h.id(r,u)],f;o?f=o.collision:(f=l.create(r,u),f.collided=!0,f.bodyA=r.id<u.id?r:u,f.bodyB=r.id<u.id?u:r,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),r=f.bodyA,u=f.bodyB;var d;s.overlap<i.overlap?d=s:d=i;var v=f.normal,m=f.supports,T=d.axis,E=T.x,y=T.y;E*(u.position.x-r.position.x)+y*(u.position.y-r.position.y)<0?(v.x=E,v.y=y):(v.x=-E,v.y=-y),f.tangent.x=-v.y,f.tangent.y=v.x,f.depth=d.overlap,f.penetration.x=v.x*f.depth,f.penetration.y=v.y*f.depth;var C=l._findSupports(r,u,v,1),A=0;if(g.contains(r.vertices,C[0])&&(m[A++]=C[0]),g.contains(r.vertices,C[1])&&(m[A++]=C[1]),A<2){var M=l._findSupports(u,r,v,-1);g.contains(u.vertices,M[0])&&(m[A++]=M[0]),A<2&&g.contains(u.vertices,M[1])&&(m[A++]=M[1])}return A===0&&(m[A++]=C[0]),m.length=A,f},l._overlapAxes=function(r,u,n,o){var f=u.length,d=n.length,v=u[0].x,m=u[0].y,T=n[0].x,E=n[0].y,y=o.length,C=Number.MAX_VALUE,A=0,M,R,O,L,I,N;for(I=0;I<y;I++){var B=o[I],b=B.x,X=B.y,W=v*b+m*X,$=T*b+E*X,z=W,V=$;for(N=1;N<f;N+=1)L=u[N].x*b+u[N].y*X,L>z?z=L:L<W&&(W=L);for(N=1;N<d;N+=1)L=n[N].x*b+n[N].y*X,L>V?V=L:L<$&&($=L);if(R=z-$,O=V-W,M=R<O?R:O,M<C&&(C=M,A=I,M<=0))break}r.axis=o[A],r.overlap=C},l._projectToAxis=function(r,u,n){for(var o=u[0].x*n.x+u[0].y*n.y,f=o,d=1;d<u.length;d+=1){var v=u[d].x*n.x+u[d].y*n.y;v>f?f=v:v<o&&(o=v)}r.min=o,r.max=f},l._findSupports=function(r,u,n,o){var f=u.vertices,d=f.length,v=r.position.x,m=r.position.y,T=n.x*o,E=n.y*o,y=Number.MAX_VALUE,C,A,M,R,O;for(O=0;O<d;O+=1)A=f[O],R=T*(v-A.x)+E*(m-A.y),R<y&&(y=R,C=A);return M=f[(d+C.index-1)%d],y=T*(v-M.x)+E*(m-M.y),A=f[(C.index+1)%d],T*(v-A.x)+E*(m-A.y)<y?(a[0]=C,a[1]=A,a):(a[0]=C,a[1]=M,a)}})()},17319:p=>{var S={};p.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},13657:(p,S,t)=>{var l={};p.exports=l;var g=t(68758),h=t(63454);(function(){l.create=function(a){var s={bodies:[],pairs:null};return g.extend(s,a)},l.setBodies=function(a,s){a.bodies=s.slice(0)},l.clear=function(a){a.bodies=[]},l.collisions=function(a){var s=[],i=a.pairs,r=a.bodies,u=r.length,n=l.canCollide,o=h.collides,f,d;for(r.sort(l._compareBoundsX),f=0;f<u;f++){var v=r[f],m=v.bounds,T=v.bounds.max.x,E=v.bounds.max.y,y=v.bounds.min.y,C=v.isStatic||v.isSleeping,A=v.parts.length,M=A===1;for(d=f+1;d<u;d++){var R=r[d],O=R.bounds;if(O.min.x>T)break;if(!(E<O.min.y||y>O.max.y)&&!(C&&(R.isStatic||R.isSleeping))&&n(v.collisionFilter,R.collisionFilter)){var L=R.parts.length;if(M&&L===1){var I=o(v,R,i);I&&s.push(I)}else for(var N=A>1?1:0,B=L>1?1:0,b=N;b<A;b++)for(var X=v.parts[b],m=X.bounds,W=B;W<L;W++){var $=R.parts[W],O=$.bounds;if(!(m.min.x>O.max.x||m.max.x<O.min.x||m.max.y<O.min.y||m.min.y>O.max.y)){var I=o(X,$,i);I&&s.push(I)}}}}}return s},l.canCollide=function(a,s){return a.group===s.group&&a.group!==0?a.group>0:(a.mask&s.category)!==0&&(s.mask&a.category)!==0},l._compareBoundsX=function(a,s){return a.bounds.min.x-s.bounds.min.x}})()},70584:(p,S,t)=>{var l={};p.exports=l;var g=t(17319);(function(){l.create=function(h,a){var s=h.bodyA,i=h.bodyB,r={id:l.id(s,i),bodyA:s,bodyB:i,collision:h,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:s.isSensor||i.isSensor,timeCreated:a,timeUpdated:a,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return l.update(r,h,a),r},l.update=function(h,a,s){var i=h.contacts,r=a.supports,u=h.activeContacts,n=a.parentA,o=a.parentB,f=n.vertices.length;h.isActive=!0,h.timeUpdated=s,h.collision=a,h.separation=a.depth,h.inverseMass=n.inverseMass+o.inverseMass,h.friction=n.friction<o.friction?n.friction:o.friction,h.frictionStatic=n.frictionStatic>o.frictionStatic?n.frictionStatic:o.frictionStatic,h.restitution=n.restitution>o.restitution?n.restitution:o.restitution,h.slop=n.slop>o.slop?n.slop:o.slop,a.pair=h,u.length=0;for(var d=0;d<r.length;d++){var v=r[d],m=v.body===n?v.index:f+v.index,T=i[m];T?u.push(T):u.push(i[m]=g.create(v))}},l.setActive=function(h,a,s){a?(h.isActive=!0,h.timeUpdated=s):(h.isActive=!1,h.activeContacts.length=0)},l.id=function(h,a){return h.id<a.id?"A"+h.id+"B"+a.id:"A"+a.id+"B"+h.id}})()},91327:(p,S,t)=>{var l={};p.exports=l;var g=t(70584),h=t(68758);(function(){l.create=function(a){return h.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},l.update=function(a,s,i){var r=a.list,u=r.length,n=a.table,o=s.length,f=a.collisionStart,d=a.collisionEnd,v=a.collisionActive,m,T,E,y;for(f.length=0,d.length=0,v.length=0,y=0;y<u;y++)r[y].confirmedActive=!1;for(y=0;y<o;y++)m=s[y],E=m.pair,E?(E.isActive?v.push(E):f.push(E),g.update(E,m,i),E.confirmedActive=!0):(E=g.create(m,i),n[E.id]=E,f.push(E),r.push(E));var C=[];for(u=r.length,y=0;y<u;y++)E=r[y],E.confirmedActive||(g.setActive(E,!1,i),d.push(E),!E.collision.bodyA.isSleeping&&!E.collision.bodyB.isSleeping&&C.push(y));for(y=0;y<C.length;y++)T=C[y]-y,E=r[T],r.splice(T,1),delete n[E.id]},l.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},13390:(p,S,t)=>{var l={};p.exports=l;var g=t(10438),h=t(63454),a=t(84091),s=t(68516),i=t(39745);(function(){l.collides=function(r,u){for(var n=[],o=u.length,f=r.bounds,d=h.collides,v=a.overlaps,m=0;m<o;m++){var T=u[m],E=T.parts.length,y=E===1?0:1;if(r!==T&&v(T.bounds,f))for(var C=y;C<E;C++){var A=T.parts[C];if(v(A.bounds,f)){var M=d(A,r);if(M){n.push(M);break}}}}return n},l.ray=function(r,u,n,o){o=o||1e-100;for(var f=g.angle(u,n),d=g.magnitude(g.sub(u,n)),v=(n.x+u.x)*.5,m=(n.y+u.y)*.5,T=s.rectangle(v,m,d,o,{angle:f}),E=l.collides(T,r),y=0;y<E.length;y+=1){var C=E[y];C.body=C.bodyB=C.bodyA}return E},l.region=function(r,u,n){for(var o=[],f=0;f<r.length;f++){var d=r[f],v=a.overlaps(d.bounds,u);(v&&!n||!v&&n)&&o.push(d)}return o},l.point=function(r,u){for(var n=[],o=0;o<r.length;o++){var f=r[o];if(a.contains(f.bounds,u))for(var d=f.parts.length===1?0:1;d<f.parts.length;d++){var v=f.parts[d];if(a.contains(v.bounds,u)&&i.contains(v.vertices,u)){n.push(f);break}}}return n}})()},44272:(p,S,t)=>{var l={};p.exports=l;var g=t(39745),h=t(68758),a=t(84091);(function(){l._restingThresh=2,l._restingThreshTangent=Math.sqrt(6),l._positionDampen=.9,l._positionWarming=.8,l._frictionNormalMultiplier=5,l._frictionMaxStatic=Number.MAX_VALUE,l.preSolvePosition=function(s){var i,r,u,n=s.length;for(i=0;i<n;i++)r=s[i],r.isActive&&(u=r.activeContacts.length,r.collision.parentA.totalContacts+=u,r.collision.parentB.totalContacts+=u)},l.solvePosition=function(s,i,r){var u,n,o,f,d,v,m,T,E=l._positionDampen*(r||1),y=h.clamp(i/h._baseDelta,0,1),C=s.length;for(u=0;u<C;u++)n=s[u],!(!n.isActive||n.isSensor)&&(o=n.collision,f=o.parentA,d=o.parentB,v=o.normal,n.separation=v.x*(d.positionImpulse.x+o.penetration.x-f.positionImpulse.x)+v.y*(d.positionImpulse.y+o.penetration.y-f.positionImpulse.y));for(u=0;u<C;u++)n=s[u],!(!n.isActive||n.isSensor)&&(o=n.collision,f=o.parentA,d=o.parentB,v=o.normal,T=n.separation-n.slop*y,(f.isStatic||d.isStatic)&&(T*=2),f.isStatic||f.isSleeping||(m=E/f.totalContacts,f.positionImpulse.x+=v.x*T*m,f.positionImpulse.y+=v.y*T*m),d.isStatic||d.isSleeping||(m=E/d.totalContacts,d.positionImpulse.x-=v.x*T*m,d.positionImpulse.y-=v.y*T*m))},l.postSolvePosition=function(s){for(var i=l._positionWarming,r=s.length,u=g.translate,n=a.update,o=0;o<r;o++){var f=s[o],d=f.positionImpulse,v=d.x,m=d.y,T=f.velocity;if(f.totalContacts=0,v!==0||m!==0){for(var E=0;E<f.parts.length;E++){var y=f.parts[E];u(y.vertices,d),n(y.bounds,y.vertices,T),y.position.x+=v,y.position.y+=m}f.positionPrev.x+=v,f.positionPrev.y+=m,v*T.x+m*T.y<0?(d.x=0,d.y=0):(d.x*=i,d.y*=i)}}},l.preSolveVelocity=function(s){var i=s.length,r,u;for(r=0;r<i;r++){var n=s[r];if(!(!n.isActive||n.isSensor)){var o=n.activeContacts,f=o.length,d=n.collision,v=d.parentA,m=d.parentB,T=d.normal,E=d.tangent;for(u=0;u<f;u++){var y=o[u],C=y.vertex,A=y.normalImpulse,M=y.tangentImpulse;if(A!==0||M!==0){var R=T.x*A+E.x*M,O=T.y*A+E.y*M;v.isStatic||v.isSleeping||(v.positionPrev.x+=R*v.inverseMass,v.positionPrev.y+=O*v.inverseMass,v.anglePrev+=v.inverseInertia*((C.x-v.position.x)*O-(C.y-v.position.y)*R)),m.isStatic||m.isSleeping||(m.positionPrev.x-=R*m.inverseMass,m.positionPrev.y-=O*m.inverseMass,m.anglePrev-=m.inverseInertia*((C.x-m.position.x)*O-(C.y-m.position.y)*R))}}}}},l.solveVelocity=function(s,i){var r=i/h._baseDelta,u=r*r,n=u*r,o=-l._restingThresh*r,f=l._restingThreshTangent,d=l._frictionNormalMultiplier*r,v=l._frictionMaxStatic,m=s.length,T,E,y,C;for(y=0;y<m;y++){var A=s[y];if(!(!A.isActive||A.isSensor)){var M=A.collision,R=M.parentA,O=M.parentB,L=R.velocity,I=O.velocity,N=M.normal.x,B=M.normal.y,b=M.tangent.x,X=M.tangent.y,W=A.activeContacts,$=W.length,z=1/$,V=R.inverseMass+O.inverseMass,D=A.friction*A.frictionStatic*d;for(L.x=R.position.x-R.positionPrev.x,L.y=R.position.y-R.positionPrev.y,I.x=O.position.x-O.positionPrev.x,I.y=O.position.y-O.positionPrev.y,R.angularVelocity=R.angle-R.anglePrev,O.angularVelocity=O.angle-O.anglePrev,C=0;C<$;C++){var G=W[C],U=G.vertex,Y=U.x-R.position.x,H=U.y-R.position.y,Z=U.x-O.position.x,K=U.y-O.position.y,k=L.x-H*R.angularVelocity,j=L.y+Y*R.angularVelocity,Q=I.x-K*O.angularVelocity,J=I.y+Z*O.angularVelocity,_=k-Q,q=j-J,it=N*_+B*q,at=b*_+X*q,ht=A.separation+it,lt=Math.min(ht,1);lt=ht<0?0:lt;var tt=lt*D;at<-tt||at>tt?(E=at>0?at:-at,T=A.friction*(at>0?1:-1)*n,T<-E?T=-E:T>E&&(T=E)):(T=at,E=v);var st=Y*B-H*N,rt=Z*B-K*N,dt=z/(V+R.inverseInertia*st*st+O.inverseInertia*rt*rt),ft=(1+A.restitution)*it*dt;if(T*=dt,it<o)G.normalImpulse=0;else{var Ot=G.normalImpulse;G.normalImpulse+=ft,G.normalImpulse>0&&(G.normalImpulse=0),ft=G.normalImpulse-Ot}if(at<-f||at>f)G.tangentImpulse=0;else{var At=G.tangentImpulse;G.tangentImpulse+=T,G.tangentImpulse<-E&&(G.tangentImpulse=-E),G.tangentImpulse>E&&(G.tangentImpulse=E),T=G.tangentImpulse-At}var mt=N*ft+b*T,ct=B*ft+X*T;R.isStatic||R.isSleeping||(R.positionPrev.x+=mt*R.inverseMass,R.positionPrev.y+=ct*R.inverseMass,R.anglePrev+=(Y*ct-H*mt)*R.inverseInertia),O.isStatic||O.isSleeping||(O.positionPrev.x-=mt*O.inverseMass,O.positionPrev.y-=ct*O.inverseMass,O.anglePrev-=(Z*ct-K*mt)*O.inverseInertia)}}}}})()},52838:(p,S,t)=>{var l={};p.exports=l;var g=t(39745),h=t(10438),a=t(22806),s=t(84091),i=t(50658),r=t(68758);(function(){l._warming=.4,l._torqueDampen=1,l._minLength=1e-6,l.create=function(u){var n=u;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var o=n.bodyA?h.add(n.bodyA.position,n.pointA):n.pointA,f=n.bodyB?h.add(n.bodyB.position,n.pointB):n.pointB,d=h.magnitude(h.sub(o,f));n.length=typeof n.length<"u"?n.length:d,n.id=n.id||r.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return n.length===0&&n.stiffness>.1?(v.type="pin",v.anchors=!1):n.stiffness<.9&&(v.type="spring"),n.render=r.extend(v,n.render),n},l.preSolveAll=function(u){for(var n=0;n<u.length;n+=1){var o=u[n],f=o.constraintImpulse;o.isStatic||f.x===0&&f.y===0&&f.angle===0||(o.position.x+=f.x,o.position.y+=f.y,o.angle+=f.angle)}},l.solveAll=function(u,n){for(var o=r.clamp(n/r._baseDelta,0,1),f=0;f<u.length;f+=1){var d=u[f],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,m=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(v||m)&&l.solve(u[f],o)}for(f=0;f<u.length;f+=1)d=u[f],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,m=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!v&&!m&&l.solve(u[f],o)},l.solve=function(u,n){var o=u.bodyA,f=u.bodyB,d=u.pointA,v=u.pointB;if(!(!o&&!f)){o&&!o.isStatic&&(h.rotate(d,o.angle-u.angleA,d),u.angleA=o.angle),f&&!f.isStatic&&(h.rotate(v,f.angle-u.angleB,v),u.angleB=f.angle);var m=d,T=v;if(o&&(m=h.add(o.position,d)),f&&(T=h.add(f.position,v)),!(!m||!T)){var E=h.sub(m,T),y=h.magnitude(E);y<l._minLength&&(y=l._minLength);var C=(y-u.length)/y,A=u.stiffness>=1||u.length===0,M=A?u.stiffness*n:u.stiffness*n*n,R=u.damping*n,O=h.mult(E,C*M),L=(o?o.inverseMass:0)+(f?f.inverseMass:0),I=(o?o.inverseInertia:0)+(f?f.inverseInertia:0),N=L+I,B,b,X,W,$;if(R>0){var z=h.create();X=h.div(E,y),$=h.sub(f&&h.sub(f.position,f.positionPrev)||z,o&&h.sub(o.position,o.positionPrev)||z),W=h.dot(X,$)}o&&!o.isStatic&&(b=o.inverseMass/L,o.constraintImpulse.x-=O.x*b,o.constraintImpulse.y-=O.y*b,o.position.x-=O.x*b,o.position.y-=O.y*b,R>0&&(o.positionPrev.x-=R*X.x*W*b,o.positionPrev.y-=R*X.y*W*b),B=h.cross(d,O)/N*l._torqueDampen*o.inverseInertia*(1-u.angularStiffness),o.constraintImpulse.angle-=B,o.angle-=B),f&&!f.isStatic&&(b=f.inverseMass/L,f.constraintImpulse.x+=O.x*b,f.constraintImpulse.y+=O.y*b,f.position.x+=O.x*b,f.position.y+=O.y*b,R>0&&(f.positionPrev.x+=R*X.x*W*b,f.positionPrev.y+=R*X.y*W*b),B=h.cross(v,O)/N*l._torqueDampen*f.inverseInertia*(1-u.angularStiffness),f.constraintImpulse.angle+=B,f.angle+=B)}}},l.postSolveAll=function(u){for(var n=0;n<u.length;n++){var o=u[n],f=o.constraintImpulse;if(!(o.isStatic||f.x===0&&f.y===0&&f.angle===0)){a.set(o,!1);for(var d=0;d<o.parts.length;d++){var v=o.parts[d];g.translate(v.vertices,f),d>0&&(v.position.x+=f.x,v.position.y+=f.y),f.angle!==0&&(g.rotate(v.vertices,f.angle,o.position),i.rotate(v.axes,f.angle),d>0&&h.rotateAbout(v.position,f.angle,o.position,v.position)),s.update(v.bounds,v.vertices,o.velocity)}f.angle*=l._warming,f.x*=l._warming,f.y*=l._warming}}},l.pointAWorld=function(u){return{x:(u.bodyA?u.bodyA.position.x:0)+(u.pointA?u.pointA.x:0),y:(u.bodyA?u.bodyA.position.y:0)+(u.pointA?u.pointA.y:0)}},l.pointBWorld=function(u){return{x:(u.bodyB?u.bodyB.position.x:0)+(u.pointB?u.pointB.x:0),y:(u.bodyB?u.bodyB.position.y:0)+(u.pointB?u.pointB.y:0)}},l.currentLength=function(u){var n=(u.bodyA?u.bodyA.position.x:0)+(u.pointA?u.pointA.x:0),o=(u.bodyA?u.bodyA.position.y:0)+(u.pointA?u.pointA.y:0),f=(u.bodyB?u.bodyB.position.x:0)+(u.pointB?u.pointB.x:0),d=(u.bodyB?u.bodyB.position.y:0)+(u.pointB?u.pointB.y:0),v=n-f,m=o-d;return Math.sqrt(v*v+m*m)}})()},68758:(p,S,t)=>{var l={};p.exports=l,function(){l._baseDelta=16.666666666666668,l._nextId=0,l._seed=0,l._nowStartTime=+new Date,l._warnedOnce={},l._decomp=null,l.extend=function(h,a){var s,i;typeof a=="boolean"?(s=2,i=a):(s=1,i=!0);for(var r=s;r<arguments.length;r++){var u=arguments[r];if(u)for(var n in u)i&&u[n]&&u[n].constructor===Object&&(!h[n]||h[n].constructor===Object)?(h[n]=h[n]||{},l.extend(h[n],i,u[n])):h[n]=u[n]}return h},l.clone=function(h,a){return l.extend({},a,h)},l.keys=function(h){if(Object.keys)return Object.keys(h);var a=[];for(var s in h)a.push(s);return a},l.values=function(h){var a=[];if(Object.keys){for(var s=Object.keys(h),i=0;i<s.length;i++)a.push(h[s[i]]);return a}for(var r in h)a.push(h[r]);return a},l.get=function(h,a,s,i){a=a.split(".").slice(s,i);for(var r=0;r<a.length;r+=1)h=h[a[r]];return h},l.set=function(h,a,s,i,r){var u=a.split(".").slice(i,r);return l.get(h,a,0,-1)[u[u.length-1]]=s,s},l.shuffle=function(h){for(var a=h.length-1;a>0;a--){var s=Math.floor(l.random()*(a+1)),i=h[a];h[a]=h[s],h[s]=i}return h},l.choose=function(h){return h[Math.floor(l.random()*h.length)]},l.isElement=function(h){return typeof HTMLElement<"u"?h instanceof HTMLElement:!!(h&&h.nodeType&&h.nodeName)},l.isArray=function(h){return Object.prototype.toString.call(h)==="[object Array]"},l.isFunction=function(h){return typeof h=="function"},l.isPlainObject=function(h){return typeof h=="object"&&h.constructor===Object},l.isString=function(h){return toString.call(h)==="[object String]"},l.clamp=function(h,a,s){return h<a?a:h>s?s:h},l.sign=function(h){return h<0?-1:1},l.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-l._nowStartTime},l.random=function(h,a){return h=typeof h<"u"?h:0,a=typeof a<"u"?a:1,h+g()*(a-h)};var g=function(){return l._seed=(l._seed*9301+49297)%233280,l._seed/233280};l.colorToNumber=function(h){return h=h.replace("#",""),h.length==3&&(h=h.charAt(0)+h.charAt(0)+h.charAt(1)+h.charAt(1)+h.charAt(2)+h.charAt(2)),parseInt(h,16)},l.logLevel=1,l.log=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.info=function(){console&&l.logLevel>0&&l.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warn=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warnOnce=function(){var h=Array.prototype.slice.call(arguments).join(" ");l._warnedOnce[h]||(l.warn(h),l._warnedOnce[h]=!0)},l.deprecated=function(h,a,s){h[a]=l.chain(function(){l.warnOnce("🔅 deprecated 🔅",s)},h[a])},l.nextId=function(){return l._nextId++},l.indexOf=function(h,a){if(h.indexOf)return h.indexOf(a);for(var s=0;s<h.length;s++)if(h[s]===a)return s;return-1},l.map=function(h,a){if(h.map)return h.map(a);for(var s=[],i=0;i<h.length;i+=1)s.push(a(h[i]));return s},l.topologicalSort=function(h){var a=[],s=[],i=[];for(var r in h)!s[r]&&!i[r]&&l._topologicalSort(r,s,i,h,a);return a},l._topologicalSort=function(h,a,s,i,r){var u=i[h]||[];s[h]=!0;for(var n=0;n<u.length;n+=1){var o=u[n];s[o]||a[o]||l._topologicalSort(o,a,s,i,r)}s[h]=!1,a[h]=!0,r.push(h)},l.chain=function(){for(var h=[],a=0;a<arguments.length;a+=1){var s=arguments[a];s._chained?h.push.apply(h,s._chained):h.push(s)}var i=function(){for(var r,u=new Array(arguments.length),n=0,o=arguments.length;n<o;n++)u[n]=arguments[n];for(n=0;n<h.length;n+=1){var f=h[n].apply(r,u);typeof f<"u"&&(r=f)}return r};return i._chained=h,i},l.chainPathBefore=function(h,a,s){return l.set(h,a,l.chain(s,l.get(h,a)))},l.chainPathAfter=function(h,a,s){return l.set(h,a,l.chain(l.get(h,a),s))},l.setDecomp=function(h){l._decomp=h},l.getDecomp=function(){var h=l._decomp;try{!h&&typeof window<"u"&&(h=window.decomp),!h&&typeof t.g<"u"&&(h=t.g.decomp)}catch{h=null}return h}}()},45775:(p,S,t)=>{var l={};p.exports=l;var g=t(22806),h=t(44272),a=t(13657),s=t(91327),i=t(39073),r=t(11299),u=t(52838),n=t(68758),o=t(84125);(function(){l.create=function(f){f=f||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},v=n.extend(d,f);return v.world=f.world||r.create({label:"World"}),v.pairs=f.pairs||s.create(),v.detector=f.detector||a.create(),v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},l.update=function(f,d){var v=n.now(),m=f.world,T=f.detector,E=f.pairs,y=f.timing,C=y.timestamp,A;d=typeof d<"u"?d:n._baseDelta,d*=y.timeScale,y.timestamp+=d,y.lastDelta=d;var M={timestamp:y.timestamp,delta:d};i.trigger(f,"beforeUpdate",M);var R=r.allBodies(m),O=r.allConstraints(m);for(m.isModified&&(a.setBodies(T,R),r.setModified(m,!1,!1,!0)),f.enableSleeping&&g.update(R,d),l._bodiesApplyGravity(R,f.gravity),d>0&&l._bodiesUpdate(R,d),i.trigger(f,"beforeSolve",M),u.preSolveAll(R),A=0;A<f.constraintIterations;A++)u.solveAll(O,d);u.postSolveAll(R),T.pairs=f.pairs;var L=a.collisions(T);s.update(E,L,C),f.enableSleeping&&g.afterCollisions(E.list),E.collisionStart.length>0&&i.trigger(f,"collisionStart",{pairs:E.collisionStart,timestamp:y.timestamp,delta:d});var I=n.clamp(20/f.positionIterations,0,1);for(h.preSolvePosition(E.list),A=0;A<f.positionIterations;A++)h.solvePosition(E.list,d,I);for(h.postSolvePosition(R),u.preSolveAll(R),A=0;A<f.constraintIterations;A++)u.solveAll(O,d);for(u.postSolveAll(R),h.preSolveVelocity(E.list),A=0;A<f.velocityIterations;A++)h.solveVelocity(E.list,d);return l._bodiesUpdateVelocities(R),E.collisionActive.length>0&&i.trigger(f,"collisionActive",{pairs:E.collisionActive,timestamp:y.timestamp,delta:d}),E.collisionEnd.length>0&&i.trigger(f,"collisionEnd",{pairs:E.collisionEnd,timestamp:y.timestamp,delta:d}),l._bodiesClearForces(R),i.trigger(f,"afterUpdate",M),f.timing.lastElapsed=n.now()-v,f},l.merge=function(f,d){if(n.extend(f,d),d.world){f.world=d.world,l.clear(f);for(var v=r.allBodies(f.world),m=0;m<v.length;m++){var T=v[m];g.set(T,!1),T.id=n.nextId()}}},l.clear=function(f){s.clear(f.pairs),a.clear(f.detector)},l._bodiesClearForces=function(f){for(var d=f.length,v=0;v<d;v++){var m=f[v];m.force.x=0,m.force.y=0,m.torque=0}},l._bodiesApplyGravity=function(f,d){var v=typeof d.scale<"u"?d.scale:.001,m=f.length;if(!(d.x===0&&d.y===0||v===0))for(var T=0;T<m;T++){var E=f[T];E.isStatic||E.isSleeping||(E.force.y+=E.mass*d.y*v,E.force.x+=E.mass*d.x*v)}},l._bodiesUpdate=function(f,d){for(var v=f.length,m=0;m<v;m++){var T=f[m];T.isStatic||T.isSleeping||o.update(T,d)}},l._bodiesUpdateVelocities=function(f){for(var d=f.length,v=0;v<d;v++)o.updateVelocities(f[v])}})()},39073:(p,S,t)=>{var l={};p.exports=l;var g=t(68758);(function(){l.on=function(h,a,s){for(var i=a.split(" "),r,u=0;u<i.length;u++)r=i[u],h.events=h.events||{},h.events[r]=h.events[r]||[],h.events[r].push(s);return s},l.off=function(h,a,s){if(!a){h.events={};return}typeof a=="function"&&(s=a,a=g.keys(h.events).join(" "));for(var i=a.split(" "),r=0;r<i.length;r++){var u=h.events[i[r]],n=[];if(s&&u)for(var o=0;o<u.length;o++)u[o]!==s&&n.push(u[o]);h.events[i[r]]=n}},l.trigger=function(h,a,s){var i,r,u,n,o=h.events;if(o&&g.keys(o).length>0){s||(s={}),i=a.split(" ");for(var f=0;f<i.length;f++)if(r=i[f],u=o[r],u){n=g.clone(s,!1),n.name=r,n.source=h;for(var d=0;d<u.length;d++)u[d].apply(h,[n])}}}})()},16929:(p,S,t)=>{var l={};p.exports=l;var g=t(84474),h=t(68758);(function(){l.name="matter-js",l.version="0.19.0",l.uses=[],l.used=[],l.use=function(){g.use(l,Array.prototype.slice.call(arguments))},l.before=function(a,s){return a=a.replace(/^Matter./,""),h.chainPathBefore(l,a,s)},l.after=function(a,s){return a=a.replace(/^Matter./,""),h.chainPathAfter(l,a,s)}})()},84474:(p,S,t)=>{var l={};p.exports=l;var g=t(68758);(function(){l._registry={},l.register=function(h){if(l.isPlugin(h)||g.warn("Plugin.register:",l.toString(h),"does not implement all required fields."),h.name in l._registry){var a=l._registry[h.name],s=l.versionParse(h.version).number,i=l.versionParse(a.version).number;s>i?(g.warn("Plugin.register:",l.toString(a),"was upgraded to",l.toString(h)),l._registry[h.name]=h):s<i?g.warn("Plugin.register:",l.toString(a),"can not be downgraded to",l.toString(h)):h!==a&&g.warn("Plugin.register:",l.toString(h),"is already registered to different plugin object")}else l._registry[h.name]=h;return h},l.resolve=function(h){return l._registry[l.dependencyParse(h).name]},l.toString=function(h){return typeof h=="string"?h:(h.name||"anonymous")+"@"+(h.version||h.range||"0.0.0")},l.isPlugin=function(h){return h&&h.name&&h.version&&h.install},l.isUsed=function(h,a){return h.used.indexOf(a)>-1},l.isFor=function(h,a){var s=h.for&&l.dependencyParse(h.for);return!h.for||a.name===s.name&&l.versionSatisfies(a.version,s.range)},l.use=function(h,a){if(h.uses=(h.uses||[]).concat(a||[]),h.uses.length===0){g.warn("Plugin.use:",l.toString(h),"does not specify any dependencies to install.");return}for(var s=l.dependencies(h),i=g.topologicalSort(s),r=[],u=0;u<i.length;u+=1)if(i[u]!==h.name){var n=l.resolve(i[u]);if(!n){r.push("❌ "+i[u]);continue}l.isUsed(h,n.name)||(l.isFor(n,h)||(g.warn("Plugin.use:",l.toString(n),"is for",n.for,"but installed on",l.toString(h)+"."),n._warned=!0),n.install?n.install(h):(g.warn("Plugin.use:",l.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(r.push("🔶 "+l.toString(n)),delete n._warned):r.push("✅ "+l.toString(n)),h.used.push(n.name))}r.length>0&&!n.silent&&g.info(r.join("  "))},l.dependencies=function(h,a){var s=l.dependencyParse(h),i=s.name;if(a=a||{},!(i in a)){h=l.resolve(h)||h,a[i]=g.map(h.uses||[],function(u){l.isPlugin(u)&&l.register(u);var n=l.dependencyParse(u),o=l.resolve(u);return o&&!l.versionSatisfies(o.version,n.range)?(g.warn("Plugin.dependencies:",l.toString(o),"does not satisfy",l.toString(n),"used by",l.toString(s)+"."),o._warned=!0,h._warned=!0):o||(g.warn("Plugin.dependencies:",l.toString(u),"used by",l.toString(s),"could not be resolved."),h._warned=!0),n.name});for(var r=0;r<a[i].length;r+=1)l.dependencies(a[i][r],a);return a}},l.dependencyParse=function(h){if(g.isString(h)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return a.test(h)||g.warn("Plugin.dependencyParse:",h,"is not a valid dependency string."),{name:h.split("@")[0],range:h.split("@")[1]||"*"}}return{name:h.name,range:h.range||h.version}},l.versionParse=function(h){var a=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;a.test(h)||g.warn("Plugin.versionParse:",h,"is not a valid version or range.");var s=a.exec(h),i=Number(s[4]),r=Number(s[5]),u=Number(s[6]);return{isRange:!!(s[1]||s[2]),version:s[3],range:h,operator:s[1]||s[2]||"",major:i,minor:r,patch:u,parts:[i,r,u],prerelease:s[7],number:i*1e8+r*1e4+u}},l.versionSatisfies=function(h,a){a=a||"*";var s=l.versionParse(a),i=l.versionParse(h);if(s.isRange){if(s.operator==="*"||h==="*")return!0;if(s.operator===">")return i.number>s.number;if(s.operator===">=")return i.number>=s.number;if(s.operator==="~")return i.major===s.major&&i.minor===s.minor&&i.patch>=s.patch;if(s.operator==="^")return s.major>0?i.major===s.major&&i.number>=s.number:s.minor>0?i.minor===s.minor&&i.patch>=s.patch:i.patch===s.patch}return h===a||h==="*"}})()},22806:(p,S,t)=>{var l={};p.exports=l;var g=t(84125),h=t(39073),a=t(68758);(function(){l._motionWakeThreshold=.18,l._motionSleepThreshold=.08,l._minBias=.9,l.update=function(s,i){for(var r=i/a._baseDelta,u=l._motionSleepThreshold,n=0;n<s.length;n++){var o=s[n],f=g.getSpeed(o),d=g.getAngularSpeed(o),v=f*f+d*d;if(o.force.x!==0||o.force.y!==0){l.set(o,!1);continue}var m=Math.min(o.motion,v),T=Math.max(o.motion,v);o.motion=l._minBias*m+(1-l._minBias)*T,o.sleepThreshold>0&&o.motion<u?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/r&&l.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},l.afterCollisions=function(s){for(var i=l._motionSleepThreshold,r=0;r<s.length;r++){var u=s[r];if(u.isActive){var n=u.collision,o=n.bodyA.parent,f=n.bodyB.parent;if(!(o.isSleeping&&f.isSleeping||o.isStatic||f.isStatic)&&(o.isSleeping||f.isSleeping)){var d=o.isSleeping&&!o.isStatic?o:f,v=d===o?f:o;!d.isStatic&&v.motion>i&&l.set(d,!1)}}}},l.set=function(s,i){var r=s.isSleeping;i?(s.isSleeping=!0,s.sleepCounter=s.sleepThreshold,s.positionImpulse.x=0,s.positionImpulse.y=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.speed=0,s.angularSpeed=0,s.motion=0,r||h.trigger(s,"sleepStart")):(s.isSleeping=!1,s.sleepCounter=0,r&&h.trigger(s,"sleepEnd"))}})()},68516:(p,S,t)=>{var l={};p.exports=l;var g=t(39745),h=t(68758),a=t(84125),s=t(84091),i=t(10438);(function(){l.rectangle=function(r,u,n,o,f){f=f||{};var d={label:"Rectangle Body",position:{x:r,y:u},vertices:g.fromPath("L 0 0 L "+n+" 0 L "+n+" "+o+" L 0 "+o)};if(f.chamfer){var v=f.chamfer;d.vertices=g.chamfer(d.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete f.chamfer}return a.create(h.extend({},d,f))},l.trapezoid=function(r,u,n,o,f,d){d=d||{},f*=.5;var v=(1-f*2)*n,m=n*f,T=m+v,E=T+m,y;f<.5?y="L 0 0 L "+m+" "+-o+" L "+T+" "+-o+" L "+E+" 0":y="L 0 0 L "+T+" "+-o+" L "+E+" 0";var C={label:"Trapezoid Body",position:{x:r,y:u},vertices:g.fromPath(y)};if(d.chamfer){var A=d.chamfer;C.vertices=g.chamfer(C.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete d.chamfer}return a.create(h.extend({},C,d))},l.circle=function(r,u,n,o,f){o=o||{};var d={label:"Circle Body",circleRadius:n};f=f||25;var v=Math.ceil(Math.max(10,Math.min(f,n)));return v%2===1&&(v+=1),l.polygon(r,u,v,n,h.extend({},d,o))},l.polygon=function(r,u,n,o,f){if(f=f||{},n<3)return l.circle(r,u,o,f);for(var d=2*Math.PI/n,v="",m=d*.5,T=0;T<n;T+=1){var E=m+T*d,y=Math.cos(E)*o,C=Math.sin(E)*o;v+="L "+y.toFixed(3)+" "+C.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:r,y:u},vertices:g.fromPath(v)};if(f.chamfer){var M=f.chamfer;A.vertices=g.chamfer(A.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete f.chamfer}return a.create(h.extend({},A,f))},l.fromVertices=function(r,u,n,o,f,d,v,m){var T=h.getDecomp(),E,y,C,A,M,R,O,L,I,N,B;for(E=!!(T&&T.quickDecomp),o=o||{},C=[],f=typeof f<"u"?f:!1,d=typeof d<"u"?d:.01,v=typeof v<"u"?v:10,m=typeof m<"u"?m:.01,h.isArray(n[0])||(n=[n]),N=0;N<n.length;N+=1)if(R=n[N],A=g.isConvex(R),M=!A,M&&!E&&h.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!E)A?R=g.clockwiseSort(R):R=g.hull(R),C.push({position:{x:r,y:u},vertices:R});else{var b=R.map(function(Z){return[Z.x,Z.y]});T.makeCCW(b),d!==!1&&T.removeCollinearPoints(b,d),m!==!1&&T.removeDuplicatePoints&&T.removeDuplicatePoints(b,m);var X=T.quickDecomp(b);for(O=0;O<X.length;O++){var W=X[O],$=W.map(function(Z){return{x:Z[0],y:Z[1]}});v>0&&g.area($)<v||C.push({position:g.centre($),vertices:$})}}for(O=0;O<C.length;O++)C[O]=a.create(h.extend(C[O],o));if(f){var z=5;for(O=0;O<C.length;O++){var V=C[O];for(L=O+1;L<C.length;L++){var D=C[L];if(s.overlaps(V.bounds,D.bounds)){var G=V.vertices,U=D.vertices;for(I=0;I<V.vertices.length;I++)for(B=0;B<D.vertices.length;B++){var Y=i.magnitudeSquared(i.sub(G[(I+1)%G.length],U[B])),H=i.magnitudeSquared(i.sub(G[I],U[(B+1)%U.length]));Y<z&&H<z&&(G[I].isInternal=!0,U[B].isInternal=!0)}}}}}return C.length>1?(y=a.create(h.extend({parts:C.slice(0)},o)),a.setPosition(y,{x:r,y:u}),y):C[0]},l.flagCoincidentParts=function(r,u){u===void 0&&(u=5);for(var n=0;n<r.length;n++)for(var o=r[n],f=n+1;f<r.length;f++){var d=r[f];if(s.overlaps(o.bounds,d.bounds))for(var v=o.vertices,m=d.vertices,T=0;T<o.vertices.length;T++)for(var E=0;E<d.vertices.length;E++){var y=i.magnitudeSquared(i.sub(v[(T+1)%v.length],m[E])),C=i.magnitudeSquared(i.sub(v[T],m[(E+1)%m.length]));y<u&&C<u&&(v[T].isInternal=!0,m[E].isInternal=!0)}}return r}})()},56643:(p,S,t)=>{var l={};p.exports=l;var g=t(11299),h=t(52838),a=t(68758),s=t(84125),i=t(68516);(function(){l.stack=function(r,u,n,o,f,d,v){for(var m=g.create({label:"Stack"}),T=r,E=u,y,C=0,A=0;A<o;A++){for(var M=0,R=0;R<n;R++){var O=v(T,E,R,A,y,C);if(O){var L=O.bounds.max.y-O.bounds.min.y,I=O.bounds.max.x-O.bounds.min.x;L>M&&(M=L),s.translate(O,{x:I*.5,y:L*.5}),T=O.bounds.max.x+f,g.addBody(m,O),y=O,C+=1}else T+=f}E+=M+d,T=r}return m},l.chain=function(r,u,n,o,f,d){for(var v=r.bodies,m=1;m<v.length;m++){var T=v[m-1],E=v[m],y=T.bounds.max.y-T.bounds.min.y,C=T.bounds.max.x-T.bounds.min.x,A=E.bounds.max.y-E.bounds.min.y,M=E.bounds.max.x-E.bounds.min.x,R={bodyA:T,pointA:{x:C*u,y:y*n},bodyB:E,pointB:{x:M*o,y:A*f}},O=a.extend(R,d);g.addConstraint(r,h.create(O))}return r.label+=" Chain",r},l.mesh=function(r,u,n,o,f){var d=r.bodies,v,m,T,E,y;for(v=0;v<n;v++){for(m=1;m<u;m++)T=d[m-1+v*u],E=d[m+v*u],g.addConstraint(r,h.create(a.extend({bodyA:T,bodyB:E},f)));if(v>0)for(m=0;m<u;m++)T=d[m+(v-1)*u],E=d[m+v*u],g.addConstraint(r,h.create(a.extend({bodyA:T,bodyB:E},f))),o&&m>0&&(y=d[m-1+(v-1)*u],g.addConstraint(r,h.create(a.extend({bodyA:y,bodyB:E},f)))),o&&m<u-1&&(y=d[m+1+(v-1)*u],g.addConstraint(r,h.create(a.extend({bodyA:y,bodyB:E},f))))}return r.label+=" Mesh",r},l.pyramid=function(r,u,n,o,f,d,v){return l.stack(r,u,n,o,f,d,function(m,T,E,y,C,A){var M=Math.min(o,Math.ceil(n/2)),R=C?C.bounds.max.x-C.bounds.min.x:0;if(!(y>M)){y=M-y;var O=y,L=n-1-y;if(!(E<O||E>L)){A===1&&s.translate(C,{x:(E+(n%2===1?1:-1))*R,y:0});var I=C?E*R:0;return v(r+I+E*f,T,E,y,C,A)}}})},l.newtonsCradle=function(r,u,n,o,f){for(var d=g.create({label:"Newtons Cradle"}),v=0;v<n;v++){var m=1.9,T=i.circle(r+v*(o*m),u+f,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),E=h.create({pointA:{x:r+v*(o*m),y:u},bodyB:T});g.addBody(d,T),g.addConstraint(d,E)}return d},l.car=function(r,u,n,o,f){var d=s.nextGroup(!0),v=20,m=-n*.5+v,T=n*.5-v,E=0,y=g.create({label:"Car"}),C=i.rectangle(r,u,n,o,{collisionFilter:{group:d},chamfer:{radius:o*.5},density:2e-4}),A=i.circle(r+m,u+E,f,{collisionFilter:{group:d},friction:.8}),M=i.circle(r+T,u+E,f,{collisionFilter:{group:d},friction:.8}),R=h.create({bodyB:C,pointB:{x:m,y:E},bodyA:A,stiffness:1,length:0}),O=h.create({bodyB:C,pointB:{x:T,y:E},bodyA:M,stiffness:1,length:0});return g.addBody(y,C),g.addBody(y,A),g.addBody(y,M),g.addConstraint(y,R),g.addConstraint(y,O),y},l.softBody=function(r,u,n,o,f,d,v,m,T,E){T=a.extend({inertia:1/0},T),E=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},E);var y=l.stack(r,u,n,o,f,d,function(C,A){return i.circle(C,A,m,T)});return l.mesh(y,n,o,v,E),y.label="Soft Body",y}})()},50658:(p,S,t)=>{var l={};p.exports=l;var g=t(10438),h=t(68758);(function(){l.fromVertices=function(a){for(var s={},i=0;i<a.length;i++){var r=(i+1)%a.length,u=g.normalise({x:a[r].y-a[i].y,y:a[i].x-a[r].x}),n=u.y===0?1/0:u.x/u.y;n=n.toFixed(3).toString(),s[n]=u}return h.values(s)},l.rotate=function(a,s){if(s!==0)for(var i=Math.cos(s),r=Math.sin(s),u=0;u<a.length;u++){var n=a[u],o;o=n.x*i-n.y*r,n.y=n.x*r+n.y*i,n.x=o}}})()},84091:p=>{var S={};p.exports=S,function(){S.create=function(t){var l={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(l,t),l},S.update=function(t,l,g){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var h=0;h<l.length;h++){var a=l[h];a.x>t.max.x&&(t.max.x=a.x),a.x<t.min.x&&(t.min.x=a.x),a.y>t.max.y&&(t.max.y=a.y),a.y<t.min.y&&(t.min.y=a.y)}g&&(g.x>0?t.max.x+=g.x:t.min.x+=g.x,g.y>0?t.max.y+=g.y:t.min.y+=g.y)},S.contains=function(t,l){return l.x>=t.min.x&&l.x<=t.max.x&&l.y>=t.min.y&&l.y<=t.max.y},S.overlaps=function(t,l){return t.min.x<=l.max.x&&t.max.x>=l.min.x&&t.max.y>=l.min.y&&t.min.y<=l.max.y},S.translate=function(t,l){t.min.x+=l.x,t.max.x+=l.x,t.min.y+=l.y,t.max.y+=l.y},S.shift=function(t,l){var g=t.max.x-t.min.x,h=t.max.y-t.min.y;t.min.x=l.x,t.max.x=l.x+g,t.min.y=l.y,t.max.y=l.y+h}}()},92765:(p,S,t)=>{var l={};p.exports=l,t(84091);var g=t(68758);(function(){l.pathToVertices=function(h,a){typeof window<"u"&&!("SVGPathSeg"in window)&&g.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var s,i,r,u,n,o,f,d,v,m,T=[],E,y,C=0,A=0,M=0;a=a||15;var R=function(L,I,N){var B=N%2===1&&N>1;if(!v||L!=v.x||I!=v.y){v&&B?(E=v.x,y=v.y):(E=0,y=0);var b={x:E+L,y:y+I};(B||!v)&&(v=b),T.push(b),A=E+L,M=y+I}},O=function(L){var I=L.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":A=L.x,M=L.y;break;case"H":A=L.x;break;case"V":M=L.y;break}R(A,M,L.pathSegType)}};for(l._svgPathToAbsolute(h),r=h.getTotalLength(),o=[],s=0;s<h.pathSegList.numberOfItems;s+=1)o.push(h.pathSegList.getItem(s));for(f=o.concat();C<r;){if(m=h.getPathSegAtLength(C),n=o[m],n!=d){for(;f.length&&f[0]!=n;)O(f.shift());d=n}switch(n.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":u=h.getPointAtLength(C),R(u.x,u.y,0);break}C+=a}for(s=0,i=f.length;s<i;++s)O(f[s]);return T},l._svgPathToAbsolute=function(h){for(var a,s,i,r,u,n,o=h.pathSegList,f=0,d=0,v=o.numberOfItems,m=0;m<v;++m){var T=o.getItem(m),E=T.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in T&&(f=T.x),"y"in T&&(d=T.y);else switch("x1"in T&&(i=f+T.x1),"x2"in T&&(u=f+T.x2),"y1"in T&&(r=d+T.y1),"y2"in T&&(n=d+T.y2),"x"in T&&(f+=T.x),"y"in T&&(d+=T.y),E){case"m":o.replaceItem(h.createSVGPathSegMovetoAbs(f,d),m);break;case"l":o.replaceItem(h.createSVGPathSegLinetoAbs(f,d),m);break;case"h":o.replaceItem(h.createSVGPathSegLinetoHorizontalAbs(f),m);break;case"v":o.replaceItem(h.createSVGPathSegLinetoVerticalAbs(d),m);break;case"c":o.replaceItem(h.createSVGPathSegCurvetoCubicAbs(f,d,i,r,u,n),m);break;case"s":o.replaceItem(h.createSVGPathSegCurvetoCubicSmoothAbs(f,d,u,n),m);break;case"q":o.replaceItem(h.createSVGPathSegCurvetoQuadraticAbs(f,d,i,r),m);break;case"t":o.replaceItem(h.createSVGPathSegCurvetoQuadraticSmoothAbs(f,d),m);break;case"a":o.replaceItem(h.createSVGPathSegArcAbs(f,d,T.r1,T.r2,T.angle,T.largeArcFlag,T.sweepFlag),m);break;case"z":case"Z":f=a,d=s;break}(E=="M"||E=="m")&&(a=f,s=d)}}})()},10438:p=>{var S={};p.exports=S,function(){S.create=function(t,l){return{x:t||0,y:l||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,l,g){var h=Math.cos(l),a=Math.sin(l);g||(g={});var s=t.x*h-t.y*a;return g.y=t.x*a+t.y*h,g.x=s,g},S.rotateAbout=function(t,l,g,h){var a=Math.cos(l),s=Math.sin(l);h||(h={});var i=g.x+((t.x-g.x)*a-(t.y-g.y)*s);return h.y=g.y+((t.x-g.x)*s+(t.y-g.y)*a),h.x=i,h},S.normalise=function(t){var l=S.magnitude(t);return l===0?{x:0,y:0}:{x:t.x/l,y:t.y/l}},S.dot=function(t,l){return t.x*l.x+t.y*l.y},S.cross=function(t,l){return t.x*l.y-t.y*l.x},S.cross3=function(t,l,g){return(l.x-t.x)*(g.y-t.y)-(l.y-t.y)*(g.x-t.x)},S.add=function(t,l,g){return g||(g={}),g.x=t.x+l.x,g.y=t.y+l.y,g},S.sub=function(t,l,g){return g||(g={}),g.x=t.x-l.x,g.y=t.y-l.y,g},S.mult=function(t,l){return{x:t.x*l,y:t.y*l}},S.div=function(t,l){return{x:t.x/l,y:t.y/l}},S.perp=function(t,l){return l=l===!0?-1:1,{x:l*-t.y,y:l*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,l){return Math.atan2(l.y-t.y,l.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},39745:(p,S,t)=>{var l={};p.exports=l;var g=t(10438),h=t(68758);(function(){l.create=function(a,s){for(var i=[],r=0;r<a.length;r++){var u=a[r],n={x:u.x,y:u.y,index:r,body:s,isInternal:!1};i.push(n)}return i},l.fromPath=function(a,s){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,r=[];return a.replace(i,function(u,n,o){r.push({x:parseFloat(n),y:parseFloat(o)})}),l.create(r,s)},l.centre=function(a){for(var s=l.area(a,!0),i={x:0,y:0},r,u,n,o=0;o<a.length;o++)n=(o+1)%a.length,r=g.cross(a[o],a[n]),u=g.mult(g.add(a[o],a[n]),r),i=g.add(i,u);return g.div(i,6*s)},l.mean=function(a){for(var s={x:0,y:0},i=0;i<a.length;i++)s.x+=a[i].x,s.y+=a[i].y;return g.div(s,a.length)},l.area=function(a,s){for(var i=0,r=a.length-1,u=0;u<a.length;u++)i+=(a[r].x-a[u].x)*(a[r].y+a[u].y),r=u;return s?i/2:Math.abs(i)/2},l.inertia=function(a,s){for(var i=0,r=0,u=a,n,o,f=0;f<u.length;f++)o=(f+1)%u.length,n=Math.abs(g.cross(u[o],u[f])),i+=n*(g.dot(u[o],u[o])+g.dot(u[o],u[f])+g.dot(u[f],u[f])),r+=n;return s/6*(i/r)},l.translate=function(a,s,i){i=typeof i<"u"?i:1;var r=a.length,u=s.x*i,n=s.y*i,o;for(o=0;o<r;o++)a[o].x+=u,a[o].y+=n;return a},l.rotate=function(a,s,i){if(s!==0){var r=Math.cos(s),u=Math.sin(s),n=i.x,o=i.y,f=a.length,d,v,m,T;for(T=0;T<f;T++)d=a[T],v=d.x-n,m=d.y-o,d.x=n+(v*r-m*u),d.y=o+(v*u+m*r);return a}},l.contains=function(a,s){for(var i=s.x,r=s.y,u=a.length,n=a[u-1],o,f=0;f<u;f++){if(o=a[f],(i-n.x)*(o.y-n.y)+(r-n.y)*(n.x-o.x)>0)return!1;n=o}return!0},l.scale=function(a,s,i,r){if(s===1&&i===1)return a;r=r||l.centre(a);for(var u,n,o=0;o<a.length;o++)u=a[o],n=g.sub(u,r),a[o].x=r.x+n.x*s,a[o].y=r.y+n.y*i;return a},l.chamfer=function(a,s,i,r,u){typeof s=="number"?s=[s]:s=s||[8],i=typeof i<"u"?i:-1,r=r||2,u=u||14;for(var n=[],o=0;o<a.length;o++){var f=a[o-1>=0?o-1:a.length-1],d=a[o],v=a[(o+1)%a.length],m=s[o<s.length?o:s.length-1];if(m===0){n.push(d);continue}var T=g.normalise({x:d.y-f.y,y:f.x-d.x}),E=g.normalise({x:v.y-d.y,y:d.x-v.x}),y=Math.sqrt(2*Math.pow(m,2)),C=g.mult(h.clone(T),m),A=g.normalise(g.mult(g.add(T,E),.5)),M=g.sub(d,g.mult(A,y)),R=i;i===-1&&(R=Math.pow(m,.32)*1.75),R=h.clamp(R,r,u),R%2===1&&(R+=1);for(var O=Math.acos(g.dot(T,E)),L=O/R,I=0;I<R;I++)n.push(g.add(g.rotate(C,L*I),M))}return n},l.clockwiseSort=function(a){var s=l.mean(a);return a.sort(function(i,r){return g.angle(s,i)-g.angle(s,r)}),a},l.isConvex=function(a){var s=0,i=a.length,r,u,n,o;if(i<3)return null;for(r=0;r<i;r++)if(u=(r+1)%i,n=(r+2)%i,o=(a[u].x-a[r].x)*(a[n].y-a[u].y),o-=(a[u].y-a[r].y)*(a[n].x-a[u].x),o<0?s|=1:o>0&&(s|=2),s===3)return!1;return s!==0?!0:null},l.hull=function(a){var s=[],i=[],r,u;for(a=a.slice(0),a.sort(function(n,o){var f=n.x-o.x;return f!==0?f:n.y-o.y}),u=0;u<a.length;u+=1){for(r=a[u];i.length>=2&&g.cross3(i[i.length-2],i[i.length-1],r)<=0;)i.pop();i.push(r)}for(u=a.length-1;u>=0;u-=1){for(r=a[u];s.length>=2&&g.cross3(s[s.length-2],s[s.length-1],r)<=0;)s.pop();s.push(r)}return s.pop(),i.pop(),s.concat(i)}})()},1675:(p,S,t)=>{var l=t(18171),g={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(h){h.after("Body.create",function(){g.Body.init(this)}),h.before("Engine.update",function(a){g.Engine.update(a)})},Body:{init:function(h){h.plugin.attractors=h.plugin.attractors||[]}},Engine:{update:function(h){for(var a=l.Composite.allBodies(h.world),s=0;s<a.length;s++){var i=a[s],r=i.plugin.attractors;if(r&&r.length>0)for(var u=0;u<a.length;u++){var n=a[u];if(s!==u)for(var o=0;o<r.length;o++){var f=r[o],d=f;l.Common.isFunction(f)&&(d=f(i,n)),d&&l.Body.applyForce(n,n.position,d)}}}}},Attractors:{gravityConstant:.001,gravity:function(h,a){var s=l.Vector.sub(a.position,h.position),i=l.Vector.magnitudeSquared(s)||1e-4,r=l.Vector.normalise(s),u=-g.Attractors.gravityConstant*(h.mass*a.mass/i),n=l.Vector.mult(r,u);l.Body.applyForce(h,h.position,l.Vector.neg(n)),l.Body.applyForce(a,a.position,n)}}};p.exports=g},80391:p=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(l){l.pairs.map(function(g){var h=g.bodyA,a=g.bodyB;h.gameObject&&h.gameObject.emit("collide",h,a,g),a.gameObject&&a.gameObject.emit("collide",a,h,g),t.Events.trigger(h,"onCollide",{pair:g}),t.Events.trigger(a,"onCollide",{pair:g}),h.onCollideCallback&&h.onCollideCallback(g),a.onCollideCallback&&a.onCollideCallback(g),h.onCollideWith[a.id]&&h.onCollideWith[a.id](a,g),a.onCollideWith[h.id]&&a.onCollideWith[h.id](h,g)})}),t.Events.on(this,"collisionActive",function(l){l.pairs.map(function(g){var h=g.bodyA,a=g.bodyB;h.gameObject&&h.gameObject.emit("collideActive",h,a,g),a.gameObject&&a.gameObject.emit("collideActive",a,h,g),t.Events.trigger(h,"onCollideActive",{pair:g}),t.Events.trigger(a,"onCollideActive",{pair:g}),h.onCollideActiveCallback&&h.onCollideActiveCallback(g),a.onCollideActiveCallback&&a.onCollideActiveCallback(g)})}),t.Events.on(this,"collisionEnd",function(l){l.pairs.map(function(g){var h=g.bodyA,a=g.bodyB;h.gameObject&&h.gameObject.emit("collideEnd",h,a,g),a.gameObject&&a.gameObject.emit("collideEnd",a,h,g),t.Events.trigger(h,"onCollideEnd",{pair:g}),t.Events.trigger(a,"onCollideEnd",{pair:g}),h.onCollideEndCallback&&h.onCollideEndCallback(g),a.onCollideEndCallback&&a.onCollideEndCallback(g)})})})}};p.exports=S},44097:(p,S,t)=>{var l=t(18171),g={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(h){h.after("Engine.update",function(){g.Engine.update(this)})},Engine:{update:function(h){for(var a=h.world,s=l.Composite.allBodies(a),i=l.Composite.allComposites(a),r=0;r<s.length;r+=1){var u=s[r];u.plugin.wrap&&g.Body.wrap(u,u.plugin.wrap)}for(r=0;r<i.length;r+=1){var n=i[r];n.plugin.wrap&&g.Composite.wrap(n,n.plugin.wrap)}}},Bounds:{wrap:function(h,a){var s=null,i=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(h.min.x>a.max.x?s=a.min.x-h.max.x:h.max.x<a.min.x&&(s=a.max.x-h.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(h.min.y>a.max.y?i=a.min.y-h.max.y:h.max.y<a.min.y&&(i=a.max.y-h.min.y)),s!==null||i!==null)return{x:s||0,y:i||0}}},Body:{wrap:function(h,a){var s=g.Bounds.wrap(h.bounds,a);return s&&l.Body.translate(h,s),s}},Composite:{bounds:function(h){for(var a=l.Composite.allBodies(h),s=[],i=0;i<a.length;i+=1){var r=a[i];s.push(r.bounds.min,r.bounds.max)}return l.Bounds.create(s)},wrap:function(h,a){var s=g.Bounds.wrap(g.Composite.bounds(h),a);return s&&l.Composite.translate(h,s),s}}};p.exports=g},81084:p=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={decomp:O,quickDecomp:B,isSimple:I,removeCollinearPoints:b,removeDuplicatePoints:X,makeCCW:v};function S(z,V,D){D=D||0;var G=[0,0],U,Y,H,Z,K,k,j;return U=z[1][1]-z[0][1],Y=z[0][0]-z[1][0],H=U*z[0][0]+Y*z[0][1],Z=V[1][1]-V[0][1],K=V[0][0]-V[1][0],k=Z*V[0][0]+K*V[0][1],j=U*K-Z*Y,W(j,0,D)||(G[0]=(K*H-Y*k)/j,G[1]=(U*k-Z*H)/j),G}function t(z,V,D,G){var U=V[0]-z[0],Y=V[1]-z[1],H=G[0]-D[0],Z=G[1]-D[1];if(H*Y-Z*U===0)return!1;var K=(U*(D[1]-z[1])+Y*(z[0]-D[0]))/(H*Y-Z*U),k=(H*(z[1]-D[1])+Z*(D[0]-z[0]))/(Z*U-H*Y);return K>=0&&K<=1&&k>=0&&k<=1}function l(z,V,D){return(V[0]-z[0])*(D[1]-z[1])-(D[0]-z[0])*(V[1]-z[1])}function g(z,V,D){return l(z,V,D)>0}function h(z,V,D){return l(z,V,D)>=0}function a(z,V,D){return l(z,V,D)<0}function s(z,V,D){return l(z,V,D)<=0}var i=[],r=[];function u(z,V,D,G){if(G){var U=i,Y=r;U[0]=V[0]-z[0],U[1]=V[1]-z[1],Y[0]=D[0]-V[0],Y[1]=D[1]-V[1];var H=U[0]*Y[0]+U[1]*Y[1],Z=Math.sqrt(U[0]*U[0]+U[1]*U[1]),K=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),k=Math.acos(H/(Z*K));return k<G}else return l(z,V,D)===0}function n(z,V){var D=V[0]-z[0],G=V[1]-z[1];return D*D+G*G}function o(z,V){var D=z.length;return z[V<0?V%D+D:V%D]}function f(z){z.length=0}function d(z,V,D,G){for(var U=D;U<G;U++)z.push(V[U])}function v(z){for(var V=0,D=z,G=1;G<z.length;++G)(D[G][1]<D[V][1]||D[G][1]===D[V][1]&&D[G][0]>D[V][0])&&(V=G);return g(o(z,V-1),o(z,V),o(z,V+1))?!1:(m(z),!0)}function m(z){for(var V=[],D=z.length,G=0;G!==D;G++)V.push(z.pop());for(var G=0;G!==D;G++)z[G]=V[G]}function T(z,V){return a(o(z,V-1),o(z,V),o(z,V+1))}var E=[],y=[];function C(z,V,D){var G,U,Y=E,H=y;if(h(o(z,V+1),o(z,V),o(z,D))&&s(o(z,V-1),o(z,V),o(z,D)))return!1;U=n(o(z,V),o(z,D));for(var Z=0;Z!==z.length;++Z)if(!((Z+1)%z.length===V||Z===V)&&h(o(z,V),o(z,D),o(z,Z+1))&&s(o(z,V),o(z,D),o(z,Z))&&(Y[0]=o(z,V),Y[1]=o(z,D),H[0]=o(z,Z),H[1]=o(z,Z+1),G=S(Y,H),n(o(z,V),G)<U))return!1;return!0}function A(z,V,D){for(var G=0;G!==z.length;++G)if(!(G===V||G===D||(G+1)%z.length===V||(G+1)%z.length===D)&&t(o(z,V),o(z,D),o(z,G),o(z,G+1)))return!1;return!0}function M(z,V,D,G){var U=G||[];if(f(U),V<D)for(var Y=V;Y<=D;Y++)U.push(z[Y]);else{for(var Y=0;Y<=D;Y++)U.push(z[Y]);for(var Y=V;Y<z.length;Y++)U.push(z[Y])}return U}function R(z){for(var V=[],D=[],G=[],U=[],Y=Number.MAX_VALUE,H=0;H<z.length;++H)if(T(z,H)){for(var Z=0;Z<z.length;++Z)if(C(z,H,Z)){D=R(M(z,H,Z,U)),G=R(M(z,Z,H,U));for(var K=0;K<G.length;K++)D.push(G[K]);D.length<Y&&(V=D,Y=D.length,V.push([o(z,H),o(z,Z)]))}}return V}function O(z){var V=R(z);return V.length>0?L(z,V):[z]}function L(z,V){if(V.length===0)return[z];if(V instanceof Array&&V.length&&V[0]instanceof Array&&V[0].length===2&&V[0][0]instanceof Array){for(var D=[z],G=0;G<V.length;G++)for(var U=V[G],Y=0;Y<D.length;Y++){var H=D[Y],Z=L(H,U);if(Z){D.splice(Y,1),D.push(Z[0],Z[1]);break}}return D}else{var U=V,G=z.indexOf(U[0]),Y=z.indexOf(U[1]);return G!==-1&&Y!==-1?[M(z,G,Y),M(z,Y,G)]:!1}}function I(z){var V=z,D;for(D=0;D<V.length-1;D++)for(var G=0;G<D-1;G++)if(t(V[D],V[D+1],V[G],V[G+1]))return!1;for(D=1;D<V.length-2;D++)if(t(V[0],V[V.length-1],V[D],V[D+1]))return!1;return!0}function N(z,V,D,G,U){U=U||0;var Y=V[1]-z[1],H=z[0]-V[0],Z=Y*z[0]+H*z[1],K=G[1]-D[1],k=D[0]-G[0],j=K*D[0]+k*D[1],Q=Y*k-K*H;return W(Q,0,U)?[0,0]:[(k*Z-H*j)/Q,(Y*j-K*Z)/Q]}function B(z,V,D,G,U,Y,H){Y=Y||100,H=H||0,U=U||25,V=typeof V<"u"?V:[],D=D||[],G=G||[];var Z=[0,0],K=[0,0],k=[0,0],j=0,Q=0,J=0,_=0,q=0,it=0,at=0,ht=[],lt=[],tt=z,st=z;if(st.length<3)return V;if(H++,H>Y)return console.warn("quickDecomp: max level ("+Y+") reached."),V;for(var rt=0;rt<z.length;++rt)if(T(tt,rt)){D.push(tt[rt]),j=Q=Number.MAX_VALUE;for(var dt=0;dt<z.length;++dt)g(o(tt,rt-1),o(tt,rt),o(tt,dt))&&s(o(tt,rt-1),o(tt,rt),o(tt,dt-1))&&(k=N(o(tt,rt-1),o(tt,rt),o(tt,dt),o(tt,dt-1)),a(o(tt,rt+1),o(tt,rt),k)&&(J=n(tt[rt],k),J<Q&&(Q=J,K=k,it=dt))),g(o(tt,rt+1),o(tt,rt),o(tt,dt+1))&&s(o(tt,rt+1),o(tt,rt),o(tt,dt))&&(k=N(o(tt,rt+1),o(tt,rt),o(tt,dt),o(tt,dt+1)),g(o(tt,rt-1),o(tt,rt),k)&&(J=n(tt[rt],k),J<j&&(j=J,Z=k,q=dt)));if(it===(q+1)%z.length)k[0]=(K[0]+Z[0])/2,k[1]=(K[1]+Z[1])/2,G.push(k),rt<q?(d(ht,tt,rt,q+1),ht.push(k),lt.push(k),it!==0&&d(lt,tt,it,tt.length),d(lt,tt,0,rt+1)):(rt!==0&&d(ht,tt,rt,tt.length),d(ht,tt,0,q+1),ht.push(k),lt.push(k),d(lt,tt,it,rt+1));else{if(it>q&&(q+=z.length),_=Number.MAX_VALUE,q<it)return V;for(var dt=it;dt<=q;++dt)h(o(tt,rt-1),o(tt,rt),o(tt,dt))&&s(o(tt,rt+1),o(tt,rt),o(tt,dt))&&(J=n(o(tt,rt),o(tt,dt)),J<_&&A(tt,rt,dt)&&(_=J,at=dt%z.length));rt<at?(d(ht,tt,rt,at+1),at!==0&&d(lt,tt,at,st.length),d(lt,tt,0,rt+1)):(rt!==0&&d(ht,tt,rt,st.length),d(ht,tt,0,at+1),d(lt,tt,at,rt+1))}return ht.length<lt.length?(B(ht,V,D,G,U,Y,H),B(lt,V,D,G,U,Y,H)):(B(lt,V,D,G,U,Y,H),B(ht,V,D,G,U,Y,H)),V}return V.push(z),V}function b(z,V){for(var D=0,G=z.length-1;z.length>3&&G>=0;--G)u(o(z,G-1),o(z,G),o(z,G+1),V)&&(z.splice(G%z.length,1),D++);return D}function X(z,V){for(var D=z.length-1;D>=1;--D)for(var G=z[D],U=D-1;U>=0;--U)if($(G,z[U],V)){z.splice(D,1);continue}}function W(z,V,D){return D=D||0,Math.abs(z-V)<=D}function $(z,V,D){return W(z[0],V[0],D)&&W(z[1],V[1],D)}},88257:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var l=t(56694),g=new l({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=g},18360:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};p.exports=S},91963:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},l={};l.register=function(g,h,a,s){s===void 0&&(s=!1),S[g]={plugin:h,mapping:a,custom:s}},l.registerCustom=function(g,h,a,s){t[g]={plugin:h,mapping:a,data:s}},l.hasCore=function(g){return S.hasOwnProperty(g)},l.hasCustom=function(g){return t.hasOwnProperty(g)},l.getCore=function(g){return S[g]},l.getCustom=function(g){return t[g]},l.getCustomClass=function(g){return t.hasOwnProperty(g)?t[g].plugin:null},l.remove=function(g){S.hasOwnProperty(g)&&delete S[g]},l.removeCustom=function(g){t.hasOwnProperty(g)&&delete t[g]},l.destroyCorePlugins=function(){for(var g in S)S.hasOwnProperty(g)&&delete S[g]},l.destroyCustomPlugins=function(){for(var g in t)t.hasOwnProperty(g)&&delete t[g]},p.exports=l},49274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(97081),h=t(6659),a=t(76846),s=t(99325),i=t(61286),r=t(72632),u=t(91963),n=t(66458),o=new l({Extends:h,initialize:function(d){h.call(this),this.game=d,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],d.isBooted?this.boot():d.events.once(g.BOOT,this.boot,this)},boot:function(){var f,d,v,m,T,E,y,C=this.game.config,A=C.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),f=0;f<A.length;f++)d=A[f],v=r(d,"key",null),m=r(d,"plugin",null),T=r(d,"start",!1),E=r(d,"mapping",null),y=r(d,"data",null),v&&(m?this.install(v,m,T,E,y):console.warn("Missing `plugin` for key: "+v));for(A=C.installScenePlugins,A=A.concat(this._pendingScene),f=0;f<A.length;f++)d=A[f],v=r(d,"key",null),m=r(d,"plugin",null),E=r(d,"mapping",null),v&&(m?this.installScenePlugin(v,m,E):console.warn("Missing `plugin` for key: "+v));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(g.DESTROY,this.destroy,this)},addToScene:function(f,d,v){var m,T,E,y=this.game,C=f.scene,A=f.settings.map,M=f.settings.isBooted;for(m=0;m<d.length;m++)T=d[m],y[T]?(f[T]=y[T],A.hasOwnProperty(T)&&(C[A[T]]=f[T])):T==="game"&&A.hasOwnProperty(T)&&(C[A[T]]=y);for(var R=0;R<v.length;R++)for(E=v[R],m=0;m<E.length;m++)if(T=E[m],!!u.hasCore(T)){var O=u.getCore(T),L=O.mapping,I=new O.plugin(C,this,L);f[L]=I,O.custom?C[L]=I:A.hasOwnProperty(L)&&(C[A[L]]=I),M&&I.boot()}for(E=this.plugins,m=0;m<E.length;m++){var N=E[m];N.mapping&&(C[N.mapping]=N.plugin)}},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins),f},installScenePlugin:function(f,d,v,m,T){if(T===void 0&&(T=!1),typeof d!="function"){console.warn("Invalid Scene Plugin: "+f);return}if(u.hasCore(f)||u.register(f,d,v,!0),this.scenePlugins.indexOf(f)===-1)this.scenePlugins.push(f);else if(!T&&u.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}if(m){var E=new d(m,this,f);m.sys[f]=E,v&&v!==""&&(m[v]=E),E.boot()}},install:function(f,d,v,m,T){if(v===void 0&&(v=!1),m===void 0&&(m=null),T===void 0&&(T=null),typeof d!="function")return console.warn("Invalid Plugin: "+f),null;if(u.hasCustom(f))return console.warn("Plugin key in use: "+f),null;if(m!==null&&(v=!0),!this.game.isBooted)this._pendingGlobal.push({key:f,plugin:d,start:v,mapping:m,data:T});else if(u.registerCustom(f,d,m,T),v)return this.start(f);return null},getIndex:function(f){for(var d=this.plugins,v=0;v<d.length;v++){var m=d[v];if(m.key===f)return v}return-1},getEntry:function(f){var d=this.getIndex(f);if(d!==-1)return this.plugins[d]},isActive:function(f){var d=this.getEntry(f);return d&&d.active},start:function(f,d){d===void 0&&(d=f);var v=this.getEntry(d);return v&&!v.active?(v.active=!0,v.plugin.start()):v||(v=this.createEntry(f,d)),v?v.plugin:null},createEntry:function(f,d){var v=u.getCustom(f);if(v){var m=new v.plugin(this);v={key:d,plugin:m,active:!0,mapping:v.mapping,data:v.data},this.plugins.push(v),m.init(v.data),m.start()}return v},stop:function(f){var d=this.getEntry(f);return d&&d.active&&(d.active=!1,d.plugin.stop()),this},get:function(f,d){d===void 0&&(d=!0);var v=this.getEntry(f);if(v)return v.plugin;var m=this.getClass(f);return m&&d?(v=this.createEntry(f,f),v?v.plugin:null):m||null},getClass:function(f){return u.getCustomClass(f)},removeGlobalPlugin:function(f){var d=this.getEntry(f);d&&n(this.plugins,d),u.removeCustom(f)},removeScenePlugin:function(f){n(this.scenePlugins,f),u.remove(f)},registerGameObject:function(f,d,v){return d&&i.register(f,d),v&&s.register(f,v),this},removeGameObject:function(f,d,v){return d===void 0&&(d=!0),v===void 0&&(v=!0),d&&i.remove(f),v&&s.remove(f),this},registerFileType:function(f,d,v){a.register(f,d),v&&v.sys.load&&(v.sys.load[f]=d)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});p.exports=o},39283:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var l=t(88257),g=t(56694),h=t(7599),a=new g({Extends:l,initialize:function(i,r,u){l.call(this,r),this.scene=i,this.systems=i.sys,this.pluginKey=u,i.sys.events.once(h.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=a},45615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BasePlugin:t(88257),DefaultPlugins:t(18360),PluginCache:t(91963),PluginManager:t(49274),ScenePlugin:t(39283)}},75205:()=>{!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(p){const S=performance.now(),t=this.getVideoPlaybackQuality(),l=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,g=(h,a)=>{const s=this.getVideoPlaybackQuality(),i=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames;if(i>l){const r=this.mozFrameDelay||s.totalFrameDelay-t.totalFrameDelay||0,u=a-h;p(a,{presentationTime:a+r*1e3,expectedDisplayTime:a+u,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+u/1e3,presentedFrames:i,processingDuration:r}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(r=>g(a,r))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(h=>g(S,h)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(p){cancelAnimationFrame(this._rvfcpolyfillmap[p]),delete this._rvfcpolyfillmap[p]})},95723:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};p.exports=S},91135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89787),g=t(61840),h=t(56694),a=t(86459),s=t(6659),i=t(81044),r=t(32834),u=t(40444),n=t(38203),o=t(69360),f=new h({Extends:s,initialize:function(v){s.call(this);var m=v.config;this.config={clearBeforeRender:m.clearBeforeRender,backgroundColor:m.backgroundColor,antialias:m.antialias,roundPixels:m.roundPixels},this.game=v,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=v.canvas;var T={alpha:v.config.transparent,desynchronized:v.config.desynchronized,willReadFrequently:!1};this.gameContext=m.context?m.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=v.config.antialias,this.blendModes=r(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(n.READY,this.boot,this)},boot:function(){var d=this.game,v=d.scale.baseSize;this.width=v.width,this.height=v.height,this.isBooted=!0,d.scale.on(u.RESIZE,this.onResize,this),this.resize(v.width,v.height)},onResize:function(d,v){(v.width!==this.width||v.height!==this.height)&&this.resize(v.width,v.height)},resize:function(d,v){this.width=d,this.height=v,this.emit(i.RESIZE,d,v)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(d){return this.currentContext.globalCompositeOperation=d,this},setContext:function(d){return this.currentContext=d||this.gameContext,this},setAlpha:function(d){return this.currentContext.globalAlpha=d,this},preRender:function(){var d=this.gameContext,v=this.config,m=this.width,T=this.height;d.globalAlpha=1,d.globalCompositeOperation="source-over",d.setTransform(1,0,0,1,0,0),v.clearBeforeRender&&(d.clearRect(0,0,m,T),v.transparent||(d.fillStyle=v.backgroundColor.rgba,d.fillRect(0,0,m,T))),d.save(),this.drawCount=0,this.emit(i.PRE_RENDER)},render:function(d,v,m){var T=v.length;this.emit(i.RENDER,d,m);var E=m.x,y=m.y,C=m.width,A=m.height,M=m.renderToTexture?m.context:d.sys.context;M.save(),this.game.scene.customViewports&&(M.beginPath(),M.rect(E,y,C,A),M.clip()),m.emit(l.PRE_RENDER,m),this.currentContext=M;var R=m.mask;R&&R.preRenderCanvas(this,null,m._maskCamera),m.transparent||(M.fillStyle=m.backgroundColor.rgba,M.fillRect(E,y,C,A)),M.globalAlpha=m.alpha,M.globalCompositeOperation="source-over",this.drawCount+=T,m.renderToTexture&&m.emit(l.PRE_RENDER,m),m.matrix.copyToContext(M);for(var O=0;O<T;O++){var L=v[O];L.mask&&L.mask.preRenderCanvas(this,L,m),L.renderCanvas(this,L,m),L.mask&&L.mask.postRenderCanvas(this,L,m)}M.setTransform(1,0,0,1,0,0),M.globalCompositeOperation="source-over",M.globalAlpha=1,m.flashEffect.postRenderCanvas(M),m.fadeEffect.postRenderCanvas(M),m.dirty=!1,R&&R.postRenderCanvas(this),M.restore(),m.renderToTexture&&(m.emit(l.POST_RENDER,m),m.renderToGame&&d.sys.context.drawImage(m.canvas,E,y)),m.emit(l.POST_RENDER,m)},postRender:function(){var d=this.gameContext;d.restore(),this.emit(i.POST_RENDER);var v=this.snapshotState;v.callback&&(g(this.gameCanvas,v),v.callback=null)},snapshotCanvas:function(d,v,m,T,E,y,C,A,M){m===void 0&&(m=!1),this.snapshotArea(T,E,y,C,v,A,M);var R=this.snapshotState;return R.getPixel=m,g(d,R),R.callback=null,this},snapshot:function(d,v,m){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,d,v,m)},snapshotArea:function(d,v,m,T,E,y,C){var A=this.snapshotState;return A.callback=E,A.type=y,A.encoder=C,A.getPixel=!1,A.x=d,A.y=v,A.width=Math.min(m,this.gameCanvas.width),A.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(d,v,m){return this.snapshotArea(d,v,1,1,m),this.snapshotState.getPixel=!0,this},batchSprite:function(d,v,m,T){var E=m.alpha*d.alpha;if(E!==0){var y=this.currentContext,C=this._tempMatrix1,A=this._tempMatrix2,M=v.canvasData,R=M.x,O=M.y,L=v.cutWidth,I=v.cutHeight,N=v.customPivot,B=v.source.resolution,b=d.displayOriginX,X=d.displayOriginY,W=-b+v.x,$=-X+v.y;if(d.isCropped){var z=d._crop;(z.flipX!==d.flipX||z.flipY!==d.flipY)&&v.updateCropUVs(z,d.flipX,d.flipY),L=z.cw,I=z.ch,R=z.cx,O=z.cy,W=-b+z.x,$=-X+z.y,d.flipX&&(W>=0?W=-(W+L):W<0&&(W=Math.abs(W)-L)),d.flipY&&($>=0?$=-($+I):$<0&&($=Math.abs($)-I))}var V=1,D=1;d.flipX&&(N||(W+=-v.realWidth+b*2),V=-1),d.flipY&&(N||($+=-v.realHeight+X*2),D=-1);var G=d.x,U=d.y;m.roundPixels&&(G=Math.floor(G),U=Math.floor(U)),A.applyITRS(G,U,d.rotation,d.scaleX*V,d.scaleY*D),C.copyFrom(m.matrix),T?(C.multiplyWithOffset(T,-m.scrollX*d.scrollFactorX,-m.scrollY*d.scrollFactorY),A.e=G,A.f=U):(A.e-=m.scrollX*d.scrollFactorX,A.f-=m.scrollY*d.scrollFactorY),C.multiply(A),m.roundPixels&&(C.e=Math.round(C.e),C.f=Math.round(C.f)),y.save(),C.setToContext(y),y.globalCompositeOperation=this.blendModes[d.blendMode],y.globalAlpha=E,y.imageSmoothingEnabled=!v.source.scaleMode,d.mask&&d.mask.preRenderCanvas(this,d,m),L>0&&I>0&&y.drawImage(v.source.image,R,O,L,I,W,$,L/B,I/B),d.mask&&d.mask.postRenderCanvas(this,d,m),y.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});p.exports=f},6046:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasRenderer:t(91135),GetBlendModes:t(32834),SetTransform:t(49584)}},32834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),g=t(98581),h=function(){var a=[],s=g.supportNewBlendModes,i="source-over";return a[l.NORMAL]=i,a[l.ADD]="lighter",a[l.MULTIPLY]=s?"multiply":i,a[l.SCREEN]=s?"screen":i,a[l.OVERLAY]=s?"overlay":i,a[l.DARKEN]=s?"darken":i,a[l.LIGHTEN]=s?"lighten":i,a[l.COLOR_DODGE]=s?"color-dodge":i,a[l.COLOR_BURN]=s?"color-burn":i,a[l.HARD_LIGHT]=s?"hard-light":i,a[l.SOFT_LIGHT]=s?"soft-light":i,a[l.DIFFERENCE]=s?"difference":i,a[l.EXCLUSION]=s?"exclusion":i,a[l.HUE]=s?"hue":i,a[l.SATURATION]=s?"saturation":i,a[l.COLOR]=s?"color":i,a[l.LUMINOSITY]=s?"luminosity":i,a[l.ERASE]="destination-out",a[l.SOURCE_IN]="source-in",a[l.SOURCE_OUT]="source-out",a[l.SOURCE_ATOP]="source-atop",a[l.DESTINATION_OVER]="destination-over",a[l.DESTINATION_IN]="destination-in",a[l.DESTINATION_OUT]="destination-out",a[l.DESTINATION_ATOP]="destination-atop",a[l.LIGHTER]="lighter",a[l.COPY]="copy",a[l.XOR]="xor",a};p.exports=h},49584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),g=function(h,a,s,i,r){var u=i.alpha*s.alpha;if(u<=0)return!1;var n=l(s,i,r).calc;return a.globalCompositeOperation=h.blendModes[s.blendMode],a.globalAlpha=u,a.save(),n.setToContext(a),a.imageSmoothingEnabled=s.frame?!s.frame.source.scaleMode:h.antialias,!0};p.exports=g},70936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},99298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},7743:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},99519:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},81044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={POST_RENDER:t(70936),PRE_RENDER:t(99298),RENDER:t(7743),RESIZE:t(99519)}},42069:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(6046),Events:t(81044),Snapshot:t(95528),WebGL:t(55478)}},61840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),g=t(27119),h=t(72632),a=function(s,i){var r=h(i,"callback"),u=h(i,"type","image/png"),n=h(i,"encoder",.92),o=Math.abs(Math.round(h(i,"x",0))),f=Math.abs(Math.round(h(i,"y",0))),d=Math.floor(h(i,"width",s.width)),v=Math.floor(h(i,"height",s.height)),m=h(i,"getPixel",!1);if(m){var T=s.getContext("2d",{willReadFrequently:!1}),E=T.getImageData(o,f,1,1),y=E.data;r.call(null,new g(y[0],y[1],y[2],y[3]))}else if(o!==0||f!==0||d!==s.width||v!==s.height){var C=l.createWebGL(this,d,v),A=C.getContext("2d",{willReadFrequently:!0});d>0&&v>0&&A.drawImage(s,o,f,d,v,0,0,d,v);var M=new Image;M.onerror=function(){r.call(null),l.remove(C)},M.onload=function(){r.call(null,M),l.remove(C)},M.src=C.toDataURL(u,n)}else{var R=new Image;R.onerror=function(){r.call(null)},R.onload=function(){r.call(null,R)},R.src=s.toDataURL(u,n)}};p.exports=a},1217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),g=t(27119),h=t(72632),a=function(s,i){var r=s,u=h(i,"callback"),n=h(i,"type","image/png"),o=h(i,"encoder",.92),f=Math.abs(Math.round(h(i,"x",0))),d=Math.abs(Math.round(h(i,"y",0))),v=h(i,"getPixel",!1),m=h(i,"isFramebuffer",!1),T=m?h(i,"bufferWidth",1):r.drawingBufferWidth,E=m?h(i,"bufferHeight",1):r.drawingBufferHeight;if(v){var y=new Uint8Array(4),C=m?d:E-d;r.readPixels(f,C,1,1,r.RGBA,r.UNSIGNED_BYTE,y),u.call(null,new g(y[0],y[1],y[2],y[3]))}else{var A=Math.floor(h(i,"width",T)),M=Math.floor(h(i,"height",E)),R=A*M*4,O=new Uint8Array(R);r.readPixels(f,E-d-M,A,M,r.RGBA,r.UNSIGNED_BYTE,O);for(var L=l.createWebGL(this,A,M),I=L.getContext("2d",{willReadFrequently:!0}),N=I.getImageData(0,0,A,M),B=N.data,b=0;b<M;b++)for(var X=0;X<A;X++){var W=((M-b-1)*A+X)*4,$=m?R-(b*A+(A-X))*4:(b*A+X)*4;B[$+0]=O[W+0],B[$+1]=O[W+1],B[$+2]=O[W+2],B[$+3]=O[W+3]}I.putImageData(N,0,0);var z=new Image;z.onerror=function(){u.call(null),l.remove(L)},z.onload=function(){u.call(null,z),l.remove(L)},z.src=L.toDataURL(n,o)}};p.exports=a},95528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(61840),WebGL:t(1217)}},35217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(65641),h=t(33885),a=t(77290),s=t(72632),i=t(37410),r=t(82127),u=t(5583),n=t(58136),o=t(47406),f=t(81828),d=t(66901),v=t(71264),m=t(77310),T=t(10919),E=t(21213),y=t(51212),C=t(60848),A=new l({initialize:function(R){this.game=R.game,this.renderer=R,this.classes=new h([[g.UTILITY_PIPELINE,C],[g.MULTI_PIPELINE,m],[g.BITMAPMASK_PIPELINE,u],[g.SINGLE_PIPELINE,y],[g.ROPE_PIPELINE,E],[g.LIGHT_PIPELINE,d],[g.POINTLIGHT_PIPELINE,T],[g.MOBILE_PIPELINE,v],[g.FX_PIPELINE,f]]),this.postPipelineClasses=new h([[String(o.BARREL),n.Barrel],[String(o.BLOOM),n.Bloom],[String(o.BLUR),n.Blur],[String(o.BOKEH),n.Bokeh],[String(o.CIRCLE),n.Circle],[String(o.COLOR_MATRIX),n.ColorMatrix],[String(o.DISPLACEMENT),n.Displacement],[String(o.GLOW),n.Glow],[String(o.GRADIENT),n.Gradient],[String(o.PIXELATE),n.Pixelate],[String(o.SHADOW),n.Shadow],[String(o.SHINE),n.Shine],[String(o.VIGNETTE),n.Vignette],[String(o.WIPE),n.Wipe]]),this.pipelines=new h,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(M,R,O){var L=this.renderer,I=this.renderTargets;this.frameInc=Math.floor(s(M,"frameInc",32));for(var N=L.width,B=L.height,b=Math.min(N,B),X=Math.ceil(b/this.frameInc),W=1;W<X;W++){var $=W*this.frameInc;I.push(new i(L,$,$)),I.push(new i(L,$,$)),I.push(new i(L,$,$)),this.maxDimension=$}I.push(new i(L,N,B,1,0,!0,!0)),I.push(new i(L,N,B,1,0,!0,!0)),I.push(new i(L,N,B,1,0,!0,!0));var z,V,D=this,G=this.game;if(this.classes.each(function(Y,H){z=D.add(Y,new H({game:G})),Y===g.UTILITY_PIPELINE&&(D.UTILITY_PIPELINE=z,D.fullFrame1=z.fullFrame1,D.fullFrame2=z.fullFrame2,D.halfFrame1=z.halfFrame1,D.halfFrame2=z.halfFrame2)}),this.MULTI_PIPELINE=this.get(g.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(g.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(g.MOBILE_PIPELINE),this.FX_PIPELINE=this.get(g.FX_PIPELINE),M)for(V in M){var U=M[V];z=new U(G),z.name=V,z.isPostFX?this.postPipelineClasses.set(V,U):this.has(V)||(this.classes.set(V,U),this.add(V,z))}this.default=this.get(R),O&&!a.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(M){var R=this.get(M);return R&&(this.default=R),R},add:function(M,R){if(R.isPostFX){console.warn(M+" is a Post Pipeline. Use `addPostPipeline` instead");return}var O=this.pipelines,L=this.renderer;return O.has(M)?console.warn("Pipeline exists: "+M):(R.name=M,R.manager=this,O.set(M,R)),R.hasBooted||R.boot(),L.width!==0&&L.height!==0&&!R.isPreFX&&R.resize(L.width,L.height),R},addPostPipeline:function(M,R){this.postPipelineClasses.has(M)||this.postPipelineClasses.set(M,R)},flush:function(){this.current&&this.current.flush()},has:function(M){var R=this.pipelines;return typeof M=="string"?R.has(M):!!R.contains(M)},get:function(M){var R=this.pipelines;if(typeof M=="string")return R.get(M);if(R.contains(M))return M},getPostPipeline:function(M,R,O){var L=this.postPipelineClasses,I,N="",B=typeof M;if(B==="string"||B==="number"?(I=L.get(M),N=M):B==="function"?(L.contains(M)&&(I=M),N=M.name):B==="object"&&(I=L.get(M.name),N=M.name),I){var b=new I(this.game,O);return b.name=N,R&&(b.gameObject=R),b}},remove:function(M,R,O){R===void 0&&(R=!0),O===void 0&&(O=!0),this.pipelines.delete(M),R&&this.classes.delete(M),O&&this.postPipelineClasses.delete(M)},set:function(M,R,O){if(!M.isPostFX)return this.isCurrent(M,O)||(this.flush(),this.current&&this.current.unbind(),this.current=M,M.bind(O)),M.updateProjectionMatrix(),M.onBind(R),M},preBatch:function(M){if(M.hasPostPipeline){this.flush();for(var R=M.postPipelines,O=R.length-1;O>=0;O--){var L=R[O];L.active&&L.preBatch(M)}}},postBatch:function(M){if(M.hasPostPipeline){this.flush();for(var R=M.postPipelines,O=0;O<R.length;O++){var L=R[O];L.active&&L.postBatch(M)}}},preBatchCamera:function(M){if(M.hasPostPipeline){this.flush();for(var R=M.postPipelines,O=R.length-1;O>=0;O--){var L=R[O];L.active&&L.preBatch(M)}}},postBatchCamera:function(M){if(M.hasPostPipeline){this.flush();for(var R=M.postPipelines,O=0;O<R.length;O++){var L=R[O];L.active&&L.postBatch(M)}}},isCurrent:function(M,R){var O=this.renderer,L=this.current;return L&&!R&&(R=L.currentShader),!(L!==M||R.program!==O.currentProgram)},copyFrame:function(M,R,O,L,I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(M,R,O,L,I),this},copyToGame:function(M){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(M),this},drawFrame:function(M,R,O,L){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(M,R,O,L),this},blendFrames:function(M,R,O,L,I){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(M,R,O,L,I),this},blendFramesAdditive:function(M,R,O,L,I){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(M,R,O,L,I),this},clearFrame:function(M,R){return this.UTILITY_PIPELINE.clearFrame(M,R),this},blitFrame:function(M,R,O,L,I,N){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(M,R,O,L,I,N),this},copyFrameRect:function(M,R,O,L,I,N,B,b){return this.UTILITY_PIPELINE.copyFrameRect(M,R,O,L,I,N,B,b),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(M){return this.UTILITY_PIPELINE.bind(M)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(M){M===void 0&&this.previous&&(M=this.previous);var R=this.renderer,O=R.gl;O.disable(O.DEPTH_TEST),O.disable(O.CULL_FACE),R.hasActiveStencilMask()?O.clear(O.DEPTH_BUFFER_BIT):(O.disable(O.STENCIL_TEST),O.clear(O.DEPTH_BUFFER_BIT|O.STENCIL_BUFFER_BIT)),O.viewport(0,0,R.width,R.height),R.currentProgram=null,R.setBlendMode(0,!0);var L=R.vaoExtension;L&&L.bindVertexArrayOES(null);var I=this.pipelines.entries;for(var N in I)I[N].glReset=!0;M&&(this.current=M,M.rebind())},clear:function(){var M=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,M.currentProgram=null,M.setBlendMode(0,!0);var R=M.vaoExtension;R&&R.bindVertexArrayOES(null)},getRenderTarget:function(M){var R=this.renderTargets,O=3;if(M>this.maxDimension)return this.targetIndex=R.length-O,R[this.targetIndex];var L=(r(M,this.frameInc,0,!0)-1)*O;return this.targetIndex=L,R[L]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});p.exports=A},37410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(81044),h=new l({initialize:function(s,i,r,u,n,o,f,d,v){u===void 0&&(u=1),n===void 0&&(n=0),o===void 0&&(o=!0),f===void 0&&(f=!1),d===void 0&&(d=!0),v===void 0&&(v=!0),this.renderer=s,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=u,this.minFilter=n,this.autoClear=o,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=v,this.resize(i,r),f?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(g.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(g.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,s){var i=a*this.scale,r=s*this.scale;if(this.autoResize&&(i!==this.width||r!==this.height)){var u=this.renderer;u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),a*=this.scale,s*=this.scale,a=Math.round(a),s=Math.round(s),a<=0&&(a=1),s<=0&&(s=1),this.texture=u.createTextureFromSource(null,a,s,this.minFilter,this.forceClamp),this.framebuffer=u.createFramebuffer(a,s,this.texture,this.hasDepthBuffer),this.width=a,this.height=s}return this},bind:function(a,s,i){a===void 0&&(a=!1);var r=this.renderer;if(a&&r.flush(),s&&i&&this.resize(s,i),r.pushFramebuffer(this.framebuffer,!1,!1),a&&this.adjustViewport(),this.autoClear){var u=this.renderer.gl;u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT)}r.clearStencilMask()},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(){var a=this.renderer,s=a.gl;a.pushFramebuffer(this.framebuffer),s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),a.popFramebuffer(),a.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var s=this.renderer;return a&&s.flush(),s.popFramebuffer()},destroy:function(){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),a.off(g.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});p.exports=h},75512:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={getTintFromFloats:function(S,t,l,g){var h=(S*255|0)&255,a=(t*255|0)&255,s=(l*255|0)&255,i=(g*255|0)&255;return(i<<24|h<<16|a<<8|s)>>>0},getTintAppendFloatAlpha:function(S,t){var l=(t*255|0)&255;return(l<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var l=(S>>16|0)&255,g=(S>>8|0)&255,h=(S|0)&255,a=(t*255|0)&255;return(a<<24|h<<16|g<<8|l)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,l=(S>>8|0)&255,g=(S|0)&255;return[t/255,l/255,g/255]},checkShaderMax:function(S,t){var l=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?l:Math.min(l,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var l="",g=0;g<t;g++)g>0&&(l+=`
	else `),g<t-1&&(l+="if (outTexId < "+g+".5)"),l+=`
	{`,l+=`
		texture = texture2D(uMainSampler[`+g+"], outTexCoord);",l+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,l)},setGlowQuality:function(S,t,l,g){return l===void 0&&(l=t.config.glowFXQuality),g===void 0&&(g=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/l/g).toFixed(7)),S=S.replace(/__DIST__/gi,g.toFixed(0)+".0"),S}}},44775:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(28699),h=t(6659),a=t(18970),s=t(72632),i=t(16650),r=t(81044),u=t(37410),n=t(75512),o=t(71305),f=new l({Extends:h,initialize:function(v){h.call(this);var m=v.game,T=m.renderer,E=T.gl;this.name=s(v,"name","WebGLPipeline"),this.game=m,this.renderer=T,this.manager,this.gl=E,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=s(v,"topology",E.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=s(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var d,v=this.gl,m=this.config,T=this.renderer;this.isPostFX||(this.projectionMatrix=new i().identity());var E=this.renderTargets,y=s(m,"renderTarget",!1);typeof y=="boolean"&&y&&(y=1);var C=T.width,A=T.height;if(typeof y=="number")for(d=0;d<y;d++)E.push(new u(T,C,A,1,0,!0));else if(Array.isArray(y))for(d=0;d<y.length;d++){var M=s(y[d],"scale",1),R=s(y[d],"minFilter",0),O=s(y[d],"autoClear",1),L=s(y[d],"width",null),I=s(y[d],"height",L);L?E.push(new u(T,L,I,1,R,O)):E.push(new u(T,C,A,M,R,O))}E.length&&(this.currentRenderTarget=E[0]),this.setShadersFromConfig(m);var N=this.shaders,B=0;for(d=0;d<N.length;d++)N[d].vertexSize>B&&(B=N[d].vertexSize);var b=s(m,"batchSize",T.config.batchSize);this.vertexCapacity=b*6;var X=new ArrayBuffer(this.vertexCapacity*B);this.vertexData=X,this.bytes=new Uint8Array(X),this.vertexViewF32=new Float32Array(X),this.vertexViewU32=new Uint32Array(X);var W=s(m,"vertices",null);for(W?(this.vertexViewF32.set(W),this.vertexBuffer=T.createVertexBuffer(X,v.STATIC_DRAW)):this.vertexBuffer=T.createVertexBuffer(X.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),d=N.length-1;d>=0;d--)N[d].rebind();this.hasBooted=!0,T.on(r.RESIZE,this.resize,this),T.on(r.PRE_RENDER,this.onPreRender,this),T.on(r.RENDER,this.onRender,this),T.on(r.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,v,m){var T=this.renderer;if(d!==this.currentShader||T.currentProgram!==this.currentShader.program){this.flush();var E=this.setVertexBuffer(m);E&&!v&&(v=!0),d.bind(v,!1),this.currentShader=d}return this},getShaderByName:function(d){for(var v=this.shaders,m=0;m<v.length;m++)if(v[m].name===d)return v[m]},setShadersFromConfig:function(d){var v,m=this.shaders,T=this.renderer;for(v=0;v<m.length;v++)m[v].destroy();var E="vertShader",y="fragShader",C="attributes",A=s(d,E,null),M=n.parseFragmentShaderMaxTextures(s(d,y,null),T.maxTextures),R=s(d,C,null),O=s(d,"shaders",[]),L=O.length;if(L===0)A&&M&&(this.shaders=[new o(this,"default",A,M,g(R))]);else{var I=[];for(v=0;v<L;v++){var N=O[v],B,b,X,W;if(typeof N=="string"?(B="default",b=A,X=n.parseFragmentShaderMaxTextures(N,T.maxTextures),W=R):(B=s(N,"name","default"),b=s(N,E,A),X=n.parseFragmentShaderMaxTextures(s(N,y,M),T.maxTextures),W=s(N,C,R)),B==="default"){var $=X.split(`
`),z=$[0].trim();z.indexOf("#define SHADER_NAME")>-1&&(B=z.substring(20))}b&&X&&I.push(new o(this,B,b,X,g(W)))}this.shaders=I}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var v=this.currentBatch;v&&(v.texture.push(d),v.unit++,v.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var v=this.currentBatch,m=v.texture.indexOf(d);return m===-1?v.texture.length===this.renderer.maxTextures?this.createBatch(d):(v.unit++,v.maxUnit++,v.texture.push(d),this.currentUnit=v.unit,this.currentTexture=d,v.unit):(this.currentUnit=m,this.currentTexture=d,m)},setGameObject:function(d,v){return v===void 0&&(v=d.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,v){(d!==this.width||v!==this.height)&&this.flush(),this.width=d,this.height=v;for(var m=this.renderTargets,T=0;T<m.length;T++)m[T].resize(d,v);return this.setProjectionMatrix(d,v),this.emit(a.RESIZE,d,v,this),this.onResize(d,v),this},setProjectionMatrix:function(d,v){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=d,this.projectionHeight=v,m.ortho(0,d,v,0,-1e3,1e3);for(var T=this.shaders,E="uProjectionMatrix",y=0;y<T.length;y++){var C=T[y];C.hasUniform(E)&&(C.resetUniform(E),C.setMatrix4fv(E,!1,m.val,C))}return this},flipProjectionMatrix:function(d){d===void 0&&(d=!0);var v=this.projectionMatrix;if(!v)return this;var m=this.projectionWidth,T=this.projectionHeight;d?v.ortho(0,m,0,T,-1e3,1e3):v.ortho(0,m,T,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==v)&&this.setProjectionMatrix(d,v)}},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var v=!1,m=this.gl;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(m.bindBuffer(m.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,v=!0),d.bind(v),this.currentShader=d,this.activeTextures.length=0,this.emit(a.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,m=v.length-1;m>=0;m--){var T=v[m].rebind();(!d||T===d)&&(this.currentShader=T)}return this.activeTextures.length=0,this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(d){if(d===void 0&&(d=this.vertexBuffer),d!==this.activeBuffer){var v=this.gl;return this.gl.bindBuffer(v.ARRAY_BUFFER,d),this.activeBuffer=d,!0}return!1},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(d===void 0&&(d=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var v=this.gl,m=this.vertexCount,T=this.currentShader.vertexSize,E=this.topology;if(this.active){this.setVertexBuffer(),m===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,m*T));var y,C,A,M=this.batch,R=this.activeTextures;if(this.forceZero)for(R[0]||v.activeTexture(v.TEXTURE0),y=0;y<M.length;y++)C=M[y],A=C.texture[0],R[0]!==A&&(v.bindTexture(v.TEXTURE_2D,A),R[0]=A),v.drawArrays(E,C.start,C.count);else for(y=0;y<M.length;y++){C=M[y];for(var O=0;O<=C.maxUnit;O++)A=C.texture[O],R[O]!==A&&(v.activeTexture(v.TEXTURE0+O),v.bindTexture(v.TEXTURE_2D,A),R[O]=A);v.drawArrays(E,C.start,C.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(a.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,v,m,T,E,y,C){var A=this.vertexViewF32,M=this.vertexViewU32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++R]=d,A[++R]=v,A[++R]=m,A[++R]=T,A[++R]=E,A[++R]=y,M[++R]=C,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,v,m,T,E,y,C,A,M,R,O,L,I,N,B,b,X,W,$,z){z===void 0&&(z=this.currentUnit);var V=!1;this.shouldFlush(6)&&(this.flush(),V=!0),this.currentBatch||(z=this.setTexture2D($));var D=this.vertexViewF32,G=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return D[++U]=v,D[++U]=m,D[++U]=R,D[++U]=O,D[++U]=z,D[++U]=W,G[++U]=N,D[++U]=T,D[++U]=E,D[++U]=R,D[++U]=I,D[++U]=z,D[++U]=W,G[++U]=b,D[++U]=y,D[++U]=C,D[++U]=L,D[++U]=I,D[++U]=z,D[++U]=W,G[++U]=X,D[++U]=v,D[++U]=m,D[++U]=R,D[++U]=O,D[++U]=z,D[++U]=W,G[++U]=N,D[++U]=y,D[++U]=C,D[++U]=L,D[++U]=I,D[++U]=z,D[++U]=W,G[++U]=X,D[++U]=A,D[++U]=M,D[++U]=L,D[++U]=O,D[++U]=z,D[++U]=W,G[++U]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),V},batchTri:function(d,v,m,T,E,y,C,A,M,R,O,L,I,N,B,b,X){X===void 0&&(X=this.currentUnit);var W=!1;this.shouldFlush(3)&&(this.flush(),W=!0),this.currentBatch||(X=this.setTexture2D(b));var $=this.vertexViewF32,z=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return $[++V]=v,$[++V]=m,$[++V]=A,$[++V]=M,$[++V]=X,$[++V]=B,z[++V]=L,$[++V]=T,$[++V]=E,$[++V]=A,$[++V]=O,$[++V]=X,$[++V]=B,z[++V]=I,$[++V]=y,$[++V]=C,$[++V]=R,$[++V]=O,$[++V]=X,$[++V]=B,z[++V]=N,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),W},drawFillRect:function(d,v,m,T,E,y,C,A){C===void 0&&(C=this.renderer.whiteTexture),A===void 0&&(A=!0),d=Math.floor(d),v=Math.floor(v);var M=Math.floor(d+m),R=Math.floor(v+T),O=this.setTexture2D(C),L=n.getTintAppendFloatAlphaAndSwap(E,y),I=0,N=0,B=1,b=1;A&&(N=1,b=0),this.batchQuad(null,d,v,d,R,M,R,M,v,I,N,B,b,L,L,L,L,0,C,O)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,v){v===void 0&&(v=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+v),m.bindTexture(m.TEXTURE_2D,d),this},bindRenderTarget:function(d,v){return this.bindTexture(d.texture,v)},setTime:function(d,v){return this.set1f(d,this.game.loop.getDuration(),v),this},setBoolean:function(d,v,m){return m===void 0&&(m=this.currentShader),m.setBoolean(d,v),this},set1f:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1f(d,v),this},set2f:function(d,v,m,T){return T===void 0&&(T=this.currentShader),T.set2f(d,v,m),this},set3f:function(d,v,m,T,E){return E===void 0&&(E=this.currentShader),E.set3f(d,v,m,T),this},set4f:function(d,v,m,T,E,y){return y===void 0&&(y=this.currentShader),y.set4f(d,v,m,T,E),this},set1fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1fv(d,v),this},set2fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set2fv(d,v),this},set3fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set3fv(d,v),this},set4fv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set4fv(d,v),this},set1iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1iv(d,v),this},set2iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set2iv(d,v),this},set3iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set3iv(d,v),this},set4iv:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set4iv(d,v),this},set1i:function(d,v,m){return m===void 0&&(m=this.currentShader),m.set1i(d,v),this},set2i:function(d,v,m,T){return T===void 0&&(T=this.currentShader),T.set2i(d,v,m),this},set3i:function(d,v,m,T,E){return E===void 0&&(E=this.currentShader),E.set3i(d,v,m,T),this},set4i:function(d,v,m,T,E,y){return y===void 0&&(y=this.currentShader),y.set4i(d,v,m,T,E),this},setMatrix2fv:function(d,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix2fv(d,v,m),this},setMatrix3fv:function(d,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix3fv(d,v,m),this},setMatrix4fv:function(d,v,m,T){return T===void 0&&(T=this.currentShader),T.setMatrix4fv(d,v,m),this},destroy:function(){this.emit(a.DESTROY,this);var d,v=this.shaders;for(d=0;d<v.length;d++)v[d].destroy();var m=this.renderTargets;for(d=0;d<m.length;d++)m[d].destroy();this.gl.deleteBuffer(this.vertexBuffer);var T=this.renderer;return T.off(r.RESIZE,this.resize,this),T.off(r.PRE_RENDER,this.onPreRender,this),T.off(r.RENDER,this.onRender,this),T.off(r.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});p.exports=f},11857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66458),g=t(89787),h=t(56694),a=t(86459),s=t(6659),i=t(81044),r=t(28621),u=t(16650),n=t(72283),o=t(35217),f=t(37410),d=t(40444),v=t(38203),m=t(75512),T=t(1217),E=new h({Extends:s,initialize:function(C){s.call(this);var A=C.config,M={alpha:A.transparent,desynchronized:A.desynchronized,depth:!0,antialias:A.antialiasGL,premultipliedAlpha:A.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:A.failIfMajorPerformanceCaveat,powerPreference:A.powerPreference,preserveDrawingBuffer:A.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:A.clearBeforeRender,antialias:A.antialias,backgroundColor:A.backgroundColor,contextCreation:M,roundPixels:A.roundPixels,maxTextures:A.maxTextures,maxTextureSize:A.maxTextureSize,batchSize:A.batchSize,maxLights:A.maxLights,mipmapFilter:A.mipmapFilter},this.game=C,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=C.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=n,this.contextRestoredHandler=n,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(y){var C,A=this.game,M=this.canvas,R=y.backgroundColor;if(A.config.context?C=A.config.context:C=M.getContext("webgl",y.contextCreation)||M.getContext("experimental-webgl",y.contextCreation),!C||C.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=C;var O=this;this.contextLostHandler=function(W){O.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),W.preventDefault()},M.addEventListener("webglcontextlost",this.contextLostHandler,!1),A.context=C;for(var L=0;L<=27;L++)this.blendModes.push({func:[C.ONE,C.ONE_MINUS_SRC_ALPHA],equation:C.FUNC_ADD});this.blendModes[1].func=[C.ONE,C.DST_ALPHA],this.blendModes[2].func=[C.DST_COLOR,C.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[C.ONE,C.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[C.ZERO,C.ONE_MINUS_SRC_ALPHA],equation:C.FUNC_REVERSE_SUBTRACT},this.glFormats=[C.BYTE,C.SHORT,C.UNSIGNED_BYTE,C.UNSIGNED_SHORT,C.FLOAT],this.glFuncMap={mat2:{func:C.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:C.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:C.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:C.uniform1f,length:1},"1fv":{func:C.uniform1fv,length:1},"1i":{func:C.uniform1i,length:1},"1iv":{func:C.uniform1iv,length:1},"2f":{func:C.uniform2f,length:2},"2fv":{func:C.uniform2fv,length:1},"2i":{func:C.uniform2i,length:2},"2iv":{func:C.uniform2iv,length:1},"3f":{func:C.uniform3f,length:3},"3fv":{func:C.uniform3fv,length:1},"3i":{func:C.uniform3i,length:3},"3iv":{func:C.uniform3iv,length:1},"4f":{func:C.uniform4f,length:4},"4fv":{func:C.uniform4fv,length:1},"4i":{func:C.uniform4i,length:4},"4iv":{func:C.uniform4iv,length:1}};var I=C.getSupportedExtensions();(!y.maxTextures||y.maxTextures===-1)&&(y.maxTextures=C.getParameter(C.MAX_TEXTURE_IMAGE_UNITS)),y.maxTextureSize||(y.maxTextureSize=C.getParameter(C.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=I;var N="ANGLE_instanced_arrays";this.instancedArraysExtension=I.indexOf(N)>-1?C.getExtension(N):null;var B="OES_vertex_array_object";this.vaoExtension=I.indexOf(B)>-1?C.getExtension(B):null,C.disable(C.DEPTH_TEST),C.disable(C.CULL_FACE),C.enable(C.BLEND),C.clearColor(R.redGL,R.greenGL,R.blueGL,R.alphaGL),y.mipmapFilter!==""&&(this.mipmapFilter=C[y.mipmapFilter]),this.maxTextures=m.checkShaderMax(C,y.maxTextures),this.textureIndexes=[];for(var b=0;b<this.maxTextures;b++){var X=C.createTexture();C.activeTexture(C.TEXTURE0+b),C.bindTexture(C.TEXTURE_2D,X),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,1,1,0,C.RGBA,C.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(b)}return this.pipelines=new o(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new u().identity(),A.textures.once(v.READY,this.boot,this),this},boot:function(){var y=this.game,C=this.pipelines,A=y.scale.baseSize,M=A.width,R=A.height;this.width=M,this.height=R,this.isBooted=!0,this.renderTarget=new f(this,M,R,1,0,!0,!0),this.maskTarget=new f(this,M,R,1,0,!0,!0),this.maskSource=new f(this,M,R,1,0,!0,!0);var O=y.config;C.boot(O.pipeline,O.defaultPipeline,O.autoMobilePipeline),this.blankTexture=y.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=y.textures.getFrame("__WHITE").glTexture;var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,null),L.enable(L.SCISSOR_TEST),y.scale.on(d.RESIZE,this.onResize,this),this.resize(M,R)},captureFrame:function(y,C){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(y,C,A){},stopCapture:function(){},onCapture:function(y){},onResize:function(y,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},beginCapture:function(y,C){y===void 0&&(y=this.width),C===void 0&&(C=this.height),this.renderTarget.bind(!0,y,C),this.setProjectionMatrix(y,C)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(y,C){var A=this.gl;return this.width=y,this.height=C,this.setProjectionMatrix(y,C),A.viewport(0,0,y,C),this.drawingBufferHeight=A.drawingBufferHeight,A.scissor(0,A.drawingBufferHeight-C,y,C),this.defaultScissor[2]=y,this.defaultScissor[3]=C,this.emit(i.RESIZE,y,C),this},getCompressedTextures:function(){var y="WEBGL_compressed_texture_",C="WEBKIT_"+y,A=function(R,O){var L=R.getExtension(y+O)||R.getExtension(C+O);if(L){var I={};for(var N in L)I[L[N]]=N;return I}},M=this.gl;return{ETC:A(M,"etc"),ETC1:A(M,"etc1"),ATC:A(M,"atc"),ASTC:A(M,"astc"),BPTC:A(M,"bptc"),RGTC:A(M,"rgtc"),PVRTC:A(M,"pvrtc"),S3TC:A(M,"s3tc"),S3TCSRGB:A(M,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(y,C){var A=this.compression[y.toUpperCase()];if(C in A)return A[C]},supportsCompressedTexture:function(y,C){var A=this.compression[y.toUpperCase()];return A?C?C in A:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(y,C){return(y!==this.projectionWidth||C!==this.projectionHeight)&&(this.projectionWidth=y,this.projectionHeight=C,this.projectionMatrix.ortho(0,y,C,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(y){return this.supportedExtensions?this.supportedExtensions.indexOf(y):!1},getExtension:function(y){return this.hasExtension(y)?(y in this.extensions||(this.extensions[y]=this.gl.getExtension(y)),this.extensions[y]):null},flush:function(){this.pipelines.flush()},pushScissor:function(y,C,A,M,R){R===void 0&&(R=this.drawingBufferHeight);var O=this.scissorStack,L=[y,C,A,M];return O.push(L),this.setScissor(y,C,A,M,R),this.currentScissor=L,L},setScissor:function(y,C,A,M,R){R===void 0&&(R=this.drawingBufferHeight);var O=this.gl,L=this.currentScissor,I=A>0&&M>0;if(L&&I){var N=L[0],B=L[1],b=L[2],X=L[3];I=N!==y||B!==C||b!==A||X!==M}I&&(this.flush(),O.scissor(y,R-C-M,A,M))},resetScissor:function(){var y=this.gl;y.enable(y.SCISSOR_TEST);var C=this.currentScissor;if(C){var A=C[0],M=C[1],R=C[2],O=C[3];R>0&&O>0&&y.scissor(A,this.drawingBufferHeight-M-O,R,O)}},popScissor:function(){var y=this.scissorStack;y.pop();var C=y[y.length-1];C&&this.setScissor(C[0],C[1],C[2],C[3]),this.currentScissor=C},hasActiveStencilMask:function(){var y=this.currentMask.mask,C=this.currentCameraMask.mask;return y&&y.isStencil||C&&C.isStencil},resetViewport:function(){var y=this.gl;y.viewport(0,0,this.width,this.height),this.drawingBufferHeight=y.drawingBufferHeight},setBlendMode:function(y,C){C===void 0&&(C=!1);var A=this.gl,M=this.blendModes[y];return C||y!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==y?(this.flush(),A.enable(A.BLEND),A.blendEquation(M.equation),M.func.length>2?A.blendFuncSeparate(M.func[0],M.func[1],M.func[2],M.func[3]):A.blendFunc(M.func[0],M.func[1]),this.currentBlendMode=y,!0):!1},addBlendMode:function(y,C){var A=this.blendModes.push({func:y,equation:C});return A-1},updateBlendMode:function(y,C,A){return this.blendModes[y]&&(this.blendModes[y].func=C,A&&(this.blendModes[y].equation=A)),this},removeBlendMode:function(y){return y>17&&this.blendModes[y]&&this.blendModes.splice(y,1),this},pushFramebuffer:function(y,C,A,M,R){return y===this.currentFramebuffer?this:(this.fboStack.push(y),this.setFramebuffer(y,C,A,M,R))},setFramebuffer:function(y,C,A,M,R){if(C===void 0&&(C=!1),A===void 0&&(A=!0),M===void 0&&(M=null),R===void 0&&(R=!1),y===this.currentFramebuffer)return this;var O=this.gl,L=this.width,I=this.height;return y&&y.renderTexture&&A?(L=y.renderTexture.width,I=y.renderTexture.height):this.flush(),O.bindFramebuffer(O.FRAMEBUFFER,y),A&&O.viewport(0,0,L,I),M&&O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,M,0),R&&(O.clearColor(0,0,0,0),O.clear(O.COLOR_BUFFER_BIT)),C&&(y?(this.drawingBufferHeight=I,this.pushScissor(0,0,L,I)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=y,this},popFramebuffer:function(y,C){y===void 0&&(y=!1),C===void 0&&(C=!0);var A=this.fboStack;A.pop();var M=A[A.length-1];return M||(M=null),this.setFramebuffer(M,y,C),M},restoreFramebuffer:function(y,C){y===void 0&&(y=!1),C===void 0&&(C=!0);var A=this.fboStack,M=A[A.length-1];M||(M=null),this.currentFramebuffer=null,this.setFramebuffer(M,y,C)},setProgram:function(y){return y!==this.currentProgram?(this.flush(),this.gl.useProgram(y),this.currentProgram=y,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(y,C,A,M,R){R===void 0&&(R=!1);var O=this.gl,L=O.NEAREST,I=O.NEAREST,N=O.CLAMP_TO_EDGE,B=null;C=y?y.width:C,A=y?y.height:A;var b=r(C,A);return b&&!R&&(N=O.REPEAT),M===a.ScaleModes.LINEAR&&this.config.antialias&&(L=b&&this.mipmapFilter?this.mipmapFilter:O.LINEAR,I=O.LINEAR),y&&y.compressed&&(L=O.LINEAR,I=O.LINEAR),!y&&typeof C=="number"&&typeof A=="number"?B=this.createTexture2D(0,L,I,N,N,O.RGBA,null,C,A):B=this.createTexture2D(0,L,I,N,N,O.RGBA,y),B},createTexture2D:function(y,C,A,M,R,O,L,I,N,B,b,X){B=B??!0,b===void 0&&(b=!1),X===void 0&&(X=!1);var W=this.gl,$=W.createTexture();W.activeTexture(W.TEXTURE0);var z=W.getParameter(W.TEXTURE_BINDING_2D);W.bindTexture(W.TEXTURE_2D,$),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,C),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,A),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,R),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,M),W.pixelStorei(W.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B),X&&W.pixelStorei(W.UNPACK_FLIP_Y_WEBGL,!0);var V=!1;if(L==null)W.texImage2D(W.TEXTURE_2D,y,O,I,N,0,O,W.UNSIGNED_BYTE,null),V=r(I,N);else if(L.compressed){I=L.width,N=L.height,V=L.generateMipmap;for(var D=0;D<L.mipmaps.length;D++)W.compressedTexImage2D(W.TEXTURE_2D,D,L.internalFormat,L.mipmaps[D].width,L.mipmaps[D].height,0,L.mipmaps[D].data)}else b||(I=L.width,N=L.height),W.texImage2D(W.TEXTURE_2D,y,O,O,W.UNSIGNED_BYTE,L),V=r(I,N);return V&&W.generateMipmap(W.TEXTURE_2D),z&&W.bindTexture(W.TEXTURE_2D,z),$.isAlphaPremultiplied=B,$.isRenderTexture=!1,$.width=I,$.height=N,$},createFramebuffer:function(y,C,A,M){M===void 0&&(M=!0);var R=this.gl,O=R.createFramebuffer(),L=0;if(this.setFramebuffer(O),A.isRenderTexture=!0,A.isAlphaPremultiplied=!1,R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,A,0),L=R.checkFramebufferStatus(R.FRAMEBUFFER),L!==R.FRAMEBUFFER_COMPLETE){var I={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(I[L]||L))}if(O.renderTexture=A,M){var N=R.createRenderbuffer();R.bindRenderbuffer(R.RENDERBUFFER,N),R.renderbufferStorage(R.RENDERBUFFER,R.DEPTH_STENCIL,y,C),R.framebufferRenderbuffer(R.FRAMEBUFFER,R.DEPTH_STENCIL_ATTACHMENT,R.RENDERBUFFER,N)}return this.setFramebuffer(null),O},beginBitmapMask:function(y,C){var A=this.gl;A&&(this.flush(),this.maskTarget.bind(),this.currentCameraMask.mask!==y&&(this.currentMask.mask=y,this.currentMask.camera=C))},drawBitmapMask:function(y,C,A){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),y.renderWebGL(this,y,C),this.maskSource.unbind(!0),this.maskTarget.unbind();var M=this.gl,R=this.getCurrentStencilMask();R?(M.enable(M.STENCIL_TEST),R.mask.applyStencil(this,R.camera,!0)):this.currentMask.mask=null,this.pipelines.set(A),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,this.maskTarget.texture),M.activeTexture(M.TEXTURE1),M.bindTexture(M.TEXTURE_2D,this.maskSource.texture)},createProgram:function(y,C){var A=this.gl,M=A.createProgram(),R=A.createShader(A.VERTEX_SHADER),O=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(R,y),A.shaderSource(O,C),A.compileShader(R),A.compileShader(O);var L=`Shader failed:
`;if(!A.getShaderParameter(R,A.COMPILE_STATUS))throw new Error("Vertex "+L+A.getShaderInfoLog(R));if(!A.getShaderParameter(O,A.COMPILE_STATUS))throw new Error("Fragment "+L+A.getShaderInfoLog(O));if(A.attachShader(M,R),A.attachShader(M,O),A.linkProgram(M),!A.getProgramParameter(M,A.LINK_STATUS))throw new Error("Link "+L+A.getProgramInfoLog(M));return A.useProgram(M),M},createVertexBuffer:function(y,C){var A=this.gl,M=A.createBuffer();return A.bindBuffer(A.ARRAY_BUFFER,M),A.bufferData(A.ARRAY_BUFFER,y,C),A.bindBuffer(A.ARRAY_BUFFER,null),M},createIndexBuffer:function(y,C){var A=this.gl,M=A.createBuffer();return A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,M),A.bufferData(A.ELEMENT_ARRAY_BUFFER,y,C),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,null),M},deleteTexture:function(y){return y&&this.gl.deleteTexture(y),this},deleteFramebuffer:function(y){if(y){var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,y);var A=C.getParameter(C.RENDERBUFFER_BINDING);A&&C.deleteRenderbuffer(A),C.bindFramebuffer(C.FRAMEBUFFER,null),C.deleteFramebuffer(y),l(this.fboStack,y),this.currentFramebuffer===y&&(this.currentFramebuffer=null)}return this},deleteProgram:function(y){return y&&this.gl.deleteProgram(y),this},deleteBuffer:function(y){return this.gl.deleteBuffer(y),this},preRenderCamera:function(y){var C=y.x,A=y.y,M=y.width,R=y.height,O=y.backgroundColor;if(y.emit(g.PRE_RENDER,y),this.pipelines.preBatchCamera(y),this.pushScissor(C,A,M,R),y.mask&&(this.currentCameraMask.mask=y.mask,this.currentCameraMask.camera=y._maskCamera,y.mask.preRenderWebGL(this,y,y._maskCamera)),O.alphaGL>0){var L=this.pipelines.setMulti();L.drawFillRect(C,A,M,R,m.getTintFromFloats(O.blueGL,O.greenGL,O.redGL,1),O.alphaGL)}},getCurrentStencilMask:function(){var y=null,C=this.maskStack,A=this.currentCameraMask;return C.length>0?y=C[C.length-1]:A.mask&&A.mask.isStencil&&(y=A),y},postRenderCamera:function(y){var C=y.flashEffect,A=y.fadeEffect;if(C.isRunning||A.isRunning||A.isComplete){var M=this.pipelines.setMulti();C.postRenderWebGL(M,m.getTintFromFloats),A.postRenderWebGL(M,m.getTintFromFloats)}y.dirty=!1,this.popScissor(),y.mask&&(this.currentCameraMask.mask=null,y.mask.postRenderWebGL(this,y._maskCamera)),this.pipelines.postBatchCamera(y),y.emit(g.POST_RENDER,y)},preRender:function(){if(!this.contextLost){var y=this.gl;if(y.bindFramebuffer(y.FRAMEBUFFER,null),this.config.clearBeforeRender){var C=this.config.backgroundColor;y.clearColor(C.redGL,C.greenGL,C.blueGL,C.alphaGL),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT)}y.enable(y.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&y.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(i.PRE_RENDER)}},render:function(y,C,A){if(!this.contextLost){var M=C.length;if(this.emit(i.RENDER,y,A),this.preRenderCamera(A),M===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(A);return}this.currentType="";for(var R=this.currentMask,O=0;O<M;O++){this.finalType=O===M-1;var L=C[O],I=L.mask;R=this.currentMask,R.mask&&R.mask!==I&&R.mask.postRenderWebGL(this,R.camera),I&&R.mask!==I&&I.preRenderWebGL(this,L,A),L.blendMode!==this.currentBlendMode&&this.setBlendMode(L.blendMode);var N=L.type;N!==this.currentType&&(this.newType=!0,this.currentType=N),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=C[O+1].type===this.currentType,L.renderWebGL(this,L,A),this.newType=!1}R=this.currentMask,R.mask&&R.mask.postRenderWebGL(this,R.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(A)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(i.POST_RENDER);var y=this.snapshotState;y.callback&&(T(this.gl,y),y.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var y=this.gl,C=this.getCurrentStencilMask();if(C){var A=C.mask;y.enable(y.STENCIL_TEST),A.invertAlpha?y.stencilFunc(y.NOTEQUAL,A.level,255):y.stencilFunc(y.EQUAL,A.level,255)}},snapshot:function(y,C,A){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,y,C,A)},snapshotArea:function(y,C,A,M,R,O,L){var I=this.snapshotState;return I.callback=R,I.type=O,I.encoder=L,I.getPixel=!1,I.x=y,I.y=C,I.width=A,I.height=M,this},snapshotPixel:function(y,C,A){return this.snapshotArea(y,C,1,1,A),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(y,C,A,M,R,O,L,I,N,B,b){R===void 0&&(R=!1),O===void 0&&(O=0),L===void 0&&(L=0),I===void 0&&(I=C),N===void 0&&(N=A),B==="pixel"&&(R=!0,B="image/png");var X=this.currentFramebuffer;this.snapshotArea(O,L,I,N,M,B,b);var W=this.snapshotState;return W.getPixel=R,W.isFramebuffer=!0,W.bufferWidth=C,W.bufferHeight=A,W.width=Math.min(W.width,C),W.height=Math.min(W.height,A),this.setFramebuffer(y),T(this.gl,W),this.setFramebuffer(X),W.callback=null,W.isFramebuffer=!1,this},canvasToTexture:function(y,C,A,M){return A===void 0&&(A=!1),M===void 0&&(M=!1),C?this.updateCanvasTexture(y,C,M):this.createCanvasTexture(y,A,M)},createCanvasTexture:function(y,C,A){C===void 0&&(C=!1),A===void 0&&(A=!1);var M=this.gl,R=M.NEAREST,O=M.NEAREST,L=y.width,I=y.height,N=M.CLAMP_TO_EDGE,B=r(L,I);return!C&&B&&(N=M.REPEAT),this.config.antialias&&(R=B&&this.mipmapFilter?this.mipmapFilter:M.LINEAR,O=M.LINEAR),this.createTexture2D(0,R,O,N,N,M.RGBA,y,L,I,!0,!1,A)},updateCanvasTexture:function(y,C,A){A===void 0&&(A=!1);var M=this.gl,R=y.width,O=y.height;if(R>0&&O>0){M.activeTexture(M.TEXTURE0);var L=M.getParameter(M.TEXTURE_BINDING_2D);M.bindTexture(M.TEXTURE_2D,C),A&&M.pixelStorei(M.UNPACK_FLIP_Y_WEBGL,!0),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,y),C.width=R,C.height=O,L&&M.bindTexture(M.TEXTURE_2D,L)}return C},createVideoTexture:function(y,C,A){C===void 0&&(C=!1),A===void 0&&(A=!1);var M=this.gl,R=M.NEAREST,O=M.NEAREST,L=y.videoWidth,I=y.videoHeight,N=M.CLAMP_TO_EDGE,B=r(L,I);return!C&&B&&(N=M.REPEAT),this.config.antialias&&(R=B&&this.mipmapFilter?this.mipmapFilter:M.LINEAR,O=M.LINEAR),this.createTexture2D(0,R,O,N,N,M.RGBA,y,L,I,!0,!0,A)},updateVideoTexture:function(y,C,A){A===void 0&&(A=!1);var M=this.gl,R=y.videoWidth,O=y.videoHeight;if(R>0&&O>0){M.activeTexture(M.TEXTURE0);var L=M.getParameter(M.TEXTURE_BINDING_2D);M.bindTexture(M.TEXTURE_2D,C),M.pixelStorei(M.UNPACK_FLIP_Y_WEBGL,A),M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,y),C.width=R,C.height=O,L&&M.bindTexture(M.TEXTURE_2D,L)}return C},setTextureFilter:function(y,C){var A=this.gl,M=[A.LINEAR,A.NEAREST][C];A.activeTexture(A.TEXTURE0);var R=A.getParameter(A.TEXTURE_BINDING_2D);return A.bindTexture(A.TEXTURE_2D,y),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,M),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,M),R&&A.bindTexture(A.TEXTURE_2D,R),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});p.exports=E},71305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72632),h=t(71402),a=new l({initialize:function(i,r,u,n,o){this.pipeline=i,this.name=r,this.renderer=i.renderer,this.gl=this.renderer.gl,this.fragSrc=n,this.vertSrc=u,this.program=this.renderer.createProgram(u,n),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(o),this.createUniforms()},createAttributes:function(s){var i=0,r=0,u=[];this.vertexComponentCount=0;for(var n=0;n<s.length;n++){var o=s[n],f=o.name,d=g(o,"size",1),v=g(o,"type",h.FLOAT),m=v.enum,T=v.size,E=!!o.normalized;u.push({name:f,size:d,type:m,normalized:E,offset:r,enabled:!1,location:-1}),T===4?i+=d:i++,r+=d*T}this.vertexSize=r,this.vertexComponentCount=i,this.attributes=u},bind:function(s,i){return s===void 0&&(s=!1),i===void 0&&(i=!1),i&&this.pipeline.flush(),this.renderer.setProgram(this.program),s&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(s){s===void 0&&(s=!1);for(var i=this.gl,r=this.vertexSize,u=this.attributes,n=this.program,o=0;o<u.length;o++){var f=u[o],d=f.size,v=f.type,m=f.offset,T=f.enabled,E=f.location,y=!!f.normalized;if(s){var C=i.getAttribLocation(n,f.name);C>=0?(i.enableVertexAttribArray(C),i.vertexAttribPointer(C,d,v,y,r,m),f.enabled=!0,f.location=C):C!==-1&&i.disableVertexAttribArray(C)}else T?i.vertexAttribPointer(E,d,v,y,r,m):!T&&E>-1&&(i.disableVertexAttribArray(E),f.location=-1)}return this},createUniforms:function(){var s=this.gl,i=this.program,r=this.uniforms,u,n,o,f=s.getProgramParameter(i,s.ACTIVE_UNIFORMS);for(u=0;u<f;u++){var d=s.getActiveUniform(i,u);if(d){n=d.name,o=s.getUniformLocation(i,n),o!==null&&(r[n]={name:n,location:o,value1:null,value2:null,value3:null,value4:null});var v=n.indexOf("[");v>0&&(n=n.substr(0,v),r.hasOwnProperty(n)||(o=s.getUniformLocation(i,n),o!==null&&(r[n]={name:n,location:o,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(s){return this.uniforms.hasOwnProperty(s)},resetUniform:function(s){var i=this.uniforms[s];return i&&(i.value1=null,i.value2=null,i.value3=null,i.value4=null),this},setUniform1:function(s,i,r,u){var n=this.uniforms[i];return n?((u||n.value1!==r)&&(n.value1=r,this.renderer.setProgram(this.program),s.call(this.gl,n.location,r),this.pipeline.currentShader=this),this):this},setUniform2:function(s,i,r,u,n){var o=this.uniforms[i];return o?((n||o.value1!==r||o.value2!==u)&&(o.value1=r,o.value2=u,this.renderer.setProgram(this.program),s.call(this.gl,o.location,r,u),this.pipeline.currentShader=this),this):this},setUniform3:function(s,i,r,u,n,o){var f=this.uniforms[i];return f?((o||f.value1!==r||f.value2!==u||f.value3!==n)&&(f.value1=r,f.value2=u,f.value3=n,this.renderer.setProgram(this.program),s.call(this.gl,f.location,r,u,n),this.pipeline.currentShader=this),this):this},setUniform4:function(s,i,r,u,n,o,f){var d=this.uniforms[i];return d?((f||d.value1!==r||d.value2!==u||d.value3!==n||d.value4!==o)&&(d.value1=r,d.value2=u,d.value3=n,d.value4=o,this.renderer.setProgram(this.program),s.call(this.gl,d.location,r,u,n,o),this.pipeline.currentShader=this),this):this},setBoolean:function(s,i){return this.setUniform1(this.gl.uniform1i,s,Number(i))},set1f:function(s,i){return this.setUniform1(this.gl.uniform1f,s,i)},set2f:function(s,i,r){return this.setUniform2(this.gl.uniform2f,s,i,r)},set3f:function(s,i,r,u){return this.setUniform3(this.gl.uniform3f,s,i,r,u)},set4f:function(s,i,r,u,n){return this.setUniform4(this.gl.uniform4f,s,i,r,u,n)},set1fv:function(s,i){return this.setUniform1(this.gl.uniform1fv,s,i,!0)},set2fv:function(s,i){return this.setUniform1(this.gl.uniform2fv,s,i,!0)},set3fv:function(s,i){return this.setUniform1(this.gl.uniform3fv,s,i,!0)},set4fv:function(s,i){return this.setUniform1(this.gl.uniform4fv,s,i,!0)},set1iv:function(s,i){return this.setUniform1(this.gl.uniform1iv,s,i,!0)},set2iv:function(s,i){return this.setUniform1(this.gl.uniform2iv,s,i,!0)},set3iv:function(s,i){return this.setUniform1(this.gl.uniform3iv,s,i,!0)},set4iv:function(s,i){return this.setUniform1(this.gl.uniform4iv,s,i,!0)},set1i:function(s,i){return this.setUniform1(this.gl.uniform1i,s,i)},set2i:function(s,i,r){return this.setUniform2(this.gl.uniform2i,s,i,r)},set3i:function(s,i,r,u){return this.setUniform3(this.gl.uniform3i,s,i,r,u)},set4i:function(s,i,r,u,n){return this.setUniform4(this.gl.uniform4i,s,i,r,u,n)},setMatrix2fv:function(s,i,r){return this.setUniform2(this.gl.uniformMatrix2fv,s,i,r,!0)},setMatrix3fv:function(s,i,r){return this.setUniform2(this.gl.uniformMatrix3fv,s,i,r,!0)},setMatrix4fv:function(s,i,r){return this.setUniform2(this.gl.uniformMatrix4fv,s,i,r,!0)},createProgram:function(s,i){s===void 0&&(s=this.vertSrc),i===void 0&&(i=this.fragSrc);var r=this.gl;return this.program&&r.deleteProgram(this.program),this.vertSrc=s,this.fragSrc=i,this.program=this.renderer.createProgram(s,i),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});p.exports=a},71402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};p.exports=S},55478:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71402),g=t(98611),h={PipelineManager:t(35217),Pipelines:t(62253),RenderTarget:t(37410),Utils:t(75512),WebGLPipeline:t(44775),WebGLRenderer:t(11857),WebGLShader:t(71305)};h=g(!1,h,l),p.exports=h},5583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72632),h=t(91679),a=t(89053),s=t(71402),i=t(44775),r=new l({Extends:i,initialize:function(n){n.fragShader=g(n,"fragShader",h),n.vertShader=g(n,"vertShader",a),n.batchSize=g(n,"batchSize",1),n.vertices=g(n,"vertices",[-1,1,-1,-7,7,1]),n.attributes=g(n,"attributes",[{name:"inPosition",size:2,type:s.FLOAT}]),i.call(this,n)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(u,n){i.prototype.resize.call(this,u,n),this.set2f("uResolution",u,n)},beginMask:function(u,n,o){this.renderer.beginBitmapMask(u,o)},endMask:function(u,n,o){var f=this.gl,d=this.renderer,v=u.bitmapMask;v&&f&&(d.drawBitmapMask(v,n,this),o&&this.set2f("uResolution",o.width,o.height),this.set1i("uInvertMaskAlpha",u.invertAlpha),f.drawArrays(this.topology,0,3),o&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});p.exports=r},81828:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(58136),h=t(47406),a=t(72632),s=t(87228),i=t(92462),r=t(75512),u=new l({Extends:s,initialize:function(o){o.shaders=[r.setGlowQuality(i.FXGlowFrag,o.game),i.FXShadowFrag,i.FXPixelateFrag,i.FXVignetteFrag,i.FXShineFrag,i.FXBlurLowFrag,i.FXBlurMedFrag,i.FXBlurHighFrag,i.FXGradientFrag,i.FXBloomFrag,i.ColorMatrixFrag,i.FXCircleFrag,i.FXBarrelFrag,i.FXDisplacementFrag,i.FXWipeFrag,i.FXBokehFrag],s.call(this,o);var f=this.game;this.glow=new g.Glow(f),this.shadow=new g.Shadow(f),this.pixelate=new g.Pixelate(f),this.vignette=new g.Vignette(f),this.shine=new g.Shine(f),this.gradient=new g.Gradient(f),this.circle=new g.Circle(f),this.barrel=new g.Barrel(f),this.wipe=new g.Wipe(f),this.bokeh=new g.Bokeh(f);var d=[];d[h.GLOW]=this.onGlow,d[h.SHADOW]=this.onShadow,d[h.PIXELATE]=this.onPixelate,d[h.VIGNETTE]=this.onVignette,d[h.SHINE]=this.onShine,d[h.BLUR]=this.onBlur,d[h.GRADIENT]=this.onGradient,d[h.BLOOM]=this.onBloom,d[h.COLOR_MATRIX]=this.onColorMatrix,d[h.CIRCLE]=this.onCircle,d[h.BARREL]=this.onBarrel,d[h.DISPLACEMENT]=this.onDisplacement,d[h.WIPE]=this.onWipe,d[h.BOKEH]=this.onBokeh,this.fxHandlers=d,this.source,this.target,this.swap},onDraw:function(n,o,f){this.source=n,this.target=o,this.swap=f;var d=n.width,v=n.height,m=this.tempSprite,T=this.fxHandlers;if(m&&m.preFX)for(var E=m.preFX.list,y=0;y<E.length;y++){var C=E[y];C.active&&T[C.type].call(this,C,d,v)}this.drawToGame(this.source)},runDraw:function(){var n=this.source,o=this.target;this.copy(n,o),this.source=o,this.target=n},onGlow:function(n,o,f){var d=this.shaders[h.GLOW];this.setShader(d),this.glow.onPreRender(n,d,o,f),this.runDraw()},onShadow:function(n){var o=this.shaders[h.SHADOW];this.setShader(o),this.shadow.onPreRender(n,o),this.runDraw()},onPixelate:function(n,o,f){var d=this.shaders[h.PIXELATE];this.setShader(d),this.pixelate.onPreRender(n,d,o,f),this.runDraw()},onVignette:function(n){var o=this.shaders[h.VIGNETTE];this.setShader(o),this.vignette.onPreRender(n,o),this.runDraw()},onShine:function(n,o,f){var d=this.shaders[h.SHINE];this.setShader(d),this.shine.onPreRender(n,d,o,f),this.runDraw()},onBlur:function(n,o,f){var d=a(n,"quality"),v=this.shaders[h.BLUR+d];this.setShader(v),this.set1i("uMainSampler",0),this.set2f("resolution",o,f),this.set1f("strength",a(n,"strength")),this.set3fv("color",a(n,"glcolor"));for(var m=a(n,"x"),T=a(n,"y"),E=a(n,"steps"),y=0;y<E;y++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw()},onGradient:function(n){var o=this.shaders[h.GRADIENT];this.setShader(o),this.gradient.onPreRender(n,o),this.runDraw()},onBloom:function(n,o,f){var d=this.shaders[h.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",a(n,"blurStrength")),this.set3fv("color",a(n,"glcolor"));for(var v=2/o*a(n,"offsetX"),m=2/f*a(n,"offsetY"),T=a(n,"steps"),E=0;E<T;E++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw();this.blendFrames(this.swap,this.source,this.target,a(n,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(n){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",n.getData()),this.set1f("uAlpha",n.alpha),this.runDraw()},onCircle:function(n,o,f){var d=this.shaders[h.CIRCLE];this.setShader(d),this.circle.onPreRender(n,d,o,f),this.runDraw()},onBarrel:function(n){var o=this.shaders[h.BARREL];this.setShader(o),this.barrel.onPreRender(n,o),this.runDraw()},onDisplacement:function(n){this.setShader(this.shaders[h.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.runDraw()},onWipe:function(n){var o=this.shaders[h.WIPE];this.setShader(o),this.wipe.onPreRender(n,o),this.runDraw()},onBokeh:function(n,o,f){var d=this.shaders[h.BOKEH];this.setShader(d),this.bokeh.onPreRender(n,d,o,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,s.prototype.destroy.call(this),this}});p.exports=u},66901:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72632),h=t(65045),a=t(77310),s=t(69360),i=t(93736),r=t(44775),u=new l({Extends:a,initialize:function(o){var f=g(o,"fragShader",h);o.fragShader=f.replace("%LIGHT_COUNT%",o.game.renderer.config.maxLights),a.call(this,o),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new i,this._tempMatrix=new s,this._tempMatrix2=new s},boot:function(){r.prototype.boot.call(this);var n=this.gl,o=n.createTexture();n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,o),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:o}},onRender:function(n,o){var f=n.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var d=f.getLights(o),v=d.length;this.lightsActive=!0;var m,T=this.renderer,E=T.height,y=o.matrix,C=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",o.x,o.y,o.rotation,o.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",v),m=0;m<v;m++){var A=d[m].light,M=A.color,R="uLights["+m+"].";y.transformPoint(A.x,A.y,C),this.set2f(R+"position",C.x-o.scrollX*A.scrollFactorX*o.zoom,E-(C.y-o.scrollY*A.scrollFactorY*o.zoom)),this.set3f(R+"color",M.r,M.g,M.b),this.set1f(R+"intensity",A.intensity),this.set1f(R+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(n){if(n!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var o=this.inverseRotationMatrix;if(n){var f=-n,d=Math.cos(f),v=Math.sin(f);o[1]=v,o[3]=-v,o[0]=o[4]=d}else o[0]=o[4]=1,o[1]=o[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,o),this.currentNormalMapRotation=n}},setTexture2D:function(n,o){var f=this.renderer;n===void 0&&(n=f.whiteTexture);var d=this.getNormalMap(o);this.isNewNormalMap(n,d)&&(this.flush(),this.createBatch(n),this.addTextureToBatch(d),this.currentNormalMap=d);var v=0;if(o&&o.parentContainer){var m=o.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);v=m.rotationNormalized}else o&&(v=o.rotation);return this.setNormalMapRotation(v),0},setGameObject:function(n,o){o===void 0&&(o=n.frame);var f=o.glTexture,d=this.getNormalMap(n);if(this.isNewNormalMap(f,d)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(d),this.currentNormalMap=d),n.parentContainer){var v=n.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(n.rotation);return 0},isNewNormalMap:function(n,o){return this.currentTexture!==n||this.currentNormalMap!==o},getNormalMap:function(n){var o;return n?n.displayTexture?o=n.displayTexture.dataSource[n.displayFrame.sourceIndex]:n.texture?o=n.texture.dataSource[n.frame.sourceIndex]:n.tileset&&(Array.isArray(n.tileset)?o=n.tileset[0].image.dataSource[0]:o=n.tileset.image.dataSource[0]):o=this.defaultNormalMap,o||(o=this.defaultNormalMap),o.glTexture},batchSprite:function(n,o,f){this.lightsActive&&a.prototype.batchSprite.call(this,n,o,f)},batchTexture:function(n,o,f,d,v,m,T,E,y,C,A,M,R,O,L,I,N,B,b,X,W,$,z,V,D,G,U,Y,H,Z,K,k){this.lightsActive&&a.prototype.batchTexture.call(this,n,o,f,d,v,m,T,E,y,C,A,M,R,O,L,I,N,B,b,X,W,$,z,V,D,G,U,Y,H,Z,K,k)},batchTextureFrame:function(n,o,f,d,v,m,T){this.lightsActive&&a.prototype.batchTextureFrame.call(this,n,o,f,d,v,m,T)}});p.exports=u},71264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72632),h=t(77310),a=t(85060),s=t(18166),i=t(71402),r=t(44775),u=new l({Extends:h,initialize:function(o){o.fragShader=g(o,"fragShader",a),o.vertShader=g(o,"vertShader",s),o.attributes=g(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:i.UNSIGNED_BYTE,normalized:!0}]),o.forceZero=!0,h.call(this,o)},boot:function(){r.prototype.boot.call(this),this.set1i("uMainSampler",0)}});p.exports=u},77310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(11117),h=t(72632),a=t(53787),s=t(15968),i=t(69360),r=t(75512),u=t(71402),n=t(44775),o=new l({Extends:n,initialize:function(d){var v=d.game.renderer,m=h(d,"fragShader",a);d.fragShader=r.parseFragmentShaderMaxTextures(m,v.maxTextures),d.vertShader=h(d,"vertShader",s),d.attributes=h(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:u.UNSIGNED_BYTE,normalized:!0}]),n.call(this,d),this._tempMatrix1=new i,this._tempMatrix2=new i,this._tempMatrix3=new i,this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){n.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(f,d,v){this.manager.set(this,f);var m=this._tempMatrix1,T=this._tempMatrix2,E=this._tempMatrix3,y=f.frame,C=y.glTexture,A=y.u0,M=y.v0,R=y.u1,O=y.v1,L=y.x,I=y.y,N=y.cutWidth,B=y.cutHeight,b=y.customPivot,X=f.displayOriginX,W=f.displayOriginY,$=-X+L,z=-W+I;if(f.isCropped){var V=f._crop;(V.flipX!==f.flipX||V.flipY!==f.flipY)&&y.updateCropUVs(V,f.flipX,f.flipY),A=V.u0,M=V.v0,R=V.u1,O=V.v1,N=V.width,B=V.height,L=V.x,I=V.y,$=-X+L,z=-W+I}var D=1,G=1;f.flipX&&(b||($+=-y.realWidth+X*2),D=-1),(f.flipY||y.source.isGLTexture&&!C.flipY)&&(b||(z+=-y.realHeight+W*2),G=-1);var U=f.x,Y=f.y;T.applyITRS(U,Y,f.rotation,f.scaleX*D,f.scaleY*G),m.copyFrom(d.matrix),v?(m.multiplyWithOffset(v,-d.scrollX*f.scrollFactorX,-d.scrollY*f.scrollFactorY),T.e=U,T.f=Y):(T.e-=d.scrollX*f.scrollFactorX,T.f-=d.scrollY*f.scrollFactorY),m.multiply(T,E);var H=E.setQuad($,z,$+N,z+B,d.roundPixels),Z=r.getTintAppendFloatAlpha,K=d.alpha,k=Z(f.tintTopLeft,K*f._alphaTL),j=Z(f.tintTopRight,K*f._alphaTR),Q=Z(f.tintBottomLeft,K*f._alphaBL),J=Z(f.tintBottomRight,K*f._alphaBR);this.shouldFlush(6)&&this.flush();var _=this.setGameObject(f,y);this.manager.preBatch(f),this.batchQuad(f,H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],A,M,R,O,k,j,Q,J,f.tintFill,C,_),this.manager.postBatch(f)},batchTexture:function(f,d,v,m,T,E,y,C,A,M,R,O,L,I,N,B,b,X,W,$,z,V,D,G,U,Y,H,Z,K,k,j,Q){this.manager.set(this,f);var J=this._tempMatrix1,_=this._tempMatrix2,q=this._tempMatrix3,it=X/v+H,at=W/m+Z,ht=(X+$)/v+H,lt=(W+z)/m+Z,tt=y,st=C,rt=-B,dt=-b;if(f.isCropped){var ft=f._crop,Ot=ft.width,At=ft.height;tt=Ot,st=At,y=Ot,C=At,X=ft.x,W=ft.y;var mt=X,ct=W;O&&(mt=$-ft.x-Ot),L&&(ct=z-ft.y-At),it=mt/v+H,at=ct/m+Z,ht=(mt+Ot)/v+H,lt=(ct+At)/m+Z,rt=-B+X,dt=-b+W}L=L^(!j&&d.isRenderTexture?1:0),O&&(tt*=-1,rt+=y),L&&(st*=-1,dt+=C),_.applyITRS(T,E,R,A,M),J.copyFrom(K.matrix),k?(J.multiplyWithOffset(k,-K.scrollX*I,-K.scrollY*N),_.e=T,_.f=E):(_.e-=K.scrollX*I,_.f-=K.scrollY*N),J.multiply(_,q);var wt=q.setQuad(rt,dt,rt+tt,dt+st,K.roundPixels);Q===void 0&&(Q=this.setTexture2D(d)),f&&this.manager.preBatch(f),this.batchQuad(f,wt[0],wt[1],wt[2],wt[3],wt[4],wt[5],wt[6],wt[7],it,at,ht,lt,V,D,G,U,Y,d,Q),f&&this.manager.postBatch(f)},batchTextureFrame:function(f,d,v,m,T,E,y){this.manager.set(this);var C=this._tempMatrix1.copyFrom(E),A=this._tempMatrix2;y?C.multiply(y,A):A=C;var M=A.setQuad(d,v,d+f.width,v+f.height,!1),R=this.setTexture2D(f.source.glTexture);m=r.getTintAppendFloatAlpha(m,T),this.batchQuad(null,M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],f.u0,f.v0,f.u1,f.v1,m,m,m,m,0,f.glTexture,R)},batchFillRect:function(f,d,v,m,T,E){this.renderer.pipelines.set(this);var y=this.calcMatrix;E&&E.multiply(T,y);var C=y.setQuad(f,d,f+v,d+m,!1),A=this.fillTint;this.batchQuad(null,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(f,d,v,m,T,E,y,C){this.renderer.pipelines.set(this);var A=this.calcMatrix;C&&C.multiply(y,A);var M=A.getX(f,d),R=A.getY(f,d),O=A.getX(v,m),L=A.getY(v,m),I=A.getX(T,E),N=A.getY(T,E),B=this.fillTint;this.batchTri(null,M,R,O,L,I,N,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(f,d,v,m,T,E,y,C,A){var M=this.tempTriangle;M[0].x=f,M[0].y=d,M[0].width=y,M[1].x=v,M[1].y=m,M[1].width=y,M[2].x=T,M[2].y=E,M[2].width=y,M[3].x=f,M[3].y=d,M[3].width=y,this.batchStrokePath(M,y,!1,C,A)},batchFillPath:function(f,d,v){this.renderer.pipelines.set(this);var m=this.calcMatrix;v&&v.multiply(d,m);for(var T=f.length,E=this.polygonCache,y,C,A=this.fillTint.TL,M=this.fillTint.TR,R=this.fillTint.BL,O=0;O<T;++O)C=f[O],E.push(C.x,C.y);y=g(E),T=y.length;for(var L=0;L<T;L+=3){var I=y[L+0]*2,N=y[L+1]*2,B=y[L+2]*2,b=E[I+0],X=E[I+1],W=E[N+0],$=E[N+1],z=E[B+0],V=E[B+1],D=m.getX(b,X),G=m.getY(b,X),U=m.getX(W,$),Y=m.getY(W,$),H=m.getX(z,V),Z=m.getY(z,V);this.batchTri(null,D,G,U,Y,H,Z,0,0,1,1,A,M,R,2)}E.length=0},batchStrokePath:function(f,d,v,m,T){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var E=f.length-1,y=0;y<E;y++){var C=f[y],A=f[y+1];this.batchLine(C.x,C.y,A.x,A.y,C.width/2,A.width/2,d,y,!v&&y===E-1,m,T)}},batchLine:function(f,d,v,m,T,E,y,C,A,M,R){this.renderer.pipelines.set(this);var O=this.calcMatrix;R&&R.multiply(M,O);var L=v-f,I=m-d,N=Math.sqrt(L*L+I*I);if(N!==0){var B=T*(m-d)/N,b=T*(f-v)/N,X=E*(m-d)/N,W=E*(f-v)/N,$=v-X,z=m-W,V=f-B,D=d-b,G=v+X,U=m+W,Y=f+B,H=d+b,Z=O.getX($,z),K=O.getY($,z),k=O.getX(V,D),j=O.getY(V,D),Q=O.getX(G,U),J=O.getY(G,U),_=O.getX(Y,H),q=O.getY(Y,H),it=this.strokeTint,at=it.TL,ht=it.TR,lt=it.BL,tt=it.BR;if(this.batchQuad(null,_,q,k,j,Z,K,Q,J,0,0,1,1,at,ht,lt,tt,2),!(y<=2)){var st=this.prevQuad,rt=this.firstQuad;C>0&&st[4]?this.batchQuad(null,_,q,k,j,st[0],st[1],st[2],st[3],0,0,1,1,at,ht,lt,tt,2):(rt[0]=_,rt[1]=q,rt[2]=k,rt[3]=j,rt[4]=1),A&&rt[4]?this.batchQuad(null,Z,K,Q,J,rt[0],rt[1],rt[2],rt[3],0,0,1,1,at,ht,lt,tt,2):(st[0]=Z,st[1]=K,st[2]=Q,st[3]=J,st[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,n.prototype.destroy.call(this),this}});p.exports=o},10919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72632),h=t(83327),a=t(54677),s=t(44775),i=new l({Extends:s,initialize:function(u){u.vertShader=g(u,"vertShader",a),u.fragShader=g(u,"fragShader",h),u.attributes=g(u,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),s.call(this,u)},onRender:function(r,u){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",u.zoom)},batchPointLight:function(r,u,n,o,f,d,v,m,T,E,y,C){var A=r.color,M=r.intensity,R=r.radius,O=r.attenuation,L=A.r*M,I=A.g*M,N=A.b*M,B=u.alpha*r.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(n,o,y,C,R,O,L,I,N,B),this.batchLightVert(f,d,y,C,R,O,L,I,N,B),this.batchLightVert(v,m,y,C,R,O,L,I,N,B),this.batchLightVert(n,o,y,C,R,O,L,I,N,B),this.batchLightVert(v,m,y,C,R,O,L,I,N,B),this.batchLightVert(T,E,y,C,R,O,L,I,N,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(r,u,n,o,f,d,v,m,T,E){var y=this.vertexViewF32,C=this.vertexCount*this.currentShader.vertexComponentCount-1;y[++C]=r,y[++C]=u,y[++C]=n,y[++C]=o,y[++C]=f,y[++C]=d,y[++C]=v,y[++C]=m,y[++C]=T,y[++C]=E,this.vertexCount++}});p.exports=i},80486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(65246),h=t(72632),a=t(12569),s=t(99365),i=t(44775),r=new l({Extends:i,initialize:function(n){n.renderTarget=h(n,"renderTarget",1),n.fragShader=h(n,"fragShader",a),n.vertShader=h(n,"vertShader",s),n.attributes=h(n,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),n.batchSize=1,n.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],i.call(this,n),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new g,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){i.prototype.boot.call(this);var u=this.manager.UTILITY_PIPELINE;this.fullFrame1=u.fullFrame1,this.fullFrame2=u.fullFrame2,this.halfFrame1=u.halfFrame1,this.halfFrame2=u.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(u){this.bindAndDraw(u)},getController:function(u){return u!==void 0?u:this.controller?this.controller:this},copySprite:function(u,n,o){o===void 0&&(o=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,u.texture);var d=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,n.framebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,n.texture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),o&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,d))},copyFrame:function(u,n,o,f,d){this.manager.copyFrame(u,n,o,f,d)},copyToGame:function(u){this.manager.copyToGame(u)},drawFrame:function(u,n,o){this.manager.drawFrame(u,n,o,this.colorMatrix)},blendFrames:function(u,n,o,f,d){this.manager.blendFrames(u,n,o,f,d)},blendFramesAdditive:function(u,n,o,f,d){this.manager.blendFramesAdditive(u,n,o,f,d)},clearFrame:function(u,n){this.manager.clearFrame(u,n)},blitFrame:function(u,n,o,f,d,v){this.manager.blitFrame(u,n,o,f,d,v)},copyFrameRect:function(u,n,o,f,d,v,m,T){this.manager.copyFrameRect(u,n,o,f,d,v,m,T)},bindAndDraw:function(u,n,o,f,d){o===void 0&&(o=!0),f===void 0&&(f=!0);var v=this.gl,m=this.renderer;this.bind(d),this.set1i("uMainSampler",0),n?(v.viewport(0,0,n.width,n.height),v.bindFramebuffer(v.FRAMEBUFFER,n.framebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,n.texture,0),o&&(f?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1),m.currentFramebuffer||v.viewport(0,0,m.width,m.height)),m.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,u.texture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),n&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,m.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,i.prototype.destroy.call(this),this}});p.exports=r},87228:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),g=t(79993),h=t(56694),a=t(37486),s=t(72632),i=t(77310),r=t(12569),u=t(74118),n=t(37410),o=t(85060),f=t(18166),d=t(44775),v=new h({Extends:i,initialize:function(T){var E=s(T,"fragShader",r),y=s(T,"vertShader",f),C=s(T,"drawShader",r),A=[{name:"DrawSprite",fragShader:o,vertShader:f},{name:"CopySprite",fragShader:E,vertShader:y},{name:"DrawGame",fragShader:C,vertShader:f},{name:"ColorMatrix",fragShader:a}],M=s(T,"shaders",[]);T.shaders=A.concat(M),T.vertShader||(T.vertShader=y),T.batchSize=1,i.call(this,T),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new u,this.targetBounds=new u,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var m=this.shaders,T=this.renderer;this.drawSpriteShader=m[0],this.copyShader=m[1],this.gameShader=m[2],this.colorMatrixShader=m[3],this.fsTarget=new n(T,T.width,T.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var E=new ArrayBuffer(168);this.quadVertexData=E,this.quadVertexViewF32=new Float32Array(E),this.quadVertexBuffer=T.createVertexBuffer(E,this.gl.STATIC_DRAW),this.onResize(T.width,T.height),this.currentShader=this.copyShader},onResize:function(m,T){var E=this.quadVertexViewF32;E[1]=T,E[22]=T,E[14]=m,E[28]=m,E[35]=m,E[36]=T},batchQuad:function(m,T,E,y,C,A,M,R,O,L,I,N,B,b,X,W,$,z,V){var D=Math.min(T,y,A,R),G=Math.min(E,C,M,O),U=Math.max(T,y,A,R),Y=Math.max(E,C,M,O),H=U-D,Z=Y-G,K=this.spriteBounds.setTo(D,G,H,Z),k=m?m.preFX.padding:0,j=H+k*2,Q=Z+k*2,J=Math.abs(Math.max(j,Q)),_=this.manager.getRenderTarget(J),q=this.targetBounds.setTo(0,0,_.width,_.height);g(q,K.centerX,K.centerY),this.tempSprite=m;var it=this.gl,at=this.renderer;at.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.flipProjectionMatrix(!0),m&&(this.onDrawSprite(m,_),m.preFX.onFX(this));var ht=this.fsTarget;return this.flush(),it.viewport(0,0,at.width,at.height),it.bindFramebuffer(it.FRAMEBUFFER,ht.framebuffer),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,ht.texture,0),it.clearColor(0,0,0,0),it.clear(it.COLOR_BUFFER_BIT),this.setTexture2D(V),this.batchVert(T,E,L,I,0,z,b),this.batchVert(y,C,L,B,0,z,W),this.batchVert(A,M,N,B,0,z,$),this.batchVert(T,E,L,I,0,z,b),this.batchVert(A,M,N,B,0,z,$),this.batchVert(R,O,N,I,0,z,X),this.flush(),this.flipProjectionMatrix(!1),it.activeTexture(it.TEXTURE0),it.bindTexture(it.TEXTURE_2D,_.texture),it.copyTexSubImage2D(it.TEXTURE_2D,0,0,0,q.x,q.y,q.width,q.height),it.bindFramebuffer(it.FRAMEBUFFER,null),it.bindTexture(it.TEXTURE_2D,null),this.onBatch(m),this.currentShader=this.copyShader,this.onDraw(_,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(m,T,E,y,C,A,M){E===void 0&&(E=!0),y===void 0&&(y=!0),C===void 0&&(C=!1),M===void 0&&(M=this.copyShader);var R=this.gl,O=this.tempSprite;A&&(M=this.colorMatrixShader),this.currentShader=M;var L=this.setVertexBuffer(this.quadVertexBuffer);if(M.bind(L,!1),this.set1i("uMainSampler",0),O.preFX.onFXCopy(this),this.onCopySprite(m,T,O),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,m.texture),m.height>T.height)R.viewport(0,0,m.width,m.height),this.setTargetUVs(m,T);else{var I=T.height-m.height;R.viewport(0,I,m.width,m.height),this.resetUVs()}if(R.bindFramebuffer(R.FRAMEBUFFER,T.framebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,T.texture,0),E&&(R.clearColor(0,0,0,+!y),R.clear(R.COLOR_BUFFER_BIT)),C){var N=this.renderer.currentBlendMode;this.renderer.setBlendMode(l.ERASE)}R.bufferData(R.ARRAY_BUFFER,this.quadVertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),C&&this.renderer.setBlendMode(N),R.bindFramebuffer(R.FRAMEBUFFER,null)},copy:function(m,T){var E=this.gl;this.set1i("uMainSampler",0),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,m.texture),E.viewport(0,0,m.width,m.height),this.setUVs(0,0,0,1,1,1,1,0),E.bindFramebuffer(E.FRAMEBUFFER,T.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,T.texture,0),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.quadVertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null)},blendFrames:function(m,T,E,y,C){this.manager.blendFrames(m,T,E,y,C)},blendFramesAdditive:function(m,T,E,y,C){this.manager.blendFramesAdditive(m,T,E,y,C)},drawToGame:function(m){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(m)},copyToGame:function(m){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(m)},bindAndDraw:function(m){var T=this.gl,E=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(m.texture);var y=this._tempMatrix1.loadIdentity(),C=this.targetBounds.x,A=this.targetBounds.y,M=C+m.width,R=A+m.height,O=y.getX(C,A),L=y.getX(C,R),I=y.getX(M,R),N=y.getX(M,A),B=y.getY(C,A),b=y.getY(C,R),X=y.getY(M,R),W=y.getY(M,A),$=16777215;this.batchVert(O,B,0,0,0,0,$),this.batchVert(L,b,0,1,0,0,$),this.batchVert(I,X,1,1,0,0,$),this.batchVert(O,B,0,0,0,0,$),this.batchVert(I,X,1,1,0,0,$),this.batchVert(N,W,1,0,0,0,$),E.restoreFramebuffer(!1,!0),E.currentFramebuffer||T.viewport(0,0,E.width,E.height),E.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(m){this.drawToGame(m)},setUVs:function(m,T,E,y,C,A,M,R){var O=this.quadVertexViewF32;O[2]=m,O[3]=T,O[9]=E,O[10]=y,O[16]=C,O[17]=A,O[23]=m,O[24]=T,O[30]=C,O[31]=A,O[37]=M,O[38]=R},setTargetUVs:function(m,T){var E=T.height/m.height;E>.5?E=.5-(E-.5):E=.5+(.5-E),this.setUVs(0,E,0,1+E,1,1+E,1,E)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,i.prototype.destroy.call(this),this}});p.exports=v},21213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72632),h=t(77310),a=new l({Extends:h,initialize:function(i){i.topology=5,i.batchSize=g(i,"batchSize",256),h.call(this,i)}});p.exports=a},51212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72632),h=t(77310),a=t(85060),s=t(18166),i=t(44775),r=new l({Extends:h,initialize:function(n){n.fragShader=g(n,"fragShader",a),n.vertShader=g(n,"vertShader",s),n.forceZero=!0,h.call(this,n)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0)}});p.exports=r},60848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2529),g=t(95723),h=t(56694),a=t(65246),s=t(37486),i=t(79060),r=t(72632),u=t(98921),n=t(99365),o=t(44775),f=new h({Extends:o,initialize:function(v){v.renderTarget=r(v,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),v.vertShader=r(v,"vertShader",n),v.shaders=r(v,"shaders",[{name:"Copy",fragShader:i},{name:"AddBlend",fragShader:l},{name:"LinearBlend",fragShader:u},{name:"ColorMatrix",fragShader:s}]),v.attributes=r(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,o.call(this,v),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){o.prototype.boot.call(this);var d=this.shaders,v=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(d,v,m,T,E){m===void 0&&(m=1),T===void 0&&(T=!0),E===void 0&&(E=!0);var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,d.texture),v?(y.viewport(0,0,v.width,v.height),y.bindFramebuffer(y.FRAMEBUFFER,v.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,v.texture,0)):y.viewport(0,0,d.width,d.height),T&&(E?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT)),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blitFrame:function(d,v,m,T,E,y,C){m===void 0&&(m=1),T===void 0&&(T=!0),E===void 0&&(E=!0),y===void 0&&(y=!1),C===void 0&&(C=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,d.texture),d.height>v.height)A.viewport(0,0,d.width,d.height),this.setTargetUVs(d,v);else{var M=v.height-d.height;A.viewport(0,M,d.width,d.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,v.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,v.texture,0),T&&(E?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),y){var R=this.renderer.currentBlendMode;this.renderer.setBlendMode(g.ERASE)}C&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),y&&this.renderer.setBlendMode(R),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,v,m,T,E,y,C,A){C===void 0&&(C=!0),A===void 0&&(A=!0);var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,d.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,d.texture,0),C&&(A?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,v.texture),M.copyTexSubImage2D(M.TEXTURE_2D,0,0,0,m,T,E,y),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},copyToGame:function(d){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,d.texture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(d,v,m,T){m===void 0&&(m=!0),T===void 0&&(T=this.colorMatrix);var E=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,d.texture),v?(E.viewport(0,0,v.width,v.height),E.bindFramebuffer(E.FRAMEBUFFER,v.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,v.texture,0)):E.viewport(0,0,d.width,d.height),m?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFrames:function(d,v,m,T,E,y){T===void 0&&(T=1),E===void 0&&(E=!0),y===void 0&&(y=this.linearShader);var C=this.gl;this.setShader(y),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",T),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,d.texture),C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,v.texture),m?(C.bindFramebuffer(C.FRAMEBUFFER,m.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,m.texture,0),C.viewport(0,0,m.width,m.height)):C.viewport(0,0,d.width,d.height),E?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFramesAdditive:function(d,v,m,T,E){this.blendFrames(d,v,m,T,E,this.addShader)},clearFrame:function(d,v){v===void 0&&(v=!0);var m=this.gl;m.viewport(0,0,d.width,d.height),m.bindFramebuffer(m.FRAMEBUFFER,d.framebuffer),v?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var T=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,T)},setUVs:function(d,v,m,T,E,y,C,A){var M=this.vertexViewF32;M[2]=d,M[3]=v,M[6]=m,M[7]=T,M[10]=E,M[11]=y,M[14]=d,M[15]=v,M[18]=E,M[19]=y,M[22]=C,M[23]=A},setTargetUVs:function(d,v){var m=v.height/d.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});p.exports=f},65641:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};p.exports=S},68726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineafterflush"},67186:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebeforeflush"},22709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebind"},74469:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineboot"},93953:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinedestroy"},51687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinerebind"},25034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineresize"},18970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_FLUSH:t(68726),BEFORE_FLUSH:t(67186),BIND:t(22709),BOOT:t(74469),DESTROY:t(93953),REBIND:t(51687),RESIZE:t(25034)}},32469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(87751),h=t(80486),a=new l({Extends:h,initialize:function(i){h.call(this,{game:i,fragShader:g}),this.amount=1},onPreRender:function(s,i){s=this.getController(s),this.set1f("amount",s.amount,i)}});p.exports=a},2134:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(88222),h=t(80486),a=new l({Extends:h,initialize:function(i){h.call(this,{game:i,fragShader:g}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(s){s=this.getController(s),this.set1f("strength",s.blurStrength),this.set3fv("color",s.glcolor)},onDraw:function(s){var i=this.getController(),r=this.fullFrame1,u=this.fullFrame2;this.copyFrame(s,u);for(var n=2/s.width*i.offsetX,o=2/s.height*i.offsetY,f=0;f<i.steps;f++)this.set2f("offset",n,0),this.copySprite(s,r),this.set2f("offset",0,o),this.copySprite(r,s);this.blendFrames(u,s,r,i.strength),this.copyToGame(r)}});p.exports=a},63377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(35491),h=t(75568),a=t(44481),s=t(80486),i=new l({Extends:s,initialize:function(u){s.call(this,{game:u,shaders:[{name:"Gaussian5",fragShader:g},{name:"Gaussian9",fragShader:h},{name:"Gaussian13",fragShader:a}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(r){var u=this.getController(),n=this.gl,o=this.fullFrame1,f=n.getParameter(n.FRAMEBUFFER_BINDING);this.bind(this.activeShader),n.activeTexture(n.TEXTURE0),n.viewport(0,0,r.width,r.height),this.set1i("uMainSampler",0),this.set2f("resolution",r.width,r.height),this.set1f("strength",u.strength),this.set3fv("color",u.glcolor);for(var d=0;d<u.steps;d++)this.set2f("offset",u.x,0),this.copySprite(r,o),this.set2f("offset",0,u.y),this.copySprite(o,r);n.bindFramebuffer(n.FRAMEBUFFER,f),n.bindTexture(n.TEXTURE_2D,null),this.copyToGame(r)}});p.exports=i},49745:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(69960),h=t(80486),a=new l({Extends:h,initialize:function(i){h.call(this,{game:i,fragShader:g}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(s,i,r,u){s=this.getController(s),this.set1f("radius",s.radius,i),this.set1f("amount",s.amount,i),this.set1f("contrast",s.contrast,i),this.set1f("strength",s.strength,i),this.set2f("blur",s.blurX,s.blurY,i),this.setBoolean("isTiltShift",s.isTiltShift,i),r&&u&&this.set2f("resolution",r,u,i)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=a},4323:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(33754),h=t(80486),a=new l({Extends:h,initialize:function(i){h.call(this,{game:i,fragShader:g}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(s,i,r,u){s=this.getController(s),this.set1f("scale",s.scale,i),this.set1f("feather",s.feather,i),this.set1f("thickness",s.thickness,i),this.set3fv("color",s.glcolor,i),this.set4fv("backgroundColor",s.glcolor2,i),r&&u&&this.set2f("resolution",r,u,i)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=a},92066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(80486),h=new l({Extends:g,initialize:function(s){g.call(this,{game:s})},onDraw:function(a){var s=this.fullFrame1;this.controller?this.manager.drawFrame(a,s,!0,this.controller):this.drawFrame(a,s),this.copyToGame(s)}});p.exports=h},89581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(35668),h=t(80486),a=new l({Extends:h,initialize:function(i){h.call(this,{game:i,fragShader:g}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(s){var i=this.game.textures.getFrame(s);i&&(this.glTexture=i.glTexture)},onDraw:function(s){var i=this.getController(),r=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.copySprite(s,r),this.copyToGame(r)}});p.exports=a},55084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72632),h=t(69675),a=t(80486),s=t(75512),i=new l({Extends:a,initialize:function(u,n){var o=g(n,"quality",.1),f=g(n,"distance",10);a.call(this,{game:u,fragShader:s.setGlowQuality(h,u,o,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(r,u,n,o){r=this.getController(r),this.set1f("outerStrength",r.outerStrength,u),this.set1f("innerStrength",r.innerStrength,u),this.set4fv("glowColor",r.glcolor,u),this.setBoolean("knockout",r.knockout,u),n&&o&&this.set2f("resolution",n,o,u)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});p.exports=i},41653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(90993),h=t(80486),a=new l({Extends:h,initialize:function(i){h.call(this,{game:i,fragShader:g}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(s,i){s=this.getController(s),this.set1f("alpha",s.alpha,i),this.set1i("size",s.size,i),this.set3fv("color1",s.glcolor1,i),this.set3fv("color2",s.glcolor2,i),this.set2f("positionFrom",s.fromX,s.fromY,i),this.set2f("positionTo",s.toX,s.toY,i)}});p.exports=a},73416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(37945),h=t(80486),a=new l({Extends:h,initialize:function(i){h.call(this,{game:i,fragShader:g}),this.amount=1},onPreRender:function(s,i,r,u){s=this.getController(s),this.set1f("amount",s.amount,i),r&&u&&this.set2f("resolution",r,u,i)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=a},58049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(85718),h=t(80486),a=new l({Extends:h,initialize:function(i){h.call(this,{game:i,fragShader:g}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(s,i){s=this.getController(s);var r=s.samples;this.set1i("samples",r,i),this.set1f("intensity",s.intensity,i),this.set1f("decay",s.decay,i),this.set1f("power",s.power/r,i),this.set2f("lightPosition",s.x,s.y,i),this.set4fv("color",s.glcolor,i)}});p.exports=a},18026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(13740),h=t(80486),a=new l({Extends:h,initialize:function(i){h.call(this,{game:i,fragShader:g}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(s,i,r,u){s=this.getController(s),this.setTime("time",i),this.set1f("speed",s.speed,i),this.set1f("lineWidth",s.lineWidth,i),this.set1f("gradient",s.gradient,i),this.setBoolean("reveal",s.reveal,i),r&&u&&this.set2f("resolution",r,u,i)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=a},72381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(80617),h=t(80486),a=new l({Extends:h,initialize:function(i){h.call(this,{game:i,fragShader:g}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(s,i){s=this.getController(s),this.set1f("radius",s.radius,i),this.set1f("strength",s.strength,i),this.set2f("position",s.x,s.y,i)}});p.exports=a},80542:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(62879),h=t(80486),a=new l({Extends:h,initialize:function(i){h.call(this,{game:i,fragShader:g}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(s,i){s=this.getController(s);var r=s.progress,u=s.wipeWidth,n=s.direction,o=s.axis;this.set4f("config",r,u,n,o,i),this.setBoolean("reveal",s.reveal,i)}});p.exports=a},58136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Barrel:t(32469),Bloom:t(2134),Blur:t(63377),Bokeh:t(49745),Circle:t(4323),ColorMatrix:t(92066),Displacement:t(89581),Glow:t(55084),Gradient:t(41653),Pixelate:t(73416),Shadow:t(58049),Shine:t(18026),Vignette:t(72381),Wipe:t(80542)};p.exports=l},62253:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65641),g=t(98611),h={FX:t(58136),BitmapMaskPipeline:t(5583),Events:t(18970),FXPipeline:t(81828),LightPipeline:t(66901),MobilePipeline:t(71264),MultiPipeline:t(77310),PointLightPipeline:t(10919),PostFXPipeline:t(80486),PreFXPipeline:t(87228),RopePipeline:t(21213),SinglePipeline:t(51212),UtilityPipeline:t(60848)};h=g(!1,h,l),p.exports=h},2529:p=>{p.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:p=>{p.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:p=>{p.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:p=>{p.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:p=>{p.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:p=>{p.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:p=>{p.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:p=>{p.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:p=>{p.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:p=>{p.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:p=>{p.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:p=>{p.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:p=>{p.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:p=>{p.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:p=>{p.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:p=>{p.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:p=>{p.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:p=>{p.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:p=>{p.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:p=>{p.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:p=>{p.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:p=>{p.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AddBlendFrag:t(2529),BitmapMaskFrag:t(91679),BitmapMaskVert:t(89053),ColorMatrixFrag:t(37486),CopyFrag:t(79060),FXBarrelFrag:t(87751),FXBloomFrag:t(88222),FXBlurHighFrag:t(44481),FXBlurLowFrag:t(35491),FXBlurMedFrag:t(75568),FXBokehFrag:t(69960),FXCircleFrag:t(33754),FXDisplacementFrag:t(35668),FXGlowFrag:t(69675),FXGradientFrag:t(90993),FXPixelateFrag:t(37945),FXShadowFrag:t(85718),FXShineFrag:t(13740),FXVignetteFrag:t(80617),FXWipeFrag:t(62879),LightFrag:t(65045),LinearBlendFrag:t(98921),MeshFrag:t(25005),MeshVert:t(94914),MobileFrag:t(11263),MobileVert:t(51852),MultiFrag:t(53787),MultiVert:t(15968),PointLightFrag:t(83327),PointLightVert:t(54677),PostFXFrag:t(12569),QuadVert:t(99365),SingleFrag:t(85060),SingleVert:t(18166)}},756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55301),g=t(56694),h=t(6659),a=t(40444),s=t(97081),i=t(74181),r=t(2893),u=t(9229),n=t(72283),o=t(74118),f=t(90881),d=t(84314),v=t(93736),m=t(47751),T=new g({Extends:h,initialize:function(y){h.call(this),this.game=y,this.canvas,this.canvasBounds=new o,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=l.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=l.CENTER.NO_CENTER,this.orientation=l.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:n,windowResize:n,fullScreenChange:n,fullScreenError:n}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(s.BOOT,this.boot,this)},boot:function(){var E=this.game;this.canvas=E.canvas,this.fullscreen=E.device.fullscreen,this.scaleMode!==l.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===l.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),E.events.on(s.PRE_STEP,this.step,this),E.events.once(s.READY,this.refresh,this),E.events.once(s.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(E){this.getParent(E),this.getParentBounds();var y=E.width,C=E.height,A=E.scaleMode,M=E.zoom,R=E.autoRound;if(typeof y=="string"){var O=this.parentSize.width;O===0&&(O=window.innerWidth);var L=parseInt(y,10)/100;y=Math.floor(O*L)}if(typeof C=="string"){var I=this.parentSize.height;I===0&&(I=window.innerHeight);var N=parseInt(C,10)/100;C=Math.floor(I*N)}this.scaleMode=A,this.autoRound=R,this.autoCenter=E.autoCenter,this.resizeInterval=E.resizeInterval,R&&(y=Math.floor(y),C=Math.floor(C)),this.gameSize.setSize(y,C),M===l.ZOOM.MAX_ZOOM&&(M=this.getMaxZoom()),this.zoom=M,M!==1&&(this._resetZoom=!0),this.baseSize.setSize(y,C),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),E.minWidth>0&&this.displaySize.setMin(E.minWidth*M,E.minHeight*M),E.maxWidth>0&&this.displaySize.setMax(E.maxWidth*M,E.maxHeight*M),this.displaySize.setSize(y,C),this.orientation=u(y,C)},getParent:function(E){var y=E.parent;if(y!==null){if(this.parent=r(y),this.parentIsWindow=this.parent===document.body,E.expandParent&&E.scaleMode!==l.SCALE_MODE.NONE){var C=this.parent.getBoundingClientRect();(this.parentIsWindow||C.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",C=this.parent.getBoundingClientRect(),!this.parentIsWindow&&C.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}E.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=r(E.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var E=this.parentSize,y=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(y.height=i(!0));var C=y.width,A=y.height;if(E.width!==C||E.height!==A)return E.setSize(C,A),!0;if(this.canvas){var M=this.canvasBounds,R=this.canvas.getBoundingClientRect();if(R.x!==M.x||R.y!==M.y)return!0}return!1},lockOrientation:function(E){var y=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return y?y.call(screen,E):!1},setParentSize:function(E,y){return this.parentSize.setSize(E,y),this.refresh()},setGameSize:function(E,y){var C=this.autoRound;C&&(E=Math.floor(E),y=Math.floor(y));var A=this.width,M=this.height;return this.gameSize.resize(E,y),this.baseSize.resize(E,y),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(E/y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,M)},resize:function(E,y){var C=this.zoom,A=this.autoRound;A&&(E=Math.floor(E),y=Math.floor(y));var M=this.width,R=this.height;this.gameSize.resize(E,y),this.baseSize.resize(E,y),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(E*C,y*C),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var O=this.canvas.style,L=E*C,I=y*C;return A&&(L=Math.floor(L),I=Math.floor(I)),(L!==E||I!==y)&&(O.width=L+"px",O.height=I+"px"),this.refresh(M,R)},setZoom:function(E){return this.zoom=E,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(E,y){E===void 0&&(E=this.width),y===void 0&&(y=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var C=this.game.domContainer;if(C){this.baseSize.setCSS(C);var A=this.canvas.style,M=C.style;M.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",M.marginLeft=A.marginLeft,M.marginTop=A.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,E,y),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var E=u(this.width,this.height);E!==this.orientation&&(this.orientation=E,this.emit(a.ORIENTATION_CHANGE,E))}},updateScale:function(){var E=this.canvas.style,y=this.gameSize.width,C=this.gameSize.height,A,M,R=this.zoom,O=this.autoRound;this.scaleMode===l.SCALE_MODE.NONE?(this.displaySize.setSize(y*R,C*R),A=this.displaySize.width,M=this.displaySize.height,O&&(A=Math.floor(A),M=Math.floor(M)),this._resetZoom&&(E.width=A+"px",E.height=M+"px",this._resetZoom=!1)):this.scaleMode===l.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,M=this.displaySize.height,O&&(A=Math.floor(A),M=Math.floor(M)),this.canvas.width=A,this.canvas.height=M):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,M=this.displaySize.height,O&&(A=Math.floor(A),M=Math.floor(M)),E.width=A+"px",E.height=M+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var E=d(this.parentSize.width,this.gameSize.width,0,!0),y=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(E,y),1)},updateCenter:function(){var E=this.autoCenter;if(E!==l.CENTER.NO_CENTER){var y=this.canvas,C=y.style,A=y.getBoundingClientRect(),M=A.width,R=A.height,O=Math.floor((this.parentSize.width-M)/2),L=Math.floor((this.parentSize.height-R)/2);E===l.CENTER.CENTER_HORIZONTALLY?L=0:E===l.CENTER.CENTER_VERTICALLY&&(O=0),C.marginLeft=O+"px",C.marginTop=L+"px"}},updateBounds:function(){var E=this.canvasBounds,y=this.canvas.getBoundingClientRect();E.x=y.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),E.y=y.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),E.width=y.width,E.height=y.height},transformX:function(E){return(E-this.canvasBounds.left)*this.displayScale.x},transformY:function(E){return(E-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(E){E===void 0&&(E={navigationUI:"hide"});var y=this.fullscreen;if(!y.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!y.active){var C=this.getFullscreenTarget();y.keyboard?C[y.request](Element.ALLOW_KEYBOARD_INPUT):C[y.request](E)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(E){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,E)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var E=document.createElement("div");E.style.margin="0",E.style.padding="0",E.style.width="100%",E.style.height="100%",this.fullscreenTarget=E,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var y=this.canvas.parentNode;y.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var E=this.fullscreenTarget;if(E&&E.parentNode){var y=E.parentNode;y.insertBefore(this.canvas,E),y.removeChild(E)}}},stopFullscreen:function(){var E=this.fullscreen;if(!E.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;E.active&&document[E.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(E){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(E)},startListeners:function(){var E=this,y=this.domlisteners;if(y.orientationChange=function(){E.updateBounds(),E._checkOrientation=!0,E.dirty=!0},y.windowResize=function(){E.updateBounds(),E.dirty=!0},window.addEventListener("orientationchange",y.orientationChange,!1),window.addEventListener("resize",y.windowResize,!1),this.fullscreen.available){y.fullScreenChange=function(A){return E.onFullScreenChange(A)},y.fullScreenError=function(A){return E.onFullScreenError(A)};var C=["webkit","moz",""];C.forEach(function(A){document.addEventListener(A+"fullscreenchange",y.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",y.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.addEventListener("MSFullscreenError",y.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(E,y){E instanceof m||(y=E,E=void 0),y===void 0&&(y=new o);var C=this.baseSize,A=this.parentSize,M=this.canvasBounds,R=this.displayScale,O=M.x>=0?0:-(M.x*R.x),L=M.y>=0?0:-(M.y*R.y),I;A.width>=M.width?I=C.width:I=C.width-(M.width-A.width)*R.x;var N;return A.height>=M.height?N=C.height:N=C.height-(M.height-A.height)*R.y,y.setTo(O,L,I,N),E&&(y.width/=E.zoomX,y.height/=E.zoomY,y.centerX=E.centerX+E.scrollX,y.centerY=E.centerY+E.scrollY),y},step:function(E,y){this.parent&&(this._lastCheck+=y,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var E=this.domlisteners;window.removeEventListener("orientationchange",E.orientationChange,!1),window.removeEventListener("resize",E.windowResize,!1);var y=["webkit","moz",""];y.forEach(function(C){document.removeEventListener(C+"fullscreenchange",E.fullScreenChange,!1),document.removeEventListener(C+"fullscreenerror",E.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",E.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===l.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===l.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});p.exports=T},35098:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={CENTER:t(35098),ORIENTATION:t(53539),SCALE_MODE:t(12637),ZOOM:t(10217)};p.exports=l},82085:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="enterfullscreen"},11826:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenfailed"},56691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenunsupported"},34739:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="leavefullscreen"},26681:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="orientationchange"},11428:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},40444:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ENTER_FULLSCREEN:t(82085),FULLSCREEN_FAILED:t(11826),FULLSCREEN_UNSUPPORTED:t(56691),LEAVE_FULLSCREEN:t(34739),ORIENTATION_CHANGE:t(26681),RESIZE:t(11428)}},86754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),g=t(55301),h={Center:t(35098),Events:t(40444),Orientation:t(53539),ScaleManager:t(756),ScaleModes:t(12637),Zoom:t(10217)};h=l(!1,h,g.CENTER),h=l(!1,h,g.ORIENTATION),h=l(!1,h,g.SCALE_MODE),h=l(!1,h,g.ZOOM),p.exports=h},47736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),g=t(40587),h=function(a){var s=a.game.config.defaultPhysicsSystem,i=l(a.settings,"physics",!1);if(!(!s&&!i)){var r=[];if(s&&r.push(g(s+"Physics")),i)for(var u in i)u=g(u.concat("Physics")),r.indexOf(u)===-1&&r.push(u);return r}};p.exports=h},91088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),g=function(h){var a=h.plugins.getDefaultScenePlugins(),s=l(h.settings,"plugins",!1);return Array.isArray(s)?s:a||[]};p.exports=g},90415:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};p.exports=S},87157:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(63946),h=new l({initialize:function(s){this.sys=new g(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});p.exports=h},13553:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(92980),h=t(7599),a=t(97081),s=t(10850),i=t(683),r=t(72283),u=t(87157),n=t(63946),o=new l({initialize:function(d,v){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)this._pending.push({key:"default",scene:v[m],autoStart:m===0,data:{}})}d.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new u);var f,d,v,m;for(f=0;f<this._pending.length;f++){d=this._pending[f],v=d.key,m=d.scene;var T;m instanceof u?T=this.createSceneFromInstance(v,m):typeof m=="object"?T=this.createSceneFromObject(v,m):typeof m=="function"&&(T=this.createSceneFromFunction(v,m)),v=T.sys.settings.key,this.keys[v]=T,this.scenes.push(T),this._data[v]&&(T.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(d.autoStart=!0)),(d.autoStart||T.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)d=this._start[f],this.start(d);this._start.length=0}},processQueue:function(){var f=this._pending.length,d=this._queue.length;if(!(f===0&&d===0)){var v,m;if(f){for(v=0;v<f;v++)m=this._pending[v],this.add(m.key,m.scene,m.autoStart,m.data);for(v=0;v<this._start.length;v++)m=this._start[v],this.start(m);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)m=this._queue[v],this[m.op](m.keyA,m.keyB);this._queue.length=0}},add:function(f,d,v,m){if(v===void 0&&(v=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:d,autoStart:v,data:m}),this.isBooted||(this._data[f]={data:m}),null;f=this.getKey(f,d);var T;return d instanceof u?T=this.createSceneFromInstance(f,d):typeof d=="object"?(d.key=f,T=this.createSceneFromObject(f,d)):typeof d=="function"&&(T=this.createSceneFromFunction(f,d)),T.sys.settings.data=m,f=T.sys.settings.key,this.keys[f]=T,this.scenes.push(T),(v||T.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),T},remove:function(f){if(this.isProcessing)this._queue.push({op:"remove",keyA:f,keyB:null});else{var d=this.getScene(f);if(!d||d.sys.isTransitioning())return this;var v=this.scenes.indexOf(d),m=d.sys.settings.key;v>-1&&(delete this.keys[m],this.scenes.splice(v,1),this._start.indexOf(m)>-1&&(v=this._start.indexOf(m),this._start.splice(v,1)),d.sys.destroy())}return this},bootScene:function(f){var d=f.sys,v=d.settings;d.sceneUpdate=r,f.init&&(f.init.call(f,v.data),v.status=g.INIT,v.isTransition&&d.events.emit(h.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var m;d.load&&(m=d.load,m.reset()),m&&f.preload?(f.preload.call(f),v.status=g.LOADING,m.once(i.COMPLETE,this.loadComplete,this),m.start()):this.create(f)},loadComplete:function(f){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,d){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var m=this.scenes[v].sys;m.settings.status>g.START&&m.settings.status<=g.RUNNING&&m.step(f,d),m.scenePlugin._target&&m.scenePlugin.step(f,d)}},render:function(f){for(var d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys;v.settings.visible&&v.settings.status>=g.LOADING&&v.settings.status<g.SLEEPING&&v.render(f)}this.isProcessing=!1},create:function(f){var d=f.sys,v=d.settings;f.create&&(v.status=g.CREATING,f.create.call(f,v.data),v.status===g.DESTROYED)||(v.isTransition&&d.events.emit(h.TRANSITION_START,v.transitionFrom,v.transitionDuration),f.update&&(d.sceneUpdate=f.update),v.status=g.RUNNING,d.events.emit(h.CREATE,f))},createSceneFromFunction:function(f,d){var v=new d;if(v instanceof u){var m=v.sys.settings.key;if(m!==""&&(f=m),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return this.createSceneFromInstance(f,v)}else return v.sys=new n(v),v.sys.settings.key=f,v.sys.init(this.game),v},createSceneFromInstance:function(f,d){var v=d.sys.settings.key;return v===""&&(d.sys.settings.key=f),d.sys.init(this.game),d},createSceneFromObject:function(f,d){var v=new u(d),m=v.sys.settings.key;m!==""?f=m:v.sys.settings.key=f,v.sys.init(this.game);for(var T=["init","preload","create","update","render"],E=0;E<T.length;E++){var y=s(d,T[E],null);y&&(v[T[E]]=y)}if(d.hasOwnProperty("extend")){for(var C in d.extend)if(d.extend.hasOwnProperty(C)){var A=d.extend[C];C==="data"&&v.hasOwnProperty("data")&&typeof A=="object"?v.data.merge(A):C!=="sys"&&(v[C]=A)}}return v},getKey:function(f,d){if(f||(f="default"),typeof d=="function")return f;if(d instanceof u?f=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(f=d.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return f},getScenes:function(f,d){f===void 0&&(f=!0),d===void 0&&(d=!1);for(var v=[],m=this.scenes,T=0;T<m.length;T++){var E=m[T];E&&(!f||f&&E.sys.isActive())&&v.push(E)}return d?v.reverse():v},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var d=0;d<this.scenes.length;d++)if(f===this.scenes[d])return f;return null},isActive:function(f){var d=this.getScene(f);return d?d.sys.isActive():null},isPaused:function(f){var d=this.getScene(f);return d?d.sys.isPaused():null},isVisible:function(f){var d=this.getScene(f);return d?d.sys.isVisible():null},isSleeping:function(f){var d=this.getScene(f);return d?d.sys.isSleeping():null},pause:function(f,d){var v=this.getScene(f);return v&&v.sys.pause(d),this},resume:function(f,d){var v=this.getScene(f);return v&&v.sys.resume(d),this},sleep:function(f,d){var v=this.getScene(f);return v&&!v.sys.isTransitioning()&&v.sys.sleep(d),this},wake:function(f,d){var v=this.getScene(f);return v&&v.sys.wake(d),this},run:function(f,d){var v=this.getScene(f);if(!v){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===f){this.queueOp("start",f,d);break}return this}v.sys.isSleeping()?v.sys.wake(d):v.sys.isPaused()?v.sys.resume(d):this.start(f,d)},start:function(f,d){if(!this.isBooted)return this._data[f]={autoStart:!0,data:d},this;var v=this.getScene(f);if(!v)return console.warn("Scene not found for key: "+f),this;var m=v.sys,T=m.settings.status;if(T>=g.START&&T<=g.CREATING)return this;if(T>=g.RUNNING&&T<=g.SLEEPING)m.shutdown(),m.sceneUpdate=r,m.start(d);else{m.sceneUpdate=r,m.start(d);var E;if(m.load&&(E=m.load),E&&m.settings.hasOwnProperty("pack")&&(E.reset(),E.addPack({payload:m.settings.pack})))return m.settings.status=g.LOADING,E.once(i.COMPLETE,this.payloadComplete,this),E.start(),this}return this.bootScene(v),this},stop:function(f,d){var v=this.getScene(f);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==g.SHUTDOWN){var m=v.sys.load;m&&(m.off(i.COMPLETE,this.loadComplete,this),m.off(i.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(d)}return this},switch:function(f,d){var v=this.getScene(f),m=this.getScene(d);return v&&m&&v!==m&&(this.sleep(f),this.isSleeping(d)?this.wake(d):this.start(d)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var d=this.getScene(f);return this.scenes.indexOf(d)},bringToTop:function(f){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:f,keyB:null});else{var d=this.getIndex(f);if(d!==-1&&d<this.scenes.length){var v=this.getScene(f);this.scenes.splice(d,1),this.scenes.push(v)}}return this},sendToBack:function(f){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:f,keyB:null});else{var d=this.getIndex(f);if(d!==-1&&d>0){var v=this.getScene(f);this.scenes.splice(d,1),this.scenes.unshift(v)}}return this},moveDown:function(f){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:f,keyB:null});else{var d=this.getIndex(f);if(d>0){var v=d-1,m=this.getScene(f),T=this.getAt(v);this.scenes[d]=T,this.scenes[v]=m}}return this},moveUp:function(f){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:f,keyB:null});else{var d=this.getIndex(f);if(d<this.scenes.length-1){var v=d+1,m=this.getScene(f),T=this.getAt(v);this.scenes[d]=T,this.scenes[v]=m}}return this},moveAbove:function(f,d){if(f===d)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:f,keyB:d});else{var v=this.getIndex(f),m=this.getIndex(d);if(v!==-1&&m!==-1&&m<v){var T=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(v+(m>v),0,T)}}return this},moveBelow:function(f,d){if(f===d)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:f,keyB:d});else{var v=this.getIndex(f),m=this.getIndex(d);if(v!==-1&&m!==-1&&m>v){var T=this.getAt(m);this.scenes.splice(m,1),v===0?this.scenes.unshift(T):this.scenes.splice(v-(m<v),0,T)}}return this},queueOp:function(f,d,v){return this._queue.push({op:f,keyA:d,keyB:v}),this},swapPosition:function(f,d){if(f===d)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:f,keyB:d});else{var v=this.getIndex(f),m=this.getIndex(d);if(v!==m&&v!==-1&&m!==-1){var T=this.getAt(v);this.scenes[v]=this.scenes[m],this.scenes[m]=T}}return this},dump:function(){for(var f=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var m=this.scenes[v].sys,T=m.settings.visible&&(m.settings.status===g.RUNNING||m.settings.status===g.PAUSED)?"[*] ":"[-] ";T+=m.settings.key+" ("+d[m.settings.status]+")",f.push(T)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var d=this.scenes[f].sys;d.destroy()}this.systemScene.sys.destroy(),this.update=r,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});p.exports=o},64051:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=t(56694),h=t(7599),a=t(72632),s=t(91963),i=new g({initialize:function(u){this.scene=u,this.systems=u.sys,this.settings=u.sys.settings,this.key=u.sys.settings.key,this.manager=u.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,u.sys.events.once(h.BOOT,this.boot,this),u.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},start:function(r,u){return r===void 0&&(r=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",r,u),this},restart:function(r){var u=this.key;return this.manager.queueOp("stop",u),this.manager.queueOp("start",u,r),this},transition:function(r){r===void 0&&(r={});var u=a(r,"target",!1),n=this.manager.getScene(u);if(!u||!this.checkValidTransition(n))return!1;var o=a(r,"duration",1e3);this._elapsed=0,this._target=n,this._duration=o,this._willSleep=a(r,"sleep",!1),this._willRemove=a(r,"remove",!1);var f=a(r,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=a(r,"onUpdateScope",this.scene));var d=a(r,"allowInput",!1);this.settings.transitionAllowInput=d;var v=n.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=o,v.transitionAllowInput=d,a(r,"moveAbove",!1)?this.manager.moveAbove(this.key,u):a(r,"moveBelow",!1)&&this.manager.moveBelow(this.key,u),n.sys.isSleeping()?n.sys.wake(a(r,"data")):this.manager.start(u,a(r,"data"));var m=a(r,"onStart",null),T=a(r,"onStartScope",this.scene);return m&&m.call(T,this.scene,n,o),this.systems.events.emit(h.TRANSITION_OUT,n,o),!0},checkValidTransition:function(r){return!(!r||r.sys.isActive()||r.sys.isTransitioning()||r===this.scene||this.systems.isTransitioning())},step:function(r,u){this._elapsed+=u,this.transitionProgress=l(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var r=this._target.sys,u=this._target.sys.settings;r.events.emit(h.TRANSITION_COMPLETE,this.scene),u.isTransition=!1,u.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(r,u,n,o){return this.manager.add(r,u,n,o)},launch:function(r,u){return r&&r!==this.key&&this.manager.queueOp("start",r,u),this},run:function(r,u){return r&&r!==this.key&&this.manager.queueOp("run",r,u),this},pause:function(r,u){return r===void 0&&(r=this.key),this.manager.queueOp("pause",r,u),this},resume:function(r,u){return r===void 0&&(r=this.key),this.manager.queueOp("resume",r,u),this},sleep:function(r,u){return r===void 0&&(r=this.key),this.manager.queueOp("sleep",r,u),this},wake:function(r,u){return r===void 0&&(r=this.key),this.manager.queueOp("wake",r,u),this},switch:function(r){return r!==this.key&&this.manager.queueOp("switch",this.key,r),this},stop:function(r,u){return r===void 0&&(r=this.key),this.manager.queueOp("stop",r,u),this},setActive:function(r,u,n){u===void 0&&(u=this.key);var o=this.manager.getScene(u);return o&&o.sys.setActive(r,n),this},setVisible:function(r,u){u===void 0&&(u=this.key);var n=this.manager.getScene(u);return n&&n.sys.setVisible(r),this},isSleeping:function(r){return r===void 0&&(r=this.key),this.manager.isSleeping(r)},isActive:function(r){return r===void 0&&(r=this.key),this.manager.isActive(r)},isPaused:function(r){return r===void 0&&(r=this.key),this.manager.isPaused(r)},isVisible:function(r){return r===void 0&&(r=this.key),this.manager.isVisible(r)},swapPosition:function(r,u){return u===void 0&&(u=this.key),r!==u&&this.manager.swapPosition(r,u),this},moveAbove:function(r,u){return u===void 0&&(u=this.key),r!==u&&this.manager.moveAbove(r,u),this},moveBelow:function(r,u){return u===void 0&&(u=this.key),r!==u&&this.manager.moveBelow(r,u),this},remove:function(r){return r===void 0&&(r=this.key),this.manager.remove(r),this},moveUp:function(r){return r===void 0&&(r=this.key),this.manager.moveUp(r),this},moveDown:function(r){return r===void 0&&(r=this.key),this.manager.moveDown(r),this},bringToTop:function(r){return r===void 0&&(r=this.key),this.manager.bringToTop(r),this},sendToBack:function(r){return r===void 0&&(r=this.key),this.manager.sendToBack(r),this},get:function(r){return this.manager.getScene(r)},getStatus:function(r){var u=this.manager.getScene(r);if(u)return u.sys.getStatus()},getIndex:function(r){return r===void 0&&(r=this.key),this.manager.getIndex(r)},shutdown:function(){var r=this.systems.events;r.off(h.SHUTDOWN,this.shutdown,this),r.off(h.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});s.register("ScenePlugin",i,"scenePlugin"),p.exports=i},36765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92980),g=t(10850),h=t(30657),a=t(90415),s={create:function(i){return typeof i=="string"?i={key:i}:i===void 0&&(i={}),{status:l.PENDING,key:g(i,"key",""),active:g(i,"active",!1),visible:g(i,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:g(i,"pack",!1),cameras:g(i,"cameras",null),map:g(i,"map",h(a,g(i,"mapAdd",{}))),physics:g(i,"physics",{}),loader:g(i,"loader",{}),plugins:g(i,"plugins",!1),input:g(i,"input",{})}}};p.exports=s},63946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(92980),h=t(18360),a=t(7599),s=t(47736),i=t(91088),r=t(72283),u=t(36765),n=new l({initialize:function(f,d){this.scene=f,this.game,this.renderer,this.config=d,this.settings=u.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=r},init:function(o){this.settings.status=g.INIT,this.sceneUpdate=r,this.game=o,this.renderer=o.renderer,this.canvas=o.canvas,this.context=o.context;var f=o.plugins;this.plugins=f,f.addToScene(this,h.Global,[h.CoreScene,i(this),s(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(o,f){var d=this.events;d.emit(a.PRE_UPDATE,o,f),d.emit(a.UPDATE,o,f),this.sceneUpdate.call(this.scene,o,f),d.emit(a.POST_UPDATE,o,f)},render:function(o){var f=this.displayList;f.depthSort(),this.events.emit(a.PRE_RENDER,o),this.cameras.render(o,f),this.events.emit(a.RENDER,o)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(o){var f=this.settings,d=this.getStatus();return d!==g.CREATING&&d!==g.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=g.PAUSED,f.active=!1,this.events.emit(a.PAUSE,this,o)),this},resume:function(o){var f=this.events,d=this.settings;return this.settings.active||(d.status=g.RUNNING,d.active=!0,f.emit(a.RESUME,this,o)),this},sleep:function(o){var f=this.settings,d=this.getStatus();return d!==g.CREATING&&d!==g.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=g.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(a.SLEEP,this,o)),this},wake:function(o){var f=this.events,d=this.settings;return d.status=g.RUNNING,d.active=!0,d.visible=!0,f.emit(a.WAKE,this,o),d.isTransition&&f.emit(a.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var o=this.settings.status;return o>g.PENDING&&o<=g.RUNNING},isSleeping:function(){return this.settings.status===g.SLEEPING},isActive:function(){return this.settings.status===g.RUNNING},isPaused:function(){return this.settings.status===g.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(o){return this.settings.visible=o,this},setActive:function(o,f){return o?this.resume(f):this.pause(f)},start:function(o){var f=this.events,d=this.settings;o&&(d.data=o),d.status=g.START,d.active=!0,d.visible=!0,f.emit(a.START,this),f.emit(a.READY,this,o)},shutdown:function(o){var f=this.events,d=this.settings;f.off(a.TRANSITION_INIT),f.off(a.TRANSITION_START),f.off(a.TRANSITION_COMPLETE),f.off(a.TRANSITION_OUT),d.status=g.SHUTDOWN,d.active=!1,d.visible=!1,f.emit(a.SHUTDOWN,this,o)},destroy:function(){var o=this.events,f=this.settings;f.status=g.DESTROYED,f.active=!1,f.visible=!1,o.emit(a.DESTROY,this),o.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<d.length;v++)this[d[v]]=null}});p.exports=n},92980:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};p.exports=S},31803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},94817:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},28977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="create"},91959:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},363:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},15643:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postupdate"},17058:p=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},77125:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},76018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},28620:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},41538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},34268:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},2342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},96541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleep"},74244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},17046:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioncomplete"},13637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioninit"},14733:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionout"},33899:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionstart"},52418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionwake"},31735:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},8470:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wake"},7599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(31803),BOOT:t(94817),CREATE:t(28977),DESTROY:t(91959),PAUSE:t(363),POST_UPDATE:t(15643),PRE_RENDER:t(17058),PRE_UPDATE:t(77125),READY:t(76018),REMOVED_FROM_SCENE:t(28620),RENDER:t(41538),RESUME:t(34268),SHUTDOWN:t(2342),SLEEP:t(96541),START:t(74244),TRANSITION_COMPLETE:t(17046),TRANSITION_INIT:t(13637),TRANSITION_OUT:t(14733),TRANSITION_START:t(33899),TRANSITION_WAKE:t(52418),UPDATE:t(31735),WAKE:t(8470)}},20436:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92980),g=t(98611),h={Events:t(7599),GetPhysicsPlugins:t(47736),GetScenePlugins:t(91088),SceneManager:t(13553),ScenePlugin:t(64051),Settings:t(36765),Systems:t(63946)};h=g(!1,h,l),p.exports=h},25798:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(6659),h=t(76038),a=t(98611),s=t(72283),i=new l({Extends:g,initialize:function(u,n,o){g.call(this),this.manager=u,this.key=n,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,o),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(console.error("addMarker "+r.name+" already exists in Sound"),!1):(r=a(!0,{name:"",start:0,duration:this.totalDuration-(r.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},r),this.markers[r.name]=r,!0)},updateMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(this.markers[r.name]=a(!0,this.markers[r.name],r),!0):(console.warn("Audio Marker: "+r.name+" missing in Sound: "+this.key),!1)},removeMarker:function(r){var u=this.markers[r];return u?(this.markers[r]=null,u):null},play:function(r,u){if(r===void 0&&(r=""),typeof r=="object"&&(u=r,r=""),typeof r!="string")return!1;if(!r)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[r])return console.warn("Marker: "+r+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[r],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,u),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:s,calculateRate:function(){var r=1.0005777895065548,u=this.currentConfig.detune+this.manager.detune,n=Math.pow(r,u);this.totalRate=this.currentConfig.rate*this.manager.rate*n},destroy:function(){this.pendingRemove||(this.emit(h.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});p.exports=i},12486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(32742),h=t(6659),a=t(76038),s=t(97081),i=t(71608),r=t(51463),u=t(72283),n=t(93736),o=new l({Extends:h,initialize:function(d){h.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new n,d.events.on(s.BLUR,this.onGameBlur,this),d.events.on(s.FOCUS,this.onGameFocus,this),d.events.on(s.PRE_STEP,this.update,this),d.events.once(s.DESTROY,this.destroy,this)},add:u,addAudioSprite:function(f,d){d===void 0&&(d={});var v=this.add(f,d);v.spritemap=this.jsonCache.get(f).spritemap;for(var m in v.spritemap)if(v.spritemap.hasOwnProperty(m)){var T=g(d),E=v.spritemap[m];T.loop=E.hasOwnProperty("loop")?E.loop:!1,v.addMarker({name:m,start:E.start,duration:E.end-E.start,config:T})}return v},get:function(f){return r(this.sounds,"key",f)},getAll:function(f){return f?i(this.sounds,"key",f):i(this.sounds)},getAllPlaying:function(){return i(this.sounds,"isPlaying",!0)},play:function(f,d){var v=this.add(f);return v.once(a.COMPLETE,v.destroy,v),d?d.name?(v.addMarker(d),v.play(d.name)):v.play(d):v.play()},playAudioSprite:function(f,d,v){var m=this.addAudioSprite(f);return m.once(a.COMPLETE,m.destroy,m),m.play(d,v)},remove:function(f){var d=this.sounds.indexOf(f);return d!==-1?(f.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var d=0,v=this.sounds.length-1;v>=0;v--){var m=this.sounds[v];m.key===f&&(m.destroy(),this.sounds.splice(v,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(a.RESUME_ALL,this)},setListenerPosition:u,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(f){var d=0;return this.getAll(f).forEach(function(v){v.stop()&&d++}),d},unlock:u,onBlur:u,onFocus:u,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(m){m.update(f,d)})},destroy:function(){this.game.events.off(s.BLUR,this.onGameBlur,this),this.game.events.off(s.FOCUS,this.onGameFocus,this),this.game.events.off(s.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,d){var v=this;this.sounds.forEach(function(m,T){m&&!m.pendingRemove&&f.call(d||v,m,T,v.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(a.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,f)}}});p.exports=o},84191:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27622),g=t(17546),h=t(55491),a={create:function(s){var i=s.config.audio,r=s.device.audio;return i.noAudio||!r.webAudio&&!r.audioData?new g(s):r.webAudio&&!i.disableWebAudio?new h(s):new l(s)}};p.exports=a},77578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},19679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decodedall"},56951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decoded"},16436:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},55154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57890:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},83022:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},99170:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},64289:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="looped"},67214:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},53128:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},73078:p=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pan"},76763:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},88426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},13765:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},80291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},11124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},55382:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},71157:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seek"},31776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stopall"},39450:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},21939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},33019:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},76038:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(77578),DECODED:t(56951),DECODED_ALL:t(19679),DESTROY:t(16436),DETUNE:t(55154),GLOBAL_DETUNE:t(57818),GLOBAL_MUTE:t(57890),GLOBAL_RATE:t(83022),GLOBAL_VOLUME:t(99170),LOOP:t(67214),LOOPED:t(64289),MUTE:t(53128),PAN:t(73078),PAUSE_ALL:t(76763),PAUSE:t(88426),PLAY:t(13765),RATE:t(80291),RESUME_ALL:t(11124),RESUME:t(55382),SEEK:t(71157),STOP_ALL:t(31776),STOP:t(39450),UNLOCKED:t(21939),VOLUME:t(33019)}},34350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25798),g=t(56694),h=t(76038),a=t(82897),s=new g({Extends:l,initialize:function(r,u,n){if(n===void 0&&(n={}),this.tags=r.game.cache.audio.get(u),!this.tags)throw new Error('No cached audio asset with key "'+u);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,l.call(this,r,u,n)},play:function(i,r){return this.manager.isLocked(this,"play",[i,r])||!l.prototype.play.call(this,i,r)||!this.pickAndPlayAudioTag()?!1:(this.emit(h.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(h.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!l.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(h.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!l.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(h.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var i=this.currentConfig.seek,r=this.currentConfig.delay,u=(this.currentMarker?this.currentMarker.start:0)+i;return this.previousTime=u,this.audio.currentTime=u,this.applyConfig(),r===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+r*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var r=this.tags[i];if(r.dataset.used==="false")return r.dataset.used="true",this.audio=r,!0}if(!this.manager.override)return!1;var u=[];this.manager.forEachActiveSound(function(o){o.key===this.key&&o.audio&&u.push(o)},this),u.sort(function(o,f){return o.loop===f.loop?f.seek/f.duration-o.seek/o.duration:o.loop?1:-1});var n=u[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var i=this.audio.play();i&&i.catch(function(r){console.warn(r)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){l.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(i){if(this.isPlaying){if(this.startTime>0){this.startTime<i-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,i-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var r=this.currentMarker?this.currentMarker.start:0,u=r+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=u-this.manager.loopEndOffset?(this.audio.currentTime=r+Math.max(0,n-u),n=this.audio.currentTime):n<r&&(this.audio.currentTime+=r,n=this.audio.currentTime),n<this.previousTime&&this.emit(h.LOOPED,this);else if(n>=u){this.reset(),this.stopAndReleaseAudioTag(),this.emit(h.COMPLETE,this);return}this.previousTime=n}},destroy:function(){l.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){l.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(i){this.currentConfig.mute=i,!this.manager.isLocked(this,"mute",i)&&(this.updateMute(),this.emit(h.MUTE,this,i))}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.currentConfig.volume},set:function(i){this.currentConfig.volume=i,!this.manager.isLocked(this,"volume",i)&&(this.updateVolume(),this.emit(h.VOLUME,this,i))}},setVolume:function(i){return this.volume=i,this},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,!this.manager.isLocked(this,h.RATE,i)&&(this.calculateRate(),this.emit(h.RATE,this,i))}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,!this.manager.isLocked(this,h.DETUNE,i)&&(this.calculateRate(),this.emit(h.DETUNE,this,i))}},setDetune:function(i){return this.detune=i,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.isLocked(this,"seek",i)||this.startTime>0||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.isPlaying?(this.previousTime=i,this.audio.currentTime=i):this.isPaused&&(this.currentConfig.seek=i),this.emit(h.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,!this.manager.isLocked(this,"loop",i)&&(this.audio&&(this.audio.loop=i),this.emit(h.LOOP,this,i))}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.currentConfig.pan},set:function(i){this.currentConfig.pan=i,this.emit(h.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});p.exports=s},27622:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12486),g=t(56694),h=t(76038),a=t(34350),s=new g({Extends:l,initialize:function(r){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,l.call(this,r)},add:function(i,r){var u=new a(this,i,r);return this.sounds.push(u),u},unlock:function(){this.locked=!1;var i=this;if(this.game.cache.audio.entries.each(function(o,f){for(var d=0;d<f.length;d++)if(f[d].dataset.locked==="true")return i.locked=!0,!1;return!0}),!!this.locked){var r=!1,u=function(){r=!0},n=function(){if(r){r=!1;return}document.body.removeEventListener("touchmove",u),document.body.removeEventListener("touchend",n);var o=[];if(i.game.cache.audio.entries.each(function(d,v){for(var m=0;m<v.length;m++){var T=v[m];T.dataset.locked==="true"&&o.push(T)}return!0}),o.length!==0){var f=o[o.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,o.forEach(function(d){d.dataset.locked="false"}),i.unlocked=!0},o.forEach(function(d){d.load()})}};this.once(h.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var o=this.lockedActionsQueue.shift();o.sound[o.prop].apply?o.sound[o.prop].apply(o.sound,o.value||[]):o.sound[o.prop]=o.value}},this),document.body.addEventListener("touchmove",u,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(i){i.isPlaying&&(this.onBlurPausedSounds.push(i),i.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(i){i.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){l.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(i,r,u){return i.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:i,prop:r,value:u}),!0):!1},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this._mute},set:function(i){this._mute=i,this.forEachActiveSound(function(r){r.updateMute()}),this.emit(h.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this._volume},set:function(i){this._volume=i,this.forEachActiveSound(function(r){r.updateVolume()}),this.emit(h.GLOBAL_VOLUME,this,i)}}});p.exports=s},56751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SoundManagerCreator:t(84191),Events:t(76038),BaseSound:t(25798),BaseSoundManager:t(12486),WebAudioSound:t(96008),WebAudioSoundManager:t(55491),HTML5AudioSound:t(34350),HTML5AudioSoundManager:t(27622),NoAudioSound:t(38662),NoAudioSoundManager:t(17546)}},38662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25798),g=t(56694),h=t(6659),a=t(98611),s=t(72283),i=function(){return!1},r=function(){return null},u=function(){return this},n=new g({Extends:h,initialize:function(f,d,v){v===void 0&&(v={}),h.call(this),this.manager=f,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:i,updateMarker:i,removeMarker:r,play:i,pause:i,resume:i,stop:i,setMute:u,setVolume:u,setRate:u,setDetune:u,setSeek:u,setLoop:u,setPan:u,applyConfig:r,resetConfig:r,update:s,calculateRate:r,destroy:function(){l.prototype.destroy.call(this)}});p.exports=n},17546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12486),g=t(56694),h=t(6659),a=t(38662),s=t(72283),i=new g({Extends:h,initialize:function(u){h.call(this),this.game=u,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(r,u){var n=new a(this,r,u);return this.sounds.push(n),n},addAudioSprite:function(r,u){var n=this.add(r,u);return n.spritemap={},n},get:function(r){return l.prototype.get.call(this,r)},getAll:function(r){return l.prototype.getAll.call(this,r)},play:function(r,u){return!1},playAudioSprite:function(r,u,n){return!1},remove:function(r){return l.prototype.remove.call(this,r)},removeAll:function(){return l.prototype.removeAll.call(this)},removeByKey:function(r){return l.prototype.removeByKey.call(this,r)},stopByKey:function(r){return l.prototype.stopByKey.call(this,r)},onBlur:s,onFocus:s,onGameBlur:s,onGameFocus:s,pauseAll:s,resumeAll:s,stopAll:s,update:s,setRate:s,setDetune:s,setMute:s,setVolume:s,unlock:s,forEachActiveSound:function(r,u){l.prototype.forEachActiveSound.call(this,r,u)},destroy:function(){l.prototype.destroy.call(this)}});p.exports=i},96008:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25798),g=t(56694),h=t(76038),a=t(72632),s=new g({Extends:l,initialize:function(r,u,n){if(n===void 0&&(n={}),this.audioBuffer=r.game.cache.audio.get(u),!this.audioBuffer)throw new Error('Audio key "'+u+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=r.context.createGain(),this.volumeNode=r.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),r.context.createPanner&&(this.spatialNode=r.context.createPanner(),this.volumeNode.connect(this.spatialNode)),r.context.createStereoPanner?(this.pannerNode=r.context.createStereoPanner(),r.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(r.destination)):r.context.createPanner?this.spatialNode.connect(r.destination):this.volumeNode.connect(r.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,l.call(this,r,u,n)},play:function(i,r){return l.prototype.play.call(this,i,r)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(h.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(h.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(h.RESUME,this),!0)},stop:function(){return l.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(h.STOP,this),!0):!1},createAndStartBufferSource:function(){var i=this.currentConfig.seek,r=this.currentConfig.delay,u=this.manager.context.currentTime+r,n=(this.currentMarker?this.currentMarker.start:0)+i,o=this.duration-i;this.playTime=u-i,this.startTime=u,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,u),Math.max(0,n),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var i=this.getLoopTime(),r=this.currentMarker?this.currentMarker.start:0,u=this.duration;this.loopTime=i,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,i),Math.max(0,r),Math.max(0,u))},createBufferSource:function(){var i=this,r=this.manager.context.createBufferSource();return r.buffer=this.audioBuffer,r.connect(this.muteNode),r.onended=function(u){u.target===i.source&&(i.currentConfig.loop?i.hasLooped=!0:i.hasEnded=!0)},r},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var i=this.currentConfig.source;if(i&&this.manager.context.createPanner){var r=this.spatialNode;r.panningModel=a(i,"panningModel","equalpower"),r.distanceModel=a(i,"distanceModel","inverse"),r.orientationX.value=a(i,"orientationX",0),r.orientationY.value=a(i,"orientationY",0),r.orientationZ.value=a(i,"orientationZ",-1),r.refDistance=a(i,"refDistance",1),r.maxDistance=a(i,"maxDistance",1e4),r.rolloffFactor=a(i,"rolloffFactor",1),r.coneInnerAngle=a(i,"coneInnerAngle",360),r.coneOuterAngle=a(i,"coneOuterAngle",0),r.coneOuterGain=a(i,"coneOuterGain",0),this.spatialSource=a(i,"follow",null),this.spatialSource||(r.positionX.value=a(i,"x",0),r.positionY.value=a(i,"y",0),r.positionZ.value=a(i,"z",0))}l.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(i){this.spatialNode&&(this.spatialNode.positionX.value=i)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(i){this.spatialNode&&(this.spatialNode.positionY.value=i)}},update:function(){if(this.isPlaying&&this.spatialSource){var i=a(this.spatialSource,"x",null),r=a(this.spatialSource,"y",null);i&&i!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=i),r&&r!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=r)}this.hasEnded?(this.hasEnded=!1,l.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(h.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(h.LOOPED,this))},destroy:function(){this.pendingRemove||(l.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){l.prototype.calculateRate.call(this);var i=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,i),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,i)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var i=0,r=0;r<this.rateUpdates.length;r++){var u=0;r<this.rateUpdates.length-1?u=this.rateUpdates[r+1].time:u=this.manager.context.currentTime-this.playTime,i+=(u-this.rateUpdates[r].time)*this.rateUpdates[r].rate}return i},getLoopTime:function(){for(var i=0,r=0;r<this.rateUpdates.length-1;r++)i+=(this.rateUpdates[r+1].time-this.rateUpdates[r].time)*this.rateUpdates[r].rate;var u=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+u.time+(this.duration-i)/u.rate},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,this.calculateRate(),this.emit(h.RATE,this,i)}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,this.calculateRate(),this.emit(h.DETUNE,this,i)}},setDetune:function(i){return this.detune=i,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(i){this.currentConfig.mute=i,this.muteNode.gain.setValueAtTime(i?0:1,0),this.emit(h.MUTE,this,i)}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(i){this.currentConfig.volume=i,this.volumeNode.gain.setValueAtTime(i,0),this.emit(h.VOLUME,this,i)}},setVolume:function(i){return this.volume=i,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.currentConfig.seek=i,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(h.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),i&&this.createAndStartLoopBufferSource()),this.emit(h.LOOP,this,i)}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(i){this.currentConfig.pan=i,this.pannerNode&&this.pannerNode.pan.setValueAtTime(i,this.manager.context.currentTime),this.emit(h.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});p.exports=s},55491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82329),g=t(12486),h=t(56694),a=t(76038),s=t(97081),i=t(96008),r=t(72632),u=new h({Extends:g,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),g.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(s.BOOT,this.unlock,this)},createAudioContext:function(n){var o=n.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(n){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=n,this.masterMuteNode=n.createGain(),this.masterVolumeNode=n.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(n.destination),this.destination=this.masterMuteNode,this},add:function(n,o){var f=new i(this,n,o);return this.sounds.push(f),f},decodeAudio:function(n,o){var f;Array.isArray(n)?f=n:f=[{key:n,data:o}];for(var d=this.game.cache.audio,v=f.length,m=0;m<f.length;m++){var T=f[m],E=T.key,y=T.data;typeof y=="string"&&(y=l(y));var C=(function(M,R){d.add(M,R),this.emit(a.DECODED,M),v--,v===0&&this.emit(a.DECODED_ALL)}).bind(this,E),A=(function(M,R){console.error("Error decoding audio: "+M+" - ",R?R.message:""),v--,v===0&&this.emit(a.DECODED_ALL)}).bind(this,E);this.context.decodeAudioData(y,C,A)}},setListenerPosition:function(n,o){return n===void 0&&(n=this.game.scale.width/2),o===void 0&&(o=this.game.scale.height/2),this.listenerPosition.set(n,o),this},unlock:function(){var n=this,o=document.body,f=function d(){if(n.context&&o){var v=o.removeEventListener;n.context.resume().then(function(){v("touchstart",d),v("touchend",d),v("click",d),v("keydown",d),n.unlocked=!0},function(){v("touchstart",d),v("touchend",d),v("click",d),v("keydown",d)})}};o&&(o.addEventListener("touchstart",f,!1),o.addEventListener("touchend",f,!1),o.addEventListener("click",f,!1),o.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var n=this.context;n&&!this.locked&&(n.state==="suspended"||n.state==="interrupted")&&n.resume()},update:function(n,o){var f=this.context.listener;if(f&&f.positionX!==void 0){var d=r(this.listenerPosition,"x",null),v=r(this.listenerPosition,"y",null);d&&d!==this._spatialx&&(this._spatialx=f.positionX.value=d),v&&v!==this._spatialy&&(this._spatialy=f.positionY.value=v)}g.prototype.update.call(this,n,o),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var n=this;this.context.close().then(function(){n.context=null})}g.prototype.destroy.call(this)},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(n){this.masterMuteNode.gain.setValueAtTime(n?0:1,0),this.emit(a.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(n){this.masterVolumeNode.gain.setValueAtTime(n,0),this.emit(a.GLOBAL_VOLUME,this,n)}}});p.exports=u},71207:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59959),g=t(56694),h=t(72283),a=t(17922),s=new g({initialize:function(r){this.parent=r,this.list=[],this.position=0,this.addCallback=h,this.removeCallback=h,this._sortKey=""},add:function(i,r){return r?l.Add(this.list,i):l.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,r,u){return u?l.AddAt(this.list,i,r):l.AddAt(this.list,i,r,0,this.addCallback,this)},getAt:function(i){return this.list[i]},getIndex:function(i){return this.list.indexOf(i)},sort:function(i,r){return i?(r===void 0&&(r=function(u,n){return u[i]-n[i]}),a(this.list,r),this):this},getByName:function(i){return l.GetFirst(this.list,"name",i)},getRandom:function(i,r){return l.GetRandom(this.list,i,r)},getFirst:function(i,r,u,n){return l.GetFirst(this.list,i,r,u,n)},getAll:function(i,r,u,n){return l.GetAll(this.list,i,r,u,n)},count:function(i,r){return l.CountAllMatching(this.list,i,r)},swap:function(i,r){l.Swap(this.list,i,r)},moveTo:function(i,r){return l.MoveTo(this.list,i,r)},moveAbove:function(i,r){return l.MoveAbove(this.list,i,r)},moveBelow:function(i,r){return l.MoveBelow(this.list,i,r)},remove:function(i,r){return r?l.Remove(this.list,i):l.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,r){return r?l.RemoveAt(this.list,i):l.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,r,u){return u?l.RemoveBetween(this.list,i,r):l.RemoveBetween(this.list,i,r,this.removeCallback,this)},removeAll:function(i){for(var r=this.list.length;r--;)this.remove(this.list[r],i);return this},bringToTop:function(i){return l.BringToTop(this.list,i)},sendToBack:function(i){return l.SendToBack(this.list,i)},moveUp:function(i){return l.MoveUp(this.list,i),i},moveDown:function(i){return l.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(i,r){return l.Replace(this.list,i,r)},exists:function(i){return this.list.indexOf(i)>-1},setAll:function(i,r,u,n){return l.SetAll(this.list,i,r,u,n),this},each:function(i,r){for(var u=[null],n=2;n<arguments.length;n++)u.push(arguments[n]);for(n=0;n<this.list.length;n++)u[0]=this.list[n],i.apply(r,u)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});p.exports=s},33885:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a){if(this.entries={},this.size=0,Array.isArray(a))for(var s=0;s<a.length;s++)this.set(a[s][0],a[s][1])},set:function(h,a){return this.has(h)||this.size++,this.entries[h]=a,this},get:function(h){if(this.has(h))return this.entries[h]},getArray:function(){var h=[],a=this.entries;for(var s in a)h.push(a[s]);return h},has:function(h){return this.entries.hasOwnProperty(h)},delete:function(h){return this.has(h)&&(delete this.entries[h],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(h){delete this.entries[h]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var h=[],a=this.entries;for(var s in a)h.push(a[s]);return h},dump:function(){var h=this.entries;console.group("Map");for(var a in h)console.log(a,h[a]);console.groupEnd()},each:function(h){var a=this.entries;for(var s in a)if(h(s,a[s])===!1)break;return this},contains:function(h){var a=this.entries;for(var s in a)if(a[s]===h)return!0;return!1},merge:function(h,a){a===void 0&&(a=!1);var s=this.entries,i=h.entries;for(var r in i)s.hasOwnProperty(r)&&a?s[r]=i[r]:this.set(r,i[r]);return this}});p.exports=g},74623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(6659),h=t(36716),a=new l({Extends:g,initialize:function(){g.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(s){return this._active.indexOf(s)>-1},isPending:function(s){return this._toProcess>0&&this._pending.indexOf(s)>-1},isDestroying:function(s){return this._destroy.indexOf(s)>-1},add:function(s){return this.checkQueue&&this.isActive()&&!this.isDestroying()||this.isPending()||(this._pending.push(s),this._toProcess++),s},remove:function(s){if(this.isPending(s)){var i=this._pending,r=i.indexOf(s);r!==-1&&i.splice(r,1)}else this.isActive(s)&&(this._destroy.push(s),this._toProcess++);return s},removeAll:function(){for(var s=this._active,i=this._destroy,r=s.length;r--;)i.push(s[r]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var s=this._destroy,i=this._active,r,u;for(r=0;r<s.length;r++){u=s[r];var n=i.indexOf(u);n!==-1&&(i.splice(n,1),this.emit(h.PROCESS_QUEUE_REMOVE,u))}for(s.length=0,s=this._pending,r=0;r<s.length;r++)u=s[r],(!this.checkQueue||this.checkQueue&&i.indexOf(u)===-1)&&(i.push(u),this.emit(h.PROCESS_QUEUE_ADD,u));return s.length=0,this._toProcess=0,i},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});p.exports=a},68687:(p,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(53466);function g(y){if(!(this instanceof g))return new g(y);this._maxEntries=Math.max(4,y||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}g.prototype={all:function(){return this._all(this.data,[])},search:function(y){var C=this.data,A=[],M=this.toBBox;if(!m(y,C))return A;for(var R=[],O,L,I,N;C;){for(O=0,L=C.children.length;O<L;O++)I=C.children[O],N=C.leaf?M(I):I,m(y,N)&&(C.leaf?A.push(I):v(y,N)?this._all(I,A):R.push(I));C=R.pop()}return A},collides:function(y){var C=this.data,A=this.toBBox;if(!m(y,C))return!1;for(var M=[],R,O,L,I;C;){for(R=0,O=C.children.length;R<O;R++)if(L=C.children[R],I=C.leaf?A(L):L,m(y,I)){if(C.leaf||v(y,I))return!0;M.push(L)}C=M.pop()}return!1},load:function(y){if(!(y&&y.length))return this;if(y.length<this._minEntries){for(var C=0,A=y.length;C<A;C++)this.insert(y[C]);return this}var M=this._build(y.slice(),0,y.length-1,0);if(!this.data.children.length)this.data=M;else if(this.data.height===M.height)this._splitRoot(this.data,M);else{if(this.data.height<M.height){var R=this.data;this.data=M,M=R}this._insert(M,this.data.height-M.height-1,!0)}return this},insert:function(y){return y&&this._insert(y,this.data.height-1),this},clear:function(){return this.data=T([]),this},remove:function(y,C){if(!y)return this;for(var A=this.data,M=this.toBBox(y),R=[],O=[],L,I,N,B;A||R.length;){if(A||(A=R.pop(),I=R[R.length-1],L=O.pop(),B=!0),A.leaf&&(N=h(y,A.children,C),N!==-1))return A.children.splice(N,1),R.push(A),this._condense(R),this;!B&&!A.leaf&&v(A,M)?(R.push(A),O.push(L),L=0,I=A,A=A.children[0]):I?(L++,A=I.children[L],B=!1):A=null}return this},toBBox:function(y){return y},compareMinX:r,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(y){return this.data=y,this},_all:function(y,C){for(var A=[];y;)y.leaf?C.push.apply(C,y.children):A.push.apply(A,y.children),y=A.pop();return C},_build:function(y,C,A,M){var R=A-C+1,O=this._maxEntries,L;if(R<=O)return L=T(y.slice(C,A+1)),a(L,this.toBBox),L;M||(M=Math.ceil(Math.log(R)/Math.log(O)),O=Math.ceil(R/Math.pow(O,M-1))),L=T([]),L.leaf=!1,L.height=M;var I=Math.ceil(R/O),N=I*Math.ceil(Math.sqrt(O)),B,b,X,W;for(E(y,C,A,N,this.compareMinX),B=C;B<=A;B+=N)for(X=Math.min(B+N-1,A),E(y,B,X,I,this.compareMinY),b=B;b<=X;b+=I)W=Math.min(b+I-1,X),L.children.push(this._build(y,b,W,M-1));return a(L,this.toBBox),L},_chooseSubtree:function(y,C,A,M){for(var R,O,L,I,N,B,b,X;M.push(C),!(C.leaf||M.length-1===A);){for(b=X=1/0,R=0,O=C.children.length;R<O;R++)L=C.children[R],N=n(L),B=f(y,L)-N,B<X?(X=B,b=N<b?N:b,I=L):B===X&&N<b&&(b=N,I=L);C=I||C.children[0]}return C},_insert:function(y,C,A){var M=this.toBBox,R=A?y:M(y),O=[],L=this._chooseSubtree(R,this.data,C,O);for(L.children.push(y),i(L,R);C>=0&&O[C].children.length>this._maxEntries;)this._split(O,C),C--;this._adjustParentBBoxes(R,O,C)},_split:function(y,C){var A=y[C],M=A.children.length,R=this._minEntries;this._chooseSplitAxis(A,R,M);var O=this._chooseSplitIndex(A,R,M),L=T(A.children.splice(O,A.children.length-O));L.height=A.height,L.leaf=A.leaf,a(A,this.toBBox),a(L,this.toBBox),C?y[C-1].children.push(L):this._splitRoot(A,L)},_splitRoot:function(y,C){this.data=T([y,C]),this.data.height=y.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(y,C,A){var M,R,O,L,I,N,B,b;for(N=B=1/0,M=C;M<=A-C;M++)R=s(y,0,M,this.toBBox),O=s(y,M,A,this.toBBox),L=d(R,O),I=n(R)+n(O),L<N?(N=L,b=M,B=I<B?I:B):L===N&&I<B&&(B=I,b=M);return b},_chooseSplitAxis:function(y,C,A){var M=y.leaf?this.compareMinX:r,R=y.leaf?this.compareMinY:u,O=this._allDistMargin(y,C,A,M),L=this._allDistMargin(y,C,A,R);O<L&&y.children.sort(M)},_allDistMargin:function(y,C,A,M){y.children.sort(M);var R=this.toBBox,O=s(y,0,C,R),L=s(y,A-C,A,R),I=o(O)+o(L),N,B;for(N=C;N<A-C;N++)B=y.children[N],i(O,y.leaf?R(B):B),I+=o(O);for(N=A-C-1;N>=C;N--)B=y.children[N],i(L,y.leaf?R(B):B),I+=o(L);return I},_adjustParentBBoxes:function(y,C,A){for(var M=A;M>=0;M--)i(C[M],y)},_condense:function(y){for(var C=y.length-1,A;C>=0;C--)y[C].children.length===0?C>0?(A=y[C-1].children,A.splice(A.indexOf(y[C]),1)):this.clear():a(y[C],this.toBBox)},compareMinX:function(y,C){return y.left-C.left},compareMinY:function(y,C){return y.top-C.top},toBBox:function(y){return{minX:y.left,minY:y.top,maxX:y.right,maxY:y.bottom}}};function h(y,C,A){if(!A)return C.indexOf(y);for(var M=0;M<C.length;M++)if(A(y,C[M]))return M;return-1}function a(y,C){s(y,0,y.children.length,C,y)}function s(y,C,A,M,R){R||(R=T(null)),R.minX=1/0,R.minY=1/0,R.maxX=-1/0,R.maxY=-1/0;for(var O=C,L;O<A;O++)L=y.children[O],i(R,y.leaf?M(L):L);return R}function i(y,C){return y.minX=Math.min(y.minX,C.minX),y.minY=Math.min(y.minY,C.minY),y.maxX=Math.max(y.maxX,C.maxX),y.maxY=Math.max(y.maxY,C.maxY),y}function r(y,C){return y.minX-C.minX}function u(y,C){return y.minY-C.minY}function n(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function o(y){return y.maxX-y.minX+(y.maxY-y.minY)}function f(y,C){return(Math.max(C.maxX,y.maxX)-Math.min(C.minX,y.minX))*(Math.max(C.maxY,y.maxY)-Math.min(C.minY,y.minY))}function d(y,C){var A=Math.max(y.minX,C.minX),M=Math.max(y.minY,C.minY),R=Math.min(y.maxX,C.maxX),O=Math.min(y.maxY,C.maxY);return Math.max(0,R-A)*Math.max(0,O-M)}function v(y,C){return y.minX<=C.minX&&y.minY<=C.minY&&C.maxX<=y.maxX&&C.maxY<=y.maxY}function m(y,C){return C.minX<=y.maxX&&C.minY<=y.maxY&&C.maxX>=y.minX&&C.maxY>=y.minY}function T(y){return{children:y,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function E(y,C,A,M,R){for(var O=[C,A],L;O.length;)A=O.pop(),C=O.pop(),!(A-C<=M)&&(L=C+Math.ceil((A-C)/M/2)*M,l(y,L,C,A,R),O.push(C,L,L,A))}p.exports=g},58403:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var s=0;s<a.length;s++)this.set(a[s])},set:function(h){return this.entries.indexOf(h)===-1&&this.entries.push(h),this},get:function(h,a){for(var s=0;s<this.entries.length;s++){var i=this.entries[s];if(i[h]===a)return i}},getArray:function(){return this.entries.slice(0)},delete:function(h){var a=this.entries.indexOf(h);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var h=0;h<this.entries.length;h++){var a=this.entries[h];console.log(a)}console.groupEnd()},each:function(h,a){var s,i=this.entries.slice(),r=i.length;if(a)for(s=0;s<r&&h.call(a,i[s],s)!==!1;s++);else for(s=0;s<r&&h(i[s],s)!==!1;s++);return this},iterate:function(h,a){var s,i=this.entries.length;if(a)for(s=0;s<i&&h.call(a,this.entries[s],s)!==!1;s++);else for(s=0;s<i&&h(this.entries[s],s)!==!1;s++);return this},iterateLocal:function(h){var a,s=[];for(a=1;a<arguments.length;a++)s.push(arguments[a]);var i=this.entries.length;for(a=0;a<i;a++){var r=this.entries[a];r[h].apply(r,s)}return this},clear:function(){return this.entries.length=0,this},contains:function(h){return this.entries.indexOf(h)>-1},union:function(h){var a=new g;return h.entries.forEach(function(s){a.set(s)}),this.entries.forEach(function(s){a.set(s)}),a},intersect:function(h){var a=new g;return this.entries.forEach(function(s){h.contains(s)&&a.set(s)}),a},difference:function(h){var a=new g;return this.entries.forEach(function(s){h.contains(s)||a.set(s)}),a},size:{get:function(){return this.entries.length},set:function(h){return h<this.entries.length?this.entries.length=h:this.entries.length}}});p.exports=g},90881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),g=t(56694),h=t(84314),a=t(93736),s=new g({initialize:function(r,u,n,o){r===void 0&&(r=0),u===void 0&&(u=r),n===void 0&&(n=0),o===void 0&&(o=null),this._width=r,this._height=u,this._parent=o,this.aspectMode=n,this.aspectRatio=u===0?1:r/u,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(i){return i===void 0&&(i=0),this.aspectMode=i,this.setSize(this._width,this._height)},setSnap:function(i,r){return i===void 0&&(i=0),r===void 0&&(r=i),this.snapTo.set(i,r),this.setSize(this._width,this._height)},setParent:function(i){return this._parent=i,this.setSize(this._width,this._height)},setMin:function(i,r){return i===void 0&&(i=0),r===void 0&&(r=i),this.minWidth=l(i,0,this.maxWidth),this.minHeight=l(r,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(i,r){return i===void 0&&(i=Number.MAX_VALUE),r===void 0&&(r=i),this.maxWidth=l(i,this.minWidth,Number.MAX_VALUE),this.maxHeight=l(r,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(i,r){switch(i===void 0&&(i=0),r===void 0&&(r=i),this.aspectMode){case s.NONE:this._width=this.getNewWidth(h(i,this.snapTo.x)),this._height=this.getNewHeight(h(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case s.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(h(i,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case s.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(h(r,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case s.FIT:this.constrain(i,r,!0);break;case s.ENVELOP:this.constrain(i,r,!1);break}return this},setAspectRatio:function(i){return this.aspectRatio=i,this.setSize(this._width,this._height)},resize:function(i,r){return this._width=this.getNewWidth(h(i,this.snapTo.x)),this._height=this.getNewHeight(h(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(i,r){return r===void 0&&(r=!0),i=l(i,this.minWidth,this.maxWidth),r&&this._parent&&i>this._parent.width&&(i=Math.max(this.minWidth,this._parent.width)),i},getNewHeight:function(i,r){return r===void 0&&(r=!0),i=l(i,this.minHeight,this.maxHeight),r&&this._parent&&i>this._parent.height&&(i=Math.max(this.minHeight,this._parent.height)),i},constrain:function(i,r,u){i===void 0&&(i=0),r===void 0&&(r=i),u===void 0&&(u=!0),i=this.getNewWidth(i),r=this.getNewHeight(r);var n=this.snapTo,o=r===0?1:i/r;return u&&this.aspectRatio>o||!u&&this.aspectRatio<o?(i=h(i,n.x),r=i/this.aspectRatio,n.y>0&&(r=h(r,n.y),i=r*this.aspectRatio)):(u&&this.aspectRatio<o||!u&&this.aspectRatio>o)&&(r=h(r,n.y),i=r*this.aspectRatio,n.x>0&&(i=h(i,n.x),r=i*(1/this.aspectRatio))),this._width=i,this._height=r,this},fitTo:function(i,r){return this.constrain(i,r,!0)},envelop:function(i,r){return this.constrain(i,r,!1)},setWidth:function(i){return this.setSize(i,this._height)},setHeight:function(i){return this.setSize(this._width,i)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(i){i&&i.style&&(i.style.width=this._width+"px",i.style.height=this._height+"px")},copy:function(i){return i.setAspectMode(this.aspectMode),i.aspectRatio=this.aspectRatio,i.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(i){this.setSize(i,this._height)}},height:{get:function(){return this._height},set:function(i){this.setSize(this._width,i)}}});s.NONE=0,s.WIDTH_CONTROLS_HEIGHT=1,s.HEIGHT_CONTROLS_WIDTH=2,s.FIT=3,s.ENVELOP=4,p.exports=s},94160:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},95393:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},36716:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={PROCESS_QUEUE_ADD:t(94160),PROCESS_QUEUE_REMOVE:t(95393)}},20010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(36716),List:t(71207),Map:t(33885),ProcessQueue:t(74623),RTree:t(68687),Set:t(58403),Size:t(90881)}},17487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(82897),h=t(27119),a=t(86459),s=t(28621),i=t(31673),r=new l({Extends:i,initialize:function(n,o,f,d,v){i.call(this,n,o,f,d,v),this.add("__BASE",0,0,0,d,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=v,this.imageData=this.context.getImageData(0,0,d,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(u,n,o,f){return f===void 0&&(f=!0),this.context.drawImage(o,u,n),f&&this.update(),this},drawFrame:function(u,n,o,f,d){o===void 0&&(o=0),f===void 0&&(f=0),d===void 0&&(d=!0);var v=this.manager.getFrame(u,n);if(v){var m=v.canvasData,T=v.cutWidth,E=v.cutHeight,y=v.source.resolution;this.context.drawImage(v.source.image,m.x,m.y,T,E,o,f,T/y,E/y),d&&this.update()}return this},setPixel:function(u,n,o,f,d,v){v===void 0&&(v=255),u=Math.abs(Math.floor(u)),n=Math.abs(Math.floor(n));var m=this.getIndex(u,n);if(m>-1){var T=this.context.getImageData(u,n,1,1);T.data[0]=o,T.data[1]=f,T.data[2]=d,T.data[3]=v,this.context.putImageData(T,u,n)}return this},putData:function(u,n,o,f,d,v,m){return f===void 0&&(f=0),d===void 0&&(d=0),v===void 0&&(v=u.width),m===void 0&&(m=u.height),this.context.putImageData(u,n,o,f,d,v,m),this},getData:function(u,n,o,f){u=g(Math.floor(u),0,this.width-1),n=g(Math.floor(n),0,this.height-1),o=g(o,1,this.width-u),f=g(f,1,this.height-n);var d=this.context.getImageData(u,n,o,f);return d},getPixel:function(u,n,o){o||(o=new h);var f=this.getIndex(u,n);if(f>-1){var d=this.data,v=d[f+0],m=d[f+1],T=d[f+2],E=d[f+3];o.setTo(v,m,T,E)}return o},getPixels:function(u,n,o,f){u===void 0&&(u=0),n===void 0&&(n=0),o===void 0&&(o=this.width),f===void 0&&(f=o),u=Math.abs(Math.round(u)),n=Math.abs(Math.round(n));for(var d=g(u,0,this.width),v=g(u+o,0,this.width),m=g(n,0,this.height),T=g(n+f,0,this.height),E=new h,y=[],C=m;C<T;C++){for(var A=[],M=d;M<v;M++)E=this.getPixel(M,C,E),A.push({x:M,y:C,color:E.color,alpha:E.alphaGL});y.push(A)}return y},getIndex:function(u,n){return u=Math.abs(Math.round(u)),n=Math.abs(Math.round(n)),u<this.width&&n<this.height?(u+n*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(u,n,o,f,d){return u===void 0&&(u=0),n===void 0&&(n=0),o===void 0&&(o=this.width),f===void 0&&(f=this.height),d===void 0&&(d=!0),this.context.clearRect(u,n,o,f),d&&this.update(),this},setSize:function(u,n){return n===void 0&&(n=u),(u!==this.width||n!==this.height)&&(this.canvas.width=u,this.canvas.height=n,this._source.width=u,this._source.height=n,this._source.isPowerOf2=s(u,n),this.frames.__BASE.setSize(u,n,0,0),this.width=u,this.height=n,this.refresh()),this},destroy:function(){i.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});p.exports=r},845:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),g=t(51052),h=t(61068),a=t(56694),s=t(86459),i=t(82047),r=t(72632),u=t(65641),n=t(37410),o=t(31673),f=t(75512),d=new a({Extends:o,initialize:function(m,T,E,y){E===void 0&&(E=256),y===void 0&&(y=256),this.type="DynamicTexture";var C=m.game.renderer,A=C&&C.type===s.CANVAS,M=A?h.create2D(this,E,y):[this];o.call(this,m,T,M,E,y),this.add("__BASE",0,0,0,E,y),this.renderer=C,this.isDrawing=!1,this.canvas=A?M:null,this.context=A?M.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new g(0,0,E,y).setScene(m.game.scene.systemScene,!1),this.renderTarget=A?null:new n(C,E,y,1,0,!1,!0,!0,!1),this.pipeline=A?null:C.pipelines.get(u.SINGLE_PIPELINE),this.setSize(E,y)},setSize:function(v,m){m===void 0&&(m=v);var T=this.get(),E=T.source;if(v!==this.width||m!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=m);var y=this.renderTarget;y&&(y.resize(v,m),T.glTexture=y.texture,E.isRenderTexture=!0,E.isGLTexture=!0,E.glTexture=y.texture,E.glTexture.flipY=!0),this.camera.setSize(v,m),E.width=v,E.height=m,T.setSize(v,m),this.width=v,this.height=m}else{var C=this.getSourceImage();T.cutX+v>C.width&&(v=C.width-T.cutX),T.cutY+m>C.height&&(m=C.height-T.cutY),T.setSize(v,m,T.cutX,T.cutY)}return this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,m,T,E,y,C){var A=this.camera,M=this.renderer;m===void 0&&(m=1),T===void 0&&(T=0),E===void 0&&(E=0),y===void 0&&(y=this.width),C===void 0&&(C=this.height);var R=v>>16&255,O=v>>8&255,L=v&255,I=this.renderTarget;if(A.preRender(),I){I.bind(!0);var N=this.pipeline.manager.set(this.pipeline),B=M.width/I.width,b=M.height/I.height;N.drawFillRect(T*B,E*b,y*B,C*b,f.getTintFromFloats(L/255,O/255,R/255,1),m),I.unbind(!0)}else{var X=this.context;M.setContext(X),X.globalCompositeOperation="source-over",X.fillStyle="rgba("+R+","+O+","+L+","+m+")",X.fillRect(T,E,y,C),M.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var v=this.context,m=this.renderTarget;m?m.clear():v&&(v.save(),v.setTransform(1,0,0,1,0,0),v.clearRect(0,0,this.width,this.height),v.restore()),this.dirty=!1}return this},stamp:function(v,m,T,E,y){T===void 0&&(T=0),E===void 0&&(E=0);var C=r(y,"alpha",1),A=r(y,"tint",16777215),M=r(y,"angle",0),R=r(y,"rotation",0),O=r(y,"scale",1),L=r(y,"scaleX",O),I=r(y,"scaleY",O),N=r(y,"originX",.5),B=r(y,"originY",.5),b=r(y,"blendMode",0),X=r(y,"erase",!1),W=r(y,"skipBatch",!1),$=this.manager.resetStamp(C,A);return $.setAngle(0),M!==0?$.setAngle(M):R!==0&&$.setRotation(R),$.setScale(L,I),$.setTexture(v,m),$.setOrigin(N,B),$.setBlendMode(b),X&&(this._eraseMode=!0),W?this.batchGameObject($,T,E):this.draw($,T,E),X&&(this._eraseMode=!1),this},erase:function(v,m,T){return this._eraseMode=!0,this.draw(v,m,T),this._eraseMode=!1,this},draw:function(v,m,T,E,y){return this.beginDraw(),this.batchDraw(v,m,T,E,y),this.endDraw(),this},drawFrame:function(v,m,T,E,y,C){return this.beginDraw(),this.batchDrawFrame(v,m,T,E,y,C),this.endDraw(),this},repeat:function(v,m,T,E,y,C,A,M,R){if(T===void 0&&(T=0),E===void 0&&(E=0),y===void 0&&(y=this.width),C===void 0&&(C=this.height),A===void 0&&(A=1),M===void 0&&(M=16777215),R===void 0&&(R=!1),v instanceof i?m=v:m=this.manager.getFrame(v,m),!m)return this;var O=this.manager.resetStamp(A,M);O.setFrame(m),O.setOrigin(0);var L=m.width,I=m.height;y=Math.floor(y),C=Math.floor(C);var N=Math.ceil(y/L),B=Math.ceil(C/I),b=N*L-y,X=B*I-C;b>0&&(b=L-b),X>0&&(X=I-X),T<0&&(N+=Math.ceil(Math.abs(T)/L)),E<0&&(B+=Math.ceil(Math.abs(E)/I));var W=T,$=E,z=!1,V=this.manager.stampCrop.setTo(0,0,L,I);R||this.beginDraw();for(var D=0;D<B;D++){if($+I<0){$+=I;continue}for(var G=0;G<N;G++){if(z=!1,W+L<0){W+=L;continue}else W<0&&(z=!0,V.width=L+W,V.x=L-V.width);$<0&&(z=!0,V.height=I+$,V.y=I-V.height),b>0&&G===N-1&&(z=!0,V.width=b),X>0&&D===B-1&&(z=!0,V.height=X),z&&O.setCrop(V),this.batchGameObject(O,W,$),O.isCropped=!1,V.setTo(0,0,L,I),W+=L}W=T,$+=I}return R||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var v=this.camera,m=this.renderer,T=this.renderTarget;v.preRender(),T?m.beginCapture(T.width,T.height):m.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,m,T,E,y){return Array.isArray(v)||(v=[v]),this.batchList(v,m,T,E,y),this},batchDrawFrame:function(v,m,T,E,y,C){T===void 0&&(T=0),E===void 0&&(E=0),y===void 0&&(y=1),C===void 0&&(C=16777215);var A=this.manager.getFrame(v,m);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,T,E,C,y,this.camera.matrix,null):this.batchTextureFrame(A,T,E,y,C)),this},endDraw:function(v){if(v===void 0&&(v=this._eraseMode),this.isDrawing){var m=this.renderer,T=this.renderTarget;if(T){var E=m.endCapture(),y=m.pipelines.setUtility();y.blitFrame(E,T,1,!1,!1,v,this.isSpriteTexture),m.resetScissor(),m.resetViewport()}else m.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,m,T,E,y){var C=v.length;if(C!==0)for(var A=0;A<C;A++){var M=v[A];!M||M===this||(M.renderWebGL||M.renderCanvas?this.batchGameObject(M,m,T):M.isParent||M.list?this.batchGroup(M.getChildren(),m,T):typeof M=="string"?this.batchTextureFrameKey(M,null,m,T,E,y):M instanceof i?this.batchTextureFrame(M,m,T,E,y):Array.isArray(M)&&this.batchList(M,m,T,E,y))}},batchGroup:function(v,m,T){m===void 0&&(m=0),T===void 0&&(T=0);for(var E=0;E<v.length;E++){var y=v[E];y.willRender(this.camera)&&this.batchGameObject(y,y.x+m,y.y+T)}},batchGameObject:function(v,m,T){m===void 0&&(m=v.x),T===void 0&&(T=v.y);var E=v.x,y=v.y,C=this.camera,A=this.renderer,M=this._eraseMode,R=v.mask;if(v.setPosition(m,T),this.canvas){if(M){var O=v.blendMode;v.blendMode=l.ERASE}R&&R.preRenderCanvas(A,v,C),v.renderCanvas(A,v,C,null),R&&R.postRenderCanvas(A,v,C),M&&(v.blendMode=O)}else A&&(R&&R.preRenderWebGL(A,v,C),M||A.setBlendMode(v.blendMode),v.renderWebGL(A,v,C),R&&R.postRenderWebGL(A,C,this.renderTarget));v.setPosition(E,y)},batchTextureFrameKey:function(v,m,T,E,y,C){var A=this.manager.getFrame(v,m);A&&this.batchTextureFrame(A,T,E,y,C)},batchTextureFrame:function(v,m,T,E,y){m===void 0&&(m=0),T===void 0&&(T=0),E===void 0&&(E=1),y===void 0&&(y=16777215);var C=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(v,m,T,y,E,C,null);else{var M=this.context,R=v.canvasData,O=v.source.image;M.save(),M.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",M.globalAlpha=E,C.setToContext(M),R.width>0&&R.height>0&&M.drawImage(O,R.x,R.y,R.width,R.height,m,T,R.width,R.height),M.restore()}},snapshotArea:function(v,m,T,E,y,C,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,y,!1,v,m,T,E,C,A):this.renderer.snapshotCanvas(this.canvas,y,!1,v,m,T,E,C,A),this},snapshot:function(v,m,T){return this.snapshotArea(0,0,this.width,this.height,v,m,T)},snapshotPixel:function(v,m,T){return this.snapshotArea(v,m,1,1,T,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,m,T,E){var y=this.manager.resetStamp();y.setTexture(this),y.setOrigin(0),y.renderWebGL(v,y,T,E)},renderCanvas:function(){},preDestroy:function(){h.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.stamp.destroy(),this.canvas=null,this.context=null,this.renderer=null,this.scene=null}});p.exports=d},82047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(82897),h=t(98611),a=new l({initialize:function(i,r,u,n,o,f,d){this.texture=i,this.name=r,this.source=i.source[u],this.sourceIndex=u,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(f,d,n,o)},setSize:function(s,i,r,u){r===void 0&&(r=0),u===void 0&&(u=0),this.cutX=r,this.cutY=u,this.cutWidth=s,this.cutHeight=i,this.width=s,this.height=i,this.halfWidth=Math.floor(s*.5),this.halfHeight=Math.floor(i*.5),this.centerX=Math.floor(s/2),this.centerY=Math.floor(i/2);var n=this.data,o=n.cut;o.x=r,o.y=u,o.w=s,o.h=i,o.r=r+s,o.b=u+i,n.sourceSize.w=s,n.sourceSize.h=i,n.spriteSourceSize.w=s,n.spriteSourceSize.h=i,n.radius=.5*Math.sqrt(s*s+i*i);var f=n.drawImage;return f.x=r,f.y=u,f.width=s,f.height=i,this.updateUVs()},setTrim:function(s,i,r,u,n,o){var f=this.data,d=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=s,f.sourceSize.h=i,d.x=r,d.y=u,d.w=n,d.h=o,d.r=r+n,d.b=u+o,this.x=r,this.y=u,this.width=n,this.height=o,this.halfWidth=n*.5,this.halfHeight=o*.5,this.centerX=Math.floor(n/2),this.centerY=Math.floor(o/2),this.updateUVs()},setCropUVs:function(s,i,r,u,n,o,f){var d=this.cutX,v=this.cutY,m=this.cutWidth,T=this.cutHeight,E=this.realWidth,y=this.realHeight;i=g(i,0,E),r=g(r,0,y),u=g(u,0,E-i),n=g(n,0,y-r);var C=d+i,A=v+r,M=u,R=n,O=this.data;if(O.trim){var L=O.spriteSourceSize;u=g(u,0,m-i),n=g(n,0,T-r);var I=i+u,N=r+n,B=!(L.r<i||L.b<r||L.x>I||L.y>N);if(B){var b=Math.max(L.x,i),X=Math.max(L.y,r),W=Math.min(L.r,I)-b,$=Math.min(L.b,N)-X;M=W,R=$,o?C=d+(m-(b-L.x)-W):C=d+(b-L.x),f?A=v+(T-(X-L.y)-$):A=v+(X-L.y),i=b,r=X,u=W,n=$}else C=0,A=0,M=0,R=0}else o&&(C=d+(m-i-u)),f&&(A=v+(T-r-n));var z=this.source.width,V=this.source.height;return s.u0=Math.max(0,C/z),s.v0=Math.max(0,A/V),s.u1=Math.min(1,(C+M)/z),s.v1=Math.min(1,(A+R)/V),s.x=i,s.y=r,s.cx=C,s.cy=A,s.cw=M,s.ch=R,s.width=u,s.height=n,s.flipX=o,s.flipY=f,s},updateCropUVs:function(s,i,r){return this.setCropUVs(s,s.x,s.y,s.width,s.height,i,r)},setUVs:function(s,i,r,u,n,o){var f=this.data.drawImage;return f.width=s,f.height=i,this.u0=r,this.v0=u,this.u1=n,this.v1=o,this},updateUVs:function(){var s=this.cutX,i=this.cutY,r=this.cutWidth,u=this.cutHeight,n=this.data.drawImage;n.width=r,n.height=u;var o=this.source.width,f=this.source.height;return this.u0=s/o,this.v0=i/f,this.u1=(s+r)/o,this.v1=(i+u)/f,this},updateUVsInverted:function(){var s=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/s,this.v0=this.cutY/i,this.u1=this.cutX/s,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var s=new a(this.texture,this.name,this.sourceIndex);return s.cutX=this.cutX,s.cutY=this.cutY,s.cutWidth=this.cutWidth,s.cutHeight=this.cutHeight,s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.halfWidth=this.halfWidth,s.halfHeight=this.halfHeight,s.centerX=this.centerX,s.centerY=this.centerY,s.rotated=this.rotated,s.data=h(!0,s.data,this.data),s.updateUVs(),s},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});p.exports=a},31673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(82047),h=t(32547),a='Texture "%s" has no frame "%s"',s=new l({initialize:function(r,u,n,o,f){Array.isArray(n)||(n=[n]),this.manager=r,this.key=u,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<n.length;d++)this.source.push(new h(this,n[d],o,f))},add:function(i,r,u,n,o,f){if(this.has(i))return null;var d=new g(this,i,r,u,n,o,f);return this.frames[i]=d,this.firstFrame==="__BASE"&&(this.firstFrame=i),this.frameTotal++,d},remove:function(i){if(this.has(i)){var r=this.get(i);return r.destroy(),delete this.frames[i],!0}return!1},has:function(i){return this.frames.hasOwnProperty(i)},get:function(i){i||(i=this.firstFrame);var r=this.frames[i];return r||(console.warn(a,this.key,i),r=this.frames[this.firstFrame]),r},getTextureSourceIndex:function(i){for(var r=0;r<this.source.length;r++)if(this.source[r]===i)return r;return-1},getFramesFromTextureSource:function(i,r){r===void 0&&(r=!1);var u=[];for(var n in this.frames)if(!(n==="__BASE"&&!r)){var o=this.frames[n];o.sourceIndex===i&&u.push(o)}return u},getFrameNames:function(i){i===void 0&&(i=!1);var r=Object.keys(this.frames);if(!i){var u=r.indexOf("__BASE");u!==-1&&r.splice(u,1)}return r},getSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var r=this.frames[i];return r?r.source.image:(console.warn(a,this.key,i),this.frames.__BASE.source.image)},getDataSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var r=this.frames[i],u;return r?u=r.sourceIndex:(console.warn(a,this.key,i),u=this.frames.__BASE.sourceIndex),this.dataSource[u].image},setDataSource:function(i){Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++){var u=this.source[r];this.dataSource.push(new h(this,i[r],u.width,u.height))}},setFilter:function(i){var r;for(r=0;r<this.source.length;r++)this.source[r].setFilter(i);for(r=0;r<this.dataSource.length;r++)this.dataSource[r].setFilter(i)},destroy:function(){var i,r=this.source,u=this.dataSource;for(i=0;i<r.length;i++)r[i]&&r[i].destroy();for(i=0;i<u.length;i++)u[i]&&u[i].destroy();for(var n in this.frames){var o=this.frames[n];o&&o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});p.exports=s},6237:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),g=t(17487),h=t(56694),a=t(27119),s=t(86459),i=t(845),r=t(6659),u=t(38203),n=t(82047),o=t(97081),f=t(52780),d=t(10850),v=t(1539),m=t(42911),T=t(69150),E=t(74118),y=t(31673),C=new h({Extends:r,initialize:function(M){r.call(this),this.game=M,this.name="TextureManager",this.list={},this._tempCanvas=l.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new E,this.silentWarnings=!1,M.events.once(o.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(u.LOAD,this.updatePending,this),this.on(u.ERROR,this.updatePending,this);var A=this.game.config;this.addBase64("__DEFAULT",A.defaultImage),this.addBase64("__MISSING",A.missingImage),this.addBase64("__WHITE",A.whiteImage),this.game.events.once(o.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(u.LOAD),this.off(u.ERROR),this.emit(u.READY),this.stamp=new v(this.game.scene.systemScene).setOrigin(0))},checkKey:function(A){return this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;return this.list.hasOwnProperty(A.key)&&(A.destroy(),this.emit(u.REMOVE,A.key),this.emit(u.REMOVE_KEY+A.key)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,M){if(this.checkKey(A)){var R=this,O=new Image;O.onerror=function(){R.emit(u.ERROR,A)},O.onload=function(){var L=R.create(A,O);T.Image(L,0),R.emit(u.ADD,A,L),R.emit(u.ADD_KEY+A,L),R.emit(u.LOAD,A,L)},O.src=M}return this},getBase64:function(A,M,R,O){R===void 0&&(R="image/png"),O===void 0&&(O=.92);var L="",I=this.getFrame(A,M);if(I&&(I.source.isRenderTexture||I.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(I){var N=I.canvasData,B=l.create2D(this,N.width,N.height),b=B.getContext("2d",{willReadFrequently:!0});N.width>0&&N.height>0&&b.drawImage(I.source.image,N.x,N.y,N.width,N.height,0,0,N.width,N.height),L=B.toDataURL(R,O),l.remove(B)}return L},addImage:function(A,M,R){var O=null;return this.checkKey(A)&&(O=this.create(A,M),T.Image(O,0),R&&O.setDataSource(R),this.emit(u.ADD,A,O),this.emit(u.ADD_KEY+A,O)),O},addGLTexture:function(A,M,R,O){var L=null;return this.checkKey(A)&&(R===void 0&&(R=M.width),O===void 0&&(O=M.height),L=this.create(A,M,R,O),L.add("__BASE",0,0,0,R,O),this.emit(u.ADD,A,L),this.emit(u.ADD_KEY+A,L)),L},addCompressedTexture:function(A,M,R){var O=null;if(this.checkKey(A)){if(O=this.create(A,M),O.add("__BASE",0,0,0,M.width,M.height),R)if(Array.isArray(R))for(var L=0;L<R.length;L++)T.JSONHash(O,L,R[L]);else T.JSONHash(O,0,R);this.emit(u.ADD,A,O),this.emit(u.ADD_KEY+A,O)}return O},addRenderTexture:function(A,M){var R=null;return this.checkKey(A)&&(R=this.create(A,M),R.add("__BASE",0,0,0,M.width,M.height),this.emit(u.ADD,A,R),this.emit(u.ADD_KEY+A,R)),R},generate:function(A,M){if(this.checkKey(A)){var R=l.create(this,1,1);return M.canvas=R,f(M),this.addCanvas(A,R)}else return null},createCanvas:function(A,M,R){if(M===void 0&&(M=256),R===void 0&&(R=256),this.checkKey(A)){var O=l.create(this,M,R,s.CANVAS,!0);return this.addCanvas(A,O)}return null},addCanvas:function(A,M,R){R===void 0&&(R=!1);var O=null;return R?O=new g(this,A,M,M.width,M.height):this.checkKey(A)&&(O=new g(this,A,M,M.width,M.height),this.list[A]=O,this.emit(u.ADD,A,O),this.emit(u.ADD_KEY+A,O)),O},addDynamicTexture:function(A,M,R){var O=null;return typeof A=="string"&&!this.exists(A)?O=new i(this,A,M,R):(O=A,A=O.key),this.checkKey(A)?(this.list[A]=O,this.emit(u.ADD,A,O),this.emit(u.ADD_KEY+A,O)):O=null,O},addAtlas:function(A,M,R,O){return Array.isArray(R.textures)||Array.isArray(R.frames)?this.addAtlasJSONArray(A,M,R,O):this.addAtlasJSONHash(A,M,R,O)},addAtlasJSONArray:function(A,M,R,O){var L=null;if(M instanceof y?(A=L.key,L=M):this.checkKey(A)&&(L=this.create(A,M)),L){if(Array.isArray(R))for(var I=R.length===1,N=0;N<L.source.length;N++){var B=I?R[0]:R[N];T.JSONArray(L,N,B)}else T.JSONArray(L,0,R);O&&L.setDataSource(O),this.emit(u.ADD,A,L),this.emit(u.ADD_KEY+A,L)}return L},addAtlasJSONHash:function(A,M,R,O){var L=null;if(M instanceof y?(A=L.key,L=M):this.checkKey(A)&&(L=this.create(A,M)),L){if(Array.isArray(R))for(var I=0;I<R.length;I++)T.JSONHash(L,I,R[I]);else T.JSONHash(L,0,R);O&&L.setDataSource(O),this.emit(u.ADD,A,L),this.emit(u.ADD_KEY+A,L)}return L},addAtlasXML:function(A,M,R,O){var L=null;return M instanceof y?(A=L.key,L=M):this.checkKey(A)&&(L=this.create(A,M)),L&&(T.AtlasXML(L,0,R),O&&L.setDataSource(O),this.emit(u.ADD,A,L),this.emit(u.ADD_KEY+A,L)),L},addUnityAtlas:function(A,M,R,O){var L=null;return M instanceof y?(A=L.key,L=M):this.checkKey(A)&&(L=this.create(A,M)),L&&(T.UnityYAML(L,0,R),O&&L.setDataSource(O),this.emit(u.ADD,A,L),this.emit(u.ADD_KEY+A,L)),L},addSpriteSheet:function(A,M,R,O){var L=null;if(M instanceof y?(A=L.key,L=M):this.checkKey(A)&&(L=this.create(A,M)),L){var I=L.source[0].width,N=L.source[0].height;T.SpriteSheet(L,0,0,0,I,N,R),O&&L.setDataSource(O),this.emit(u.ADD,A,L),this.emit(u.ADD_KEY+A,L)}return L},addSpriteSheetFromAtlas:function(A,M){if(!this.checkKey(A))return null;var R=d(M,"atlas",null),O=d(M,"frame",null);if(!(!R||!O)){var L=this.get(R),I=L.get(O);if(I){var N=this.create(A,I.source.image);return I.trimmed?T.SpriteSheetFromAtlas(N,I,M):T.SpriteSheet(N,0,I.cutX,I.cutY,I.cutWidth,I.cutHeight,M),this.emit(u.ADD,A,N),this.emit(u.ADD_KEY+A,N),N}}},create:function(A,M,R,O){var L=null;return this.checkKey(A)&&(L=new y(this,A,M,R,O),this.list[A]=L),L},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof y?A:A instanceof n?A.texture:this.list.__MISSING},cloneFrame:function(A,M){if(this.list[A])return this.list[A].get(M).clone()},getFrame:function(A,M){if(this.list[A])return this.list[A].get(M)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(m(A))return this.getFrame(A.key,A.frame);if(A instanceof y)return A.get();if(A instanceof n)return A}else return},getTextureKeys:function(){var A=[];for(var M in this.list)M!=="__DEFAULT"&&M!=="__MISSING"&&M!=="__WHITE"&&A.push(M);return A},getPixel:function(A,M,R,O){var L=this.getFrame(R,O);if(L){A-=L.x,M-=L.y;var I=L.data.cut;if(A+=I.x,M+=I.y,A>=I.x&&A<I.r&&M>=I.y&&M<I.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage(L.source.image,A,M,1,1,0,0,1,1);var B=N.getImageData(0,0,1,1);return new a(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},getPixelAlpha:function(A,M,R,O){var L=this.getFrame(R,O);if(L){A-=L.x,M-=L.y;var I=L.data.cut;if(A+=I.x,M+=I.y,A>=I.x&&A<I.r&&M>=I.y&&M<I.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage(L.source.image,A,M,1,1,0,0,1,1);var B=N.getImageData(0,0,1,1);return B.data[3]}}return null},setTexture:function(A,M,R){return this.list[M]&&(A.texture=this.list[M],A.frame=A.texture.get(R)),A},renameTexture:function(A,M){var R=this.get(A);return R&&A!==M?(R.key=M,this.list[M]=R,delete this.list[A],!0):!1},each:function(A,M){for(var R=[null],O=1;O<arguments.length;O++)R.push(arguments[O]);for(var L in this.list)R[0]=this.list[L],A.apply(M,R)},resetStamp:function(A,M){A===void 0&&(A=1),M===void 0&&(M=16777215);var R=this.stamp;return R.setCrop(),R.setPosition(0),R.setAngle(0),R.setScale(1),R.setAlpha(A),R.setTint(M),R},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,l.remove(this._tempCanvas)}});p.exports=C},32547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),g=t(56694),h=t(28621),a=t(27394),s=new g({initialize:function(r,u,n,o,f){f===void 0&&(f=!1);var d=r.manager.game;this.renderer=d.renderer,this.texture=r,this.source=u,this.image=u.compressed?null:u,this.compressionAlgorithm=u.compressed?u.format:null,this.resolution=1,this.width=n||u.naturalWidth||u.videoWidth||u.width||0,this.height=o||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture=u.type==="RenderTexture"||u.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&u instanceof WebGLTexture,this.isPowerOf2=h(this.width,this.height),this.glTexture=null,this.flipY=f,this.init(d)},init:function(i){var r=this.renderer;if(r){var u=this.source;if(r.gl){var n=this.image,o=this.flipY,f=this.width,d=this.height,v=this.scaleMode;this.isCanvas?this.glTexture=r.createCanvasTexture(n,!1,o):this.isVideo?this.glTexture=r.createVideoTexture(n,!1,o):this.isRenderTexture?this.glTexture=r.createTextureFromSource(null,f,d,v):this.isGLTexture?this.glTexture=u:this.compressionAlgorithm?this.glTexture=r.createTextureFromSource(u):this.glTexture=r.createTextureFromSource(n,f,d,v)}else this.isRenderTexture&&(this.image=u.canvas)}i.config.antialias||this.setFilter(1)},setFilter:function(i){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,i),this.scaleMode=i},setFlipY:function(i){return i===void 0&&(i=!0),this.flipY=i,this},update:function(){var i=this.renderer,r=this.image,u=this.flipY,n=i.gl;n&&this.isCanvas?this.glTexture=i.updateCanvasTexture(r,this.glTexture,u):n&&this.isVideo&&(this.glTexture=i.updateVideoTexture(r,this.glTexture,u))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&l.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});p.exports=s},65154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};p.exports=S},49644:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture"},29569:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture-"},60079:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onerror"},72665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onload"},93006:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},69018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture"},85549:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture-"},38203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(49644),ADD_KEY:t(29569),ERROR:t(60079),LOAD:t(72665),READY:t(93006),REMOVE:t(69018),REMOVE_KEY:t(85549)}},87499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),g=t(65154),h={CanvasTexture:t(17487),DynamicTexture:t(845),Events:t(38203),FilterMode:g,Frame:t(82047),Parsers:t(69150),Texture:t(31673),TextureManager:t(6237),TextureSource:t(32547)};h=l(!1,h,g),p.exports=h},35082:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(!g.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var h=t.source[l];t.add("__BASE",l,0,0,h.width,h.height);for(var a=g.getElementsByTagName("SubTexture"),s,i=0;i<a.length;i++){var r=a[i].attributes,u=r.name.value,n=parseInt(r.x.value,10),o=parseInt(r.y.value,10),f=parseInt(r.width.value,10),d=parseInt(r.height.value,10);if(s=t.add(u,l,n,o,f,d),r.frameX){var v=Math.abs(parseInt(r.frameX.value,10)),m=Math.abs(parseInt(r.frameY.value,10)),T=parseInt(r.frameWidth.value,10),E=parseInt(r.frameHeight.value,10);s.setTrim(f,d,v,m,T,E)}}return t};p.exports=S},83332:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.source[l];return t.add("__BASE",l,0,0,g.width,g.height),t};p.exports=S},21560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.source[l];return t.add("__BASE",l,0,0,g.width,g.height),t};p.exports=S},64423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(32742),g=function(h,a,s){if(!s.frames&&!s.textures){console.warn("Invalid Texture Atlas JSON Array");return}var i=h.source[a];h.add("__BASE",a,0,0,i.width,i.height);for(var r=Array.isArray(s.textures)?s.textures[a].frames:s.frames,u,n=0;n<r.length;n++){var o=r[n];if(u=h.add(o.filename,a,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!u){console.warn("Invalid atlas json, frame already exists: "+o.filename);continue}o.trimmed&&u.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(u.rotated=!0,u.updateUVsInverted());var f=o.anchor||o.pivot;f&&(u.customPivot=!0,u.pivotX=f.x,u.pivotY=f.y),u.customData=l(o)}for(var d in s)d!=="frames"&&(Array.isArray(s[d])?h.customData[d]=s[d].slice(0):h.customData[d]=s[d]);return h};p.exports=g},17264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(32742),g=function(h,a,s){if(!s.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var i=h.source[a];h.add("__BASE",a,0,0,i.width,i.height);var r=s.frames,u;for(var n in r)if(r.hasOwnProperty(n)){var o=r[n];if(u=h.add(n,a,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!u){console.warn("Invalid atlas json, frame already exists: "+n);continue}o.trimmed&&u.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(u.rotated=!0,u.updateUVsInverted());var f=o.anchor||o.pivot;f&&(u.customPivot=!0,u.pivotX=f.x,u.pivotY=f.y),u.customData=l(o)}for(var d in s)d!=="frames"&&(Array.isArray(s[d])?h.customData[d]=s[d].slice(0):h.customData[d]=s[d]);return h};p.exports=g},67409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=[171,75,84,88,32,49,49,187,13,10,26,10],g,h=new Uint8Array(t,0,12);for(g=0;g<h.length;g++)if(h[g]!==l[g]){console.warn("KTXParser - Invalid file format");return}var a=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(t,12,13*a),i=s.getUint32(0,!0)===67305985,r=s.getUint32(1*a,i);if(r!==0){console.warn("KTXParser - Only compressed formats supported");return}var u=s.getUint32(4*a,i),n=s.getUint32(6*a,i),o=s.getUint32(7*a,i),f=Math.max(1,s.getUint32(11*a,i)),d=s.getUint32(12*a,i),v=new Array(f),m=12+13*4+d,T=n,E=o;for(g=0;g<f;g++){var y=new Int32Array(t,m,1)[0];m+=4,v[g]={data:new Uint8Array(t,m,y),width:T,height:E},T=Math.max(1,T>>1),E=Math.max(1,E>>1),m+=y}return{mipmaps:v,width:n,height:o,internalFormat:u,compressed:!0,generateMipmap:!1}};p.exports=S},24904:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(A,M,R,O,L,I,N){return N===void 0&&(N=16),Math.floor((A+R)/L)*Math.floor((M+O)/I)*N}function t(A,M){return A=Math.max(A,16),M=Math.max(M,8),A*M/4}function l(A,M){return A=Math.max(A,8),M=Math.max(M,8),A*M/2}function g(A,M){return S(A,M,3,3,4,4,8)}function h(A,M){return S(A,M,3,3,4,4)}function a(A,M){return S(A,M,4,3,5,4)}function s(A,M){return S(A,M,4,4,5,5)}function i(A,M){return S(A,M,5,4,6,5)}function r(A,M){return S(A,M,5,5,6,6)}function u(A,M){return S(A,M,7,4,8,5)}function n(A,M){return S(A,M,7,5,8,6)}function o(A,M){return S(A,M,7,7,8,8)}function f(A,M){return S(A,M,9,4,10,5)}function d(A,M){return S(A,M,9,5,10,6)}function v(A,M){return S(A,M,9,7,10,8)}function m(A,M){return S(A,M,9,9,10,10)}function T(A,M){return S(A,M,11,9,12,10)}function E(A,M){return S(A,M,11,11,12,12)}var y={0:{sizeFunc:t,glFormat:35841},1:{sizeFunc:t,glFormat:35843},2:{sizeFunc:l,glFormat:35840},3:{sizeFunc:l,glFormat:35842},6:{sizeFunc:g,glFormat:36196},7:{sizeFunc:g,glFormat:33776},8:{sizeFunc:h,glFormat:33777},9:{sizeFunc:h,glFormat:33778},11:{sizeFunc:h,glFormat:33779},22:{sizeFunc:g,glFormat:37492},23:{sizeFunc:h,glFormat:37496},24:{sizeFunc:g,glFormat:37494},25:{sizeFunc:g,glFormat:37488},26:{sizeFunc:h,glFormat:37490},27:{sizeFunc:h,glFormat:37808},28:{sizeFunc:a,glFormat:37809},29:{sizeFunc:s,glFormat:37810},30:{sizeFunc:i,glFormat:37811},31:{sizeFunc:r,glFormat:37812},32:{sizeFunc:u,glFormat:37813},33:{sizeFunc:n,glFormat:37814},34:{sizeFunc:o,glFormat:37815},35:{sizeFunc:f,glFormat:37816},36:{sizeFunc:d,glFormat:37817},37:{sizeFunc:v,glFormat:37818},38:{sizeFunc:m,glFormat:37819},39:{sizeFunc:T,glFormat:37820},40:{sizeFunc:E,glFormat:37821}},C=function(A){for(var M=new Uint32Array(A,0,13),R=M[2],O=y[R].glFormat,L=y[R].sizeFunc,I=M[11],N=M[7],B=M[6],b=52+M[12],X=new Uint8Array(A,b),W=new Array(I),$=0,z=N,V=B,D=0;D<I;D++){var G=L(z,V);W[D]={data:new Uint8Array(X.buffer,X.byteOffset+$,G),width:z,height:V},z=Math.max(1,z>>1),V=Math.max(1,V>>1),$+=G}return{mipmaps:W,width:N,height:B,internalFormat:O,compressed:!0,generateMipmap:!1}};p.exports=C},6143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),g=function(h,a,s,i,r,u,n){var o=l(n,"frameWidth",null),f=l(n,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=h.source[a];h.add("__BASE",a,0,0,d.width,d.height);var v=l(n,"startFrame",0),m=l(n,"endFrame",-1),T=l(n,"margin",0),E=l(n,"spacing",0),y=Math.floor((r-T+E)/(o+E)),C=Math.floor((u-T+E)/(f+E)),A=y*C;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",h.key),(v>A||v<-A)&&(v=0),v<0&&(v=A+v),(m===-1||m>A||m<v)&&(m=A);for(var M=T,R=T,O=0,L=0,I=0,N=0;N<A;N++){O=0,L=0;var B=M+o,b=R+f;B>r&&(O=B-r),b>u&&(L=b-u),N>=v&&N<=m&&(h.add(I,a,s+M,i+R,o-O,f-L),I++),M+=o+E,M+o>r&&(M=T,R+=f+E)}return h};p.exports=g},20030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),g=function(h,a,s){var i=l(s,"frameWidth",null),r=l(s,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var u=h.source[0];h.add("__BASE",0,0,0,u.width,u.height),l(s,"startFrame",0),l(s,"endFrame",-1);for(var n=l(s,"margin",0),o=l(s,"spacing",0),f=a.cutX,d=a.cutY,v=a.cutWidth,m=a.cutHeight,T=a.realWidth,E=a.realHeight,y=Math.floor((T-n+o)/(i+o)),C=Math.floor((E-n+o)/(r+o)),A=a.x,M=i-A,R=i-(T-v-A),O=a.y,L=r-O,I=r-(E-m-O),N,B=n,b=n,X=0,W=0,$=0;$<C;$++){for(var z=$===0,V=$===C-1,D=0;D<y;D++){var G=D===0,U=D===y-1;if(N=h.add(X,W,f+B,d+b,i,r),G||z||U||V){var Y=G?A:0,H=z?O:0,Z=0,K=0;G&&(Z+=i-M),U&&(Z+=i-R),z&&(K+=r-L),V&&(K+=r-I);var k=i-Z,j=r-K;N.cutWidth=k,N.cutHeight=j,N.setTrim(i,r,Y,H,k,j)}B+=o,G?B+=M:U?B+=R:B+=i,X++}B=n,b+=o,z?b+=L:V?b+=I:b+=r}return h};p.exports=g},89187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(g,h,a,s){var i=S-s.y-s.height;g.add(a,h,s.x,i,s.width,s.height)},l=function(g,h,a){var s=g.source[h];g.add("__BASE",h,0,0,s.width,s.height),S=s.height;for(var i=a.split(`
`),r=/^[ ]*(- )*(\w+)+[: ]+(.*)/,u="",n="",o={x:0,y:0,width:0,height:0},f=0;f<i.length;f++){var d=i[f].match(r);if(d){var v=d[1]==="- ",m=d[2],T=d[3];if(v&&(n!==u&&(t(g,h,n,o),u=n),o={x:0,y:0,width:0,height:0}),m==="name"){n=T;continue}switch(m){case"x":case"y":case"width":case"height":o[m]=parseInt(T,10);break}}}return n!==u&&t(g,h,n,o),g};p.exports=l},69150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AtlasXML:t(35082),Canvas:t(83332),Image:t(21560),JSONArray:t(64423),JSONHash:t(17264),KTXParser:t(67409),PVRParser:t(24904),SpriteSheet:t(6143),SpriteSheetFromAtlas:t(20030),UnityYAML:t(89187)}},93560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a,s,i,r,u,n,o){(i===void 0||i<=0)&&(i=32),(r===void 0||r<=0)&&(r=32),u===void 0&&(u=0),n===void 0&&(n=0),this.name=a,this.firstgid=s|0,this.imageWidth=i|0,this.imageHeight=r|0,this.imageMargin=u|0,this.imageSpacing=n|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},addImage:function(h,a){return this.images.push({gid:h,image:a}),this.total++,this}});p.exports=g},46422:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=new l({initialize:function(a){if(this.gids=[],a!==void 0)for(var s=0;s<a.length;++s)for(var i=a[s],r=0;r<i.total;++r)this.gids[i.firstgid+r]=i;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(h){this.gids=h?this._gids:void 0}},getTypeIncludingTile:function(h){if(h.type!==void 0&&h.type!=="")return h.type;if(!(!this.gids||h.gid===void 0)){var a=this.gids[h.gid];if(a){var s=a.getTileData(h.gid);if(s)return s.type}}},setTextureAndFrame:function(h,a,s,i){if(a===null&&this.gids&&i.gid!==void 0){var r=this.gids[i.gid];r&&(a===null&&r.image!==void 0&&(a=r.image.key),s===null&&(s=i.gid-r.firstgid),h.scene.textures.getFrame(a,s)||(a=null,s=null))}h.setTexture(a,s)},setPropertiesFromTiledObject:function(h,a){if(this.gids!==void 0&&a.gid!==void 0){var s=this.gids[a.gid];s!==void 0&&this.setFromJSON(h,s.getTileProperties(a.gid))}this.setFromJSON(h,a.properties)},setFromJSON:function(h,a){if(a){if(Array.isArray(a)){a.forEach(function(i){h.setData(i.name,i.value)});return}for(var s in a)h[s]!==void 0?h[s]=a[s]:h.setData(s,a[s])}}});p.exports=g},15043:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93560),g=t(16586),h=t(90715),a=t(89797),s=function(i,r,u,n,o,f,d,v){u===void 0&&(u=32),n===void 0&&(n=32),o===void 0&&(o=10),f===void 0&&(f=10),v===void 0&&(v=!1);var m=null;if(Array.isArray(d)){var T=r!==void 0?r:"map";m=h(T,l.ARRAY_2D,d,u,n,v)}else if(r!==void 0){var E=i.cache.tilemap.get(r);E?m=h(r,E.format,E.data,u,n,v):console.warn("No map data found for key "+r)}return m===null&&(m=new g({tileWidth:u,tileHeight:n,width:o,height:f})),new a(i,m)};p.exports=s},29633:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(12920),a=t(28699),s=t(66658),i=new l({Mixins:[g.Alpha,g.Flip,g.Visible],initialize:function(u,n,o,f,d,v,m,T){this.layer=u,this.index=n,this.x=o,this.y=f,this.width=d,this.height=v,this.right,this.bottom,this.baseWidth=m!==void 0?m:d,this.baseHeight=T!==void 0?T:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(r,u){return!(r<this.pixelX||u<this.pixelY||r>this.right||u>this.bottom)},copy:function(r){return this.index=r.index,this.alpha=r.alpha,this.properties=a(r.properties),this.visible=r.visible,this.setFlip(r.flipX,r.flipY),this.tint=r.tint,this.rotation=r.rotation,this.collideUp=r.collideUp,this.collideDown=r.collideDown,this.collideLeft=r.collideLeft,this.collideRight=r.collideRight,this.collisionCallback=r.collisionCallback,this.collisionCallbackContext=r.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(r){var u=this.tilemapLayer;if(u){var n=u.tileToWorldXY(this.x,this.y,void 0,r);return n.x}return this.x*this.baseWidth},getRight:function(r){var u=this.tilemapLayer;return u?this.getLeft(r)+this.width*u.scaleX:this.getLeft(r)+this.width},getTop:function(r){var u=this.tilemapLayer;if(u){var n=u.tileToWorldXY(this.x,this.y,void 0,r);return n.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(r){var u=this.tilemapLayer;return u?this.getTop(r)+this.height*u.scaleY:this.getTop(r)+this.height},getBounds:function(r,u){return u===void 0&&(u=new s),u.x=this.getLeft(r),u.y=this.getTop(r),u.width=this.getRight(r)-u.x,u.height=this.getBottom(r)-u.y,u},getCenterX:function(r){return(this.getLeft(r)+this.getRight(r))/2},getCenterY:function(r){return(this.getTop(r)+this.getBottom(r))/2},intersects:function(r,u,n,o){return!(n<=this.pixelX||o<=this.pixelY||r>=this.right||u>=this.bottom)},isInteresting:function(r,u){return r&&u?this.canCollide||this.hasInterestingFace:r?this.collides:u?this.hasInterestingFace:!1},resetCollision:function(r){if(r===void 0&&(r=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,r){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(r,u,n,o,f){if(u===void 0&&(u=r),n===void 0&&(n=r),o===void 0&&(o=r),f===void 0&&(f=!0),this.collideLeft=r,this.collideRight=u,this.collideUp=n,this.collideDown=o,this.faceLeft=r,this.faceRight=u,this.faceTop=n,this.faceBottom=o,f){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(r,u){return r===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=r,this.collisionCallbackContext=u),this},setSize:function(r,u,n,o){return r!==void 0&&(this.width=r),u!==void 0&&(this.height=u),n!==void 0&&(this.baseWidth=n),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var r=this.layer.orientation;if(r===h.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(r===h.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(r===h.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(r===h.HEXAGONAL){var u=this.layer.staggerAxis,n=this.layer.staggerIndex,o=this.layer.hexSideLength,f,d;u==="y"?(d=(this.baseHeight-o)/2+o,n==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):u==="x"&&(f=(this.baseWidth-o)/2+o,this.pixelX=this.x*f,n==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var r=this.layer.tilemapLayer;if(r){var u=r.gidMap[this.index];if(u)return u}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var r=this.tilemapLayer;return r?r.tilemap:null}}});p.exports=i},89797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14556),g=t(56694),h=t(75606),a=t(93560),s=t(72632),i=t(94990),r=t(46422),u=t(12920),n=t(52257),o=t(72677),f=t(13747),d=t(29633),v=t(5047),m=t(87177),T=t(47975),E=new g({initialize:function(C,A){this.scene=C,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var M=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(M),WorldToTileX:v.GetWorldToTileXFunction(M),WorldToTileY:v.GetWorldToTileYFunction(M),TileToWorldXY:v.GetTileToWorldXYFunction(M),TileToWorldX:v.GetTileToWorldXFunction(M),TileToWorldY:v.GetTileToWorldYFunction(M),GetTileCorners:v.GetTileCornersFunction(M)}},setRenderOrder:function(y){var C=["right-down","left-down","right-up","left-up"];return typeof y=="number"&&(y=C[y]),C.indexOf(y)>-1&&(this.renderOrder=y),this},addTilesetImage:function(y,C,A,M,R,O,L,I){if(y===void 0)return null;if(C==null&&(C=y),!this.scene.sys.textures.exists(C))return console.warn("Invalid Tileset Image: "+C),null;var N=this.scene.sys.textures.get(C),B=this.getTilesetIndex(y);if(B===null&&this.format===a.TILED_JSON)return console.warn("No data found for Tileset: "+y),null;var b=this.tilesets[B];return b?(b.setTileSize(A,M),b.setSpacing(R,O),b.setImage(N),b):(A===void 0&&(A=this.tileWidth),M===void 0&&(M=this.tileHeight),R===void 0&&(R=0),O===void 0&&(O=0),L===void 0&&(L=0),I===void 0&&(I={x:0,y:0}),b=new T(y,L,A,M,R,O,void 0,void 0,I),b.setImage(N),this.tilesets.push(b),this.tiles=l(this),b)},copy:function(y,C,A,M,R,O,L,I){return I=this.getLayer(I),I!==null?(v.Copy(y,C,A,M,R,O,L,I),this):null},createBlankLayer:function(y,C,A,M,R,O,L,I){A===void 0&&(A=0),M===void 0&&(M=0),R===void 0&&(R=this.width),O===void 0&&(O=this.height),L===void 0&&(L=this.tileWidth),I===void 0&&(I=this.tileHeight);var N=this.getLayerIndex(y);if(N!==null)return console.warn("Invalid Tilemap Layer ID: "+y),null;for(var B=new i({name:y,tileWidth:L,tileHeight:I,width:R,height:O,orientation:this.orientation}),b,X=0;X<O;X++){b=[];for(var W=0;W<R;W++)b.push(new d(B,-1,W,X,L,I,this.tileWidth,this.tileHeight));B.data.push(b)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var $=new m(this.scene,this,this.currentLayerIndex,C,A,M);return $.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add($),$},createLayer:function(y,C,A,M){var R=this.getLayerIndex(y);if(R===null)return console.warn("Invalid Tilemap Layer ID: "+y),typeof y=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var O=this.layers[R];if(O.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+y),null;this.currentLayerIndex=R,A===void 0&&(A=O.x),M===void 0&&(M=O.y);var L=new m(this.scene,this,R,C,A,M);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},createFromObjects:function(y,C,A){A===void 0&&(A=!0);var M=[],R=this.getObjectLayer(y);if(!R)return console.warn("createFromObjects: Invalid objectLayerName given: "+y),M;var O=new r(A?this.tilesets:void 0);Array.isArray(C)||(C=[C]);for(var L=R.objects,I=0;I<C.length;I++){var N=C[I],B=s(N,"id",null),b=s(N,"gid",null),X=s(N,"name",null),W=s(N,"type",null);O.enabled=!s(N,"ignoreTileset",null);for(var $,z=[],V=0;V<L.length;V++)$=L[V],(B===null&&b===null&&X===null&&W===null||B!==null&&$.id===B||b!==null&&$.gid===b||X!==null&&$.name===X||W!==null&&O.getTypeIncludingTile($)===W)&&z.push($);for(var D=s(N,"classType",f),G=s(N,"scene",this.scene),U=s(N,"container",null),Y=s(N,"key",null),H=s(N,"frame",null),Z=0;Z<z.length;Z++){$=z[Z];var K=new D(G);if(K.setName($.name),K.setPosition($.x,$.y),O.setTextureAndFrame(K,Y,H,$),$.width&&(K.displayWidth=$.width),$.height&&(K.displayHeight=$.height),this.orientation===u.ISOMETRIC){var k=this.tileWidth/this.tileHeight,j={x:K.x-K.y,y:(K.x+K.y)/k};K.x=j.x,K.y=j.y}var Q={x:K.originX*$.width,y:(K.originY-($.gid?1:0))*$.height};if($.rotation){var J=h($.rotation);n(Q,J),K.rotation=J}K.x+=Q.x,K.y+=Q.y,($.flippedHorizontal!==void 0||$.flippedVertical!==void 0)&&K.setFlip($.flippedHorizontal,$.flippedVertical),$.visible||(K.visible=!1),O.setPropertiesFromTiledObject(K,$),U?U.add(K):G.add.existing(K),M.push(K)}}return M},createFromTiles:function(y,C,A,M,R,O){return O=this.getLayer(O),O===null?null:v.CreateFromTiles(y,C,A,M,R,O)},fill:function(y,C,A,M,R,O,L){return O===void 0&&(O=!0),L=this.getLayer(L),L===null?null:(v.Fill(y,C,A,M,R,O,L),this)},filterObjects:function(y,C,A){if(typeof y=="string"){var M=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+M),null}return y.objects.filter(C,A)},filterTiles:function(y,C,A,M,R,O,L,I){return I=this.getLayer(I),I===null?null:v.FilterTiles(y,C,A,M,R,O,L,I)},findByIndex:function(y,C,A,M){return M=this.getLayer(M),M===null?null:v.FindByIndex(y,C,A,M)},findObject:function(y,C,A){if(typeof y=="string"){var M=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+M),null}return y.objects.find(C,A)||null},findTile:function(y,C,A,M,R,O,L,I){return I=this.getLayer(I),I===null?null:v.FindTile(y,C,A,M,R,O,L,I)},forEachTile:function(y,C,A,M,R,O,L,I){return I=this.getLayer(I),I===null?null:(v.ForEachTile(y,C,A,M,R,O,L,I),this)},getImageIndex:function(y){return this.getIndex(this.images,y)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(y){return y.name})},getIndex:function(y,C){for(var A=0;A<y.length;A++)if(y[A].name===C)return A;return null},getLayer:function(y){var C=this.getLayerIndex(y);return C!==null?this.layers[C]:null},getObjectLayer:function(y){var C=this.getIndex(this.objects,y);return C!==null?this.objects[C]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(y){return y.name})},getLayerIndex:function(y){return y===void 0?this.currentLayerIndex:typeof y=="string"?this.getLayerIndexByName(y):typeof y=="number"&&y<this.layers.length?y:y instanceof m&&y.tilemap===this?y.layerIndex:null},getLayerIndexByName:function(y){return this.getIndex(this.layers,y)},getTileAt:function(y,C,A,M){return M=this.getLayer(M),M===null?null:v.GetTileAt(y,C,A,M)},getTileAtWorldXY:function(y,C,A,M,R){return R=this.getLayer(R),R===null?null:v.GetTileAtWorldXY(y,C,A,M,R)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(y){return y.name})},getTilesWithin:function(y,C,A,M,R,O){return O=this.getLayer(O),O===null?null:v.GetTilesWithin(y,C,A,M,R,O)},getTilesWithinShape:function(y,C,A,M){return M=this.getLayer(M),M===null?null:v.GetTilesWithinShape(y,C,A,M)},getTilesWithinWorldXY:function(y,C,A,M,R,O,L){return L=this.getLayer(L),L===null?null:v.GetTilesWithinWorldXY(y,C,A,M,R,O,L)},getTileset:function(y){var C=this.getIndex(this.tilesets,y);return C!==null?this.tilesets[C]:null},getTilesetIndex:function(y){return this.getIndex(this.tilesets,y)},hasTileAt:function(y,C,A){return A=this.getLayer(A),A===null?null:v.HasTileAt(y,C,A)},hasTileAtWorldXY:function(y,C,A,M){return M=this.getLayer(M),M===null?null:v.HasTileAtWorldXY(y,C,A,M)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(y){this.setLayer(y)}},putTileAt:function(y,C,A,M,R){return M===void 0&&(M=!0),R=this.getLayer(R),R===null?null:v.PutTileAt(y,C,A,M,R)},putTileAtWorldXY:function(y,C,A,M,R,O){return M===void 0&&(M=!0),O=this.getLayer(O),O===null?null:v.PutTileAtWorldXY(y,C,A,M,R,O)},putTilesAt:function(y,C,A,M,R){return M===void 0&&(M=!0),R=this.getLayer(R),R===null?null:(v.PutTilesAt(y,C,A,M,R),this)},randomize:function(y,C,A,M,R,O){return O=this.getLayer(O),O===null?null:(v.Randomize(y,C,A,M,R,O),this)},calculateFacesAt:function(y,C,A){return A=this.getLayer(A),A===null?null:(v.CalculateFacesAt(y,C,A),this)},calculateFacesWithin:function(y,C,A,M,R){return R=this.getLayer(R),R===null?null:(v.CalculateFacesWithin(y,C,A,M,R),this)},removeLayer:function(y){var C=this.getLayerIndex(y);if(C!==null){o(this.layers,C);for(var A=C;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===C&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(y){var C=this.getLayerIndex(y);return C!==null?(y=this.layers[C],y.tilemapLayer.destroy(),o(this.layers,C),this.currentLayerIndex===C&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var y=this.layers,C=0;C<y.length;C++)y[C].tilemapLayer&&y[C].tilemapLayer.destroy(!1);return y.length=0,this.currentLayerIndex=0,this},removeTile:function(y,C,A){C===void 0&&(C=-1),A===void 0&&(A=!0);var M=[];Array.isArray(y)||(y=[y]);for(var R=0;R<y.length;R++){var O=y[R];M.push(this.removeTileAt(O.x,O.y,!0,A,O.tilemapLayer)),C>-1&&this.putTileAt(C,O.x,O.y,A,O.tilemapLayer)}return M},removeTileAt:function(y,C,A,M,R){return A===void 0&&(A=!0),M===void 0&&(M=!0),R=this.getLayer(R),R===null?null:v.RemoveTileAt(y,C,A,M,R)},removeTileAtWorldXY:function(y,C,A,M,R,O){return A===void 0&&(A=!0),M===void 0&&(M=!0),O=this.getLayer(O),O===null?null:v.RemoveTileAtWorldXY(y,C,A,M,R,O)},renderDebug:function(y,C,A){return A=this.getLayer(A),A===null?null:(this.orientation===u.ORTHOGONAL&&v.RenderDebug(y,C,A),this)},renderDebugFull:function(y,C){for(var A=this.layers,M=0;M<A.length;M++)v.RenderDebug(y,C,A[M]);return this},replaceByIndex:function(y,C,A,M,R,O,L){return L=this.getLayer(L),L===null?null:(v.ReplaceByIndex(y,C,A,M,R,O,L),this)},setCollision:function(y,C,A,M,R){return C===void 0&&(C=!0),A===void 0&&(A=!0),R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:(v.SetCollision(y,C,A,M,R),this)},setCollisionBetween:function(y,C,A,M,R){return A===void 0&&(A=!0),M===void 0&&(M=!0),R=this.getLayer(R),R===null?null:(v.SetCollisionBetween(y,C,A,M,R),this)},setCollisionByProperty:function(y,C,A,M){return C===void 0&&(C=!0),A===void 0&&(A=!0),M=this.getLayer(M),M===null?null:(v.SetCollisionByProperty(y,C,A,M),this)},setCollisionByExclusion:function(y,C,A,M){return C===void 0&&(C=!0),A===void 0&&(A=!0),M=this.getLayer(M),M===null?null:(v.SetCollisionByExclusion(y,C,A,M),this)},setCollisionFromCollisionGroup:function(y,C,A){return y===void 0&&(y=!0),C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:(v.SetCollisionFromCollisionGroup(y,C,A),this)},setTileIndexCallback:function(y,C,A,M){return M=this.getLayer(M),M===null?null:(v.SetTileIndexCallback(y,C,A,M),this)},setTileLocationCallback:function(y,C,A,M,R,O,L){return L=this.getLayer(L),L===null?null:(v.SetTileLocationCallback(y,C,A,M,R,O,L),this)},setLayer:function(y){var C=this.getLayerIndex(y);return C!==null&&(this.currentLayerIndex=C),this},setBaseTileSize:function(y,C){this.tileWidth=y,this.tileHeight=C,this.widthInPixels=this.width*y,this.heightInPixels=this.height*C;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=y,this.layers[A].baseTileHeight=C;for(var M=this.layers[A].data,R=this.layers[A].width,O=this.layers[A].height,L=0;L<O;L++)for(var I=0;I<R;I++){var N=M[L][I];N!==null&&N.setSize(void 0,void 0,y,C)}}return this},setLayerTileSize:function(y,C,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=y,A.tileHeight=C;for(var M=A.data,R=A.width,O=A.height,L=0;L<O;L++)for(var I=0;I<R;I++){var N=M[L][I];N!==null&&N.setSize(y,C)}return this},shuffle:function(y,C,A,M,R){return R=this.getLayer(R),R===null?null:(v.Shuffle(y,C,A,M,R),this)},swapByIndex:function(y,C,A,M,R,O,L){return L=this.getLayer(L),L===null?null:(v.SwapByIndex(y,C,A,M,R,O,L),this)},tileToWorldX:function(y,C,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(y,C,A)},tileToWorldY:function(y,C,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(y,C,A)},tileToWorldXY:function(y,C,A,M,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldXY(y,C,A,M,R)},getTileCorners:function(y,C,A,M){return M=this.getLayer(M),M===null?null:this._convert.GetTileCorners(y,C,A,M)},weightedRandomize:function(y,C,A,M,R,O){return O=this.getLayer(O),O===null?null:(v.WeightedRandomize(C,A,M,R,y,O),this)},worldToTileX:function(y,C,A,M){return M=this.getLayer(M),M===null?null:this._convert.WorldToTileX(y,C,A,M)},worldToTileY:function(y,C,A,M){return M=this.getLayer(M),M===null?null:this._convert.WorldToTileY(y,C,A,M)},worldToTileXY:function(y,C,A,M,R,O){return O=this.getLayer(O),O===null?null:this._convert.WorldToTileXY(y,C,A,M,R,O)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});p.exports=E},4843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99325),g=t(15043);l.register("tilemap",function(h){var a=h!==void 0?h:{};return g(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},37940:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),g=t(15043);l.register("tilemap",function(h,a,s,i,r,u,n){return h===null&&(h=void 0),a===null&&(a=void 0),s===null&&(s=void 0),i===null&&(i=void 0),r===null&&(r=void 0),g(this.scene,h,a,s,i,r,u,n)})},87177:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(64937),h=t(89980),a=t(5047),s=t(96193),i=t(93736),r=new l({Extends:h,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.Transform,g.Visible,g.ScrollFactor,s],initialize:function(n,o,f,d,v,m){h.call(this,n,"TilemapLayer"),this.isTilemap=!0,this.tilemap=o,this.layerIndex=f,this.layer=o.layers[f],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new i,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(v,m),this.setOrigin(0,0),this.setSize(o.tileWidth*this.layer.width,o.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(u){var n=[],o=[],f=this.tilemap;Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var v=u[d];if(typeof v=="string"&&(v=f.getTileset(v)),v){o.push(v);for(var m=v.firstgid,T=0;T<v.total;T++)n[m+T]=v}}this.gidMap=n,this.tileset=o},setRenderOrder:function(u){var n=["right-down","left-down","right-up","left-up"];return typeof u=="string"&&(u=n.indexOf(u)),u>=0&&u<4&&(this._renderOrder=u),this},calculateFacesAt:function(u,n){return a.CalculateFacesAt(u,n,this.layer),this},calculateFacesWithin:function(u,n,o,f){return a.CalculateFacesWithin(u,n,o,f,this.layer),this},createFromTiles:function(u,n,o,f,d){return a.CreateFromTiles(u,n,o,f,d,this.layer)},cull:function(u){return this.cullCallback(this.layer,u,this.culledTiles,this._renderOrder)},copy:function(u,n,o,f,d,v,m){return a.Copy(u,n,o,f,d,v,m,this.layer),this},fill:function(u,n,o,f,d,v){return a.Fill(u,n,o,f,d,v,this.layer),this},filterTiles:function(u,n,o,f,d,v,m){return a.FilterTiles(u,n,o,f,d,v,m,this.layer)},findByIndex:function(u,n,o){return a.FindByIndex(u,n,o,this.layer)},findTile:function(u,n,o,f,d,v,m){return a.FindTile(u,n,o,f,d,v,m,this.layer)},forEachTile:function(u,n,o,f,d,v,m){return a.ForEachTile(u,n,o,f,d,v,m,this.layer),this},setTint:function(u,n,o,f,d,v){u===void 0&&(u=16777215);var m=function(T){T.tint=u};return this.forEachTile(m,this,n,o,f,d,v)},getTileAt:function(u,n,o){return a.GetTileAt(u,n,o,this.layer)},getTileAtWorldXY:function(u,n,o,f){return a.GetTileAtWorldXY(u,n,o,f,this.layer)},getIsoTileAtWorldXY:function(u,n,o,f,d){o===void 0&&(o=!0);var v=this.tempVec;return a.IsometricWorldToTileXY(u,n,!0,v,d,this.layer,o),this.getTileAt(v.x,v.y,f)},getTilesWithin:function(u,n,o,f,d){return a.GetTilesWithin(u,n,o,f,d,this.layer)},getTilesWithinShape:function(u,n,o){return a.GetTilesWithinShape(u,n,o,this.layer)},getTilesWithinWorldXY:function(u,n,o,f,d,v){return a.GetTilesWithinWorldXY(u,n,o,f,d,v,this.layer)},hasTileAt:function(u,n){return a.HasTileAt(u,n,this.layer)},hasTileAtWorldXY:function(u,n,o){return a.HasTileAtWorldXY(u,n,o,this.layer)},putTileAt:function(u,n,o,f){return a.PutTileAt(u,n,o,f,this.layer)},putTileAtWorldXY:function(u,n,o,f,d){return a.PutTileAtWorldXY(u,n,o,f,d,this.layer)},putTilesAt:function(u,n,o,f){return a.PutTilesAt(u,n,o,f,this.layer),this},randomize:function(u,n,o,f,d){return a.Randomize(u,n,o,f,d,this.layer),this},removeTileAt:function(u,n,o,f){return a.RemoveTileAt(u,n,o,f,this.layer)},removeTileAtWorldXY:function(u,n,o,f,d){return a.RemoveTileAtWorldXY(u,n,o,f,d,this.layer)},renderDebug:function(u,n){return a.RenderDebug(u,n,this.layer),this},replaceByIndex:function(u,n,o,f,d,v){return a.ReplaceByIndex(u,n,o,f,d,v,this.layer),this},setSkipCull:function(u){return u===void 0&&(u=!0),this.skipCull=u,this},setCullPadding:function(u,n){return u===void 0&&(u=1),n===void 0&&(n=1),this.cullPaddingX=u,this.cullPaddingY=n,this},setCollision:function(u,n,o,f){return a.SetCollision(u,n,o,this.layer,f),this},setCollisionBetween:function(u,n,o,f){return a.SetCollisionBetween(u,n,o,f,this.layer),this},setCollisionByProperty:function(u,n,o){return a.SetCollisionByProperty(u,n,o,this.layer),this},setCollisionByExclusion:function(u,n,o){return a.SetCollisionByExclusion(u,n,o,this.layer),this},setCollisionFromCollisionGroup:function(u,n){return a.SetCollisionFromCollisionGroup(u,n,this.layer),this},setTileIndexCallback:function(u,n,o){return a.SetTileIndexCallback(u,n,o,this.layer),this},setTileLocationCallback:function(u,n,o,f,d,v){return a.SetTileLocationCallback(u,n,o,f,d,v,this.layer),this},shuffle:function(u,n,o,f){return a.Shuffle(u,n,o,f,this.layer),this},swapByIndex:function(u,n,o,f,d,v){return a.SwapByIndex(u,n,o,f,d,v,this.layer),this},tileToWorldX:function(u,n){return this.tilemap.tileToWorldX(u,n,this)},tileToWorldY:function(u,n){return this.tilemap.tileToWorldY(u,n,this)},tileToWorldXY:function(u,n,o,f){return this.tilemap.tileToWorldXY(u,n,o,f,this)},getTileCorners:function(u,n,o){return this.tilemap.getTileCorners(u,n,o,this)},weightedRandomize:function(u,n,o,f,d){return a.WeightedRandomize(n,o,f,d,u,this.layer),this},worldToTileX:function(u,n,o){return this.tilemap.worldToTileX(u,n,o,this)},worldToTileY:function(u,n,o){return this.tilemap.worldToTileY(u,n,o,this)},worldToTileXY:function(u,n,o,f,d){return this.tilemap.worldToTileXY(u,n,o,f,d,this)},destroy:function(u){u===void 0&&(u=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),u&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],h.prototype.destroy.call(this))}});p.exports=r},17394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(69360),g=new l,h=new l,a=new l,s=function(i,r,u,n){var o=r.cull(u),f=o.length,d=u.alpha*r.alpha;if(!(f===0||d<=0)){var v=g,m=h,T=a;m.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),v.copyFrom(u.matrix);var E=i.currentContext,y=r.gidMap;E.save(),n?(v.multiplyWithOffset(n,-u.scrollX*r.scrollFactorX,-u.scrollY*r.scrollFactorY),m.e=r.x,m.f=r.y,v.multiply(m,T),T.copyToContext(E)):(m.e-=u.scrollX*r.scrollFactorX,m.f-=u.scrollY*r.scrollFactorY,m.copyToContext(E)),(!i.antialias||r.scaleX>1||r.scaleY>1)&&(E.imageSmoothingEnabled=!1);for(var C=0;C<f;C++){var A=o[C],M=y[A.index];if(M){var R=M.image.getSourceImage(),O=M.getTileTextureCoordinates(A.index),L=M.tileWidth,I=M.tileHeight;if(!(O===null||L===0||I===0)){var N=L*.5,B=I*.5;O.x+=M.tileOffset.x,O.y+=M.tileOffset.y,E.save(),E.translate(A.pixelX+N,A.pixelY+B),A.rotation!==0&&E.rotate(A.rotation),(A.flipX||A.flipY)&&E.scale(A.flipX?-1:1,A.flipY?-1:1),E.globalAlpha=d*A.alpha,E.drawImage(R,O.x,O.y,L,I,-N,-B,L,I),E.restore()}}}E.restore()}};p.exports=s},96193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),g=l,h=l;g=t(51395),h=t(17394),p.exports={renderWebGL:g,renderCanvas:h}},51395:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75512),g=function(h,a,s){var i=a.cull(s),r=i.length,u=s.alpha*a.alpha;if(!(r===0||u<=0)){var n=a.gidMap,o=h.pipelines.set(a.pipeline,a),f=l.getTintAppendFloatAlpha,d=a.scrollFactorX,v=a.scrollFactorY,m=a.x,T=a.y,E=a.scaleX,y=a.scaleY;h.pipelines.preBatch(a);for(var C=0;C<r;C++){var A=i[C],M=n[A.index];if(M){var R=M.getTileTextureCoordinates(A.index);if(R!==null){var O=M.glTexture,L=o.setTexture2D(O,a),I=M.tileWidth,N=M.tileHeight,B=R.x,b=R.y,X=M.tileWidth*.5,W=M.tileHeight*.5,$=M.tileOffset.x,z=M.tileOffset.y,V=f(A.tint,u*A.alpha);o.batchTexture(a,O,O.width,O.height,m+A.pixelX*E+(X*E-$),T+A.pixelY*y+(W*y-z),A.width,A.height,E,y,A.rotation,A.flipX,A.flipY,d,v,X,W,B,b,I,N,V,V,V,V,!1,0,0,s,null,!0,L)}}}h.pipelines.postBatch(a)}};p.exports=g},47975:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(93736),h=new l({initialize:function(s,i,r,u,n,o,f,d,v){(r===void 0||r<=0)&&(r=32),(u===void 0||u<=0)&&(u=32),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f={}),d===void 0&&(d={}),this.name=s,this.firstgid=i,this.tileWidth=r,this.tileHeight=u,this.tileMargin=n,this.tileSpacing=o,this.tileProperties=f,this.tileData=d,this.tileOffset=new g,v!==void 0&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(a){return this.containsTileIndex(a)?this.tileProperties[a-this.firstgid]:null},getTileData:function(a){return this.containsTileIndex(a)?this.tileData[a-this.firstgid]:null},getTileCollisionGroup:function(a){var s=this.getTileData(a);return s&&s.objectgroup?s.objectgroup:null},containsTileIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},getTileTextureCoordinates:function(a){return this.containsTileIndex(a)?this.texCoordinates[a-this.firstgid]:null},setImage:function(a){return this.image=a,this.glTexture=a.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(a,s){return a!==void 0&&(this.tileWidth=a),s!==void 0&&(this.tileHeight=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(a,s){return a!==void 0&&(this.tileMargin=a),s!==void 0&&(this.tileSpacing=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(a,s){var i=(s-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),r=(a-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(i%1!==0||r%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),i=Math.floor(i),r=Math.floor(r),this.rows=i,this.columns=r,this.total=i*r,this.texCoordinates.length=0;for(var u=this.tileMargin,n=this.tileMargin,o=0;o<this.rows;o++){for(var f=0;f<this.columns;f++)this.texCoordinates.push({x:u,y:n}),u+=this.tileWidth+this.tileSpacing;u=this.tileMargin,n+=this.tileHeight+this.tileSpacing}return this}});p.exports=h},92839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15494),g=function(h,a,s){var i=l(h,a,!0,s),r=l(h,a-1,!0,s),u=l(h,a+1,!0,s),n=l(h-1,a,!0,s),o=l(h+1,a,!0,s),f=i&&i.collides;return f&&(i.faceTop=!0,i.faceBottom=!0,i.faceLeft=!0,i.faceRight=!0),r&&r.collides&&(f&&(i.faceTop=!1),r.faceBottom=!f),u&&u.collides&&(f&&(i.faceBottom=!1),u.faceTop=!f),n&&n.collides&&(f&&(i.faceLeft=!1),n.faceRight=!f),o&&o.collides&&(f&&(i.faceRight=!1),o.faceLeft=!f),i&&!i.collides&&i.resetFaces(),i};p.exports=g},60386:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15494),g=t(50811),h=function(a,s,i,r,u){for(var n=null,o=null,f=null,d=null,v=g(a,s,i,r,null,u),m=0;m<v.length;m++){var T=v[m];T&&(T.collides?(n=l(T.x,T.y-1,!0,u),o=l(T.x,T.y+1,!0,u),f=l(T.x-1,T.y,!0,u),d=l(T.x+1,T.y,!0,u),T.faceTop=!(n&&n.collides),T.faceBottom=!(o&&o.collides),T.faceLeft=!(f&&f.collides),T.faceRight=!(d&&d.collides)):T.resetFaces())}};p.exports=h},13125:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=new l,h=function(a,s,i,r){var u=i.tilemapLayer,n=u.cullPaddingX,o=u.cullPaddingY,f=u.tilemap.tileToWorldXY(a,s,g,r,u);return f.x>r.worldView.x+u.scaleX*i.tileWidth*(-n-.5)&&f.x<r.worldView.right+u.scaleX*i.tileWidth*(n-.5)&&f.y>r.worldView.y+u.scaleY*i.tileHeight*(-o-1)&&f.y<r.worldView.bottom+u.scaleY*i.tileHeight*(o-.5)};p.exports=h},17347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60386),g=t(50811),h=t(62839),a=t(29633),s=function(i,r,u,n,o,f,d,v){d===void 0&&(d=!0);var m=g(i,r,u,n,null,v),T=[];m.forEach(function(O){var L=new a(O.layer,O.index,O.x,O.y,O.width,O.height,O.baseWidth,O.baseHeight);L.copy(O),T.push(L)});for(var E=o-i,y=f-r,C=0;C<T.length;C++){var A=T[C],M=A.x+E,R=A.y+y;h(M,R,v)&&v.data[R][M]&&(A.x=M,A.y=R,A.updatePixelXY(),v.data[R][M]=A)}d&&l(o-1,f-1,u+2,n+2,v),m.length=0,T.length=0};p.exports=s},93604:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=t(51202),h=function(a,s,i,r,u,n){i||(i={}),Array.isArray(a)||(a=[a]);var o=n.tilemapLayer;r||(r=o.scene),u||(u=r.cameras.main);var f=l(0,0,n.width,n.height,null,n),d=[],v;for(v=0;v<f.length;v++){var m=f[v];if(a.indexOf(m.index)!==-1){var T=o.tileToWorldXY(m.x,m.y,void 0,u,n);i.x=T.x,i.y=T.y,d.push(r.make.sprite(i))}}if(typeof s=="number")for(v=0;v<a.length;v++)g(a[v],s,0,0,n.width,n.height,n);else if(Array.isArray(s))for(v=0;v<a.length;v++)g(a[v],s[v],0,0,n.width,n.height,n);return d};p.exports=h},71586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),g=t(82127),h=t(84314),a=new l,s=function(i,r){var u=i.tilemapLayer.tilemap,n=i.tilemapLayer,o=Math.floor(u.tileWidth*n.scaleX),f=Math.floor(u.tileHeight*n.scaleY),d=h(r.worldView.x-n.x,o,0,!0)-n.cullPaddingX,v=g(r.worldView.right-n.x,o,0,!0)+n.cullPaddingX,m=h(r.worldView.y-n.y,f,0,!0)-n.cullPaddingY,T=g(r.worldView.bottom-n.y,f,0,!0)+n.cullPaddingY;return a.setTo(d,m,v-d,T-m)};p.exports=s},381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71586),g=t(6987),h=function(a,s,i,r){i===void 0&&(i=[]),r===void 0&&(r=0),i.length=0;var u=a.tilemapLayer,n=l(a,s);return(u.skipCull||u.scrollFactorX!==1||u.scrollFactorY!==1)&&(n.left=0,n.right=a.width,n.top=0,n.bottom=a.height),g(a,n,r,i),i};p.exports=h},97734:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=t(60386),h=t(68234),a=function(s,i,r,u,n,o,f){for(var d=f.collideIndexes.indexOf(s)!==-1,v=l(i,r,u,n,null,f),m=0;m<v.length;m++)v[m].index=s,h(v[m],d);o&&g(i-1,r-1,u+2,n+2,f)};p.exports=a},63555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=function(h,a,s,i,r,u,n,o){var f=l(s,i,r,u,n,o);return f.filter(h,a)};p.exports=g},37982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){l===void 0&&(l=0),g===void 0&&(g=!1);var a=0,s,i,r;if(g){for(i=h.height-1;i>=0;i--)for(s=h.width-1;s>=0;s--)if(r=h.data[i][s],r&&r.index===t){if(a===l)return r;a+=1}}else for(i=0;i<h.height;i++)for(s=0;s<h.width;s++)if(r=h.data[i][s],r&&r.index===t){if(a===l)return r;a+=1}return null};p.exports=S},48297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=function(h,a,s,i,r,u,n,o){var f=l(s,i,r,u,n,o);return f.find(h,a)||null};p.exports=g},80916:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=function(h,a,s,i,r,u,n,o){var f=l(s,i,r,u,n,o);f.forEach(h,a)};p.exports=g},31493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),g=t(381),h=t(37524),a=t(20887),s=t(72283),i=t(19242),r=function(u){return u===l.ORTHOGONAL?g:u===l.HEXAGONAL?h:u===l.STAGGERED?i:u===l.ISOMETRIC?a:s};p.exports=r},15494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62839),g=function(h,a,s,i){if(s===void 0&&(s=!1),l(h,a,i)){var r=i.data[a][h]||null;return r?r.index===-1?s?r:null:r:null}else return null};p.exports=g},24640:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15494),g=t(93736),h=new g,a=function(s,i,r,u,n){return n.tilemapLayer.worldToTileXY(s,i,!0,h,u),l(h.x,h.y,r,n)};p.exports=a},48495:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=function(h,a,s,i){var r=i.baseTileWidth,u=i.baseTileHeight,n=i.tilemapLayer,o=0,f=0;n&&(s||(s=n.scene.cameras.main),o=n.x+s.scrollX*(1-n.scrollFactorX),f=n.y+s.scrollY*(1-n.scrollFactorY),r*=n.scaleX,u*=n.scaleY);var d=o+h*r,v=f+a*u;return[new l(d,v),new l(d+r,v),new l(d+r,v+u),new l(d,v+u)]};p.exports=g},7160:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),g=t(63634),h=t(72283),a=t(48495),s=function(i){return i===l.ORTHOGONAL?a:i===l.ISOMETRIC?h:i===l.HEXAGONAL?g:(i===l.STAGGERED,h)};p.exports=s},16884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),g=t(72283),h=t(44150),a=function(s){return s===l.ORTHOGONAL?h:g};p.exports=a},68182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),g=t(21715),h=t(21808),a=t(72283),s=t(33388),i=t(46836),r=function(u){return u===l.ORTHOGONAL?i:u===l.ISOMETRIC?h:u===l.HEXAGONAL?g:u===l.STAGGERED?s:a};p.exports=r},3752:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),g=t(72283),h=t(84132),a=t(42477),s=function(i){return i===l.ORTHOGONAL?a:i===l.STAGGERED?h:g};p.exports=s},50811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),g=function(h,a,s,i,r,u){h===void 0&&(h=0),a===void 0&&(a=0),s===void 0&&(s=u.width),i===void 0&&(i=u.height),r||(r={});var n=l(r,"isNotEmpty",!1),o=l(r,"isColliding",!1),f=l(r,"hasInterestingFace",!1);h<0&&(s+=h,h=0),a<0&&(i+=a,a=0),h+s>u.width&&(s=Math.max(u.width-h,0)),a+i>u.height&&(i=Math.max(u.height-a,0));for(var d=[],v=a;v<a+i;v++)for(var m=h;m<h+s;m++){var T=u.data[v][m];if(T!==null){if(n&&T.index===-1||o&&!T.collides||f&&!T.hasInterestingFace)continue;d.push(T)}}return d};p.exports=g},31674:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84068),g=t(50811),h=t(7563),a=t(72283),s=t(93736),i=function(f,d){return h.RectangleToTriangle(d,f)},r=new s,u=new s,n=new s,o=function(f,d,v,m){if(f===void 0)return[];var T=a;f instanceof l.Circle?T=h.CircleToRectangle:f instanceof l.Rectangle?T=h.RectangleToRectangle:f instanceof l.Triangle?T=i:f instanceof l.Line&&(T=h.LineToRectangle),m.tilemapLayer.worldToTileXY(f.left,f.top,!0,u,v);var E=u.x,y=u.y;m.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,n,v);var C=Math.ceil(n.x),A=Math.ceil(n.y),M=Math.max(C-E,1),R=Math.max(A-y,1),O=g(E,y,M,R,d,m),L=m.tileWidth,I=m.tileHeight;m.tilemapLayer&&(L*=m.tilemapLayer.scaleX,I*=m.tilemapLayer.scaleY);for(var N=[],B=new l.Rectangle(0,0,L,I),b=0;b<O.length;b++){var X=O[b];m.tilemapLayer.tileToWorldXY(X.x,X.y,r,v),B.x=r.x,B.y=r.y,T(f,B)&&N.push(X)}return N};p.exports=o},44662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=t(93736),h=new g,a=new g,s=function(i,r,u,n,o,f,d){var v=d.tilemapLayer.tilemap._convert.WorldToTileXY;v(i,r,!0,h,f,d);var m=h.x,T=h.y;v(i+u,r+n,!1,a,f,d);var E=Math.ceil(a.x),y=Math.ceil(a.y);return l(m,T,E-m,y-T,o,d)};p.exports=s},29296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),g=t(10618),h=t(806),a=function(s){return s===l.ORTHOGONAL?h:g};p.exports=a},32688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),g=t(11516),h=t(18750),a=t(72283),s=t(90562),i=t(45676),r=function(u){return u===l.ORTHOGONAL?i:u===l.ISOMETRIC?h:u===l.HEXAGONAL?g:u===l.STAGGERED?s:a};p.exports=r},74326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),g=t(10618),h=t(3689),a=t(70520),s=function(i){return i===l.ORTHOGONAL?a:i===l.STAGGERED?h:g};p.exports=s},46598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62839),g=function(h,a,s){if(l(h,a,s)){var i=s.data[a][h];return i!==null&&i.index>-1}else return!1};p.exports=g},28654:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(46598),g=t(93736),h=new g,a=function(s,i,r,u){u.tilemapLayer.worldToTileXY(s,i,!0,h,r);var n=h.x,o=h.y;return l(n,o,u)};p.exports=a},6358:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82127),g=t(84314),h=function(a,s){var i=a.tilemapLayer.tilemap,r=a.tilemapLayer,u=Math.floor(i.tileWidth*r.scaleX),n=Math.floor(i.tileHeight*r.scaleY),o=a.hexSideLength,f,d,v,m;if(this.staggerAxis==="y"){var T=(n-o)/2+o;f=g(s.worldView.x-r.x,u,0,!0)-r.cullPaddingX,d=l(s.worldView.right-r.x,u,0,!0)+r.cullPaddingX,v=g(s.worldView.y-r.y,T,0,!0)-r.cullPaddingY,m=l(s.worldView.bottom-r.y,T,0,!0)+r.cullPaddingY}else{var E=(u-o)/2+o;f=g(s.worldView.x-r.x,E,0,!0)-r.cullPaddingX,d=l(s.worldView.right-r.x,E,0,!0)+r.cullPaddingX,v=g(s.worldView.y-r.y,n,0,!0)-r.cullPaddingY,m=l(s.worldView.bottom-r.y,n,0,!0)+r.cullPaddingY}return{left:f,right:d,top:v,bottom:m}};p.exports=h},37524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6358),g=t(6987),h=function(a,s,i,r){i===void 0&&(i=[]),r===void 0&&(r=0),i.length=0;var u=a.tilemapLayer,n=l(a,s);return u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1&&(n.left=0,n.right=a.width,n.top=0,n.bottom=a.height),g(a,n,r,i),i};p.exports=h},63634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21715),g=t(93736),h=new g,a=function(s,i,r,u){var n=u.baseTileWidth,o=u.baseTileHeight,f=u.tilemapLayer;f&&(n*=f.scaleX,o*=f.scaleY);var d=l(s,i,h,r,u),v=[],m=.5773502691896257,T,E;this.staggerAxis==="y"?(T=m*n,E=o/2):(T=n/2,E=m*o);for(var y=0;y<6;y++){var C=2*Math.PI*(.5-y)/6;v.push(new g(d.x+T*Math.cos(C),d.y+E*Math.sin(C)))}return v};p.exports=a},21715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=function(h,a,s,i,r){s||(s=new l);var u=r.baseTileWidth,n=r.baseTileHeight,o=r.tilemapLayer,f=0,d=0;o&&(i||(i=o.scene.cameras.main),f=o.x+i.scrollX*(1-o.scrollFactorX),d=o.y+i.scrollY*(1-o.scrollFactorY),u*=o.scaleX,n*=o.scaleY);var v=u/2,m=n/2,T,E;return this.staggerAxis==="y"?(T=f+u*h+u,E=d+1.5*a*m+m,a%2===0&&(this.staggerIndex==="odd"?T-=v:T+=v)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(T=f+1.5*h*v+v,E=d+n*h+n,h%2===0&&(this.staggerIndex==="odd"?E-=m:E+=m)),s.set(T,E)};p.exports=g},11516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=function(h,a,s,i,r,u){i||(i=new l);var n=u.baseTileWidth,o=u.baseTileHeight,f=u.tilemapLayer;f&&(r||(r=f.scene.cameras.main),h=h-(f.x+r.scrollX*(1-f.scrollFactorX)),a=a-(f.y+r.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,o*=f.scaleY);var d=.5773502691896257,v=-.3333333333333333,m=0,T=.6666666666666666,E=n/2,y=o/2,C,A,M,R,O;u.staggerAxis==="y"?(C=(h-E)/(d*n),A=(a-y)/y,M=d*C+v*A,R=m*C+T*A):(C=(h-E)/E,A=(a-y)/(d*o),M=v*C+d*A,R=T*C+m*A),O=-M-R;var L=Math.round(M),I=Math.round(R),N=Math.round(O),B=Math.abs(L-M),b=Math.abs(I-R),X=Math.abs(N-O);B>b&&B>X?L=-I-N:b>X&&(I=-L-N);var W,$=I;return u.staggerIndex==="odd"?W=$%2===0?I/2+L:I/2+L-.5:W=$%2===0?I/2+L:I/2+L+.5,i.set(W,$)};p.exports=g},62839:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t>=0&&t<g.width&&l>=0&&l<g.height};p.exports=S},20887:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13125),g=function(h,a,s,i){s===void 0&&(s=[]),i===void 0&&(i=0),s.length=0;var r=h.tilemapLayer,u=h.data,n=h.width,o=h.height,f=r.skipCull,d=0,v=n,m=0,T=o,E,y,C;if(i===0){for(y=m;y<T;y++)for(E=d;E<v;E++)if(f||l(E,y,h,a)){if(C=u[y][E],!C||C.index===-1||!C.visible||C.alpha===0)continue;s.push(C)}}else if(i===1){for(y=m;y<T;y++)for(E=v;E>=d;E--)if(f||l(E,y,h,a)){if(C=u[y][E],!C||C.index===-1||!C.visible||C.alpha===0)continue;s.push(C)}}else if(i===2){for(y=T;y>=m;y--)for(E=d;E<v;E++)if(f||l(E,y,h,a)){if(C=u[y][E],!C||C.index===-1||!C.visible||C.alpha===0)continue;s.push(C)}}else if(i===3){for(y=T;y>=m;y--)for(E=v;E>=d;E--)if(f||l(E,y,h,a)){if(C=u[y][E],!C||C.index===-1||!C.visible||C.alpha===0)continue;s.push(C)}}return r.tilesDrawn=s.length,r.tilesTotal=n*o,s};p.exports=g},21808:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=function(h,a,s,i,r){s||(s=new l);var u=r.baseTileWidth,n=r.baseTileHeight,o=r.tilemapLayer,f=0,d=0;o&&(i||(i=o.scene.cameras.main),f=o.x+i.scrollX*(1-o.scrollFactorX),u*=o.scaleX,d=o.y+i.scrollY*(1-o.scrollFactorY),n*=o.scaleY);var v=f+(h-a)*(u/2),m=d+(h+a)*(n/2);return s.set(v,m)};p.exports=g},18750:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=function(h,a,s,i,r,u,n){i||(i=new l);var o=u.baseTileWidth,f=u.baseTileHeight,d=u.tilemapLayer;d&&(r||(r=d.scene.cameras.main),a=a-(d.y+r.scrollY*(1-d.scrollFactorY)),f*=d.scaleY,h=h-(d.x+r.scrollX*(1-d.scrollFactorX)),o*=d.scaleX);var v=o/2,m=f/2;h=h-v,n||(a=a-f);var T=.5*(h/v+a/m),E=.5*(-h/v+a/m);return s&&(T=Math.floor(T),E=Math.floor(E)),i.set(T,E)};p.exports=g},29003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29633),g=t(62839),h=t(92839),a=t(68234),s=function(i,r,u,n,o){if(n===void 0&&(n=!0),!g(r,u,o))return null;var f,d=o.data[u][r],v=d&&d.collides;i instanceof l?(o.data[u][r]===null&&(o.data[u][r]=new l(o,i.index,r,u,o.tileWidth,o.tileHeight)),o.data[u][r].copy(i)):(f=i,o.data[u][r]===null?o.data[u][r]=new l(o,f,r,u,o.tileWidth,o.tileHeight):o.data[u][r].index=f);var m=o.data[u][r],T=o.collideIndexes.indexOf(m.index)!==-1;if(f=i instanceof l?i.index:i,f===-1)m.width=o.tileWidth,m.height=o.tileHeight;else{var E=o.tilemapLayer.tilemap.tiles,y=E[f][2],C=o.tilemapLayer.tileset[y];m.width=C.tileWidth,m.height=C.tileHeight}return a(m,T),n&&v!==m.collides&&h(r,u,o),m};p.exports=s},48565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29003),g=t(93736),h=new g,a=function(s,i,r,u,n,o){return o.tilemapLayer.worldToTileXY(i,r,!0,h,n,o),l(s,h.x,h.y,u,o)};p.exports=a},56547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60386),g=t(29003),h=function(a,s,i,r,u){if(r===void 0&&(r=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var n=a.length,o=a[0].length,f=0;f<n;f++)for(var d=0;d<o;d++){var v=a[f][d];g(v,s+d,i+f,!1,u)}r&&l(s-1,i-1,o+2,n+2,u)};p.exports=h},91180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=t(72861),h=function(a,s,i,r,u,n){var o,f=l(a,s,i,r,{},n);if(!u)for(u=[],o=0;o<f.length;o++)u.indexOf(f[o].index)===-1&&u.push(f[o].index);for(o=0;o<f.length;o++)f[o].index=g(u)};p.exports=h},929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29633),g=t(62839),h=t(92839),a=function(s,i,r,u,n){if(r===void 0&&(r=!0),u===void 0&&(u=!0),!g(s,i,n))return null;var o=n.data[i][s];if(o)n.data[i][s]=r?null:new l(n,-1,s,i,n.tileWidth,n.tileHeight);else return null;return u&&o&&o.collides&&h(s,i,n),o};p.exports=a},17384:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(929),g=t(93736),h=new g,a=function(s,i,r,u,n,o){return o.tilemapLayer.worldToTileXY(s,i,!0,h,n,o),l(h.x,h.y,r,u,o)};p.exports=a},93763:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=t(95509),h=new g(105,210,231,150),a=new g(243,134,48,200),s=new g(40,39,37,150),i=function(r,u,n){u===void 0&&(u={});var o=u.tileColor!==void 0?u.tileColor:h,f=u.collidingTileColor!==void 0?u.collidingTileColor:a,d=u.faceColor!==void 0?u.faceColor:s,v=l(0,0,n.width,n.height,null,n);r.translateCanvas(n.tilemapLayer.x,n.tilemapLayer.y),r.scaleCanvas(n.tilemapLayer.scaleX,n.tilemapLayer.scaleY);for(var m=0;m<v.length;m++){var T=v[m],E=T.width,y=T.height,C=T.pixelX,A=T.pixelY,M=T.collides?f:o;M!==null&&(r.fillStyle(M.color,M.alpha/255),r.fillRect(C,A,E,y)),C+=1,A+=1,E-=2,y-=2,d!==null&&(r.lineStyle(1,d.color,d.alpha/255),T.faceTop&&r.lineBetween(C,A,C+E,A),T.faceRight&&r.lineBetween(C+E,A,C+E,A+y),T.faceBottom&&r.lineBetween(C,A+y,C+E,A+y),T.faceLeft&&r.lineBetween(C,A,C,A+y))}};p.exports=i},51202:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=function(h,a,s,i,r,u,n){for(var o=l(s,i,r,u,null,n),f=0;f<o.length;f++)o[f]&&o[f].index===h&&(o[f].index=a)};p.exports=g},6987:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=t.data,s=t.width,i=t.height,r=t.tilemapLayer,u=Math.max(0,l.left),n=Math.min(s,l.right),o=Math.max(0,l.top),f=Math.min(i,l.bottom),d,v,m;if(g===0)for(v=o;v<f;v++)for(d=u;a[v]&&d<n;d++)m=a[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&h.push(m);else if(g===1)for(v=o;v<f;v++)for(d=n;a[v]&&d>=u;d--)m=a[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&h.push(m);else if(g===2)for(v=f;v>=o;v--)for(d=u;a[v]&&d<n;d++)m=a[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&h.push(m);else if(g===3)for(v=f;v>=o;v--)for(d=n;a[v]&&d>=u;d--)m=a[v][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&h.push(m);return r.tilesDrawn=h.length,r.tilesTotal=s*i,h};p.exports=S},51710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68234),g=t(60386),h=t(91181),a=function(s,i,r,u,n){i===void 0&&(i=!0),r===void 0&&(r=!0),n===void 0&&(n=!0),Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++)h(s[o],i,u);if(n)for(var f=0;f<u.height;f++)for(var d=0;d<u.width;d++){var v=u.data[f][d];v&&s.indexOf(v.index)!==-1&&l(v,i)}r&&g(0,0,u.width,u.height,u)};p.exports=a},15216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68234),g=t(60386),h=t(91181),a=function(s,i,r,u,n,o){if(r===void 0&&(r=!0),u===void 0&&(u=!0),o===void 0&&(o=!0),!(s>i)){for(var f=s;f<=i;f++)h(f,r,n);if(o)for(var d=0;d<n.height;d++)for(var v=0;v<n.width;v++){var m=n.data[d][v];m&&m.index>=s&&m.index<=i&&l(m,r)}u&&g(0,0,n.width,n.height,n)}};p.exports=a},33158:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68234),g=t(60386),h=t(91181),a=function(s,i,r,u){i===void 0&&(i=!0),r===void 0&&(r=!0),Array.isArray(s)||(s=[s]);for(var n=0;n<u.height;n++)for(var o=0;o<u.width;o++){var f=u.data[n][o];f&&s.indexOf(f.index)===-1&&(l(f,i),h(f.index,i,u))}r&&g(0,0,u.width,u.height,u)};p.exports=a},4180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68234),g=t(60386),h=t(19256),a=function(s,i,r,u){i===void 0&&(i=!0),r===void 0&&(r=!0);for(var n=0;n<u.height;n++)for(var o=0;o<u.width;o++){var f=u.data[n][o];if(f){for(var d in s)if(h(f.properties,d)){var v=s[d];Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)f.properties[d]===v[m]&&l(f,i)}}}r&&g(0,0,u.width,u.height,u)};p.exports=a},18625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68234),g=t(60386),h=function(a,s,i){a===void 0&&(a=!0),s===void 0&&(s=!0);for(var r=0;r<i.height;r++)for(var u=0;u<i.width;u++){var n=i.data[r][u];if(n){var o=n.getCollisionGroup();o&&o.objects&&o.objects.length>0&&l(n,a)}}s&&g(0,0,i.width,i.height,i)};p.exports=h},91181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=g.collideIndexes.indexOf(t);l&&h===-1?g.collideIndexes.push(t):!l&&h!==-1&&g.collideIndexes.splice(h,1)};p.exports=S},68234:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};p.exports=S},11628:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){if(typeof t=="number")h.callbacks[t]=l!==null?{callback:l,callbackContext:g}:void 0;else for(var a=0,s=t.length;a<s;a++)h.callbacks[t[a]]=l!==null?{callback:l,callbackContext:g}:void 0};p.exports=S},72732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=function(h,a,s,i,r,u,n){for(var o=l(h,a,s,i,null,n),f=0;f<o.length;f++)o[f].setCollisionCallback(r,u)};p.exports=g},34397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=t(18592),h=function(a,s,i,r,u){var n=l(a,s,i,r,null,u),o=n.map(function(d){return d.index});g(o);for(var f=0;f<n.length;f++)n[f].index=o[f]};p.exports=h},53945:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82127),g=t(84314),h=function(a,s){var i=a.tilemapLayer.tilemap,r=a.tilemapLayer,u=Math.floor(i.tileWidth*r.scaleX),n=Math.floor(i.tileHeight*r.scaleY),o=g(s.worldView.x-r.x,u,0,!0)-r.cullPaddingX,f=l(s.worldView.right-r.x,u,0,!0)+r.cullPaddingX,d=g(s.worldView.y-r.y,n/2,0,!0)-r.cullPaddingY,v=l(s.worldView.bottom-r.y,n/2,0,!0)+r.cullPaddingY;return{left:o,right:f,top:d,bottom:v}};p.exports=h},19242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(53945),g=t(6987),h=function(a,s,i,r){i===void 0&&(i=[]),r===void 0&&(r=0),i.length=0;var u=a.tilemapLayer,n=l(a,s);return u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1&&(n.left=0,n.right=a.width,n.top=0,n.bottom=a.height),g(a,n,r,i),i};p.exports=h},33388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=function(h,a,s,i,r){s||(s=new l);var u=r.baseTileWidth,n=r.baseTileHeight,o=r.tilemapLayer,f=0,d=0;o&&(i||(i=o.scene.cameras.main),f=o.x+i.scrollX*(1-o.scrollFactorX),u*=o.scaleX,d=o.y+i.scrollY*(1-o.scrollFactorY),n*=o.scaleY);var v=f+h*u+a%2*(u/2),m=d+a*(n/2);return s.set(v,m)};p.exports=g},84132:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=g.baseTileHeight,a=g.tilemapLayer,s=0;return a&&(l===void 0&&(l=a.scene.cameras.main),s=a.y+l.scrollY*(1-a.scrollFactorY),h*=a.scaleY),s+t*(h/2)+h};p.exports=S},90562:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=function(h,a,s,i,r,u){i||(i=new l);var n=u.baseTileWidth,o=u.baseTileHeight,f=u.tilemapLayer;f&&(r||(r=f.scene.cameras.main),a=a-(f.y+r.scrollY*(1-f.scrollFactorY)),o*=f.scaleY,h=h-(f.x+r.scrollX*(1-f.scrollFactorX)),n*=f.scaleX);var d=s?Math.floor(a/(o/2)):a/(o/2),v=s?Math.floor((h+d%2*.5*n)/n):(h+d%2*.5*n)/n;return i.set(v,d)};p.exports=g},3689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=h.baseTileHeight,s=h.tilemapLayer;return s&&(g||(g=s.scene.cameras.main),t=t-(s.y+g.scrollY*(1-s.scrollFactorY)),a*=s.scaleY),l?Math.floor(t/(a/2)):t/(a/2)};p.exports=S},55217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=function(h,a,s,i,r,u,n){for(var o=l(s,i,r,u,null,n),f=0;f<o.length;f++)o[f]&&(o[f].index===h?o[f].index=a:o[f].index===a&&(o[f].index=h))};p.exports=g},44150:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=g.baseTileWidth,a=g.tilemapLayer,s=0;return a&&(l||(l=a.scene.cameras.main),s=a.x+l.scrollX*(1-a.scrollFactorX),h*=a.scaleX),s+t*h};p.exports=S},46836:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44150),g=t(42477),h=t(93736),a=function(s,i,r,u,n){return r||(r=new h(0,0)),r.x=l(s,u,n),r.y=g(i,u,n),r};p.exports=a},42477:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=g.baseTileHeight,a=g.tilemapLayer,s=0;return a&&(l||(l=a.scene.cameras.main),s=a.y+l.scrollY*(1-a.scrollFactorY),h*=a.scaleY),s+t*h};p.exports=S},39677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),g=function(h,a,s,i,r,u){if(r){var n,o=l(h,a,s,i,null,u),f=0;for(n=0;n<r.length;n++)f+=r[n].weight;if(!(f<=0))for(n=0;n<o.length;n++){for(var d=Math.random()*f,v=0,m=-1,T=0;T<r.length;T++)if(v+=r[T].weight,d<=v){var E=r[T].index;m=Array.isArray(E)?E[Math.floor(Math.random()*E.length)]:E;break}o[n].index=m}}};p.exports=g},806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45676),g=t(93736),h=new g,a=function(s,i,r,u){return l(s,0,i,h,r,u),h.x};p.exports=a},45676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),g=function(h,a,s,i,r,u){s===void 0&&(s=!0),i||(i=new l);var n=u.baseTileWidth,o=u.baseTileHeight,f=u.tilemapLayer;f&&(r||(r=f.scene.cameras.main),h=h-(f.x+r.scrollX*(1-f.scrollFactorX)),a=a-(f.y+r.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,o*=f.scaleY);var d=h/n,v=a/o;return s&&(d=Math.floor(d),v=Math.floor(v)),i.set(d,v)};p.exports=g},70520:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45676),g=t(93736),h=new g,a=function(s,i,r,u){return l(0,s,i,h,r,u),h.y};p.exports=a},5047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CalculateFacesAt:t(92839),CalculateFacesWithin:t(60386),CheckIsoBounds:t(13125),Copy:t(17347),CreateFromTiles:t(93604),CullBounds:t(71586),CullTiles:t(381),Fill:t(97734),FilterTiles:t(63555),FindByIndex:t(37982),FindTile:t(48297),ForEachTile:t(80916),GetCullTilesFunction:t(31493),GetTileAt:t(15494),GetTileAtWorldXY:t(24640),GetTileCorners:t(48495),GetTileCornersFunction:t(7160),GetTilesWithin:t(50811),GetTilesWithinShape:t(31674),GetTilesWithinWorldXY:t(44662),GetTileToWorldXFunction:t(16884),GetTileToWorldXYFunction:t(68182),GetTileToWorldYFunction:t(3752),GetWorldToTileXFunction:t(29296),GetWorldToTileXYFunction:t(32688),GetWorldToTileYFunction:t(74326),HasTileAt:t(46598),HasTileAtWorldXY:t(28654),HexagonalCullBounds:t(6358),HexagonalCullTiles:t(37524),HexagonalGetTileCorners:t(63634),HexagonalTileToWorldXY:t(21715),HexagonalWorldToTileXY:t(11516),IsInLayerBounds:t(62839),IsometricCullTiles:t(20887),IsometricTileToWorldXY:t(21808),IsometricWorldToTileXY:t(18750),PutTileAt:t(29003),PutTileAtWorldXY:t(48565),PutTilesAt:t(56547),Randomize:t(91180),RemoveTileAt:t(929),RemoveTileAtWorldXY:t(17384),RenderDebug:t(93763),ReplaceByIndex:t(51202),RunCull:t(6987),SetCollision:t(51710),SetCollisionBetween:t(15216),SetCollisionByExclusion:t(33158),SetCollisionByProperty:t(4180),SetCollisionFromCollisionGroup:t(18625),SetLayerCollisionIndex:t(91181),SetTileCollision:t(68234),SetTileIndexCallback:t(11628),SetTileLocationCallback:t(72732),Shuffle:t(34397),StaggeredCullBounds:t(53945),StaggeredCullTiles:t(19242),StaggeredTileToWorldXY:t(33388),StaggeredTileToWorldY:t(84132),StaggeredWorldToTileXY:t(90562),StaggeredWorldToTileY:t(3689),SwapByIndex:t(55217),TileToWorldX:t(44150),TileToWorldXY:t(46836),TileToWorldY:t(42477),WeightedRandomize:t(39677),WorldToTileX:t(806),WorldToTileXY:t(45676),WorldToTileY:t(70520)}},12920:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={ORIENTATION:t(12920)};p.exports=l},52678:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),g=t(84758),h={Components:t(5047),Parsers:t(34124),Formats:t(93560),ImageCollection:t(97042),ParseToTilemap:t(15043),Tile:t(29633),Tilemap:t(89797),TilemapCreator:t(4843),TilemapFactory:t(37940),Tileset:t(47975),TilemapLayer:t(87177),Orientation:t(12920),LayerData:t(94990),MapData:t(16586),ObjectLayer:t(15256)};h=l(!1,h,g.ORIENTATION),p.exports=h},94990:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12920),h=t(72632),a=new l({initialize:function(i){i===void 0&&(i={}),this.name=h(i,"name","layer"),this.x=h(i,"x",0),this.y=h(i,"y",0),this.width=h(i,"width",0),this.height=h(i,"height",0),this.tileWidth=h(i,"tileWidth",0),this.tileHeight=h(i,"tileHeight",0),this.baseTileWidth=h(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=h(i,"baseTileHeight",this.tileHeight),this.orientation=h(i,"orientation",g.ORTHOGONAL),this.widthInPixels=h(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=h(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=h(i,"alpha",1),this.visible=h(i,"visible",!0),this.properties=h(i,"properties",[]),this.indexes=h(i,"indexes",[]),this.collideIndexes=h(i,"collideIndexes",[]),this.callbacks=h(i,"callbacks",[]),this.bodies=h(i,"bodies",[]),this.data=h(i,"data",[]),this.tilemapLayer=h(i,"tilemapLayer",null),this.hexSideLength=h(i,"hexSideLength",0),this.staggerAxis=h(i,"staggerAxis","y"),this.staggerIndex=h(i,"staggerIndex","odd")}});p.exports=a},16586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(12920),h=t(72632),a=new l({initialize:function(i){i===void 0&&(i={}),this.name=h(i,"name","map"),this.width=h(i,"width",0),this.height=h(i,"height",0),this.infinite=h(i,"infinite",!1),this.tileWidth=h(i,"tileWidth",0),this.tileHeight=h(i,"tileHeight",0),this.widthInPixels=h(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=h(i,"heightInPixels",this.height*this.tileHeight),this.format=h(i,"format",null),this.orientation=h(i,"orientation",g.ORTHOGONAL),this.renderOrder=h(i,"renderOrder","right-down"),this.version=h(i,"version","1"),this.properties=h(i,"properties",{}),this.layers=h(i,"layers",[]),this.images=h(i,"images",[]),this.objects=h(i,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=h(i,"collision",{}),this.tilesets=h(i,"tilesets",[]),this.imageCollections=h(i,"imageCollections",[]),this.tiles=h(i,"tiles",[]),this.hexSideLength=h(i,"hexSideLength",0),this.staggerAxis=h(i,"staggerAxis","y"),this.staggerIndex=h(i,"staggerIndex","odd")}});p.exports=a},15256:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72632),h=new l({initialize:function(s){s===void 0&&(s={}),this.name=g(s,"name","object layer"),this.opacity=g(s,"opacity",1),this.properties=g(s,"properties",{}),this.propertyTypes=g(s,"propertytypes",{}),this.type=g(s,"type","objectgroup"),this.visible=g(s,"visible",!0),this.objects=g(s,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});p.exports=h},21394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),g=function(h){return h=h.toLowerCase(),h==="isometric"?l.ISOMETRIC:h==="staggered"?l.STAGGERED:h==="hexagonal"?l.HEXAGONAL:l.ORTHOGONAL};p.exports=g},90715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93560),g=t(84346),h=t(96097),a=t(2378),s=t(44909),i=function(r,u,n,o,f,d){var v;switch(u){case l.ARRAY_2D:v=g(r,n,o,f,d);break;case l.CSV:v=h(r,n,o,f,d);break;case l.TILED_JSON:v=a(r,n,d);break;case l.WELTMEISTER:v=s(r,n,d);break;default:console.warn("Unrecognized tilemap data format: "+u),v=null}return v};p.exports=i},84346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93560),g=t(94990),h=t(16586),a=t(29633),s=function(i,r,u,n,o){for(var f=new g({tileWidth:u,tileHeight:n}),d=new h({name:i,tileWidth:u,tileHeight:n,format:l.ARRAY_2D,layers:[f]}),v=[],m=r.length,T=0,E=0;E<r.length;E++){v[E]=[];for(var y=r[E],C=0;C<y.length;C++){var A=parseInt(y[C],10);isNaN(A)||A===-1?v[E][C]=o?null:new a(f,-1,C,E,u,n):v[E][C]=new a(f,A,C,E,u,n)}T===0&&(T=y.length)}return d.width=f.width=T,d.height=f.height=m,d.widthInPixels=f.widthInPixels=T*u,d.heightInPixels=f.heightInPixels=m*n,f.data=v,d};p.exports=s},96097:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93560),g=t(84346),h=function(a,s,i,r,u){var n=s.trim().split(`
`).map(function(f){return f.split(",")}),o=g(a,n,i,r,u);return o.format=l.CSV,o};p.exports=h},30951:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(94990),g=t(29633),h=function(a,s){for(var i=[],r=0;r<a.layer.length;r++){for(var u=a.layer[r],n=new l({name:u.name,width:u.width,height:u.height,tileWidth:u.tilesize,tileHeight:u.tilesize,visible:u.visible===1}),o=[],f=[],d=0;d<u.data.length;d++){for(var v=0;v<u.data[d].length;v++){var m=u.data[d][v]-1,T;m>-1?T=new g(n,m,v,d,u.tilesize,u.tilesize):T=s?null:new g(n,-1,v,d,u.tilesize,u.tilesize),o.push(T)}f.push(o),o=[]}n.data=f,i.push(n)}return i};p.exports=h},47488:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47975),g=function(h){for(var a=[],s=[],i=0;i<h.layer.length;i++){var r=h.layer[i],u=r.tilesetName;u!==""&&s.indexOf(u)===-1&&(s.push(u),a.push(new l(u,0,r.tilesize,r.tilesize,0,0)))}return a};p.exports=g},44909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93560),g=t(16586),h=t(30951),a=t(47488),s=function(i,r,u){if(r.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var n=0,o=0,f=0;f<r.layer.length;f++)r.layer[f].width>n&&(n=r.layer[f].width),r.layer[f].height>o&&(o=r.layer[f].height);var d=new g({width:n,height:o,name:i,tileWidth:r.layer[0].tilesize,tileHeight:r.layer[0].tilesize,format:l.WELTMEISTER});return d.layers=h(r,u),d.tilesets=a(r),d};p.exports=s},24507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ParseTileLayers:t(30951),ParseTilesets:t(47488),ParseWeltmeister:t(44909)}},34124:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FromOrientationString:t(21394),Parse:t(90715),Parse2DArray:t(84346),ParseCSV:t(96097),Impact:t(24507),Tiled:t(50044)}},48646:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),g=function(h){for(var a,s,i,r,u,n=0;n<h.layers.length;n++){a=h.layers[n],r=null;for(var o=0;o<a.data.length;o++){u=a.data[o];for(var f=0;f<u.length;f++)s=u[f],!(s===null||s.index<0)&&(i=h.tiles[s.index][2],r=h.tilesets[i],s.width=r.tileWidth,s.height=r.tileHeight,r.tileProperties&&r.tileProperties[s.index-r.firstgid]&&(s.properties=l(s.properties,r.tileProperties[s.index-r.firstgid])))}}};p.exports=g},43908:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=window.atob(t),g=l.length,h=new Array(g/4),a=0;a<g;a+=4)h[a/4]=(l.charCodeAt(a)|l.charCodeAt(a+1)<<8|l.charCodeAt(a+2)<<16|l.charCodeAt(a+3)<<24)>>>0;return h};p.exports=S},14556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47975),g=function(h){var a,s,i=[];for(a=0;a<h.imageCollections.length;a++)for(var r=h.imageCollections[a],u=r.images,n=0;n<u.length;n++){var o=u[n];s=new l(o.image,o.gid,r.imageWidth,r.imageHeight,0,0),s.updateTileData(r.imageWidth,r.imageHeight),h.tilesets.push(s)}for(a=0;a<h.tilesets.length;a++){s=h.tilesets[a];for(var f=s.tileMargin,d=s.tileMargin,v=0,m=0,T=0,E=s.firstgid;E<s.firstgid+s.total&&(i[E]=[f,d,a],f+=s.tileWidth+s.tileSpacing,v++,!(v===s.total||(m++,m===s.columns&&(f=s.tileMargin,d+=s.tileHeight+s.tileSpacing,m=0,T++,T===s.rows))));E++);}return i};p.exports=g},92044:(p,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),g=function(h,a,s){if(!a)return{i:0,layers:h.layers,name:"",opacity:1,visible:!0,x:0,y:0};var i=a.x+l(a,"startx",0)*h.tilewidth+l(a,"offsetx",0),r=a.y+l(a,"starty",0)*h.tileheight+l(a,"offsety",0);return{i:0,layers:a.layers,name:s.name+a.name+"/",opacity:s.opacity*a.opacity,visible:s.visible&&a.visible,x:s.x+i,y:s.y+r}};p.exports=g},8847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,l=536870912,g=function(h){var a=!!(h&S),s=!!(h&t),i=!!(h&l);h=h&~(S|t|l);var r=0,u=!1;return a&&s&&i?(r=Math.PI/2,u=!0):a&&s&&!i?(r=Math.PI,u=!1):a&&!s&&i?(r=Math.PI/2,u=!1):a&&!s&&!i?(r=0,u=!0):!a&&s&&i?(r=3*Math.PI/2,u=!1):!a&&s&&!i?(r=Math.PI,u=!0):!a&&!s&&i?(r=3*Math.PI/2,u=!0):!a&&!s&&!i&&(r=0,u=!1),{gid:h,flippedHorizontal:a,flippedVertical:s,flippedAntiDiagonal:i,rotation:r,flipped:u}};p.exports=g},78339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),g=t(92044),h=function(a){for(var s=[],i=[],r=g(a);r.i<r.layers.length||i.length>0;){if(r.i>=r.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=i.pop();continue}var u=r.layers[r.i];if(r.i++,u.type!=="imagelayer"){if(u.type==="group"){var n=g(a,u,r);i.push(r),r=n}continue}var o=l(u,"offsetx",0)+l(u,"startx",0),f=l(u,"offsety",0)+l(u,"starty",0);s.push({name:r.name+u.name,image:u.image,x:r.x+o+u.x,y:r.y+f+u.y,alpha:r.opacity*u.opacity,visible:r.visible&&u.visible,properties:l(u,"properties",{})})}return s};p.exports=h},2378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(48646),g=t(14556),h=t(12920),a=t(28699),s=t(93560),i=t(21394),r=t(16586),u=t(78339),n=t(61136),o=t(95925),f=t(93392),d=function(v,m,T){var E=a(m),y=new r({width:E.width,height:E.height,name:v,tileWidth:E.tilewidth,tileHeight:E.tileheight,orientation:i(E.orientation),format:s.TILED_JSON,version:E.version,properties:E.properties,renderOrder:E.renderorder,infinite:E.infinite});y.orientation===h.HEXAGONAL&&(y.hexSideLength=E.hexsidelength,y.staggerAxis=E.staggeraxis,y.staggerIndex=E.staggerindex),y.layers=o(E,T),y.images=u(E);var C=f(E);return y.tilesets=C.tilesets,y.imageCollections=C.imageCollections,y.objects=n(E),y.tiles=g(y),l(y),y};p.exports=d},4281:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28820),g=t(8847),h=function(i){return{x:i.x,y:i.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],s=function(i,r,u){r===void 0&&(r=0),u===void 0&&(u=0);var n=l(i,a);if(n.x+=r,n.y+=u,i.gid){var o=g(i.gid);n.gid=o.gid,n.flippedHorizontal=o.flippedHorizontal,n.flippedVertical=o.flippedVertical,n.flippedAntiDiagonal=o.flippedAntiDiagonal}else i.polyline?n.polyline=i.polyline.map(h):i.polygon?n.polygon=i.polygon.map(h):i.ellipse?n.ellipse=i.ellipse:i.text?n.text=i.text:i.point?n.point=!0:n.rectangle=!0;return n};p.exports=s},61136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),g=t(4281),h=t(15256),a=t(92044),s=function(i){for(var r=[],u=[],n=a(i);n.i<n.layers.length||u.length>0;){if(n.i>=n.layers.length){if(u.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=u.pop();continue}var o=n.layers[n.i];if(n.i++,o.opacity*=n.opacity,o.visible=n.visible&&o.visible,o.type!=="objectgroup"){if(o.type==="group"){var f=a(i,o,n);u.push(n),n=f}continue}o.name=n.name+o.name;for(var d=n.x+l(o,"startx",0)+l(o,"offsetx",0),v=n.y+l(o,"starty",0)+l(o,"offsety",0),m=[],T=0;T<o.objects.length;T++){var E=g(o.objects[T],d,v);m.push(E)}var y=new h(o);y.objects=m,r.push(y)}return r};p.exports=s},95925:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43908),g=t(12920),h=t(92044),a=t(21394),s=t(72632),i=t(94990),r=t(8847),u=t(29633),n=function(o,f){for(var d=s(o,"infinite",!1),v=[],m=[],T=h(o);T.i<T.layers.length||m.length>0;){if(T.i>=T.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}T=m.pop();continue}var E=T.layers[T.i];if(T.i++,E.type!=="tilelayer"){if(E.type==="group"){var y=h(o,E,T);m.push(T),T=y}continue}if(E.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+E.name+"'");continue}else if(E.encoding&&E.encoding==="base64"){if(E.chunks)for(var C=0;C<E.chunks.length;C++)E.chunks[C].data=l(E.chunks[C].data);E.data&&(E.data=l(E.data)),delete E.encoding}var A,M,R,O,L=[],I=0;if(d){var N=s(E,"startx",0)+E.x,B=s(E,"starty",0)+E.y;A=new i({name:T.name+E.name,x:T.x+s(E,"offsetx",0)+N*o.tilewidth,y:T.y+s(E,"offsety",0)+B*o.tileheight,width:E.width,height:E.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:T.opacity*E.opacity,visible:T.visible&&E.visible,properties:s(E,"properties",[]),orientation:a(o.orientation)}),A.orientation===g.HEXAGONAL&&(A.hexSideLength=o.hexsidelength,A.staggerAxis=o.staggeraxis,A.staggerIndex=o.staggerindex);for(var b=0;b<E.height;b++){L[b]=[null];for(var X=0;X<E.width;X++)L[b][X]=null}for(b=0,K=E.chunks.length;b<K;b++)for(var W=E.chunks[b],$=W.x-N,z=W.y-B,V=0,D=0,G=W.data.length;D<G;D++){var U=I+$,Y=V+z;M=r(W.data[D]),M.gid>0?(R=new u(A,M.gid,U,Y,o.tilewidth,o.tileheight),R.rotation=M.rotation,R.flipX=M.flipped,L[Y][U]=R):(O=f?null:new u(A,-1,U,Y,o.tilewidth,o.tileheight),L[Y][U]=O),I++,I===W.width&&(V++,I=0)}}else{A=new i({name:T.name+E.name,x:T.x+s(E,"offsetx",0)+E.x,y:T.y+s(E,"offsety",0)+E.y,width:E.width,height:E.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:T.opacity*E.opacity,visible:T.visible&&E.visible,properties:s(E,"properties",[]),orientation:a(o.orientation)}),A.orientation===g.HEXAGONAL&&(A.hexSideLength=o.hexsidelength,A.staggerAxis=o.staggeraxis,A.staggerIndex=o.staggerindex);for(var H=[],Z=0,K=E.data.length;Z<K;Z++)M=r(E.data[Z]),M.gid>0?(R=new u(A,M.gid,I,L.length,o.tilewidth,o.tileheight),R.rotation=M.rotation,R.flipX=M.flipped,H.push(R)):(O=f?null:new u(A,-1,I,L.length,o.tilewidth,o.tileheight),H.push(O)),I++,I===E.width&&(L.push(H),I=0,H=[])}A.data=L,v.push(A)}return v};p.exports=n},93392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47975),g=t(97042),h=t(4281),a=t(39642),s=function(i){for(var r=[],u=[],n=null,o,f=0;f<i.tilesets.length;f++){var d=i.tilesets[f];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var v=new l(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(i.version>1){var m=void 0,T=void 0;if(Array.isArray(d.tiles)){m=m||{},T=T||{};for(var E=0;E<d.tiles.length;E++){var y=d.tiles[E];if(y.properties){var C={};y.properties.forEach(function(b){C[b.name]=b.value}),T[y.id]=C}if(y.objectgroup&&((m[y.id]||(m[y.id]={})).objectgroup=y.objectgroup,y.objectgroup.objects)){var A=y.objectgroup.objects.map(function(b){return h(b)});m[y.id].objectgroup.objects=A}y.animation&&((m[y.id]||(m[y.id]={})).animation=y.animation),y.type&&((m[y.id]||(m[y.id]={})).type=y.type)}}Array.isArray(d.wangsets)&&(m=m||{},T=T||{},a(d.wangsets,m)),m&&(v.tileData=m,v.tileProperties=T)}else if(d.tileproperties&&(v.tileProperties=d.tileproperties),d.tiles){v.tileData=d.tiles;for(o in v.tileData){var M=v.tileData[o].objectgroup;if(M&&M.objects){var R=M.objects.map(function(b){return h(b)});v.tileData[o].objectgroup.objects=R}}}v.updateTileData(d.imagewidth,d.imageheight),r.push(v)}else{var O=new g(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),L=0;for(E=0;E<d.tiles.length;E++){y=d.tiles[E];var I=y.image,N=parseInt(y.id,10),B=d.firstgid+N;O.addImage(B,I),L=Math.max(N,L)}O.maxId=L,u.push(O)}n&&(n.lastgid=d.firstgid-1),n=d}return{tilesets:r,imageCollections:u}};p.exports=s},39642:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){for(var g=0;g<t.length;g++){var h=t[g],a=g;if(h.name&&h.name!==""&&(a=h.name),Array.isArray(h.wangtiles)&&h.wangtiles.length>0){var s={},i={},r,u,n;if(Array.isArray(h.edgecolors))for(r=0;r<h.edgecolors.length;r++)n=1+r,u=h.edgecolors[r],u.name!==""&&(s[n]=u.name);if(Array.isArray(h.cornercolors))for(r=0;r<h.cornercolors.length;r++)n=1+r,u=h.cornercolors[r],u.name!==""&&(i[n]=u.name);if(Array.isArray(h.colors))for(r=0;r<h.colors.length;r++)u=h.colors[r],n=1+r,u.name!==""&&(s[n]=i[n]=u.name);for(var o=[s,i,s,i,s,i,s,i],f=0;f<h.wangtiles.length;f++){var d=h.wangtiles[f],v=l[d.tileid]||(l[d.tileid]={});v=v.wangid||(v.wangid={});for(var m=[],T=0;T<Math.min(o.length,d.wangid.length);T++){if(u=d.wangid[T],u===0){m.push(void 0);continue}var E=o[T][u];if(E!==void 0){m.push(E);continue}m.push(u)}v[a]=m}}}};p.exports=S},50044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AssignTileProperties:t(48646),Base64Decode:t(43908),BuildTilesetIndex:t(14556),CreateGroupLayer:t(92044),ParseGID:t(8847),ParseImageLayers:t(78339),ParseJSONTiled:t(2378),ParseObject:t(4281),ParseObjectLayers:t(61136),ParseTileLayers:t(95925),ParseTilesets:t(93392)}},73779:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(91963),h=t(7599),a=t(57911),s=t(66458),i=new l({initialize:function(u){this.scene=u,this.systems=u.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],u.sys.events.once(h.BOOT,this.boot,this),u.sys.events.on(h.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var r=this.systems.events;r.on(h.PRE_UPDATE,this.preUpdate,this),r.on(h.UPDATE,this.update,this),r.once(h.SHUTDOWN,this.shutdown,this)},addEvent:function(r){var u;return r instanceof a?(u=r,this.removeEvent(u),u.elapsed=u.startAt,u.hasDispatched=!1,u.repeatCount=u.repeat===-1||u.loop?999999999999:u.repeat):u=new a(r),this._pendingInsertion.push(u),u},delayedCall:function(r,u,n,o){return this.addEvent({delay:r,callback:u,args:n,callbackScope:o})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(r){Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++){var n=r[u];s(this._pendingRemoval,n),s(this._pendingInsertion,n),s(this._active,n)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var r=this._pendingRemoval.length,u=this._pendingInsertion.length;if(!(r===0&&u===0)){var n,o;for(n=0;n<r;n++){o=this._pendingRemoval[n];var f=this._active.indexOf(o);f>-1&&this._active.splice(f,1),o.destroy()}for(n=0;n<u;n++)o=this._pendingInsertion[n],this._active.push(o);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(r,u){if(this.now=r,!this.paused){u*=this.timeScale;for(var n=0;n<this._active.length;n++){var o=this._active[n];if(!o.paused&&(o.elapsed+=u*o.timeScale,o.elapsed>=o.delay)){var f=o.elapsed-o.delay;if(o.elapsed=o.delay,!o.hasDispatched&&o.callback&&(o.hasDispatched=!0,o.callback.apply(o.callbackScope,o.args)),o.repeatCount>0){if(o.repeatCount--,f>=o.delay)for(;f>=o.delay&&o.repeatCount>0;)o.callback&&o.callback.apply(o.callbackScope,o.args),f-=o.delay,o.repeatCount--;o.elapsed=f,o.hasDispatched=!1}else o.hasDispatched&&this._pendingRemoval.push(o)}}}},shutdown:function(){var r;for(r=0;r<this._pendingInsertion.length;r++)this._pendingInsertion[r].destroy();for(r=0;r<this._active.length;r++)this._active[r].destroy();for(r=0;r<this._pendingRemoval.length;r++)this._pendingRemoval[r].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var u=this.systems.events;u.off(h.PRE_UPDATE,this.preUpdate,this),u.off(h.UPDATE,this.update,this),u.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});g.register("Clock",i,"time"),p.exports=i},20517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(6659),h=t(61286),a=t(72632),s=t(7599),i=new l({Extends:g,initialize:function(u,n){g.call(this),this.scene=u,this.systems=u.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var o=this.systems.events;o.on(s.PRE_UPDATE,this.preUpdate,this),o.on(s.UPDATE,this.update,this),o.once(s.SHUTDOWN,this.destroy,this),n&&this.add(n)},preUpdate:function(r,u){this.paused||(this.elapsed+=u)},update:function(){if(!this.paused){var r,u=this.events,n=!1,o=this.systems,f;for(r=0;r<u.length;r++){var d=u[r];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,d.once&&(n=!0),d.set&&d.target)for(var v in d.set)d.target[v]=d.set[v];d.tween&&o.tweens.add(d.tween),d.sound&&(typeof d.sound=="string"?o.sound.play(d.sound):o.sound.play(d.sound.key,d.sound.config)),f=d.target?d.target:this,d.event&&this.emit(d.event,f),d.run&&d.run.call(f),d.stop&&this.stop()}}if(n)for(r=0;r<u.length;r++)u[r].complete&&u[r].once&&(u.splice(r,1),r--);this.totalComplete>=u.length&&(this.complete=!0)}},play:function(r){return r===void 0&&(r=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,r&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var r=0;r<this.events.length;r++)this.events[r].complete=!1;return this.play(!1)},add:function(r){Array.isArray(r)||(r=[r]);var u=this.events,n=0;u.length>0&&(n=u[u.length-1].time);for(var o=0;o<r.length;o++){var f=r[o],d=a(f,"at",0),v=a(f,"in",null);v!==null&&(d=this.elapsed+v);var m=a(f,"from",null);m!==null&&(d=n+m),u.push({complete:!1,time:d,run:a(f,"run",null),event:a(f,"event",null),target:a(f,"target",null),set:a(f,"set",null),tween:a(f,"tween",null),sound:a(f,"sound",null),once:a(f,"once",!1),stop:a(f,"stop",!1)}),n=d}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var r=Math.min(this.totalComplete,this.events.length);return r/this.events.length},destroy:function(){var r=this.systems.events;r.off(s.PRE_UPDATE,this.preUpdate,this),r.off(s.UPDATE,this.update,this),r.off(s.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});h.register("timeline",function(r){return new i(this.scene,r)}),p.exports=i},57911:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(72632),h=new l({initialize:function(s){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(s)},reset:function(a){if(this.delay=g(a,"delay",0),this.repeat=g(a,"repeat",0),this.loop=g(a,"loop",!1),this.callback=g(a,"callback",void 0),this.callbackScope=g(a,"callbackScope",this),this.args=g(a,"args",[]),this.timeScale=g(a,"timeScale",1),this.startAt=g(a,"startAt",0),this.paused=g(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,s=this.elapsed+this.delay*(this.repeat-this.repeatCount);return s/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});p.exports=h},97121:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clock:t(73779),Timeline:t(20517),TimerEvent:t(57911)}},64532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66458),g=t(56694),h=t(5454),a=t(68710),s=t(91963),i=t(7599),r=t(91944),u=t(39366),n=t(68061),o=t(45641),f=t(56034),d=new g({initialize:function(m){this.scene=m,this.events=m.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(i.UPDATE,this.update,this),this.events.once(i.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var m=[],T=0;T<v.length;T++){var E=v[T];E instanceof u||E instanceof o?m.push(E):Array.isArray(E.tweens)?m.push(f(this,E)):m.push(n(this,E))}return m.length===1?m[0]:m},add:function(v){var m=v,T=this.tweens;return m instanceof u||m instanceof o||(Array.isArray(m.tweens)?m=f(this,m):m=n(this,m)),T.push(m.reset()),m},addMultiple:function(v){for(var m,T=[],E=this.tweens,y=0;y<v.length;y++)m=v[y],m instanceof u||m instanceof o||(Array.isArray(m.tweens)?m=f(this,m):m=n(this,m)),E.push(m.reset()),T.push(m);return T},chain:function(v){var m=f(this,v);return this.tweens.push(m.init()),m},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var m=a(this,v);return this.tweens.push(m.reset()),m},stagger:function(v,m){return r(v,m)},setLagSmooth:function(v,m){return v===void 0&&(v=1/1e-8),m===void 0&&(m=0),this.maxLag=v,this.lagSkip=Math.min(m,this.maxLag),this},setFps:function(v){return v===void 0&&(v=240),this.gap=1e3/v,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(v){var m=Date.now()-this.prevTime;m>this.maxLag&&(this.startTime+=m-this.lagSkip),this.prevTime+=m;var T=this.prevTime-this.startTime,E=T-this.nextTime,y=T-this.time*1e3;return E>0||v?(T/=1e3,this.time=T,this.nextTime+=E+(E>=this.gap?4:this.gap-E)):y=0,y},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){v===void 0&&(v=!1);var m=this.getDelta(v);if(!(m<=0)){this.processing=!0;var T,E,y=[],C=this.tweens;for(T=0;T<C.length;T++)E=C[T],E.update(m)&&y.push(E);var A=y.length;if(A&&C.length>0){for(T=0;T<A;T++){E=y[T];var M=C.indexOf(E);M>-1&&(E.isPendingRemove()||E.isDestroyed())&&(C.splice(M,1),E.destroy())}y.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(l(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,m){var T,E=[null];for(T=1;T<arguments.length;T++)E.push(arguments[T]);return this.tweens.forEach(function(y){E[0]=y,v.apply(m,E)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){var m=[],T=this.tweens;Array.isArray(v)?v=h(v):v=[v];for(var E=v.length,y=0;y<T.length;y++)for(var C=T[y],A=0;A<E;A++)!C.isDestroyed()&&C.hasTarget(v[A])&&m.push(C);return m},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var m=this.tweens,T,E=0;E<m.length;E++)if(T=m[E],T.isPlaying()&&T.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,m=0;m<v.length;m++)v[m].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var m=this.getTweensOf(v),T=0;T<m.length;T++)m[T].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(i.UPDATE,this.update,this),this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.events=null}});s.register("TweenManager",d,"tweens"),p.exports=d},63130:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){return t&&t.hasOwnProperty(l)?t[l]:g};p.exports=S},21902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35060),g=t(40587),h=function(a,s){var i=l.Power0;if(typeof a=="string")if(l.hasOwnProperty(a))i=l[a];else{var r="";if(a.indexOf(".")){r=a.substring(a.indexOf(".")+1);var u=r.toLowerCase();u==="in"?r="easeIn":u==="out"?r="easeOut":u==="inout"&&(r="easeInOut")}a=g(a.substring(0,a.indexOf(".")+1)+r),l.hasOwnProperty(a)&&(i=l[a])}else typeof a=="function"&&(i=a);if(!s)return i;var n=s.slice(0);return n.unshift(0),function(o){return n[0]=o,i.apply(this,n)}};p.exports=h},4840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63210),g=t(88332),h=t(47614),a={bezier:l,catmull:g,catmullrom:g,linear:h},s=function(i){if(i===null)return null;var r=a.linear;return typeof i=="string"?a.hasOwnProperty(i)&&(r=a[i]):typeof i=="function"&&(r=i),r};p.exports=s},28348:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h;if(t.hasOwnProperty(l)){var a=typeof t[l];a==="function"?h=function(s,i,r,u,n,o){return t[l](s,i,r,u,n,o)}:h=function(){return t[l]}}else typeof g=="function"?h=g:h=function(){return g};return h};p.exports=S},92407:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(53709),g=function(h){var a,s=[];if(h.hasOwnProperty("props"))for(a in h.props)a.substring(0,1)!=="_"&&s.push({key:a,value:h.props[a]});else for(a in h)l.indexOf(a)===-1&&a.substring(0,1)!=="_"&&s.push({key:a,value:h[a]});return s};p.exports=g},65868:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10850),g=function(h){var a=l(h,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};p.exports=g},9744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(17489),g=t(61616);function h(u){return!!u.getActive&&typeof u.getActive=="function"}function a(u){return!!u.getStart&&typeof u.getStart=="function"}function s(u){return!!u.getEnd&&typeof u.getEnd=="function"}function i(u){return a(u)||s(u)||h(u)}var r=function(u,n){var o,f=function(W,$,z){return z},d=function(W,$,z){return z},v=null,m=typeof n;if(m==="number")f=function(){return n};else if(Array.isArray(n))d=function(){return n[0]},f=function(){return n[n.length-1]};else if(m==="string"){var T=n.toLowerCase(),E=T.substring(0,6)==="random",y=T.substring(0,3)==="int";if(E||y){var C=T.indexOf("("),A=T.indexOf(")"),M=T.indexOf(",");if(C&&A&&M){var R=parseFloat(T.substring(C+1,M)),O=parseFloat(T.substring(M+1,A));E?f=function(){return g(R,O)}:f=function(){return l(R,O)}}else throw new Error("invalid random() format")}else{T=T[0];var L=parseFloat(n.substr(2));switch(T){case"+":f=function(W,$,z){return z+L};break;case"-":f=function(W,$,z){return z-L};break;case"*":f=function(W,$,z){return z*L};break;case"/":f=function(W,$,z){return z/L};break;default:f=function(){return parseFloat(n)}}}}else if(m==="function")f=n;else if(m==="object")if(i(n))h(n)&&(v=n.getActive),s(n)&&(f=n.getEnd),a(n)&&(d=n.getStart);else if(n.hasOwnProperty("value"))o=r(u,n.value);else{var I=n.hasOwnProperty("to"),N=n.hasOwnProperty("from"),B=n.hasOwnProperty("start");if(I&&(N||B)){if(o=r(u,n.to),B){var b=r(u,n.start);o.getActive=b.getEnd}if(N){var X=r(u,n.from);o.getStart=X.getEnd}}}return o||(o={getActive:v,getEnd:f,getStart:d}),o};p.exports=r},68710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(502),g=t(99730),h=t(20494),a=t(63130),s=t(21902),i=t(28348),r=t(10850),u=t(9744),n=t(72066),o=t(39366),f=function(d,v,m){if(v instanceof o)return v.parent=d,v;m===void 0?m=g:m=n(g,m);var T=r(v,"from",0),E=r(v,"to",1),y=[{value:T}],C=r(v,"delay",m.delay),A=r(v,"easeParams",m.easeParams),M=r(v,"ease",m.ease),R=u("value",E),O=new o(d,y),L=O.add(0,"value",R.getEnd,R.getStart,R.getActive,s(r(v,"ease",M),r(v,"easeParams",A)),i(v,"delay",C),r(v,"duration",m.duration),a(v,"yoyo",m.yoyo),r(v,"hold",m.hold),r(v,"repeat",m.repeat),r(v,"repeatDelay",m.repeatDelay),!1,!1);L.start=T,L.current=T,O.completeDelay=h(v,"completeDelay",0),O.loop=Math.round(h(v,"loop",0)),O.loopDelay=Math.round(h(v,"loopDelay",0)),O.paused=a(v,"paused",!1),O.persist=a(v,"persist",!1),O.callbackScope=r(v,"callbackScope",O);for(var I=l.TYPES,N=0;N<I.length;N++){var B=I[N],b=r(v,B,!1);if(b){var X=r(v,B+"Params",[]);O.setCallback(B,b,X)}}return O};p.exports=f},91944:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21902),g=t(10850),h=t(83392),a=function(s,i){i===void 0&&(i={});var r,u=g(i,"start",0),n=g(i,"ease",null),o=g(i,"grid",null),f=g(i,"from",0),d=f==="first",v=f==="center",m=f==="last",T=typeof f=="number",E=Array.isArray(s),y=parseFloat(E?s[0]:s),C=E?parseFloat(s[1]):0,A=Math.max(y,C);if(E&&(u+=y),o){var M=o[0],R=o[1],O=0,L=0,I=0,N=0,B=[];m?(O=M-1,L=R-1):T?(O=f%M,L=Math.floor(f/M)):v&&(O=(M-1)/2,L=(R-1)/2);for(var b=h.MIN_SAFE_INTEGER,X=0;X<R;X++){B[X]=[];for(var W=0;W<M;W++){I=O-W,N=L-X;var $=Math.sqrt(I*I+N*N);$>b&&(b=$),B[X][W]=$}}}var z=n?l(n):null;return o?r=function(V,D,G,U){var Y=0,H=U%M,Z=Math.floor(U/M);H>=0&&H<M&&Z>=0&&Z<R&&(Y=B[Z][H]);var K;if(E){var k=C-y;z?K=Y/b*k*z(Y/b):K=Y/b*k}else z?K=Y*y*z(Y/b):K=Y*y;return K+u}:r=function(V,D,G,U,Y){Y--;var H;d?H=U:v?H=Math.abs(Y/2-U):m?H=Y-U:T&&(H=Math.abs(f-U));var Z;if(E){var K;v?K=(C-y)/Y*(H*2):K=(C-y)/Y*H,z?Z=K*z(H/Y):Z=K}else z?Z=Y*A*z(H/Y):Z=H*y;return Z+u},r};p.exports=a},68061:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(502),g=t(99730),h=t(20494),a=t(63130),s=t(21902),i=t(4840),r=t(28348),u=t(92407),n=t(65868),o=t(10850),f=t(9744),d=t(72066),v=t(39366),m=function(T,E,y){if(E instanceof v)return E.parent=T,E;y===void 0?y=g:y=d(g,y);var C=n(E);!C&&y.targets&&(C=y.targets);for(var A=u(E),M=o(E,"delay",y.delay),R=o(E,"duration",y.duration),O=o(E,"easeParams",y.easeParams),L=o(E,"ease",y.ease),I=o(E,"hold",y.hold),N=o(E,"repeat",y.repeat),B=o(E,"repeatDelay",y.repeatDelay),b=a(E,"yoyo",y.yoyo),X=a(E,"flipX",y.flipX),W=a(E,"flipY",y.flipY),$=o(E,"interpolation",y.interpolation),z=function(Q,J,_,q){if(_==="texture"){var it=q,at=void 0;Array.isArray(q)?(it=q[0],at=q[1]):q.hasOwnProperty("value")?(it=q.value,Array.isArray(q.value)?(it=q.value[0],at=q.value[1]):typeof q.value=="string"&&(it=q.value)):typeof q=="string"&&(it=q),Q.addFrame(J,it,at,r(q,"delay",M),o(q,"duration",R),o(q,"hold",I),o(q,"repeat",N),o(q,"repeatDelay",B),a(q,"flipX",X),a(q,"flipY",W))}else{var ht=f(_,q),lt=i(o(q,"interpolation",$));Q.add(J,_,ht.getEnd,ht.getStart,ht.getActive,s(o(q,"ease",L),o(q,"easeParams",O)),r(q,"delay",M),o(q,"duration",R),a(q,"yoyo",b),o(q,"hold",I),o(q,"repeat",N),o(q,"repeatDelay",B),a(q,"flipX",X),a(q,"flipY",W),lt,lt?q:null)}},V=new v(T,C),D=0;D<A.length;D++)for(var G=A[D].key,U=A[D].value,Y=0;Y<C.length;Y++)G==="scale"&&!C[Y].hasOwnProperty("scale")?(z(V,Y,"scaleX",U),z(V,Y,"scaleY",U)):z(V,Y,G,U);V.completeDelay=h(E,"completeDelay",0),V.loop=Math.round(h(E,"loop",0)),V.loopDelay=Math.round(h(E,"loopDelay",0)),V.paused=a(E,"paused",!1),V.persist=a(E,"persist",!1),V.callbackScope=o(E,"callbackScope",V);for(var H=l.TYPES,Z=0;Z<H.length;Z++){var K=H[Z],k=o(E,K,!1);if(k){var j=o(E,K+"Params",[]);V.setCallback(K,k,j)}}return V};p.exports=m},56034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(502),g=t(20494),h=t(63130),a=t(65868),s=t(10850),i=t(68061),r=t(45641),u=function(n,o){if(o instanceof r)return o.parent=n,o;var f=new r(n);f.startDelay=s(o,"delay",0),f.completeDelay=g(o,"completeDelay",0),f.loop=Math.round(g(o,"loop",s(o,"repeat",0))),f.loopDelay=Math.round(g(o,"loopDelay",s(o,"repeatDelay",0))),f.paused=h(o,"paused",!1),f.persist=h(o,"persist",!0),f.callbackScope=s(o,"callbackScope",f);var d,v=l.TYPES;for(d=0;d<v.length;d++){var m=v[d],T=s(o,m,!1);if(T){var E=s(o,m+"Params",[]);f.setCallback(m,T,E)}}var y=s(o,"tweens",null);if(Array.isArray(y)){var C=[],A=a(o),M=void 0;for(A&&(M={targets:A}),d=0;d<y.length;d++)C.push(i(f,y[d],M));f.add(C)}return f};p.exports=u},79619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetBoolean:t(63130),GetEaseFunction:t(21902),GetInterpolationFunction:t(4840),GetNewValue:t(28348),GetProps:t(92407),GetTargets:t(65868),GetValueOp:t(9744),NumberTweenBuilder:t(68710),StaggerBuilder:t(91944),TweenBuilder:t(68061)}},5570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="active"},6383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},72582:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},90281:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},80803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="repeat"},13640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},10472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},5379:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},43449:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},61541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="yoyo"},54272:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TWEEN_ACTIVE:t(5570),TWEEN_COMPLETE:t(6383),TWEEN_LOOP:t(72582),TWEEN_PAUSE:t(90281),TWEEN_RESUME:t(13640),TWEEN_REPEAT:t(80803),TWEEN_START:t(10472),TWEEN_STOP:t(5379),TWEEN_UPDATE:t(43449),TWEEN_YOYO:t(61541)}},75193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={States:t(55303),Builders:t(79619),Events:t(54272),TweenManager:t(64532),Tween:t(39366),TweenData:t(15718),TweenFrameData:t(96490),BaseTween:t(502),TweenChain:t(45641)};p.exports=l},502:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(6659),h=t(54272),a=t(55303),s=new l({Extends:g,initialize:function(r){g.call(this),this.parent=r,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(i){return this.timeScale=i,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(h.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(h.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(h.TWEEN_COMPLETE,"onComplete")},complete:function(i){return i===void 0&&(i=0),i?(this.setCompleteDelayState(),this.countdown=i):this.onCompleteHandler(),this},completeAfterLoop:function(i){return i===void 0&&(i=0),this.loopCounter>i&&(this.loopCounter=i),this},remove:function(){return this.parent.remove(this),this},stop:function(){return!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(h.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(i){this.countdown-=i,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(i){return this.countdown-=i,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(h.TWEEN_START,"onStart"),i=0),i},updateCompleteDelay:function(i){this.countdown-=i,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(i,r,u){return u===void 0&&(u=[]),this.callbacks.hasOwnProperty(i)&&(this.callbacks[i]={func:r,params:u}),this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(i){i.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});s.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],p.exports=s},65521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),g=t(54272),h=t(55303),a=new l({initialize:function(i,r,u,n,o,f,d,v,m,T){this.tween=i,this.targetIndex=r,this.duration=n,this.totalDuration=0,this.delay=0,this.getDelay=u,this.yoyo=o,this.hold=f,this.repeat=d,this.repeatDelay=v,this.repeatCounter=0,this.flipX=m,this.flipY=T,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(s){s===void 0&&(s=this.current),this.tween.targets[this.targetIndex][this.key]=s},setCreatedState:function(){this.state=h.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=h.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=h.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=h.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=h.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=h.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=h.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=h.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===h.CREATED},isDelayed:function(){return this.state===h.DELAY},isPendingRender:function(){return this.state===h.PENDING_RENDER},isPlayingForward:function(){return this.state===h.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===h.PLAYING_BACKWARD},isHolding:function(){return this.state===h.HOLD_DELAY},isRepeating:function(){return this.state===h.REPEAT_DELAY},isComplete:function(){return this.state===h.COMPLETE},setStateFromEnd:function(s){this.yoyo?this.onRepeat(s,!0,!0):this.repeatCounter>0?this.onRepeat(s,!0,!1):this.setCompleteState()},setStateFromStart:function(s){this.repeatCounter>0?this.onRepeat(s,!1):this.setCompleteState()},reset:function(){var s=this.tween,i=s.totalTargets,r=this.targetIndex,u=s.targets[r],n=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(u,n,0,r,i,s),this.repeatCounter=this.repeat===-1?h.MAX:this.repeat,this.setPendingRenderState();var o=this.duration+this.hold;this.yoyo&&(o+=this.duration);var f=o+this.repeatDelay;this.totalDuration=this.delay+o,this.repeat===-1?(this.totalDuration+=f*h.MAX,s.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>s.duration&&(s.duration=this.totalDuration),this.delay<s.startDelay&&(s.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(s,i,r){var u=this.tween,n=u.totalTargets,o=this.targetIndex,f=u.targets[o],d=this.key,v=d!=="texture";if(this.elapsed=s,this.progress=s/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),v&&(i||r)&&(this.start=this.getStartValue(f,d,this.start,o,n,u)),r){this.setPlayingBackwardState(),this.dispatchEvent(g.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,v&&(this.end=this.getEndValue(f,d,this.start,o,n,u)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-s,v&&(this.current=this.start,f[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(g.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});p.exports=a},99730:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};p.exports=S},53709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(502),g=t(56694),h=t(54272),a=t(99325),s=t(61286),i=t(83392),r=t(55303),u=t(15718),n=t(96490),o=new g({Extends:l,initialize:function(d,v){l.call(this,d),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(f,d,v,m,T,E,y,C,A,M,R,O,L,I,N,B){var b=new u(this,f,d,v,m,T,E,y,C,A,M,R,O,L,I,N,B);return this.totalData=this.data.push(b),b},addFrame:function(f,d,v,m,T,E,y,C,A,M){var R=new n(this,f,d,v,m,T,E,y,C,A,M);return this.totalData=this.data.push(R),R},getValue:function(f){f===void 0&&(f=0);var d=null;return this.data&&(d=this.data[f].current),d},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,d,v){if(v===void 0&&(v=!1),f!=="texture")for(var m=0;m<this.totalData;m++){var T=this.data[m];T.key===f&&(T.isPlayingForward()||T.isPlayingBackward())&&(T.end=d,v&&(T.start=T.current))}return this},restart:function(){switch(this.state){case r.REMOVED:case r.FINISHED:this.seek(),this.parent.makeActive(this);break;case r.PENDING:case r.PENDING_REMOVE:this.parent.reset(this);break;case r.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,l.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,d,v){if(f===void 0&&(f=0),d===void 0&&(d=16.6),v===void 0&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive");var m=this.paused;if(this.paused=!1,f>0){for(var T=Math.floor(f/d),E=f-T*d,y=0;y<T;y++)this.update(d);E>0&&this.update(E)}return this.paused=m,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=i.MAX_SAFE_INTEGER;for(var d=this.data,v=0;v<this.totalData;v++)d[v].reset(f);this.duration=Math.max(this.duration,.01);var m=this.duration,T=this.completeDelay,E=this.loopCounter,y=this.loopDelay;E>0?this.totalDuration=m+T+(m+y)*E:this.totalDuration=m+T},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=r.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(h.TWEEN_START,"onStart"),f=0));var d=!1;if(this.isActive())for(var v=this.data,m=0;m<this.totalData;m++)v[m].update(f)&&(d=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var T=this.isPendingRemove();return T&&this.persist&&(this.setFinishedState(),T=!1),T},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,d){if(!this.isSeeking){this.emit(f,this,this.targets);var v=this.callbacks[d];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){l.prototype.destroy.call(this),this.targets=null}});s.register("tween",function(f){return this.scene.sys.tweens.add(f)}),a.register("tween",function(f){return this.scene.sys.tweens.create(f)}),p.exports=o},45641:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66458),g=t(502),h=t(56694),a=t(54272),s=t(99325),i=t(61286),r=t(55303),u=new h({Extends:g,initialize:function(o){g.call(this,o),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?r.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive"),this},add:function(n){var o=this.parent.create(n);Array.isArray(o)||(o=[o]);for(var f=this.data,d=0;d<o.length;d++){var v=o[d];v.parent=this,f.push(v.reset())}return this.totalData=f.length,this},remove:function(n){return l(this.data,n),n.setRemovedState(),n===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(n){for(var o=this.data,f=0;f<this.totalData;f++)if(o[f].hasTarget(n))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(n){return n.seek(),n.setActiveState(),this},makeActive:function(n){return n.reset(),n.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var n=this.data,o=this.totalData,f=0;f<o;f++)n[f].reset(!1);this.currentIndex=0,this.currentTween=n[0]},update:function(n){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;n*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(n):this.isCompleteDelayed()?this.updateCompleteDelay(n):this.isStartDelayed()&&(n=this.updateStartCountdown(n));var o=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(n)&&this.nextTween()&&this.nextState(),o=this.isPendingRemove(),o&&this.persist&&(this.setFinishedState(),o=!1)),o},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(n){this.currentIndex=n,this.currentTween=this.data[n],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(n,o){this.emit(n,this);var f=this.callbacks[o];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){g.prototype.destroy.call(this),this.currentTween=null}});i.register("tweenchain",function(n){return this.scene.sys.tweens.chain(n)}),s.register("tweenchain",function(n){return this.scene.sys.tweens.create(n)}),p.exports=u},15718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65521),g=t(82897),h=t(56694),a=t(54272),s=new h({Extends:l,initialize:function(r,u,n,o,f,d,v,m,T,E,y,C,A,M,R,O,L){l.call(this,r,u,m,T,E,y,C,A,M,R),this.key=n,this.getActiveValue=d,this.getEndValue=o,this.getStartValue=f,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=O,this.interpolationData=L},reset:function(i){l.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex],u=this.key;i&&(r[u]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(r[u]=this.getActiveValue(r,u,0))},update:function(i){var r=this.tween,u=r.totalTargets,n=this.targetIndex,o=r.targets[n],f=this.key;if(!o)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(o,f,o[f],n,u,r),this.end=this.getEndValue(o,f,this.start,n,u,r),this.current=this.start,o[f]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),v=this.isPlayingBackward();if(d||v){var m=this.elapsed,T=this.duration,E=0,y=!1;m+=i,m>=T?(E=m-T,m=T,y=!0):m<0&&(m=0);var C=g(m/T,0,1);if(this.elapsed=m,this.progress=C,this.previous=this.current,y)d?(this.current=this.end,o[f]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(E)):(this.current=this.start,o[f]=this.start,this.setStateFromStart(E));else{d||(C=1-C);var A=this.ease(C);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,o[f]=this.current}this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,r){var u=this.tween;if(!u.isSeeking){var n=u.targets[this.targetIndex],o=this.key,f=this.current,d=this.previous;u.emit(i,u,o,n,f,d);var v=u.callbacks[r];v&&v.func.apply(u.callbackScope,[u,n,o,f,d].concat(v.params))}},destroy:function(){l.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});p.exports=s},96490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65521),g=t(82897),h=t(56694),a=t(54272),s=new h({Extends:l,initialize:function(r,u,n,o,f,d,v,m,T,E,y){l.call(this,r,u,f,d,!1,v,m,T,E,y),this.key="texture",this.startTexture=null,this.endTexture=n,this.startFrame=null,this.endFrame=o,this.yoyo=m!==0},reset:function(i){l.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=r.texture.key,this.startFrame=r.frame.name),i&&r.setTexture(this.startTexture,this.startFrame)},update:function(i){var r=this.tween,u=this.targetIndex,n=r.targets[u];if(!n)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&n.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var o=this.isPlayingForward(),f=this.isPlayingBackward();if(o||f){var d=this.elapsed,v=this.duration,m=0,T=!1;d+=i,d>=v?(m=d-v,d=v,T=!0):d<0&&(d=0);var E=g(d/v,0,1);this.elapsed=d,this.progress=E,T&&(o?(n.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(n.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(m))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,r){var u=this.tween;if(!u.isSeeking){var n=u.targets[this.targetIndex],o=this.key;u.emit(i,u,o,n);var f=u.callbacks[r];f&&f.func.apply(u.callbackScope,[u,n,o].concat(f.params))}},destroy:function(){l.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});p.exports=s},55303:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};p.exports=S},56694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(s){return!!s.get&&typeof s.get=="function"||!!s.set&&typeof s.set=="function"}function t(s,i,r){var u=r?s[i]:Object.getOwnPropertyDescriptor(s,i);return!r&&u.value&&typeof u.value=="object"&&(u=u.value),u&&S(u)?(typeof u.enumerable>"u"&&(u.enumerable=!0),typeof u.configurable>"u"&&(u.configurable=!0),u):!1}function l(s,i){var r=Object.getOwnPropertyDescriptor(s,i);return r?(r.value&&typeof r.value=="object"&&(r=r.value),r.configurable===!1):!1}function g(s,i,r,u){for(var n in i)if(i.hasOwnProperty(n)){var o=t(i,n,r);if(o!==!1){var f=u||s;if(l(f.prototype,n)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+n+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(s.prototype,n,o)}else s.prototype[n]=i[n]}}function h(s,i){if(i){Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++)g(s,i[r].prototype||i[r])}}function a(s){s||(s={});var i,r;if(s.initialize){if(typeof s.initialize!="function")throw new Error("initialize must be a function");i=s.initialize,delete s.initialize}else if(s.Extends){var u=s.Extends;i=function(){u.apply(this,arguments)}}else i=function(){};s.Extends?(i.prototype=Object.create(s.Extends.prototype),i.prototype.constructor=i,r=s.Extends,delete s.Extends):i.prototype.constructor=i;var n=null;return s.Mixins&&(n=s.Mixins,delete s.Mixins),h(i,n),g(i,s,!0,r),i}a.extend=g,a.mixin=h,a.ignoreFinals=!1,p.exports=a},72283:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},10618:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};p.exports=S},78991:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a){if(a===void 0&&(a=t),g>0){var s=g-t.length;if(s<=0)return null}if(!Array.isArray(l))return t.indexOf(l)===-1?(t.push(l),h&&h.call(a,l),l):null;for(var i=l.length-1;i>=0;)t.indexOf(l[i])!==-1&&l.splice(i,1),i--;if(i=l.length,i===0)return null;g>0&&i>s&&(l.splice(s),i=s);for(var r=0;r<i;r++){var u=l[r];t.push(u),h&&h.call(a,u)}return l};p.exports=S},48522:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h,a,s){if(g===void 0&&(g=0),s===void 0&&(s=t),h>0){var i=h-t.length;if(i<=0)return null}if(!Array.isArray(l))return t.indexOf(l)===-1?(t.splice(g,0,l),a&&a.call(s,l),l):null;for(var r=l.length-1;r>=0;)t.indexOf(l[r])!==-1&&l.pop(),r--;if(r=l.length,r===0)return null;h>0&&r>i&&(l.splice(i),r=i);for(var u=r-1;u>=0;u--){var n=l[u];t.splice(g,0,n),a&&a.call(s,n)}return l};p.exports=S},58742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.indexOf(l);return g!==-1&&g<t.length&&(t.splice(g,1),t.push(l)),l};p.exports=S},30164:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),g=function(h,a,s,i,r){i===void 0&&(i=0),r===void 0&&(r=h.length);var u=0;if(l(h,i,r))for(var n=i;n<r;n++){var o=h[n];o[a]===s&&u++}return u};p.exports=g},36337:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h,a=[null];for(h=3;h<arguments.length;h++)a.push(arguments[h]);for(h=0;h<t.length;h++)a[0]=t[h],l.apply(g,a);return t};p.exports=S},46208:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),g=function(h,a,s,i,r){if(i===void 0&&(i=0),r===void 0&&(r=h.length),l(h,i,r)){var u,n=[null];for(u=5;u<arguments.length;u++)n.push(arguments[u]);for(u=i;u<r;u++)n[0]=h[u],a.apply(s,n)}return h};p.exports=g},2406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(l.length){if(l.length===1)return l[0]}else return NaN;var h=1,a,s;if(g){if(t<l[0][g])return l[0];for(;l[h][g]<t;)h++}else for(;l[h]<t;)h++;return h>l.length&&(h=l.length),g?(a=l[h-1][g],s=l[h][g],s-t<=t-a?l[h]:l[h-1]):(a=l[h-1],s=l[h],s-t<=t-a?s:a)};p.exports=S},5454:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=[]);for(var g=0;g<t.length;g++)Array.isArray(t[g])?S(t[g],l):l.push(t[g]);return l};p.exports=S},71608:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),g=function(h,a,s,i,r){i===void 0&&(i=0),r===void 0&&(r=h.length);var u=[];if(l(h,i,r))for(var n=i;n<r;n++){var o=h[n];(!a||a&&s===void 0&&o.hasOwnProperty(a)||a&&s!==void 0&&o[a]===s)&&u.push(o)}return u};p.exports=g},51463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),g=function(h,a,s,i,r){if(i===void 0&&(i=0),r===void 0&&(r=h.length),l(h,i,r))for(var u=i;u<r;u++){var n=h[u];if(!a||a&&s===void 0&&n.hasOwnProperty(a)||a&&s!==void 0&&n[a]===s)return n}return null};p.exports=g},72861:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){l===void 0&&(l=0),g===void 0&&(g=t.length);var h=l+Math.floor(Math.random()*g);return t[h]===void 0?null:t[h]};p.exports=S},24218:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(l===g)return t;var h=t.indexOf(l),a=t.indexOf(g);if(h<0||a<0)throw new Error("Supplied items must be elements of the same array");return h>a||(t.splice(h,1),a===t.length-1?t.push(l):t.splice(a,0,l)),t};p.exports=S},58258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(l===g)return t;var h=t.indexOf(l),a=t.indexOf(g);if(h<0||a<0)throw new Error("Supplied items must be elements of the same array");return h<a||(t.splice(h,1),a===0?t.unshift(l):t.splice(a,0,l)),t};p.exports=S},51172:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.indexOf(l);if(g>0){var h=t[g-1],a=t.indexOf(h);t[g]=h,t[a]=l}return t};p.exports=S},68396:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=t.indexOf(l);if(h===-1||g<0||g>=t.length)throw new Error("Supplied index out of bounds");return h!==g&&(t.splice(h,1),t.splice(g,0,l)),l};p.exports=S},27555:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.indexOf(l);if(g!==-1&&g<t.length-1){var h=t[g+1],a=t.indexOf(h);t[g]=h,t[a]=l}return t};p.exports=S},13401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=[],s,i=!1;if((g||h)&&(i=!0,g||(g=""),h||(h="")),l<t)for(s=t;s>=l;s--)i?a.push(g+s.toString()+h):a.push(s);else for(s=t;s<=l;s++)i?a.push(g+s.toString()+h):a.push(s);return a};p.exports=S},89955:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(67233),g=function(h,a,s){h===void 0&&(h=0),a===void 0&&(a=null),s===void 0&&(s=1),a===null&&(a=h,h=0);for(var i=[],r=Math.max(l((a-h)/(s||1)),0),u=0;u<r;u++)i.push(h),h+=s;return i};p.exports=g},53466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(g,h,a){var s=g[h];g[h]=g[a],g[a]=s}function t(g,h){return g<h?-1:g>h?1:0}var l=function(g,h,a,s,i){for(a===void 0&&(a=0),s===void 0&&(s=g.length-1),i===void 0&&(i=t);s>a;){if(s-a>600){var r=s-a+1,u=h-a+1,n=Math.log(r),o=.5*Math.exp(2*n/3),f=.5*Math.sqrt(n*o*(r-o)/r)*(u-r/2<0?-1:1),d=Math.max(a,Math.floor(h-u*o/r+f)),v=Math.min(s,Math.floor(h+(r-u)*o/r+f));l(g,h,d,v,i)}var m=g[h],T=a,E=s;for(S(g,a,h),i(g[s],m)>0&&S(g,a,s);T<E;){for(S(g,T,E),T++,E--;i(g[T],m)<0;)T++;for(;i(g[E],m)>0;)E--}i(g[a],m)===0?S(g,a,E):(E++,S(g,E,s)),E<=h&&(a=E+1),h<=E&&(s=E-1)}};p.exports=l},75757:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10850),g=t(18592),h=function(s,i,r){for(var u=[],n=0;n<s.length;n++)for(var o=0;o<i.length;o++)for(var f=0;f<r;f++)u.push({a:s[n],b:i[o]});return u},a=function(s,i,r){var u=l(r,"max",0),n=l(r,"qty",1),o=l(r,"random",!1),f=l(r,"randomB",!1),d=l(r,"repeat",0),v=l(r,"yoyo",!1),m=[];if(f&&g(i),d===-1)if(u===0)d=0;else{var T=s.length*i.length*n;v&&(T*=2),d=Math.ceil(u/T)}for(var E=0;E<=d;E++){var y=h(s,i,n);o&&g(y),m=m.concat(y),v&&(y.reverse(),m=m.concat(y))}return u&&m.splice(u),m};p.exports=a},66458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72677),g=function(h,a,s,i){i===void 0&&(i=h);var r;if(!Array.isArray(a))return r=h.indexOf(a),r!==-1?(l(h,r),s&&s.call(i,a),a):null;for(var u=a.length-1,n=[];u>=0;){var o=a[u];r=h.indexOf(o),r!==-1&&(l(h,r),n.push(o),s&&s.call(i,o)),u--}return n};p.exports=g},8324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72677),g=function(h,a,s,i){if(i===void 0&&(i=h),a<0||a>h.length-1)throw new Error("Index out of bounds");var r=l(h,a);return s&&s.call(i,r),r};p.exports=g},47427:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),g=function(h,a,s,i,r){if(a===void 0&&(a=0),s===void 0&&(s=h.length),r===void 0&&(r=h),l(h,a,s)){var u=s-a,n=h.splice(a,u);if(i)for(var o=0;o<n.length;o++){var f=n[o];i.call(r,f)}return n}else return[]};p.exports=g},50147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72677),g=function(h,a,s){a===void 0&&(a=0),s===void 0&&(s=h.length);var i=a+Math.floor(Math.random()*s);return l(h,i)};p.exports=g},80402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=t.indexOf(l),a=t.indexOf(g);return h!==-1&&a===-1?(t[h]=g,!0):!1};p.exports=S},77640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=1);for(var g=null,h=0;h<l;h++)g=t.shift(),t.push(g);return g};p.exports=S},38487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=1);for(var g=null,h=0;h<l;h++)g=t.pop(),t.unshift(g);return g};p.exports=S},45838:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){var a=t.length;if(l<0||l>a||l>=g||g>a){if(h)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};p.exports=S},27847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var g=t.indexOf(l);return g!==-1&&g>0&&(t.splice(g,1),t.unshift(l)),l};p.exports=S},6034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),g=function(h,a,s,i,r){if(i===void 0&&(i=0),r===void 0&&(r=h.length),l(h,i,r))for(var u=i;u<r;u++){var n=h[u];n.hasOwnProperty(a)&&(n[a]=s)}return h};p.exports=g},18592:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=t.length-1;l>0;l--){var g=Math.floor(Math.random()*(l+1)),h=t[l];t[l]=t[g],t[g]=h}return t};p.exports=S},28834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=/\D/g;return t.sort(function(g,h){return parseInt(g.replace(l,""),10)-parseInt(h.replace(l,""),10)}),t};p.exports=S},72677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){if(!(l>=t.length)){for(var g=t.length-1,h=t[l],a=l;a<g;a++)t[a]=t[a+1];return t.length=g,h}};p.exports=S},17922:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(77290);function g(i,r){return String(i).localeCompare(r)}function h(i,r){var u=i.length;if(u<=1)return i;for(var n=new Array(u),o=1;o<u;o*=2){a(i,r,o,n);var f=i;i=n,n=f}return i}function a(i,r,u,n){var o=i.length,f=0,d=u*2,v,m,T,E,y;for(v=0;v<o;v+=d)for(m=v+u,T=m+u,m>o&&(m=o),T>o&&(T=o),E=v,y=m;;)if(E<m&&y<T)r(i[E],i[y])<=0?n[f++]=i[E++]:n[f++]=i[y++];else if(E<m)n[f++]=i[E++];else if(y<T)n[f++]=i[y++];else break}var s=function(i,r){if(r===void 0&&(r=g),!i||i.length<2)return i;if(l.features.stableSort)return i.sort(r);var u=h(i,r);return u!==i&&a(u,null,i.length,i),i};p.exports=s},96928:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(l===g)return t;var h=t.indexOf(l),a=t.indexOf(g);if(h<0||a<0)throw new Error("Supplied items must be elements of the same array");return t[h]=g,t[a]=l,t};p.exports=S},59959:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Matrix:t(13515),Add:t(78991),AddAt:t(48522),BringToTop:t(58742),CountAllMatching:t(30164),Each:t(36337),EachInRange:t(46208),FindClosestInSorted:t(2406),Flatten:t(5454),GetAll:t(71608),GetFirst:t(51463),GetRandom:t(72861),MoveDown:t(51172),MoveTo:t(68396),MoveUp:t(27555),MoveAbove:t(24218),MoveBelow:t(58258),NumberArray:t(13401),NumberArrayStep:t(89955),QuickSelect:t(53466),Range:t(75757),Remove:t(66458),RemoveAt:t(8324),RemoveBetween:t(47427),RemoveRandomElement:t(50147),Replace:t(80402),RotateLeft:t(77640),RotateRight:t(38487),SafeRange:t(45838),SendToBack:t(27847),SetAll:t(6034),Shuffle:t(18592),SortByDigits:t(28834),SpliceOne:t(72677),StableSort:t(17922),Swap:t(96928)}},97494:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var l=t[0].length,g=1;g<t.length;g++)if(t[g].length!==l)return!1;return!0};p.exports=S},68428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76400),g=t(97494),h=function(a){var s="";if(!g(a))return s;for(var i=0;i<a.length;i++){for(var r=0;r<a[i].length;r++){var u=a[i][r].toString();u!=="undefined"?s+=l(u,2):s+="?",r<a[i].length-1&&(s+=" |")}if(i<a.length-1){s+=`
`;for(var n=0;n<a[i].length;n++)s+="---",n<a[i].length-1&&(s+="+");s+=`
`}}return s};p.exports=h},59521:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};p.exports=S},51995:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=0;l<t.length;l++)t[l].reverse();return t};p.exports=S},89011:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63515),g=function(h){return l(h,180)};p.exports=g},42549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63515),g=function(h){return l(h,90)};p.exports=g},63515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97494),g=t(78581),h=function(a,s){if(s===void 0&&(s=90),!l(a))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")a=g(a),a.reverse();else if(s===-90||s===270||s==="rotateRight")a.reverse(),a=g(a);else if(Math.abs(s)===180||s==="rotate180"){for(var i=0;i<a.length;i++)a[i].reverse();a.reverse()}return a};p.exports=h},14305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63515),g=function(h){return l(h,-90)};p.exports=g},27365:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(77640),g=t(38487),h=function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),i!==0&&(i<0?l(a,Math.abs(i)):g(a,i)),s!==0)for(var r=0;r<a.length;r++){var u=a[r];s<0?l(u,Math.abs(s)):g(u,s)}return a};p.exports=h},78581:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=t.length,g=t[0].length,h=new Array(g),a=0;a<g;a++){h[a]=new Array(l);for(var s=l-1;s>-1;s--)h[a][s]=t[s][a]}return h};p.exports=S},13515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CheckMatrix:t(97494),MatrixToString:t(68428),ReverseColumns:t(59521),ReverseRows:t(51995),Rotate180:t(89011),RotateLeft:t(42549),RotateMatrix:t(63515),RotateRight:t(14305),Translate:t(27365),TransposeMatrix:t(78581)}},40581:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(l,g){for(var h=new Uint8Array(l),a=h.length,s=g?"data:"+g+";base64,":"",i=0;i<a;i+=3)s+=S[h[i]>>2],s+=S[(h[i]&3)<<4|h[i+1]>>4],s+=S[(h[i+1]&15)<<2|h[i+2]>>6],s+=S[h[i+2]&63];return a%3===2?s=s.substring(0,s.length-1)+"=":a%3===1&&(s=s.substring(0,s.length-2)+"=="),s};p.exports=t},82329:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),l=0;l<S.length;l++)t[S.charCodeAt(l)]=l;var g=function(h){h=h.substr(h.indexOf(",")+1);var a=h.length,s=a*.75,i=0,r,u,n,o;h[a-1]==="="&&(s--,h[a-2]==="="&&s--);for(var f=new ArrayBuffer(s),d=new Uint8Array(f),v=0;v<a;v+=4)r=t[h.charCodeAt(v)],u=t[h.charCodeAt(v+1)],n=t[h.charCodeAt(v+2)],o=t[h.charCodeAt(v+3)],d[i++]=r<<2|u>>4,d[i++]=(u&15)<<4|n>>2,d[i++]=(n&3)<<6|o&63;return f};p.exports=g},78417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ArrayBufferToBase64:t(40581),Base64ToArrayBuffer:t(82329)}},22178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Array:t(59959),Base64:t(78417),Objects:t(64615),String:t(50379),NOOP:t(72283),NULL:t(10618)}},32742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l={};for(var g in t)Array.isArray(t[g])?l[g]=t[g].slice(0):l[g]=t[g];return l};p.exports=S},28699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l,g,h;if(typeof t!="object"||t===null)return t;l=Array.isArray(t)?[]:{};for(h in t)g=t[h],l[h]=S(g);return l};p.exports=S},98611:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42911),g=function(){var h,a,s,i,r,u,n=arguments[0]||{},o=1,f=arguments.length,d=!1;for(typeof n=="boolean"&&(d=n,n=arguments[1]||{},o=2),f===o&&(n=this,--o);o<f;o++)if((h=arguments[o])!=null)for(a in h)s=n[a],i=h[a],n!==i&&(d&&i&&(l(i)||(r=Array.isArray(i)))?(r?(r=!1,u=s&&Array.isArray(s)?s:[]):u=s&&l(s)?s:{},n[a]=g(d,u,i)):i!==void 0&&(n[a]=i));return n};p.exports=g},20494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(5923),g=t(10850),h=function(a,s,i){var r=g(a,s,null);if(r===null)return i;if(Array.isArray(r))return l.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return l.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return l.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(s);return r};p.exports=h},72632:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){var h=typeof t;return!t||h==="number"||h==="string"?g:t.hasOwnProperty(l)&&t[l]!==void 0?t[l]:g};p.exports=S},94324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10850),g=t(82897),h=function(a,s,i,r,u){u===void 0&&(u=i);var n=l(a,s,u);return g(n,i,r)};p.exports=h},10850:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){if(!t&&!h||typeof t=="number")return g;if(t&&t.hasOwnProperty(l))return t[l];if(h&&h.hasOwnProperty(l))return h[l];if(l.indexOf(".")!==-1){for(var a=l.split("."),s=t,i=h,r=g,u=g,n=!0,o=!0,f=0;f<a.length;f++)s&&s.hasOwnProperty(a[f])?(r=s[a[f]],s=s[a[f]]):n=!1,i&&i.hasOwnProperty(a[f])?(u=i[a[f]],i=i[a[f]]):o=!1;return n?r:o?u:g}else return g};p.exports=S},87701:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){for(var g=0;g<l.length;g++)if(!t.hasOwnProperty(l[g]))return!1;return!0};p.exports=S},53523:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){for(var g=0;g<l.length;g++)if(t.hasOwnProperty(l[g]))return!0;return!1};p.exports=S},19256:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.hasOwnProperty(l)};p.exports=S},42911:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};p.exports=S},30657:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(32742),g=function(h,a){var s=l(h);for(var i in a)s.hasOwnProperty(i)||(s[i]=a[i]);return s};p.exports=g},72066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(32742),g=function(h,a){var s=l(h);for(var i in a)s.hasOwnProperty(i)&&(s[i]=a[i]);return s};p.exports=g},28820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19256),g=function(h,a){for(var s={},i=0;i<a.length;i++){var r=a[i];l(h,r)&&(s[r]=h[r])}return s};p.exports=g},22440:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(l))return t[l]=g,!0;if(l.indexOf(".")!==-1){for(var h=l.split("."),a=t,s=t,i=0;i<h.length;i++)if(a.hasOwnProperty(h[i]))s=a,a=a[h[i]];else return!1;return s[h[h.length-1]]=g,!0}return!1};p.exports=S},64615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clone:t(32742),DeepCopy:t(28699),Extend:t(98611),GetAdvancedValue:t(20494),GetFastValue:t(72632),GetMinMaxValue:t(94324),GetValue:t(10850),HasAll:t(87701),HasAny:t(53523),HasValue:t(19256),IsPlainObject:t(42911),Merge:t(30657),MergeRight:t(72066),Pick:t(28820),SetValue:t(22440)}},69429:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.replace(/%([0-9]+)/g,function(g,h){return l[Number(h)-1]})};p.exports=S},76400:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,g,h){l===void 0&&(l=0),g===void 0&&(g=" "),h===void 0&&(h=3),t=t.toString();var a=0;if(l+1>=t.length)switch(h){case 1:t=new Array(l+1-t.length).join(g)+t;break;case 3:var s=Math.ceil((a=l-t.length)/2),i=a-s;t=new Array(i+1).join(g)+t+new Array(s+1).join(g);break;default:t=t+new Array(l+1-t.length).join(g);break}return t};p.exports=S},76872:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===0?t.slice(1):t.slice(0,l-1)+t.slice(l)};p.exports=S},8051:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};p.exports=S},76583:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var l=Math.random()*16|0,g=t==="x"?l:l&3|8;return g.toString(16)})};p.exports=S},40587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};p.exports=S},50379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Format:t(69429),Pad:t(76400),RemoveAt:t(76872),Reverse:t(8051),UppercaseFirst:t(40587),UUID:t(76583)}}},w={};function P(p){var S=w[p];if(S!==void 0)return S.exports;var t=w[p]={exports:{}};return x[p](t,t.exports,P),t.exports}P.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var F=P(92491);return F})())})(Em);var bv=Em.exports;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cm=BigInt(0),Gl=BigInt(1),QT=BigInt(2),zl=e=>e instanceof Uint8Array,JT=Array.from({length:256},(e,c)=>c.toString(16).padStart(2,"0"));function cn(e){if(!zl(e))throw new Error("Uint8Array expected");let c="";for(let x=0;x<e.length;x++)c+=JT[e[x]];return c}function Am(e){const c=e.toString(16);return c.length&1?`0${c}`:c}function Ul(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function vn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const c=e.length;if(c%2)throw new Error("padded hex string expected, got unpadded hex of length "+c);const x=new Uint8Array(c/2);for(let w=0;w<x.length;w++){const P=w*2,F=e.slice(P,P+2),p=Number.parseInt(F,16);if(Number.isNaN(p)||p<0)throw new Error("Invalid byte sequence");x[w]=p}return x}function Te(e){return Ul(cn(e))}function wd(e){if(!zl(e))throw new Error("Uint8Array expected");return Ul(cn(Uint8Array.from(e).reverse()))}function Wr(e,c){return vn(e.toString(16).padStart(c*2,"0"))}function Md(e,c){return Wr(e,c).reverse()}function Pd(e){return vn(Am(e))}function Xe(e,c,x){let w;if(typeof c=="string")try{w=vn(c)}catch(F){throw new Error(`${e} must be valid hex string, got "${c}". Cause: ${F}`)}else if(zl(c))w=Uint8Array.from(c);else throw new Error(`${e} must be hex string or Uint8Array`);const P=w.length;if(typeof x=="number"&&P!==x)throw new Error(`${e} expected ${x} bytes, got ${P}`);return w}function Hr(...e){const c=new Uint8Array(e.reduce((w,P)=>w+P.length,0));let x=0;return e.forEach(w=>{if(!zl(w))throw new Error("Uint8Array expected");c.set(w,x),x+=w.length}),c}function qT(e,c){if(e.length!==c.length)return!1;for(let x=0;x<e.length;x++)if(e[x]!==c[x])return!1;return!0}function _T(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function tS(e){let c;for(c=0;e>Cm;e>>=Gl,c+=1);return c}function eS(e,c){return e>>BigInt(c)&Gl}const iS=(e,c,x)=>e|(x?Gl:Cm)<<BigInt(c),bl=e=>(QT<<BigInt(e-1))-Gl,wh=e=>new Uint8Array(e),Vv=e=>Uint8Array.from(e);function wm(e,c,x){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof c!="number"||c<2)throw new Error("qByteLen must be a number");if(typeof x!="function")throw new Error("hmacFn must be a function");let w=wh(e),P=wh(e),F=0;const p=()=>{w.fill(1),P.fill(0),F=0},S=(...h)=>x(P,w,...h),t=(h=wh())=>{P=S(Vv([0]),h),w=S(),h.length!==0&&(P=S(Vv([1]),h),w=S())},l=()=>{if(F++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const a=[];for(;h<c;){w=S();const s=w.slice();a.push(s),h+=w.length}return Hr(...a)};return(h,a)=>{p(),t(h);let s;for(;!(s=a(l()));)t();return p(),s}}const nS={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,c)=>c.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Oa(e,c,x={}){const w=(P,F,p)=>{const S=nS[F];if(typeof S!="function")throw new Error(`Invalid validator "${F}", expected function`);const t=e[P];if(!(p&&t===void 0)&&!S(t,e))throw new Error(`Invalid param ${String(P)}=${t} (${typeof t}), expected ${F}`)};for(const[P,F]of Object.entries(c))w(P,F,!1);for(const[P,F]of Object.entries(x))w(P,F,!0);return e}const rS=Object.freeze(Object.defineProperty({__proto__:null,bitGet:eS,bitLen:tS,bitMask:bl,bitSet:iS,bytesToHex:cn,bytesToNumberBE:Te,bytesToNumberLE:wd,concatBytes:Hr,createHmacDrbg:wm,ensureBytes:Xe,equalBytes:qT,hexToBytes:vn,hexToNumber:Ul,numberToBytesBE:Wr,numberToBytesLE:Md,numberToHexUnpadded:Am,numberToVarBytesBE:Pd,utf8ToBytes:_T,validateObject:Oa},Symbol.toStringTag,{value:"Module"}));function ll(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Rd(e,...c){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(c.length>0&&!c.includes(e.length))throw new Error(`Expected Uint8Array of length ${c}, not of length=${e.length}`)}function sS(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ll(e.outputLen),ll(e.blockLen)}function $r(e,c=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(c&&e.finished)throw new Error("Hash#digest() has already been called")}function Mm(e,c){Rd(e);const x=c.outputLen;if(e.length<x)throw new Error(`digestInto() expects output buffer of length at least ${x}`)}const oo=BigInt(2**32-1),Xv=BigInt(32);function aS(e,c=!1){return c?{h:Number(e&oo),l:Number(e>>Xv&oo)}:{h:Number(e>>Xv&oo)|0,l:Number(e&oo)|0}}function oS(e,c=!1){let x=new Uint32Array(e.length),w=new Uint32Array(e.length);for(let P=0;P<e.length;P++){const{h:F,l:p}=aS(e[P],c);[x[P],w[P]]=[F,p]}return[x,w]}const lS=(e,c,x)=>e<<x|c>>>32-x,hS=(e,c,x)=>c<<x|e>>>32-x,uS=(e,c,x)=>c<<x-32|e>>>64-x,fS=(e,c,x)=>e<<x-32|c>>>64-x,Mh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pm=e=>e instanceof Uint8Array,dS=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Ph=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),li=(e,c)=>e<<32-c|e>>>c,cS=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!cS)throw new Error("Non little-endian hardware is not supported");function Rm(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Vl(e){if(typeof e=="string"&&(e=Rm(e)),!Pm(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function vS(...e){const c=new Uint8Array(e.reduce((w,P)=>w+P.length,0));let x=0;return e.forEach(w=>{if(!Pm(w))throw new Error("Uint8Array expected");c.set(w,x),x+=w.length}),c}class Ld{clone(){return this._cloneInto()}}function Lm(e){const c=w=>e().update(Vl(w)).digest(),x=e();return c.outputLen=x.outputLen,c.blockLen=x.blockLen,c.create=()=>e(),c}function pS(e=32){if(Mh&&typeof Mh.getRandomValues=="function")return Mh.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[Fm,Om,Dm]=[[],[],[]],gS=BigInt(0),ys=BigInt(1),mS=BigInt(2),xS=BigInt(7),yS=BigInt(256),TS=BigInt(113);for(let e=0,c=ys,x=1,w=0;e<24;e++){[x,w]=[w,(2*x+3*w)%5],Fm.push(2*(5*w+x)),Om.push((e+1)*(e+2)/2%64);let P=gS;for(let F=0;F<7;F++)c=(c<<ys^(c>>xS)*TS)%yS,c&mS&&(P^=ys<<(ys<<BigInt(F))-ys);Dm.push(P)}const[SS,ES]=oS(Dm,!0),Yv=(e,c,x)=>x>32?uS(e,c,x):lS(e,c,x),Wv=(e,c,x)=>x>32?fS(e,c,x):hS(e,c,x);function CS(e,c=24){const x=new Uint32Array(10);for(let w=24-c;w<24;w++){for(let p=0;p<10;p++)x[p]=e[p]^e[p+10]^e[p+20]^e[p+30]^e[p+40];for(let p=0;p<10;p+=2){const S=(p+8)%10,t=(p+2)%10,l=x[t],g=x[t+1],h=Yv(l,g,1)^x[S],a=Wv(l,g,1)^x[S+1];for(let s=0;s<50;s+=10)e[p+s]^=h,e[p+s+1]^=a}let P=e[2],F=e[3];for(let p=0;p<24;p++){const S=Om[p],t=Yv(P,F,S),l=Wv(P,F,S),g=Fm[p];P=e[g],F=e[g+1],e[g]=t,e[g+1]=l}for(let p=0;p<50;p+=10){for(let S=0;S<10;S++)x[S]=e[p+S];for(let S=0;S<10;S++)e[p+S]^=~x[(S+2)%10]&x[(S+4)%10]}e[0]^=SS[w],e[1]^=ES[w]}x.fill(0)}class Fd extends Ld{constructor(c,x,w,P=!1,F=24){if(super(),this.blockLen=c,this.suffix=x,this.outputLen=w,this.enableXOF=P,this.rounds=F,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ll(w),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=dS(this.state)}keccak(){CS(this.state32,this.rounds),this.posOut=0,this.pos=0}update(c){$r(this);const{blockLen:x,state:w}=this;c=Vl(c);const P=c.length;for(let F=0;F<P;){const p=Math.min(x-this.pos,P-F);for(let S=0;S<p;S++)w[this.pos++]^=c[F++];this.pos===x&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:c,suffix:x,pos:w,blockLen:P}=this;c[w]^=x,x&128&&w===P-1&&this.keccak(),c[P-1]^=128,this.keccak()}writeInto(c){$r(this,!1),Rd(c),this.finish();const x=this.state,{blockLen:w}=this;for(let P=0,F=c.length;P<F;){this.posOut>=w&&this.keccak();const p=Math.min(w-this.posOut,F-P);c.set(x.subarray(this.posOut,this.posOut+p),P),this.posOut+=p,P+=p}return c}xofInto(c){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(c)}xof(c){return ll(c),this.xofInto(new Uint8Array(c))}digestInto(c){if(Mm(c,this),this.finished)throw new Error("digest() was already called");return this.writeInto(c),this.destroy(),c}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(c){const{blockLen:x,suffix:w,outputLen:P,rounds:F,enableXOF:p}=this;return c||(c=new Fd(x,w,P,p,F)),c.state32.set(this.state32),c.pos=this.pos,c.posOut=this.posOut,c.finished=this.finished,c.rounds=F,c.suffix=w,c.outputLen=P,c.enableXOF=p,c.destroyed=this.destroyed,c}}const AS=(e,c,x)=>Lm(()=>new Fd(c,e,x)),wS=AS(1,136,256/8);function MS(e,c,x,w){if(typeof e.setBigUint64=="function")return e.setBigUint64(c,x,w);const P=BigInt(32),F=BigInt(4294967295),p=Number(x>>P&F),S=Number(x&F),t=w?4:0,l=w?0:4;e.setUint32(c+t,p,w),e.setUint32(c+l,S,w)}class PS extends Ld{constructor(c,x,w,P){super(),this.blockLen=c,this.outputLen=x,this.padOffset=w,this.isLE=P,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(c),this.view=Ph(this.buffer)}update(c){$r(this);const{view:x,buffer:w,blockLen:P}=this;c=Vl(c);const F=c.length;for(let p=0;p<F;){const S=Math.min(P-this.pos,F-p);if(S===P){const t=Ph(c);for(;P<=F-p;p+=P)this.process(t,p);continue}w.set(c.subarray(p,p+S),this.pos),this.pos+=S,p+=S,this.pos===P&&(this.process(x,0),this.pos=0)}return this.length+=c.length,this.roundClean(),this}digestInto(c){$r(this),Mm(c,this),this.finished=!0;const{buffer:x,view:w,blockLen:P,isLE:F}=this;let{pos:p}=this;x[p++]=128,this.buffer.subarray(p).fill(0),this.padOffset>P-p&&(this.process(w,0),p=0);for(let h=p;h<P;h++)x[h]=0;MS(w,P-8,BigInt(this.length*8),F),this.process(w,0);const S=Ph(c),t=this.outputLen;if(t%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=t/4,g=this.get();if(l>g.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)S.setUint32(4*h,g[h],F)}digest(){const{buffer:c,outputLen:x}=this;this.digestInto(c);const w=c.slice(0,x);return this.destroy(),w}_cloneInto(c){c||(c=new this.constructor),c.set(...this.get());const{blockLen:x,buffer:w,length:P,finished:F,destroyed:p,pos:S}=this;return c.length=P,c.pos=S,c.finished=F,c.destroyed=p,P%x&&c.buffer.set(w),c}}const RS=(e,c,x)=>e&c^~e&x,LS=(e,c,x)=>e&c^e&x^c&x,FS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xi=new Uint32Array(64);class OS extends PS{constructor(){super(64,32,8,!1),this.A=Vi[0]|0,this.B=Vi[1]|0,this.C=Vi[2]|0,this.D=Vi[3]|0,this.E=Vi[4]|0,this.F=Vi[5]|0,this.G=Vi[6]|0,this.H=Vi[7]|0}get(){const{A:c,B:x,C:w,D:P,E:F,F:p,G:S,H:t}=this;return[c,x,w,P,F,p,S,t]}set(c,x,w,P,F,p,S,t){this.A=c|0,this.B=x|0,this.C=w|0,this.D=P|0,this.E=F|0,this.F=p|0,this.G=S|0,this.H=t|0}process(c,x){for(let h=0;h<16;h++,x+=4)Xi[h]=c.getUint32(x,!1);for(let h=16;h<64;h++){const a=Xi[h-15],s=Xi[h-2],i=li(a,7)^li(a,18)^a>>>3,r=li(s,17)^li(s,19)^s>>>10;Xi[h]=r+Xi[h-7]+i+Xi[h-16]|0}let{A:w,B:P,C:F,D:p,E:S,F:t,G:l,H:g}=this;for(let h=0;h<64;h++){const a=li(S,6)^li(S,11)^li(S,25),s=g+a+RS(S,t,l)+FS[h]+Xi[h]|0,r=(li(w,2)^li(w,13)^li(w,22))+LS(w,P,F)|0;g=l,l=t,t=S,S=p+s|0,p=F,F=P,P=w,w=s+r|0}w=w+this.A|0,P=P+this.B|0,F=F+this.C|0,p=p+this.D|0,S=S+this.E|0,t=t+this.F|0,l=l+this.G|0,g=g+this.H|0,this.set(w,P,F,p,S,t,l,g)}roundClean(){Xi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Od=Lm(()=>new OS);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ae=BigInt(0),Xt=BigInt(1),In=BigInt(2),DS=BigInt(3),Ju=BigInt(4),Hv=BigInt(5),$v=BigInt(8);BigInt(9);BigInt(16);function ge(e,c){const x=e%c;return x>=ae?x:c+x}function IS(e,c,x){if(x<=ae||c<ae)throw new Error("Expected power/modulo > 0");if(x===Xt)return ae;let w=Xt;for(;c>ae;)c&Xt&&(w=w*e%x),e=e*e%x,c>>=Xt;return w}function hl(e,c){if(e===ae||c<=ae)throw new Error(`invert: expected positive integers, got n=${e} mod=${c}`);let x=ge(e,c),w=c,P=ae,F=Xt;for(;x!==ae;){const S=w/x,t=w%x,l=P-F*S;w=x,x=t,P=F,F=l}if(w!==Xt)throw new Error("invert: does not exist");return ge(P,c)}function NS(e){const c=(e-Xt)/In;let x,w,P;for(x=e-Xt,w=0;x%In===ae;x/=In,w++);for(P=In;P<e&&IS(P,c,e)!==e-Xt;P++);if(w===1){const p=(e+Xt)/Ju;return function(t,l){const g=t.pow(l,p);if(!t.eql(t.sqr(g),l))throw new Error("Cannot find square root");return g}}const F=(x+Xt)/In;return function(S,t){if(S.pow(t,c)===S.neg(S.ONE))throw new Error("Cannot find square root");let l=w,g=S.pow(S.mul(S.ONE,P),x),h=S.pow(t,F),a=S.pow(t,x);for(;!S.eql(a,S.ONE);){if(S.eql(a,S.ZERO))return S.ZERO;let s=1;for(let r=S.sqr(a);s<l&&!S.eql(r,S.ONE);s++)r=S.sqr(r);const i=S.pow(g,Xt<<BigInt(l-s-1));g=S.sqr(i),h=S.mul(h,i),a=S.mul(a,g),l=s}return h}}function BS(e){if(e%Ju===DS){const c=(e+Xt)/Ju;return function(w,P){const F=w.pow(P,c);if(!w.eql(w.sqr(F),P))throw new Error("Cannot find square root");return F}}if(e%$v===Hv){const c=(e-Hv)/$v;return function(w,P){const F=w.mul(P,In),p=w.pow(F,c),S=w.mul(P,p),t=w.mul(w.mul(S,In),p),l=w.mul(S,w.sub(t,w.ONE));if(!w.eql(w.sqr(l),P))throw new Error("Cannot find square root");return l}}return NS(e)}const GS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Xl(e){const c={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},x=GS.reduce((w,P)=>(w[P]="function",w),c);return Oa(e,x)}function Im(e,c,x){if(x<ae)throw new Error("Expected power > 0");if(x===ae)return e.ONE;if(x===Xt)return c;let w=e.ONE,P=c;for(;x>ae;)x&Xt&&(w=e.mul(w,P)),P=e.sqr(P),x>>=Xt;return w}function zS(e,c){const x=new Array(c.length),w=c.reduce((F,p,S)=>e.is0(p)?F:(x[S]=F,e.mul(F,p)),e.ONE),P=e.inv(w);return c.reduceRight((F,p,S)=>e.is0(p)?F:(x[S]=e.mul(F,x[S]),e.mul(F,p)),P),x}function Nm(e,c){const x=c!==void 0?c:e.toString(2).length,w=Math.ceil(x/8);return{nBitLength:x,nByteLength:w}}function Bm(e,c,x=!1,w={}){if(e<=ae)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:P,nByteLength:F}=Nm(e,c);if(F>2048)throw new Error("Field lengths over 2048 bytes are not supported");const p=BS(e),S=Object.freeze({ORDER:e,BITS:P,BYTES:F,MASK:bl(P),ZERO:ae,ONE:Xt,create:t=>ge(t,e),isValid:t=>{if(typeof t!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof t}`);return ae<=t&&t<e},is0:t=>t===ae,isOdd:t=>(t&Xt)===Xt,neg:t=>ge(-t,e),eql:(t,l)=>t===l,sqr:t=>ge(t*t,e),add:(t,l)=>ge(t+l,e),sub:(t,l)=>ge(t-l,e),mul:(t,l)=>ge(t*l,e),pow:(t,l)=>Im(S,t,l),div:(t,l)=>ge(t*hl(l,e),e),sqrN:t=>t*t,addN:(t,l)=>t+l,subN:(t,l)=>t-l,mulN:(t,l)=>t*l,inv:t=>hl(t,e),sqrt:w.sqrt||(t=>p(S,t)),invertBatch:t=>zS(S,t),cmov:(t,l,g)=>g?l:t,toBytes:t=>x?Md(t,F):Wr(t,F),fromBytes:t=>{if(t.length!==F)throw new Error(`Fp.fromBytes: expected ${F}, got ${t.length}`);return x?wd(t):Te(t)}});return Object.freeze(S)}function Gm(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const c=e.toString(2).length;return Math.ceil(c/8)}function zm(e){const c=Gm(e);return c+Math.ceil(c/2)}function US(e,c,x=!1){const w=e.length,P=Gm(c),F=zm(c);if(w<16||w<F||w>1024)throw new Error(`expected ${F}-1024 bytes of input, got ${w}`);const p=x?Te(e):wd(e),S=ge(p,c-Xt)+Xt;return x?Md(S,P):Wr(S,P)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Um(e){const{Fp:c,mds:x,reversePartialPowIdx:w,roundConstants:P}=e,{roundsFull:F,roundsPartial:p,sboxPower:S,t}=e;Xl(c);for(const i of["t","roundsFull","roundsPartial"])if(typeof e[i]!="number"||!Number.isSafeInteger(e[i]))throw new Error(`Poseidon: invalid param ${i}=${e[i]} (${typeof e[i]})`);if(!Array.isArray(x)||x.length!==t)throw new Error("Poseidon: wrong MDS matrix");const l=x.map(i=>{if(!Array.isArray(i)||i.length!==t)throw new Error(`Poseidon MDS matrix row: ${i}`);return i.map(r=>{if(typeof r!="bigint")throw new Error(`Poseidon MDS matrix value=${r}`);return c.create(r)})});if(w!==void 0&&typeof w!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${w}`);if(F%2!==0)throw new Error(`Poseidon roundsFull is not even: ${F}`);const g=F+p;if(!Array.isArray(P)||P.length!==g)throw new Error("Poseidon: wrong round constants");const h=P.map(i=>{if(!Array.isArray(i)||i.length!==t)throw new Error(`Poseidon wrong round constants: ${i}`);return i.map(r=>{if(typeof r!="bigint"||!c.isValid(r))throw new Error(`Poseidon wrong round constant=${r}`);return c.create(r)})});if(!S||![3,5,7].includes(S))throw new Error(`Poseidon wrong sboxPower=${S}`);const a=BigInt(S);let s=i=>Im(c,i,a);return S===3?s=i=>c.mul(c.sqrN(i),i):S===5&&(s=i=>c.mul(c.sqrN(c.sqrN(i)),i)),Object.freeze({...e,rounds:g,sboxFn:s,roundConstants:h,mds:l})}function bS(e,c){if(typeof c!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(e)||e.length%c)throw new Error("poseidonSplitConstants: wrong rc");const x=[];let w=[];for(let P=0;P<e.length;P++)w.push(e[P]),w.length===c&&(x.push(w),w=[]);return x}function bm(e){const c=Um(e),{Fp:x,mds:w,roundConstants:P,rounds:F,roundsPartial:p,sboxFn:S,t}=c,l=c.roundsFull/2,g=c.reversePartialPowIdx?t-1:0,h=(s,i,r)=>(s=s.map((u,n)=>x.add(u,P[r][n])),i?s=s.map(u=>S(u)):s[g]=S(s[g]),s=w.map(u=>u.reduce((n,o,f)=>x.add(n,x.mulN(o,s[f])),x.ZERO)),s),a=function(i){if(!Array.isArray(i)||i.length!==t)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${t})`);i=i.map(u=>{if(typeof u!="bigint")throw new Error(`Poseidon: wrong value=${u} (${typeof u})`);return x.create(u)});let r=0;for(let u=0;u<l;u++)i=h(i,!0,r++);for(let u=0;u<p;u++)i=h(i,!1,r++);for(let u=0;u<l;u++)i=h(i,!0,r++);if(r!==F)throw new Error(`Poseidon: wrong number of rounds: last round=${r}, total=${F}`);return i};return a.roundConstants=P,a}const VS=Object.freeze(Object.defineProperty({__proto__:null,poseidon:bm,splitConstants:bS,validateOpts:Um},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const XS=BigInt(0),Rh=BigInt(1);function YS(e,c){const x=(P,F)=>{const p=F.negate();return P?p:F},w=P=>{const F=Math.ceil(c/P)+1,p=2**(P-1);return{windows:F,windowSize:p}};return{constTimeNegate:x,unsafeLadder(P,F){let p=e.ZERO,S=P;for(;F>XS;)F&Rh&&(p=p.add(S)),S=S.double(),F>>=Rh;return p},precomputeWindow(P,F){const{windows:p,windowSize:S}=w(F),t=[];let l=P,g=l;for(let h=0;h<p;h++){g=l,t.push(g);for(let a=1;a<S;a++)g=g.add(l),t.push(g);l=g.double()}return t},wNAF(P,F,p){const{windows:S,windowSize:t}=w(P);let l=e.ZERO,g=e.BASE;const h=BigInt(2**P-1),a=2**P,s=BigInt(P);for(let i=0;i<S;i++){const r=i*t;let u=Number(p&h);p>>=s,u>t&&(u-=a,p+=Rh);const n=r,o=r+Math.abs(u)-1,f=i%2!==0,d=u<0;u===0?g=g.add(x(f,F[n])):l=l.add(x(d,F[o]))}return{p:l,f:g}},wNAFCached(P,F,p,S){const t=P._WINDOW_SIZE||1;let l=F.get(P);return l||(l=this.precomputeWindow(P,t),t!==1&&F.set(P,S(l))),this.wNAF(t,l,p)}}}function Vm(e){return Xl(e.Fp),Oa(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Nm(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function WS(e){const c=Vm(e);Oa(c,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:x,Fp:w,a:P}=c;if(x){if(!w.eql(P,w.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof x!="object"||typeof x.beta!="bigint"||typeof x.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...c})}const{bytesToNumberBE:HS,hexToBytes:$S}=rS,Oi={Err:class extends Error{constructor(c=""){super(c)}},_parseInt(e){const{Err:c}=Oi;if(e.length<2||e[0]!==2)throw new c("Invalid signature integer tag");const x=e[1],w=e.subarray(2,x+2);if(!x||w.length!==x)throw new c("Invalid signature integer: wrong length");if(w[0]&128)throw new c("Invalid signature integer: negative");if(w[0]===0&&!(w[1]&128))throw new c("Invalid signature integer: unnecessary leading zero");return{d:HS(w),l:e.subarray(x+2)}},toSig(e){const{Err:c}=Oi,x=typeof e=="string"?$S(e):e;if(!(x instanceof Uint8Array))throw new Error("ui8a expected");let w=x.length;if(w<2||x[0]!=48)throw new c("Invalid signature tag");if(x[1]!==w-2)throw new c("Invalid signature: incorrect length");const{d:P,l:F}=Oi._parseInt(x.subarray(2)),{d:p,l:S}=Oi._parseInt(F);if(S.length)throw new c("Invalid signature: left bytes after parsing");return{r:P,s:p}},hexFromSig(e){const c=l=>Number.parseInt(l[0],16)&8?"00"+l:l,x=l=>{const g=l.toString(16);return g.length&1?`0${g}`:g},w=c(x(e.s)),P=c(x(e.r)),F=w.length/2,p=P.length/2,S=x(F),t=x(p);return`30${x(p+F+4)}02${t}${P}02${S}${w}`}},ei=BigInt(0),Bt=BigInt(1),Yi=BigInt(2),ul=BigInt(3),Zv=BigInt(4);function Xm(e){const c=WS(e),{Fp:x}=c,w=c.toBytes||((i,r,u)=>{const n=r.toAffine();return Hr(Uint8Array.from([4]),x.toBytes(n.x),x.toBytes(n.y))}),P=c.fromBytes||(i=>{const r=i.subarray(1),u=x.fromBytes(r.subarray(0,x.BYTES)),n=x.fromBytes(r.subarray(x.BYTES,2*x.BYTES));return{x:u,y:n}});function F(i){const{a:r,b:u}=c,n=x.sqr(i),o=x.mul(n,i);return x.add(x.add(o,x.mul(i,r)),u)}if(!x.eql(x.sqr(c.Gy),F(c.Gx)))throw new Error("bad generator point: equation left != right");function p(i){return typeof i=="bigint"&&ei<i&&i<c.n}function S(i){if(!p(i))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function t(i){const{allowedPrivateKeyLengths:r,nByteLength:u,wrapPrivateKey:n,n:o}=c;if(r&&typeof i!="bigint"){if(i instanceof Uint8Array&&(i=cn(i)),typeof i!="string"||!r.includes(i.length))throw new Error("Invalid key");i=i.padStart(u*2,"0")}let f;try{f=typeof i=="bigint"?i:Te(Xe("private key",i,u))}catch{throw new Error(`private key must be ${u} bytes, hex or bigint, not ${typeof i}`)}return n&&(f=ge(f,o)),S(f),f}const l=new Map;function g(i){if(!(i instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(r,u,n){if(this.px=r,this.py=u,this.pz=n,r==null||!x.isValid(r))throw new Error("x required");if(u==null||!x.isValid(u))throw new Error("y required");if(n==null||!x.isValid(n))throw new Error("z required")}static fromAffine(r){const{x:u,y:n}=r||{};if(!r||!x.isValid(u)||!x.isValid(n))throw new Error("invalid affine point");if(r instanceof h)throw new Error("projective point not allowed");const o=f=>x.eql(f,x.ZERO);return o(u)&&o(n)?h.ZERO:new h(u,n,x.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(r){const u=x.invertBatch(r.map(n=>n.pz));return r.map((n,o)=>n.toAffine(u[o])).map(h.fromAffine)}static fromHex(r){const u=h.fromAffine(P(Xe("pointHex",r)));return u.assertValidity(),u}static fromPrivateKey(r){return h.BASE.multiply(t(r))}_setWindowSize(r){this._WINDOW_SIZE=r,l.delete(this)}assertValidity(){if(this.is0()){if(c.allowInfinityPoint&&!x.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:r,y:u}=this.toAffine();if(!x.isValid(r)||!x.isValid(u))throw new Error("bad point: x or y not FE");const n=x.sqr(u),o=F(r);if(!x.eql(n,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:r}=this.toAffine();if(x.isOdd)return!x.isOdd(r);throw new Error("Field doesn't support isOdd")}equals(r){g(r);const{px:u,py:n,pz:o}=this,{px:f,py:d,pz:v}=r,m=x.eql(x.mul(u,v),x.mul(f,o)),T=x.eql(x.mul(n,v),x.mul(d,o));return m&&T}negate(){return new h(this.px,x.neg(this.py),this.pz)}double(){const{a:r,b:u}=c,n=x.mul(u,ul),{px:o,py:f,pz:d}=this;let v=x.ZERO,m=x.ZERO,T=x.ZERO,E=x.mul(o,o),y=x.mul(f,f),C=x.mul(d,d),A=x.mul(o,f);return A=x.add(A,A),T=x.mul(o,d),T=x.add(T,T),v=x.mul(r,T),m=x.mul(n,C),m=x.add(v,m),v=x.sub(y,m),m=x.add(y,m),m=x.mul(v,m),v=x.mul(A,v),T=x.mul(n,T),C=x.mul(r,C),A=x.sub(E,C),A=x.mul(r,A),A=x.add(A,T),T=x.add(E,E),E=x.add(T,E),E=x.add(E,C),E=x.mul(E,A),m=x.add(m,E),C=x.mul(f,d),C=x.add(C,C),E=x.mul(C,A),v=x.sub(v,E),T=x.mul(C,y),T=x.add(T,T),T=x.add(T,T),new h(v,m,T)}add(r){g(r);const{px:u,py:n,pz:o}=this,{px:f,py:d,pz:v}=r;let m=x.ZERO,T=x.ZERO,E=x.ZERO;const y=c.a,C=x.mul(c.b,ul);let A=x.mul(u,f),M=x.mul(n,d),R=x.mul(o,v),O=x.add(u,n),L=x.add(f,d);O=x.mul(O,L),L=x.add(A,M),O=x.sub(O,L),L=x.add(u,o);let I=x.add(f,v);return L=x.mul(L,I),I=x.add(A,R),L=x.sub(L,I),I=x.add(n,o),m=x.add(d,v),I=x.mul(I,m),m=x.add(M,R),I=x.sub(I,m),E=x.mul(y,L),m=x.mul(C,R),E=x.add(m,E),m=x.sub(M,E),E=x.add(M,E),T=x.mul(m,E),M=x.add(A,A),M=x.add(M,A),R=x.mul(y,R),L=x.mul(C,L),M=x.add(M,R),R=x.sub(A,R),R=x.mul(y,R),L=x.add(L,R),A=x.mul(M,L),T=x.add(T,A),A=x.mul(I,L),m=x.mul(O,m),m=x.sub(m,A),A=x.mul(O,M),E=x.mul(I,E),E=x.add(E,A),new h(m,T,E)}subtract(r){return this.add(r.negate())}is0(){return this.equals(h.ZERO)}wNAF(r){return s.wNAFCached(this,l,r,u=>{const n=x.invertBatch(u.map(o=>o.pz));return u.map((o,f)=>o.toAffine(n[f])).map(h.fromAffine)})}multiplyUnsafe(r){const u=h.ZERO;if(r===ei)return u;if(S(r),r===Bt)return this;const{endo:n}=c;if(!n)return s.unsafeLadder(this,r);let{k1neg:o,k1:f,k2neg:d,k2:v}=n.splitScalar(r),m=u,T=u,E=this;for(;f>ei||v>ei;)f&Bt&&(m=m.add(E)),v&Bt&&(T=T.add(E)),E=E.double(),f>>=Bt,v>>=Bt;return o&&(m=m.negate()),d&&(T=T.negate()),T=new h(x.mul(T.px,n.beta),T.py,T.pz),m.add(T)}multiply(r){S(r);let u=r,n,o;const{endo:f}=c;if(f){const{k1neg:d,k1:v,k2neg:m,k2:T}=f.splitScalar(u);let{p:E,f:y}=this.wNAF(v),{p:C,f:A}=this.wNAF(T);E=s.constTimeNegate(d,E),C=s.constTimeNegate(m,C),C=new h(x.mul(C.px,f.beta),C.py,C.pz),n=E.add(C),o=y.add(A)}else{const{p:d,f:v}=this.wNAF(u);n=d,o=v}return h.normalizeZ([n,o])[0]}multiplyAndAddUnsafe(r,u,n){const o=h.BASE,f=(v,m)=>m===ei||m===Bt||!v.equals(o)?v.multiplyUnsafe(m):v.multiply(m),d=f(this,u).add(f(r,n));return d.is0()?void 0:d}toAffine(r){const{px:u,py:n,pz:o}=this,f=this.is0();r==null&&(r=f?x.ONE:x.inv(o));const d=x.mul(u,r),v=x.mul(n,r),m=x.mul(o,r);if(f)return{x:x.ZERO,y:x.ZERO};if(!x.eql(m,x.ONE))throw new Error("invZ was invalid");return{x:d,y:v}}isTorsionFree(){const{h:r,isTorsionFree:u}=c;if(r===Bt)return!0;if(u)return u(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:r,clearCofactor:u}=c;return r===Bt?this:u?u(h,this):this.multiplyUnsafe(c.h)}toRawBytes(r=!0){return this.assertValidity(),w(h,this,r)}toHex(r=!0){return cn(this.toRawBytes(r))}}h.BASE=new h(c.Gx,c.Gy,x.ONE),h.ZERO=new h(x.ZERO,x.ONE,x.ZERO);const a=c.nBitLength,s=YS(h,c.endo?Math.ceil(a/2):a);return{CURVE:c,ProjectivePoint:h,normPrivateKeyToScalar:t,weierstrassEquation:F,isWithinCurveOrder:p}}function ZS(e){const c=Vm(e);return Oa(c,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...c})}function Ym(e){const c=ZS(e),{Fp:x,n:w}=c,P=x.BYTES+1,F=2*x.BYTES+1;function p(L){return ei<L&&L<x.ORDER}function S(L){return ge(L,w)}function t(L){return hl(L,w)}const{ProjectivePoint:l,normPrivateKeyToScalar:g,weierstrassEquation:h,isWithinCurveOrder:a}=Xm({...c,toBytes(L,I,N){const B=I.toAffine(),b=x.toBytes(B.x),X=Hr;return N?X(Uint8Array.from([I.hasEvenY()?2:3]),b):X(Uint8Array.from([4]),b,x.toBytes(B.y))},fromBytes(L){const I=L.length,N=L[0],B=L.subarray(1);if(I===P&&(N===2||N===3)){const b=Te(B);if(!p(b))throw new Error("Point is not on curve");const X=h(b);let W=x.sqrt(X);const $=(W&Bt)===Bt;return(N&1)===1!==$&&(W=x.neg(W)),{x:b,y:W}}else if(I===F&&N===4){const b=x.fromBytes(B.subarray(0,x.BYTES)),X=x.fromBytes(B.subarray(x.BYTES,2*x.BYTES));return{x:b,y:X}}else throw new Error(`Point of length ${I} was invalid. Expected ${P} compressed bytes or ${F} uncompressed bytes`)}}),s=L=>cn(Wr(L,c.nByteLength));function i(L){const I=w>>Bt;return L>I}function r(L){return i(L)?S(-L):L}const u=(L,I,N)=>Te(L.slice(I,N));class n{constructor(I,N,B){this.r=I,this.s=N,this.recovery=B,this.assertValidity()}static fromCompact(I){const N=c.nByteLength;return I=Xe("compactSignature",I,N*2),new n(u(I,0,N),u(I,N,2*N))}static fromDER(I){const{r:N,s:B}=Oi.toSig(Xe("DER",I));return new n(N,B)}assertValidity(){if(!a(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!a(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(I){return new n(this.r,this.s,I)}recoverPublicKey(I){const{r:N,s:B,recovery:b}=this,X=T(Xe("msgHash",I));if(b==null||![0,1,2,3].includes(b))throw new Error("recovery id invalid");const W=b===2||b===3?N+c.n:N;if(W>=x.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=b&1?"03":"02",z=l.fromHex($+s(W)),V=t(W),D=S(-X*V),G=S(B*V),U=l.BASE.multiplyAndAddUnsafe(z,D,G);if(!U)throw new Error("point at infinify");return U.assertValidity(),U}hasHighS(){return i(this.s)}normalizeS(){return this.hasHighS()?new n(this.r,S(-this.s),this.recovery):this}toDERRawBytes(){return vn(this.toDERHex())}toDERHex(){return Oi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return vn(this.toCompactHex())}toCompactHex(){return s(this.r)+s(this.s)}}const o={isValidPrivateKey(L){try{return g(L),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const L=zm(c.n);return US(c.randomBytes(L),c.n)},precompute(L=8,I=l.BASE){return I._setWindowSize(L),I.multiply(BigInt(3)),I}};function f(L,I=!0){return l.fromPrivateKey(L).toRawBytes(I)}function d(L){const I=L instanceof Uint8Array,N=typeof L=="string",B=(I||N)&&L.length;return I?B===P||B===F:N?B===2*P||B===2*F:L instanceof l}function v(L,I,N=!0){if(d(L))throw new Error("first arg must be private key");if(!d(I))throw new Error("second arg must be public key");return l.fromHex(I).multiply(g(L)).toRawBytes(N)}const m=c.bits2int||function(L){const I=Te(L),N=L.length*8-c.nBitLength;return N>0?I>>BigInt(N):I},T=c.bits2int_modN||function(L){return S(m(L))},E=bl(c.nBitLength);function y(L){if(typeof L!="bigint")throw new Error("bigint expected");if(!(ei<=L&&L<E))throw new Error(`bigint expected < 2^${c.nBitLength}`);return Wr(L,c.nByteLength)}function C(L,I,N=A){if(["recovered","canonical"].some(H=>H in N))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:b}=c;let{lowS:X,prehash:W,extraEntropy:$}=N;X==null&&(X=!0),L=Xe("msgHash",L),W&&(L=Xe("prehashed msgHash",B(L)));const z=T(L),V=g(I),D=[y(V),y(z)];if($!=null){const H=$===!0?b(x.BYTES):$;D.push(Xe("extraEntropy",H))}const G=Hr(...D),U=z;function Y(H){const Z=m(H);if(!a(Z))return;const K=t(Z),k=l.BASE.multiply(Z).toAffine(),j=S(k.x);if(j===ei)return;const Q=S(K*S(U+j*V));if(Q===ei)return;let J=(k.x===j?0:2)|Number(k.y&Bt),_=Q;return X&&i(Q)&&(_=r(Q),J^=1),new n(j,_,J)}return{seed:G,k2sig:Y}}const A={lowS:c.lowS,prehash:!1},M={lowS:c.lowS,prehash:!1};function R(L,I,N=A){const{seed:B,k2sig:b}=C(L,I,N),X=c;return wm(X.hash.outputLen,X.nByteLength,X.hmac)(B,b)}l.BASE._setWindowSize(8);function O(L,I,N,B=M){var k;const b=L;if(I=Xe("msgHash",I),N=Xe("publicKey",N),"strict"in B)throw new Error("options.strict was renamed to lowS");const{lowS:X,prehash:W}=B;let $,z;try{if(typeof b=="string"||b instanceof Uint8Array)try{$=n.fromDER(b)}catch(j){if(!(j instanceof Oi.Err))throw j;$=n.fromCompact(b)}else if(typeof b=="object"&&typeof b.r=="bigint"&&typeof b.s=="bigint"){const{r:j,s:Q}=b;$=new n(j,Q)}else throw new Error("PARSE");z=l.fromHex(N)}catch(j){if(j.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&$.hasHighS())return!1;W&&(I=c.hash(I));const{r:V,s:D}=$,G=T(I),U=t(D),Y=S(G*U),H=S(V*U),Z=(k=l.BASE.multiplyAndAddUnsafe(z,Y,H))==null?void 0:k.toAffine();return Z?S(Z.x)===V:!1}return{CURVE:c,getPublicKey:f,getSharedSecret:v,sign:R,verify:O,ProjectivePoint:l,Signature:n,utils:o}}function Wm(e,c){const x=e.ORDER;let w=ei;for(let i=x-Bt;i%Yi===ei;i/=Yi)w+=Bt;const P=w,F=Yi<<P-Bt-Bt,p=F*Yi,S=(x-Bt)/p,t=(S-Bt)/Yi,l=p-Bt,g=F,h=e.pow(c,S),a=e.pow(c,(S+Bt)/Yi);let s=(i,r)=>{let u=h,n=e.pow(r,l),o=e.sqr(n);o=e.mul(o,r);let f=e.mul(i,o);f=e.pow(f,t),f=e.mul(f,n),n=e.mul(f,r),o=e.mul(f,i);let d=e.mul(o,n);f=e.pow(d,g);let v=e.eql(f,e.ONE);n=e.mul(o,a),f=e.mul(d,u),o=e.cmov(n,o,v),d=e.cmov(f,d,v);for(let m=P;m>Bt;m--){let T=m-Yi;T=Yi<<T-Bt;let E=e.pow(d,T);const y=e.eql(E,e.ONE);n=e.mul(o,u),u=e.mul(u,u),E=e.mul(d,u),o=e.cmov(n,o,y),d=e.cmov(E,d,y)}return{isValid:v,value:o}};if(e.ORDER%Zv===ul){const i=(e.ORDER-ul)/Zv,r=e.sqrt(e.neg(c));s=(u,n)=>{let o=e.sqr(n);const f=e.mul(u,n);o=e.mul(o,f);let d=e.pow(o,i);d=e.mul(d,f);const v=e.mul(d,r),m=e.mul(e.sqr(d),n),T=e.eql(m,u);let E=e.cmov(v,d,T);return{isValid:T,value:E}}}return s}function KS(e,c){if(Xl(e),!e.isValid(c.A)||!e.isValid(c.B)||!e.isValid(c.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const x=Wm(e,c.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return w=>{let P,F,p,S,t,l,g,h;P=e.sqr(w),P=e.mul(P,c.Z),F=e.sqr(P),F=e.add(F,P),p=e.add(F,e.ONE),p=e.mul(p,c.B),S=e.cmov(c.Z,e.neg(F),!e.eql(F,e.ZERO)),S=e.mul(S,c.A),F=e.sqr(p),l=e.sqr(S),t=e.mul(l,c.A),F=e.add(F,t),F=e.mul(F,p),l=e.mul(l,S),t=e.mul(l,c.B),F=e.add(F,t),g=e.mul(P,p);const{isValid:a,value:s}=x(F,l);h=e.mul(P,w),h=e.mul(h,s),g=e.cmov(g,p,a),h=e.cmov(h,s,a);const i=e.isOdd(w)===e.isOdd(h);return h=e.cmov(e.neg(h),h,i),g=e.div(g,S),{x:g,y:h}}}const kS=Object.freeze(Object.defineProperty({__proto__:null,DER:Oi,SWUFpSqrtRatio:Wm,mapToCurveSimpleSWU:KS,weierstrass:Ym,weierstrassPoints:Xm},Symbol.toStringTag,{value:"Module"}));class Hm extends Ld{constructor(c,x){super(),this.finished=!1,this.destroyed=!1,sS(c);const w=Vl(x);if(this.iHash=c.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const P=this.blockLen,F=new Uint8Array(P);F.set(w.length>P?c.create().update(w).digest():w);for(let p=0;p<F.length;p++)F[p]^=54;this.iHash.update(F),this.oHash=c.create();for(let p=0;p<F.length;p++)F[p]^=106;this.oHash.update(F),F.fill(0)}update(c){return $r(this),this.iHash.update(c),this}digestInto(c){$r(this),Rd(c,this.outputLen),this.finished=!0,this.iHash.digestInto(c),this.oHash.update(c),this.oHash.digestInto(c),this.destroy()}digest(){const c=new Uint8Array(this.oHash.outputLen);return this.digestInto(c),c}_cloneInto(c){c||(c=Object.create(Object.getPrototypeOf(this),{}));const{oHash:x,iHash:w,finished:P,destroyed:F,blockLen:p,outputLen:S}=this;return c=c,c.finished=P,c.destroyed=F,c.blockLen=p,c.outputLen=S,c.oHash=x._cloneInto(c.oHash),c.iHash=w._cloneInto(c.iHash),c}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $m=(e,c,x)=>new Hm(e,c).update(x).digest();$m.create=(e,c)=>new Hm(e,c);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jS(e){return{hash:e,hmac:(c,...x)=>$m(e,c,vS(...x)),randomBytes:pS}}const ca=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),bn=BigInt("0x800000000000000000000000000000000000000000000000000000000000000"),Zm=252;function Kv(e){for(;e[0]===0;)e=e.subarray(1);const c=e.length*8-Zm,x=Te(e);return c>0?x>>BigInt(c):x}function Km(e){return typeof e=="string"&&(e=Id(e),e.length&1&&(e="0"+e)),vn(e)}const rr=Ym({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:Bm(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:ca,nBitLength:Zm,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...jS(Od),bits2int:Kv,bits2int_modN:e=>{const c=Te(e).toString(16);return c.length===63&&(e=Km(c+"0")),ge(Kv(e),ca)}}),QS=rr;function Zr(e){return Xe("",typeof e=="string"?Km(e):e)}function Dd(e){return cn(Zr(e)).padStart(64,"0")}function km(e,c=!1){return rr.getPublicKey(Dd(e),c)}function JS(e,c){return rr.getSharedSecret(Dd(e),c)}function jm(e){const{r:c,s:x}=e;if(c<0n||c>=bn)throw new Error(`Signature.r should be [1, ${bn})`);const w=hl(x,ca);if(w<0n||w>=bn)throw new Error(`inv(Signature.s) should be [1, ${bn})`)}function Qm(e){const c=Zr(e);if(Te(c)>=bn)throw new Error(`msgHash should be [0, ${bn})`);return c}function qS(e,c,x){const w=rr.sign(Qm(e),Dd(c),x);return jm(w),w}function _S(e,c,x){if(!(e instanceof Io)){const w=Zr(e);try{e=Io.fromDER(w)}catch(P){if(!(P instanceof Oi.Err))throw P;e=Io.fromCompact(w)}}return jm(e),rr.verify(e,Qm(c),Zr(x))}const{CURVE:tE,ProjectivePoint:fr,Signature:Io,utils:Jm}=rr;function qm(e){return`0x${cn(e.subarray(1)).replace(/^0+/gm,"")}`}function Id(e){return e.replace(/^0x/i,"")}function _m(e){const c=Zr(e),x=2n**256n,w=x-ge(x,ca);for(let P=0;;P++){const F=qu(Hr(c,Pd(BigInt(P))));if(F<w)return ge(F,ca).toString(16);if(P===1e5)throw new Error("grindKey is broken: tried 100k vals")}}function t1(e){return qm(km(e,!0))}function eE(e){if(e=Id(e),e.length!==130)throw new Error("Wrong ethereum signature");return _m(e.substring(0,64))}const iE=2n**31n-1n,lo=e=>Number(e&iE);function nE(e,c,x,w){const P=lo(qu(e)),F=lo(qu(c)),p=Ul(Id(x));return`m/2645'/${P}'/${F}'/${lo(p)}'/${lo(p>>31n)}'/${w}`}const va=[new fr(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new fr(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new fr(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new fr(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new fr(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function e1(e,c){const x=[];let w=e;for(let P=0;P<248;P++)x.push(w),w=w.double();w=c;for(let P=0;P<4;P++)x.push(w),w=w.double();return x}const rE=e1(va[1],va[2]),sE=e1(va[3],va[4]);function aE(e){let c;if(typeof e=="bigint")c=e;else if(typeof e=="number"){if(!Number.isSafeInteger(e))throw new Error(`Invalid pedersenArg: ${e}`);c=BigInt(e)}else c=Te(Zr(e));if(!(0n<=c&&c<rr.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${c}`);return c}function kv(e,c,x){let w=aE(c);for(let P=0;P<252;P++){const F=x[P];if(F.equals(e))throw new Error("Same point");(w&1n)!==0n&&(e=e.add(F)),w>>=1n}return e}function Yl(e,c){let x=va[0];return x=kv(x,e,rE),x=kv(x,c,sE),qm(x.toRawBytes(!0))}const oE=(e,c=Yl)=>[0,...e,e.length].reduce((x,w)=>c(x,w)),lE=bl(250),is=e=>Te(wS(e))&lE,qu=e=>Te(Od(e)),i1=Bm(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function _u(e,c,x){const w=e.fromBytes(Od(Rm(`${c}${x}`)));return e.create(w)}function n1(e,c,x,w=0){const P=[],F=[];for(let p=0;p<x;p++)P.push(_u(e,`${c}x`,w*x+p)),F.push(_u(e,`${c}y`,w*x+p));if(new Set([...P,...F]).size!==2*x)throw new Error("X and Y values are not distinct");return P.map(p=>F.map(S=>e.inv(e.sub(p,S))))}const hE=[[3,1,1],[1,-1,1],[1,1,-2]].map(e=>e.map(BigInt));function Nd(e,c){if(Xl(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw new Error(`Wrong poseidon opts: ${e}`);const x=e.rate+e.capacity,w=e.roundsFull+e.roundsPartial,P=[];for(let p=0;p<w;p++){const S=[];for(let t=0;t<x;t++)S.push(_u(e.Fp,"Hades",x*p+t));P.push(S)}const F=bm({...e,t:x,sboxPower:3,reversePartialPowIdx:!0,mds:c,roundConstants:P});return F.m=x,F.rate=e.rate,F.capacity=e.capacity,F}function uE(e,c=0){const x=e.rate+e.capacity;if(!Number.isSafeInteger(c))throw new Error(`Wrong mdsAttempt=${c}`);return Nd(e,n1(e.Fp,"HadesMDS",x,c))}const Da=Nd({Fp:i1,rate:2,capacity:1,roundsFull:8,roundsPartial:83},hE);function r1(e,c,x=Da){return x([e,c,2n])[0]}function fE(e,c,x=Da){return Pd(r1(Te(e),Te(c),x))}function dE(e,c=Da){return c([e,0n,1n])[0]}function pn(e,c=Da){const{m:x,rate:w}=c;if(!Array.isArray(e))throw new Error("bigint array expected in values");const P=Array.from(e);for(P.push(1n);P.length%w!==0;)P.push(0n);let F=new Array(x).fill(0n);for(let p=0;p<P.length;p+=w){for(let S=0;S<w;S++)F[S]+=P[p+S];F=c(F)}return F[0]}const cE=Object.freeze(Object.defineProperty({__proto__:null,CURVE:tE,Fp251:i1,MAX_VALUE:bn,ProjectivePoint:fr,Signature:Io,_poseidonMDS:n1,_starkCurve:QS,computeHashOnElements:oE,ethSigToPrivate:eE,getAccountPath:nE,getPublicKey:km,getSharedSecret:JS,getStarkKey:t1,grindKey:_m,keccak:is,pedersen:Yl,poseidonBasic:Nd,poseidonCreate:uE,poseidonHash:r1,poseidonHashFunc:fE,poseidonHashMany:pn,poseidonHashSingle:dE,poseidonSmall:Da,sign:qS,utils:Jm,verify:_S},Symbol.toStringTag,{value:"Module"}));function Ia(e){return vE.test(e)}var vE=/^-?[0-9]+$/;function s1(e){return pE.test(e)}var pE=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function gE(e,c){var x=parseFloat(e),w=String(x),P=jv(e),F=jv(w);if(P===F)return!0;if((c==null?void 0:c.approx)===!0){var p=14;if(!Ia(e)&&F.length>=p&&P.startsWith(F.substring(0,p)))return!0}return!1}var Ps=function(e){return e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float",e}({});function mE(e){if(!gE(e,{approx:!1})){if(Ia(e))return Ps.truncate_integer;var c=parseFloat(e);return isFinite(c)?c===0?Ps.underflow:Ps.truncate_float:Ps.overflow}}function jv(e){return e.replace(xE,"").replace(TE,"").replace(SE,"").replace(yE,"")}var xE=/[eE][+-]?\d+$/,yE=/^-?(0*)?/,TE=/\./,SE=/0+$/;function Kr(e){"@babel/helpers - typeof";return Kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Kr(e)}function EE(e,c){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}function Qv(e,c){for(var x=0;x<c.length;x++){var w=c[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(e,a1(w.key),w)}}function CE(e,c,x){return c&&Qv(e.prototype,c),x&&Qv(e,x),Object.defineProperty(e,"prototype",{writable:!1}),e}function AE(e,c,x){return c=a1(c),c in e?Object.defineProperty(e,c,{value:x,enumerable:!0,configurable:!0,writable:!0}):e[c]=x,e}function a1(e){var c=wE(e,"string");return Kr(c)==="symbol"?c:String(c)}function wE(e,c){if(Kr(e)!=="object"||e===null)return e;var x=e[Symbol.toPrimitive];if(x!==void 0){var w=x.call(e,c||"default");if(Kr(w)!=="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(e)}var ME=function(){function e(c){if(EE(this,e),AE(this,"isLosslessNumber",!0),!s1(c))throw new Error('Invalid number (value: "'+c+'")');this.value=c}return CE(e,[{key:"valueOf",value:function(){var x=mE(this.value);if(x===void 0||x===Ps.truncate_float)return parseFloat(this.value);if(Ia(this.value))return BigInt(this.value);throw new Error("Cannot safely convert to number: "+"the value '".concat(this.value,"' would ").concat(x," and become ").concat(parseFloat(this.value)))}},{key:"toString",value:function(){return this.value}}]),e}();function PE(e){return e&&Kr(e)==="object"&&e.isLosslessNumber===!0||!1}function RE(e){return new ME(e)}function LE(e){return Ia(e)?BigInt(e):parseFloat(e)}function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},tf(e)}function FE(e,c){return Bd({"":e},"",e,c)}function Bd(e,c,x,w){return Array.isArray(x)?w.call(e,c,DE(x,w)):x&&tf(x)==="object"&&!PE(x)?w.call(e,c,OE(x,w)):w.call(e,c,x)}function OE(e,c){return Object.keys(e).forEach(function(x){var w=Bd(e,x,e[x],c);w!==void 0?e[x]=w:delete e[x]}),e}function DE(e,c){for(var x=0;x<e.length;x++)e[x]=Bd(e,x+"",e[x],c);return e}function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ef(e)}function Lh(e){return GE(e)||BE(e)||NE(e)||IE()}function IE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NE(e,c){if(e){if(typeof e=="string")return nf(e,c);var x=Object.prototype.toString.call(e).slice(8,-1);if(x==="Object"&&e.constructor&&(x=e.constructor.name),x==="Map"||x==="Set")return Array.from(e);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return nf(e,c)}}function BE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GE(e){if(Array.isArray(e))return nf(e)}function nf(e,c){(c==null||c>e.length)&&(c=e.length);for(var x=0,w=new Array(c);x<c;x++)w[x]=e[x];return w}function o1(e,c){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:RE,w=0,P=S();return i(P),u(),c?FE(P,c):P;function F(){if(e.charCodeAt(w)===YE){w++,l();for(var O={},L=!0;w<e.length&&e.charCodeAt(w)!==qv;){L?L=!1:(a(),l());var I=w,N=g();N===void 0&&f(),l(),s();var B=S();B===void 0&&y(),Object.prototype.hasOwnProperty.call(O,N)&&!rf(B,O[N])&&d(N,I+1),O[N]=B}return e.charCodeAt(w)!==qv&&v(),w++,O}}function p(){if(e.charCodeAt(w)===WE){w++,l();for(var O=[],L=!0;w<e.length&&e.charCodeAt(w)!==_v;){L?L=!1:a();var I=S();r(I),O.push(I)}return e.charCodeAt(w)!==_v&&m(),w++,O}}function S(){var O,L,I,N,B,b;l();var X=(O=(L=(I=(N=(B=(b=g())!==null&&b!==void 0?b:h())!==null&&B!==void 0?B:F())!==null&&N!==void 0?N:p())!==null&&I!==void 0?I:t("true",!0))!==null&&L!==void 0?L:t("false",!1))!==null&&O!==void 0?O:t("null",null);return l(),X}function t(O,L){if(e.slice(w,w+O.length)===O)return w+=O.length,L}function l(){for(;zE(e.charCodeAt(w));)w++}function g(){if(e.charCodeAt(w)===Fh){w++;for(var O="";w<e.length&&e.charCodeAt(w)!==Fh;){if(e.charCodeAt(w)===XE){var L=e[w+1],I=VE[L];I!==void 0?(O+=I,w++):L==="u"?ho(e.charCodeAt(w+2))&&ho(e.charCodeAt(w+3))&&ho(e.charCodeAt(w+4))&&ho(e.charCodeAt(w+5))?(O+=String.fromCharCode(parseInt(e.slice(w+2,w+6),16)),w+=5):C(w):E(w)}else bE(e.charCodeAt(w))?O+=e[w]:T(e[w]);w++}return o(),w++,O}}function h(){var O=w;if(e.charCodeAt(w)===tp&&(w++,n(O)),e.charCodeAt(w)===Gd)w++;else if(UE(e.charCodeAt(w)))for(w++;uo(e.charCodeAt(w));)w++;if(e.charCodeAt(w)===JE)for(w++,n(O);uo(e.charCodeAt(w));)w++;if(e.charCodeAt(w)===iC||e.charCodeAt(w)===eC)for(w++,(e.charCodeAt(w)===tp||e.charCodeAt(w)===kE)&&w++,n(O);uo(e.charCodeAt(w));)w++;if(w>O)return x(e.slice(O,w))}function a(){if(e.charCodeAt(w)!==QE)throw new SyntaxError("Comma ',' expected after value ".concat(R()));w++}function s(){if(e.charCodeAt(w)!==qE)throw new SyntaxError("Colon ':' expected after property name ".concat(R()));w++}function i(O){if(O===void 0)throw new SyntaxError("JSON value expected ".concat(R()))}function r(O){if(O===void 0)throw new SyntaxError("Array item expected ".concat(R()))}function u(){if(w<e.length)throw new SyntaxError("Expected end of input ".concat(R()))}function n(O){if(!uo(e.charCodeAt(w))){var L=e.slice(O,w);throw new SyntaxError("Invalid number '".concat(L,"', expecting a digit ").concat(R()))}}function o(){if(e.charCodeAt(w)!==Fh)throw new SyntaxError(`End of string '"' expected `.concat(R()))}function f(){throw new SyntaxError("Quoted object key expected ".concat(R()))}function d(O,L){throw new SyntaxError("Duplicate key '".concat(O,"' encountered at position ").concat(L))}function v(){throw new SyntaxError("Quoted object key or end of object '}' expected ".concat(R()))}function m(){throw new SyntaxError("Array item or end of array ']' expected ".concat(R()))}function T(O){throw new SyntaxError("Invalid character '".concat(O,"' ").concat(A()))}function E(O){var L=e.slice(O,O+2);throw new SyntaxError("Invalid escape character '".concat(L,"' ").concat(A()))}function y(){throw new SyntaxError("Object value expected after ':' ".concat(A()))}function C(O){for(var L=O+2;/\w/.test(e[L]);)L++;var I=e.slice(O,L);throw new SyntaxError("Invalid unicode character '".concat(I,"' ").concat(A()))}function A(){return"at position ".concat(w)}function M(){return w<e.length?"but got '".concat(e[w],"'"):"but reached end of input"}function R(){return M()+" "+A()}}function zE(e){return e===HE||e===$E||e===ZE||e===KE}function ho(e){return e>=Gd&&e<=zd||e>=_E&&e<=nC||e>=tC&&e<=rC}function uo(e){return e>=Gd&&e<=zd}function UE(e){return e>=jE&&e<=zd}function bE(e){return e>=32&&e<=1114111}function rf(e,c){if(e===c)return!0;if(Array.isArray(e)&&Array.isArray(c))return e.length===c.length&&e.every(function(w,P){return rf(w,c[P])});if(Jv(e)&&Jv(c)){var x=Lh(new Set([].concat(Lh(Object.keys(e)),Lh(Object.keys(c)))));return x.every(function(w){return rf(e[w],c[w])})}return!1}function Jv(e){return ef(e)==="object"&&e!==null}var VE={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},XE=92,YE=123,qv=125,WE=91,_v=93,HE=32,$E=10,ZE=9,KE=13,Fh=34,kE=43,tp=45,Gd=48,jE=49,zd=57,QE=44,JE=46,qE=58,_E=65,tC=97,eC=69,iC=101,nC=70,rC=102;function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},fl(e)}function l1(e,c,x,w){var P=sC(x),F=typeof c=="function"?c.call({"":e},"",e):e;return p(F,"");function p(g,h){if(Array.isArray(w)){var a=w.find(function(i){return i.test(g)});if(a){var s=a.stringify(g);if(typeof s!="string"||!s1(s))throw new Error("Invalid JSON number: output of a number stringifier must be a string containing a JSON number "+"(output: ".concat(s,")"));return s}}if(typeof g=="boolean"||typeof g=="number"||typeof g=="string"||g===null||g instanceof Date||g instanceof Boolean||g instanceof Number||g instanceof String)return JSON.stringify(g);if(g&&g.isLosslessNumber||typeof g=="bigint")return g.toString();if(Array.isArray(g))return S(g,h);if(g&&fl(g)==="object")return t(g,h)}function S(g,h){if(g.length===0)return"[]";for(var a=P?h+P:void 0,s=P?`[
`:"[",i=0;i<g.length;i++){var r=typeof c=="function"?c.call(g,String(i),g[i]):g[i];P&&(s+=a),typeof r<"u"&&typeof r!="function"?s+=p(r,a):s+="null",i<g.length-1&&(s+=P?`,
`:",")}return s+=P?`
`+h+"]":"]",s}function t(g,h){if(typeof g.toJSON=="function")return l1(g.toJSON(),c,x,void 0);var a=Array.isArray(c)?c.map(String):Object.keys(g);if(a.length===0)return"{}";var s=P?h+P:void 0,i=!0,r=P?`{
`:"{";return a.forEach(function(u){var n=typeof c=="function"?c.call(g,u,g[u]):g[u];if(l(u,n)){i?i=!1:r+=P?`,
`:",";var o=JSON.stringify(u);r+=P?s+o+": ":o+":",r+=p(n,s)}}),r+=P?`
`+h+"}":"}",r}function l(g,h){return typeof h<"u"&&typeof h!="function"&&fl(h)!=="symbol"}}function sC(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const aC=4,ep=0,ip=1,oC=2;function ns(e){let c=e.length;for(;--c>=0;)e[c]=0}const lC=0,h1=1,hC=2,uC=3,fC=258,Ud=29,Na=256,pa=Na+1+Ud,Ir=30,bd=19,u1=2*pa+1,Vn=15,Oh=16,dC=7,Vd=256,f1=16,d1=17,c1=18,sf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),No=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),cC=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),v1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vC=512,Ai=new Array((pa+2)*2);ns(Ai);const Ws=new Array(Ir*2);ns(Ws);const ga=new Array(vC);ns(ga);const ma=new Array(fC-uC+1);ns(ma);const Xd=new Array(Ud);ns(Xd);const dl=new Array(Ir);ns(dl);function Dh(e,c,x,w,P){this.static_tree=e,this.extra_bits=c,this.extra_base=x,this.elems=w,this.max_length=P,this.has_stree=e&&e.length}let p1,g1,m1;function Ih(e,c){this.dyn_tree=e,this.max_code=0,this.stat_desc=c}const x1=e=>e<256?ga[e]:ga[256+(e>>>7)],xa=(e,c)=>{e.pending_buf[e.pending++]=c&255,e.pending_buf[e.pending++]=c>>>8&255},Me=(e,c,x)=>{e.bi_valid>Oh-x?(e.bi_buf|=c<<e.bi_valid&65535,xa(e,e.bi_buf),e.bi_buf=c>>Oh-e.bi_valid,e.bi_valid+=x-Oh):(e.bi_buf|=c<<e.bi_valid&65535,e.bi_valid+=x)},vi=(e,c,x)=>{Me(e,x[c*2],x[c*2+1])},y1=(e,c)=>{let x=0;do x|=e&1,e>>>=1,x<<=1;while(--c>0);return x>>>1},pC=e=>{e.bi_valid===16?(xa(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},gC=(e,c)=>{const x=c.dyn_tree,w=c.max_code,P=c.stat_desc.static_tree,F=c.stat_desc.has_stree,p=c.stat_desc.extra_bits,S=c.stat_desc.extra_base,t=c.stat_desc.max_length;let l,g,h,a,s,i,r=0;for(a=0;a<=Vn;a++)e.bl_count[a]=0;for(x[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<u1;l++)g=e.heap[l],a=x[x[g*2+1]*2+1]+1,a>t&&(a=t,r++),x[g*2+1]=a,!(g>w)&&(e.bl_count[a]++,s=0,g>=S&&(s=p[g-S]),i=x[g*2],e.opt_len+=i*(a+s),F&&(e.static_len+=i*(P[g*2+1]+s)));if(r!==0){do{for(a=t-1;e.bl_count[a]===0;)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[t]--,r-=2}while(r>0);for(a=t;a!==0;a--)for(g=e.bl_count[a];g!==0;)h=e.heap[--l],!(h>w)&&(x[h*2+1]!==a&&(e.opt_len+=(a-x[h*2+1])*x[h*2],x[h*2+1]=a),g--)}},T1=(e,c,x)=>{const w=new Array(Vn+1);let P=0,F,p;for(F=1;F<=Vn;F++)P=P+x[F-1]<<1,w[F]=P;for(p=0;p<=c;p++){let S=e[p*2+1];S!==0&&(e[p*2]=y1(w[S]++,S))}},mC=()=>{let e,c,x,w,P;const F=new Array(Vn+1);for(x=0,w=0;w<Ud-1;w++)for(Xd[w]=x,e=0;e<1<<sf[w];e++)ma[x++]=w;for(ma[x-1]=w,P=0,w=0;w<16;w++)for(dl[w]=P,e=0;e<1<<No[w];e++)ga[P++]=w;for(P>>=7;w<Ir;w++)for(dl[w]=P<<7,e=0;e<1<<No[w]-7;e++)ga[256+P++]=w;for(c=0;c<=Vn;c++)F[c]=0;for(e=0;e<=143;)Ai[e*2+1]=8,e++,F[8]++;for(;e<=255;)Ai[e*2+1]=9,e++,F[9]++;for(;e<=279;)Ai[e*2+1]=7,e++,F[7]++;for(;e<=287;)Ai[e*2+1]=8,e++,F[8]++;for(T1(Ai,pa+1,F),e=0;e<Ir;e++)Ws[e*2+1]=5,Ws[e*2]=y1(e,5);p1=new Dh(Ai,sf,Na+1,pa,Vn),g1=new Dh(Ws,No,0,Ir,Vn),m1=new Dh(new Array(0),cC,0,bd,dC)},S1=e=>{let c;for(c=0;c<pa;c++)e.dyn_ltree[c*2]=0;for(c=0;c<Ir;c++)e.dyn_dtree[c*2]=0;for(c=0;c<bd;c++)e.bl_tree[c*2]=0;e.dyn_ltree[Vd*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},E1=e=>{e.bi_valid>8?xa(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},np=(e,c,x,w)=>{const P=c*2,F=x*2;return e[P]<e[F]||e[P]===e[F]&&w[c]<=w[x]},Nh=(e,c,x)=>{const w=e.heap[x];let P=x<<1;for(;P<=e.heap_len&&(P<e.heap_len&&np(c,e.heap[P+1],e.heap[P],e.depth)&&P++,!np(c,w,e.heap[P],e.depth));)e.heap[x]=e.heap[P],x=P,P<<=1;e.heap[x]=w},rp=(e,c,x)=>{let w,P,F=0,p,S;if(e.sym_next!==0)do w=e.pending_buf[e.sym_buf+F++]&255,w+=(e.pending_buf[e.sym_buf+F++]&255)<<8,P=e.pending_buf[e.sym_buf+F++],w===0?vi(e,P,c):(p=ma[P],vi(e,p+Na+1,c),S=sf[p],S!==0&&(P-=Xd[p],Me(e,P,S)),w--,p=x1(w),vi(e,p,x),S=No[p],S!==0&&(w-=dl[p],Me(e,w,S)));while(F<e.sym_next);vi(e,Vd,c)},af=(e,c)=>{const x=c.dyn_tree,w=c.stat_desc.static_tree,P=c.stat_desc.has_stree,F=c.stat_desc.elems;let p,S,t=-1,l;for(e.heap_len=0,e.heap_max=u1,p=0;p<F;p++)x[p*2]!==0?(e.heap[++e.heap_len]=t=p,e.depth[p]=0):x[p*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=t<2?++t:0,x[l*2]=1,e.depth[l]=0,e.opt_len--,P&&(e.static_len-=w[l*2+1]);for(c.max_code=t,p=e.heap_len>>1;p>=1;p--)Nh(e,x,p);l=F;do p=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Nh(e,x,1),S=e.heap[1],e.heap[--e.heap_max]=p,e.heap[--e.heap_max]=S,x[l*2]=x[p*2]+x[S*2],e.depth[l]=(e.depth[p]>=e.depth[S]?e.depth[p]:e.depth[S])+1,x[p*2+1]=x[S*2+1]=l,e.heap[1]=l++,Nh(e,x,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gC(e,c),T1(x,t,e.bl_count)},sp=(e,c,x)=>{let w,P=-1,F,p=c[0*2+1],S=0,t=7,l=4;for(p===0&&(t=138,l=3),c[(x+1)*2+1]=65535,w=0;w<=x;w++)F=p,p=c[(w+1)*2+1],!(++S<t&&F===p)&&(S<l?e.bl_tree[F*2]+=S:F!==0?(F!==P&&e.bl_tree[F*2]++,e.bl_tree[f1*2]++):S<=10?e.bl_tree[d1*2]++:e.bl_tree[c1*2]++,S=0,P=F,p===0?(t=138,l=3):F===p?(t=6,l=3):(t=7,l=4))},ap=(e,c,x)=>{let w,P=-1,F,p=c[0*2+1],S=0,t=7,l=4;for(p===0&&(t=138,l=3),w=0;w<=x;w++)if(F=p,p=c[(w+1)*2+1],!(++S<t&&F===p)){if(S<l)do vi(e,F,e.bl_tree);while(--S!==0);else F!==0?(F!==P&&(vi(e,F,e.bl_tree),S--),vi(e,f1,e.bl_tree),Me(e,S-3,2)):S<=10?(vi(e,d1,e.bl_tree),Me(e,S-3,3)):(vi(e,c1,e.bl_tree),Me(e,S-11,7));S=0,P=F,p===0?(t=138,l=3):F===p?(t=6,l=3):(t=7,l=4)}},xC=e=>{let c;for(sp(e,e.dyn_ltree,e.l_desc.max_code),sp(e,e.dyn_dtree,e.d_desc.max_code),af(e,e.bl_desc),c=bd-1;c>=3&&e.bl_tree[v1[c]*2+1]===0;c--);return e.opt_len+=3*(c+1)+5+5+4,c},yC=(e,c,x,w)=>{let P;for(Me(e,c-257,5),Me(e,x-1,5),Me(e,w-4,4),P=0;P<w;P++)Me(e,e.bl_tree[v1[P]*2+1],3);ap(e,e.dyn_ltree,c-1),ap(e,e.dyn_dtree,x-1)},TC=e=>{let c=4093624447,x;for(x=0;x<=31;x++,c>>>=1)if(c&1&&e.dyn_ltree[x*2]!==0)return ep;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return ip;for(x=32;x<Na;x++)if(e.dyn_ltree[x*2]!==0)return ip;return ep};let op=!1;const SC=e=>{op||(mC(),op=!0),e.l_desc=new Ih(e.dyn_ltree,p1),e.d_desc=new Ih(e.dyn_dtree,g1),e.bl_desc=new Ih(e.bl_tree,m1),e.bi_buf=0,e.bi_valid=0,S1(e)},C1=(e,c,x,w)=>{Me(e,(lC<<1)+(w?1:0),3),E1(e),xa(e,x),xa(e,~x),x&&e.pending_buf.set(e.window.subarray(c,c+x),e.pending),e.pending+=x},EC=e=>{Me(e,h1<<1,3),vi(e,Vd,Ai),pC(e)},CC=(e,c,x,w)=>{let P,F,p=0;e.level>0?(e.strm.data_type===oC&&(e.strm.data_type=TC(e)),af(e,e.l_desc),af(e,e.d_desc),p=xC(e),P=e.opt_len+3+7>>>3,F=e.static_len+3+7>>>3,F<=P&&(P=F)):P=F=x+5,x+4<=P&&c!==-1?C1(e,c,x,w):e.strategy===aC||F===P?(Me(e,(h1<<1)+(w?1:0),3),rp(e,Ai,Ws)):(Me(e,(hC<<1)+(w?1:0),3),yC(e,e.l_desc.max_code+1,e.d_desc.max_code+1,p+1),rp(e,e.dyn_ltree,e.dyn_dtree)),S1(e),w&&E1(e)},AC=(e,c,x)=>(e.pending_buf[e.sym_buf+e.sym_next++]=c,e.pending_buf[e.sym_buf+e.sym_next++]=c>>8,e.pending_buf[e.sym_buf+e.sym_next++]=x,c===0?e.dyn_ltree[x*2]++:(e.matches++,c--,e.dyn_ltree[(ma[x]+Na+1)*2]++,e.dyn_dtree[x1(c)*2]++),e.sym_next===e.sym_end);var wC=SC,MC=C1,PC=CC,RC=AC,LC=EC,FC={_tr_init:wC,_tr_stored_block:MC,_tr_flush_block:PC,_tr_tally:RC,_tr_align:LC};const OC=(e,c,x,w)=>{let P=e&65535|0,F=e>>>16&65535|0,p=0;for(;x!==0;){p=x>2e3?2e3:x,x-=p;do P=P+c[w++]|0,F=F+P|0;while(--p);P%=65521,F%=65521}return P|F<<16|0};var ya=OC;const DC=()=>{let e,c=[];for(var x=0;x<256;x++){e=x;for(var w=0;w<8;w++)e=e&1?3988292384^e>>>1:e>>>1;c[x]=e}return c},IC=new Uint32Array(DC()),NC=(e,c,x,w)=>{const P=IC,F=w+x;e^=-1;for(let p=w;p<F;p++)e=e>>>8^P[(e^c[p])&255];return e^-1};var Jt=NC,Jn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rs={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:BC,_tr_stored_block:of,_tr_flush_block:GC,_tr_tally:on,_tr_align:zC}=FC,{Z_NO_FLUSH:ln,Z_PARTIAL_FLUSH:UC,Z_FULL_FLUSH:bC,Z_FINISH:He,Z_BLOCK:lp,Z_OK:ne,Z_STREAM_END:hp,Z_STREAM_ERROR:xi,Z_DATA_ERROR:VC,Z_BUF_ERROR:Bh,Z_DEFAULT_COMPRESSION:XC,Z_FILTERED:YC,Z_HUFFMAN_ONLY:fo,Z_RLE:WC,Z_FIXED:HC,Z_DEFAULT_STRATEGY:$C,Z_UNKNOWN:ZC,Z_DEFLATED:Wl}=rs,KC=9,kC=15,jC=8,QC=29,JC=256,lf=JC+1+QC,qC=30,_C=19,t3=2*lf+1,e3=15,pt=3,Ji=258,yi=Ji+pt+1,i3=32,kr=42,Yd=57,hf=69,uf=73,ff=91,df=103,Xn=113,Rs=666,xe=1,ss=2,qn=3,as=4,n3=3,Yn=(e,c)=>(e.msg=Jn[c],c),up=e=>e*2-(e>4?9:0),ki=e=>{let c=e.length;for(;--c>=0;)e[c]=0},r3=e=>{let c,x,w,P=e.w_size;c=e.hash_size,w=c;do x=e.head[--w],e.head[w]=x>=P?x-P:0;while(--c);c=P,w=c;do x=e.prev[--w],e.prev[w]=x>=P?x-P:0;while(--c)};let s3=(e,c,x)=>(c<<e.hash_shift^x)&e.hash_mask,hn=s3;const De=e=>{const c=e.state;let x=c.pending;x>e.avail_out&&(x=e.avail_out),x!==0&&(e.output.set(c.pending_buf.subarray(c.pending_out,c.pending_out+x),e.next_out),e.next_out+=x,c.pending_out+=x,e.total_out+=x,e.avail_out-=x,c.pending-=x,c.pending===0&&(c.pending_out=0))},Ge=(e,c)=>{GC(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,c),e.block_start=e.strstart,De(e.strm)},yt=(e,c)=>{e.pending_buf[e.pending++]=c},Ts=(e,c)=>{e.pending_buf[e.pending++]=c>>>8&255,e.pending_buf[e.pending++]=c&255},cf=(e,c,x,w)=>{let P=e.avail_in;return P>w&&(P=w),P===0?0:(e.avail_in-=P,c.set(e.input.subarray(e.next_in,e.next_in+P),x),e.state.wrap===1?e.adler=ya(e.adler,c,P,x):e.state.wrap===2&&(e.adler=Jt(e.adler,c,P,x)),e.next_in+=P,e.total_in+=P,P)},A1=(e,c)=>{let x=e.max_chain_length,w=e.strstart,P,F,p=e.prev_length,S=e.nice_match;const t=e.strstart>e.w_size-yi?e.strstart-(e.w_size-yi):0,l=e.window,g=e.w_mask,h=e.prev,a=e.strstart+Ji;let s=l[w+p-1],i=l[w+p];e.prev_length>=e.good_match&&(x>>=2),S>e.lookahead&&(S=e.lookahead);do if(P=c,!(l[P+p]!==i||l[P+p-1]!==s||l[P]!==l[w]||l[++P]!==l[w+1])){w+=2,P++;do;while(l[++w]===l[++P]&&l[++w]===l[++P]&&l[++w]===l[++P]&&l[++w]===l[++P]&&l[++w]===l[++P]&&l[++w]===l[++P]&&l[++w]===l[++P]&&l[++w]===l[++P]&&w<a);if(F=Ji-(a-w),w=a-Ji,F>p){if(e.match_start=c,p=F,F>=S)break;s=l[w+p-1],i=l[w+p]}}while((c=h[c&g])>t&&--x!==0);return p<=e.lookahead?p:e.lookahead},jr=e=>{const c=e.w_size;let x,w,P;do{if(w=e.window_size-e.lookahead-e.strstart,e.strstart>=c+(c-yi)&&(e.window.set(e.window.subarray(c,c+c-w),0),e.match_start-=c,e.strstart-=c,e.block_start-=c,e.insert>e.strstart&&(e.insert=e.strstart),r3(e),w+=c),e.strm.avail_in===0)break;if(x=cf(e.strm,e.window,e.strstart+e.lookahead,w),e.lookahead+=x,e.lookahead+e.insert>=pt)for(P=e.strstart-e.insert,e.ins_h=e.window[P],e.ins_h=hn(e,e.ins_h,e.window[P+1]);e.insert&&(e.ins_h=hn(e,e.ins_h,e.window[P+pt-1]),e.prev[P&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=P,P++,e.insert--,!(e.lookahead+e.insert<pt)););}while(e.lookahead<yi&&e.strm.avail_in!==0)},w1=(e,c)=>{let x=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,w,P,F,p=0,S=e.strm.avail_in;do{if(w=65535,F=e.bi_valid+42>>3,e.strm.avail_out<F||(F=e.strm.avail_out-F,P=e.strstart-e.block_start,w>P+e.strm.avail_in&&(w=P+e.strm.avail_in),w>F&&(w=F),w<x&&(w===0&&c!==He||c===ln||w!==P+e.strm.avail_in)))break;p=c===He&&w===P+e.strm.avail_in?1:0,of(e,0,0,p),e.pending_buf[e.pending-4]=w,e.pending_buf[e.pending-3]=w>>8,e.pending_buf[e.pending-2]=~w,e.pending_buf[e.pending-1]=~w>>8,De(e.strm),P&&(P>w&&(P=w),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+P),e.strm.next_out),e.strm.next_out+=P,e.strm.avail_out-=P,e.strm.total_out+=P,e.block_start+=P,w-=P),w&&(cf(e.strm,e.strm.output,e.strm.next_out,w),e.strm.next_out+=w,e.strm.avail_out-=w,e.strm.total_out+=w)}while(p===0);return S-=e.strm.avail_in,S&&(S>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=S&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-S,e.strm.next_in),e.strstart),e.strstart+=S,e.insert+=S>e.w_size-e.insert?e.w_size-e.insert:S),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),p?as:c!==ln&&c!==He&&e.strm.avail_in===0&&e.strstart===e.block_start?ss:(F=e.window_size-e.strstart,e.strm.avail_in>F&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,F+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),F>e.strm.avail_in&&(F=e.strm.avail_in),F&&(cf(e.strm,e.window,e.strstart,F),e.strstart+=F,e.insert+=F>e.w_size-e.insert?e.w_size-e.insert:F),e.high_water<e.strstart&&(e.high_water=e.strstart),F=e.bi_valid+42>>3,F=e.pending_buf_size-F>65535?65535:e.pending_buf_size-F,x=F>e.w_size?e.w_size:F,P=e.strstart-e.block_start,(P>=x||(P||c===He)&&c!==ln&&e.strm.avail_in===0&&P<=F)&&(w=P>F?F:P,p=c===He&&e.strm.avail_in===0&&w===P?1:0,of(e,e.block_start,w,p),e.block_start+=w,De(e.strm)),p?qn:xe)},Gh=(e,c)=>{let x,w;for(;;){if(e.lookahead<yi){if(jr(e),e.lookahead<yi&&c===ln)return xe;if(e.lookahead===0)break}if(x=0,e.lookahead>=pt&&(e.ins_h=hn(e,e.ins_h,e.window[e.strstart+pt-1]),x=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),x!==0&&e.strstart-x<=e.w_size-yi&&(e.match_length=A1(e,x)),e.match_length>=pt)if(w=on(e,e.strstart-e.match_start,e.match_length-pt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=pt){e.match_length--;do e.strstart++,e.ins_h=hn(e,e.ins_h,e.window[e.strstart+pt-1]),x=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=hn(e,e.ins_h,e.window[e.strstart+1]);else w=on(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(w&&(Ge(e,!1),e.strm.avail_out===0))return xe}return e.insert=e.strstart<pt-1?e.strstart:pt-1,c===He?(Ge(e,!0),e.strm.avail_out===0?qn:as):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?xe:ss},hr=(e,c)=>{let x,w,P;for(;;){if(e.lookahead<yi){if(jr(e),e.lookahead<yi&&c===ln)return xe;if(e.lookahead===0)break}if(x=0,e.lookahead>=pt&&(e.ins_h=hn(e,e.ins_h,e.window[e.strstart+pt-1]),x=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=pt-1,x!==0&&e.prev_length<e.max_lazy_match&&e.strstart-x<=e.w_size-yi&&(e.match_length=A1(e,x),e.match_length<=5&&(e.strategy===YC||e.match_length===pt&&e.strstart-e.match_start>4096)&&(e.match_length=pt-1)),e.prev_length>=pt&&e.match_length<=e.prev_length){P=e.strstart+e.lookahead-pt,w=on(e,e.strstart-1-e.prev_match,e.prev_length-pt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=P&&(e.ins_h=hn(e,e.ins_h,e.window[e.strstart+pt-1]),x=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=pt-1,e.strstart++,w&&(Ge(e,!1),e.strm.avail_out===0))return xe}else if(e.match_available){if(w=on(e,0,e.window[e.strstart-1]),w&&Ge(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return xe}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(w=on(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<pt-1?e.strstart:pt-1,c===He?(Ge(e,!0),e.strm.avail_out===0?qn:as):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?xe:ss},a3=(e,c)=>{let x,w,P,F;const p=e.window;for(;;){if(e.lookahead<=Ji){if(jr(e),e.lookahead<=Ji&&c===ln)return xe;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=pt&&e.strstart>0&&(P=e.strstart-1,w=p[P],w===p[++P]&&w===p[++P]&&w===p[++P])){F=e.strstart+Ji;do;while(w===p[++P]&&w===p[++P]&&w===p[++P]&&w===p[++P]&&w===p[++P]&&w===p[++P]&&w===p[++P]&&w===p[++P]&&P<F);e.match_length=Ji-(F-P),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=pt?(x=on(e,1,e.match_length-pt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(x=on(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),x&&(Ge(e,!1),e.strm.avail_out===0))return xe}return e.insert=0,c===He?(Ge(e,!0),e.strm.avail_out===0?qn:as):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?xe:ss},o3=(e,c)=>{let x;for(;;){if(e.lookahead===0&&(jr(e),e.lookahead===0)){if(c===ln)return xe;break}if(e.match_length=0,x=on(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,x&&(Ge(e,!1),e.strm.avail_out===0))return xe}return e.insert=0,c===He?(Ge(e,!0),e.strm.avail_out===0?qn:as):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?xe:ss};function hi(e,c,x,w,P){this.good_length=e,this.max_lazy=c,this.nice_length=x,this.max_chain=w,this.func=P}const Ls=[new hi(0,0,0,0,w1),new hi(4,4,8,4,Gh),new hi(4,5,16,8,Gh),new hi(4,6,32,32,Gh),new hi(4,4,16,16,hr),new hi(8,16,32,32,hr),new hi(8,16,128,128,hr),new hi(8,32,128,256,hr),new hi(32,128,258,1024,hr),new hi(32,258,258,4096,hr)],l3=e=>{e.window_size=2*e.w_size,ki(e.head),e.max_lazy_match=Ls[e.level].max_lazy,e.good_match=Ls[e.level].good_length,e.nice_match=Ls[e.level].nice_length,e.max_chain_length=Ls[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=pt-1,e.match_available=0,e.ins_h=0};function h3(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Wl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(t3*2),this.dyn_dtree=new Uint16Array((2*qC+1)*2),this.bl_tree=new Uint16Array((2*_C+1)*2),ki(this.dyn_ltree),ki(this.dyn_dtree),ki(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(e3+1),this.heap=new Uint16Array(2*lf+1),ki(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*lf+1),ki(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ba=e=>{if(!e)return 1;const c=e.state;return!c||c.strm!==e||c.status!==kr&&c.status!==Yd&&c.status!==hf&&c.status!==uf&&c.status!==ff&&c.status!==df&&c.status!==Xn&&c.status!==Rs?1:0},M1=e=>{if(Ba(e))return Yn(e,xi);e.total_in=e.total_out=0,e.data_type=ZC;const c=e.state;return c.pending=0,c.pending_out=0,c.wrap<0&&(c.wrap=-c.wrap),c.status=c.wrap===2?Yd:c.wrap?kr:Xn,e.adler=c.wrap===2?0:1,c.last_flush=-2,BC(c),ne},P1=e=>{const c=M1(e);return c===ne&&l3(e.state),c},u3=(e,c)=>Ba(e)||e.state.wrap!==2?xi:(e.state.gzhead=c,ne),R1=(e,c,x,w,P,F)=>{if(!e)return xi;let p=1;if(c===XC&&(c=6),w<0?(p=0,w=-w):w>15&&(p=2,w-=16),P<1||P>KC||x!==Wl||w<8||w>15||c<0||c>9||F<0||F>HC||w===8&&p!==1)return Yn(e,xi);w===8&&(w=9);const S=new h3;return e.state=S,S.strm=e,S.status=kr,S.wrap=p,S.gzhead=null,S.w_bits=w,S.w_size=1<<S.w_bits,S.w_mask=S.w_size-1,S.hash_bits=P+7,S.hash_size=1<<S.hash_bits,S.hash_mask=S.hash_size-1,S.hash_shift=~~((S.hash_bits+pt-1)/pt),S.window=new Uint8Array(S.w_size*2),S.head=new Uint16Array(S.hash_size),S.prev=new Uint16Array(S.w_size),S.lit_bufsize=1<<P+6,S.pending_buf_size=S.lit_bufsize*4,S.pending_buf=new Uint8Array(S.pending_buf_size),S.sym_buf=S.lit_bufsize,S.sym_end=(S.lit_bufsize-1)*3,S.level=c,S.strategy=F,S.method=x,P1(e)},f3=(e,c)=>R1(e,c,Wl,kC,jC,$C),d3=(e,c)=>{if(Ba(e)||c>lp||c<0)return e?Yn(e,xi):xi;const x=e.state;if(!e.output||e.avail_in!==0&&!e.input||x.status===Rs&&c!==He)return Yn(e,e.avail_out===0?Bh:xi);const w=x.last_flush;if(x.last_flush=c,x.pending!==0){if(De(e),e.avail_out===0)return x.last_flush=-1,ne}else if(e.avail_in===0&&up(c)<=up(w)&&c!==He)return Yn(e,Bh);if(x.status===Rs&&e.avail_in!==0)return Yn(e,Bh);if(x.status===kr&&x.wrap===0&&(x.status=Xn),x.status===kr){let P=Wl+(x.w_bits-8<<4)<<8,F=-1;if(x.strategy>=fo||x.level<2?F=0:x.level<6?F=1:x.level===6?F=2:F=3,P|=F<<6,x.strstart!==0&&(P|=i3),P+=31-P%31,Ts(x,P),x.strstart!==0&&(Ts(x,e.adler>>>16),Ts(x,e.adler&65535)),e.adler=1,x.status=Xn,De(e),x.pending!==0)return x.last_flush=-1,ne}if(x.status===Yd){if(e.adler=0,yt(x,31),yt(x,139),yt(x,8),x.gzhead)yt(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),yt(x,x.gzhead.time&255),yt(x,x.gzhead.time>>8&255),yt(x,x.gzhead.time>>16&255),yt(x,x.gzhead.time>>24&255),yt(x,x.level===9?2:x.strategy>=fo||x.level<2?4:0),yt(x,x.gzhead.os&255),x.gzhead.extra&&x.gzhead.extra.length&&(yt(x,x.gzhead.extra.length&255),yt(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(e.adler=Jt(e.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=hf;else if(yt(x,0),yt(x,0),yt(x,0),yt(x,0),yt(x,0),yt(x,x.level===9?2:x.strategy>=fo||x.level<2?4:0),yt(x,n3),x.status=Xn,De(e),x.pending!==0)return x.last_flush=-1,ne}if(x.status===hf){if(x.gzhead.extra){let P=x.pending,F=(x.gzhead.extra.length&65535)-x.gzindex;for(;x.pending+F>x.pending_buf_size;){let S=x.pending_buf_size-x.pending;if(x.pending_buf.set(x.gzhead.extra.subarray(x.gzindex,x.gzindex+S),x.pending),x.pending=x.pending_buf_size,x.gzhead.hcrc&&x.pending>P&&(e.adler=Jt(e.adler,x.pending_buf,x.pending-P,P)),x.gzindex+=S,De(e),x.pending!==0)return x.last_flush=-1,ne;P=0,F-=S}let p=new Uint8Array(x.gzhead.extra);x.pending_buf.set(p.subarray(x.gzindex,x.gzindex+F),x.pending),x.pending+=F,x.gzhead.hcrc&&x.pending>P&&(e.adler=Jt(e.adler,x.pending_buf,x.pending-P,P)),x.gzindex=0}x.status=uf}if(x.status===uf){if(x.gzhead.name){let P=x.pending,F;do{if(x.pending===x.pending_buf_size){if(x.gzhead.hcrc&&x.pending>P&&(e.adler=Jt(e.adler,x.pending_buf,x.pending-P,P)),De(e),x.pending!==0)return x.last_flush=-1,ne;P=0}x.gzindex<x.gzhead.name.length?F=x.gzhead.name.charCodeAt(x.gzindex++)&255:F=0,yt(x,F)}while(F!==0);x.gzhead.hcrc&&x.pending>P&&(e.adler=Jt(e.adler,x.pending_buf,x.pending-P,P)),x.gzindex=0}x.status=ff}if(x.status===ff){if(x.gzhead.comment){let P=x.pending,F;do{if(x.pending===x.pending_buf_size){if(x.gzhead.hcrc&&x.pending>P&&(e.adler=Jt(e.adler,x.pending_buf,x.pending-P,P)),De(e),x.pending!==0)return x.last_flush=-1,ne;P=0}x.gzindex<x.gzhead.comment.length?F=x.gzhead.comment.charCodeAt(x.gzindex++)&255:F=0,yt(x,F)}while(F!==0);x.gzhead.hcrc&&x.pending>P&&(e.adler=Jt(e.adler,x.pending_buf,x.pending-P,P))}x.status=df}if(x.status===df){if(x.gzhead.hcrc){if(x.pending+2>x.pending_buf_size&&(De(e),x.pending!==0))return x.last_flush=-1,ne;yt(x,e.adler&255),yt(x,e.adler>>8&255),e.adler=0}if(x.status=Xn,De(e),x.pending!==0)return x.last_flush=-1,ne}if(e.avail_in!==0||x.lookahead!==0||c!==ln&&x.status!==Rs){let P=x.level===0?w1(x,c):x.strategy===fo?o3(x,c):x.strategy===WC?a3(x,c):Ls[x.level].func(x,c);if((P===qn||P===as)&&(x.status=Rs),P===xe||P===qn)return e.avail_out===0&&(x.last_flush=-1),ne;if(P===ss&&(c===UC?zC(x):c!==lp&&(of(x,0,0,!1),c===bC&&(ki(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),De(e),e.avail_out===0))return x.last_flush=-1,ne}return c!==He?ne:x.wrap<=0?hp:(x.wrap===2?(yt(x,e.adler&255),yt(x,e.adler>>8&255),yt(x,e.adler>>16&255),yt(x,e.adler>>24&255),yt(x,e.total_in&255),yt(x,e.total_in>>8&255),yt(x,e.total_in>>16&255),yt(x,e.total_in>>24&255)):(Ts(x,e.adler>>>16),Ts(x,e.adler&65535)),De(e),x.wrap>0&&(x.wrap=-x.wrap),x.pending!==0?ne:hp)},c3=e=>{if(Ba(e))return xi;const c=e.state.status;return e.state=null,c===Xn?Yn(e,VC):ne},v3=(e,c)=>{let x=c.length;if(Ba(e))return xi;const w=e.state,P=w.wrap;if(P===2||P===1&&w.status!==kr||w.lookahead)return xi;if(P===1&&(e.adler=ya(e.adler,c,x,0)),w.wrap=0,x>=w.w_size){P===0&&(ki(w.head),w.strstart=0,w.block_start=0,w.insert=0);let t=new Uint8Array(w.w_size);t.set(c.subarray(x-w.w_size,x),0),c=t,x=w.w_size}const F=e.avail_in,p=e.next_in,S=e.input;for(e.avail_in=x,e.next_in=0,e.input=c,jr(w);w.lookahead>=pt;){let t=w.strstart,l=w.lookahead-(pt-1);do w.ins_h=hn(w,w.ins_h,w.window[t+pt-1]),w.prev[t&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=t,t++;while(--l);w.strstart=t,w.lookahead=pt-1,jr(w)}return w.strstart+=w.lookahead,w.block_start=w.strstart,w.insert=w.lookahead,w.lookahead=0,w.match_length=w.prev_length=pt-1,w.match_available=0,e.next_in=p,e.input=S,e.avail_in=F,w.wrap=P,ne};var p3=f3,g3=R1,m3=P1,x3=M1,y3=u3,T3=d3,S3=c3,E3=v3,C3="pako deflate (from Nodeca project)",Hs={deflateInit:p3,deflateInit2:g3,deflateReset:m3,deflateResetKeep:x3,deflateSetHeader:y3,deflate:T3,deflateEnd:S3,deflateSetDictionary:E3,deflateInfo:C3};const A3=(e,c)=>Object.prototype.hasOwnProperty.call(e,c);var w3=function(e){const c=Array.prototype.slice.call(arguments,1);for(;c.length;){const x=c.shift();if(x){if(typeof x!="object")throw new TypeError(x+"must be non-object");for(const w in x)A3(x,w)&&(e[w]=x[w])}}return e},M3=e=>{let c=0;for(let w=0,P=e.length;w<P;w++)c+=e[w].length;const x=new Uint8Array(c);for(let w=0,P=0,F=e.length;w<F;w++){let p=e[w];x.set(p,P),P+=p.length}return x},Hl={assign:w3,flattenChunks:M3};let L1=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{L1=!1}const Ta=new Uint8Array(256);for(let e=0;e<256;e++)Ta[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ta[254]=Ta[254]=1;var P3=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let c,x,w,P,F,p=e.length,S=0;for(P=0;P<p;P++)x=e.charCodeAt(P),(x&64512)===55296&&P+1<p&&(w=e.charCodeAt(P+1),(w&64512)===56320&&(x=65536+(x-55296<<10)+(w-56320),P++)),S+=x<128?1:x<2048?2:x<65536?3:4;for(c=new Uint8Array(S),F=0,P=0;F<S;P++)x=e.charCodeAt(P),(x&64512)===55296&&P+1<p&&(w=e.charCodeAt(P+1),(w&64512)===56320&&(x=65536+(x-55296<<10)+(w-56320),P++)),x<128?c[F++]=x:x<2048?(c[F++]=192|x>>>6,c[F++]=128|x&63):x<65536?(c[F++]=224|x>>>12,c[F++]=128|x>>>6&63,c[F++]=128|x&63):(c[F++]=240|x>>>18,c[F++]=128|x>>>12&63,c[F++]=128|x>>>6&63,c[F++]=128|x&63);return c};const R3=(e,c)=>{if(c<65534&&e.subarray&&L1)return String.fromCharCode.apply(null,e.length===c?e:e.subarray(0,c));let x="";for(let w=0;w<c;w++)x+=String.fromCharCode(e[w]);return x};var L3=(e,c)=>{const x=c||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,c));let w,P;const F=new Array(x*2);for(P=0,w=0;w<x;){let p=e[w++];if(p<128){F[P++]=p;continue}let S=Ta[p];if(S>4){F[P++]=65533,w+=S-1;continue}for(p&=S===2?31:S===3?15:7;S>1&&w<x;)p=p<<6|e[w++]&63,S--;if(S>1){F[P++]=65533;continue}p<65536?F[P++]=p:(p-=65536,F[P++]=55296|p>>10&1023,F[P++]=56320|p&1023)}return R3(F,P)},F3=(e,c)=>{c=c||e.length,c>e.length&&(c=e.length);let x=c-1;for(;x>=0&&(e[x]&192)===128;)x--;return x<0||x===0?c:x+Ta[e[x]]>c?x:c},Sa={string2buf:P3,buf2string:L3,utf8border:F3};function O3(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var F1=O3;const O1=Object.prototype.toString,{Z_NO_FLUSH:D3,Z_SYNC_FLUSH:I3,Z_FULL_FLUSH:N3,Z_FINISH:B3,Z_OK:cl,Z_STREAM_END:G3,Z_DEFAULT_COMPRESSION:z3,Z_DEFAULT_STRATEGY:U3,Z_DEFLATED:b3}=rs;function Ga(e){this.options=Hl.assign({level:z3,method:b3,chunkSize:16384,windowBits:15,memLevel:8,strategy:U3},e||{});let c=this.options;c.raw&&c.windowBits>0?c.windowBits=-c.windowBits:c.gzip&&c.windowBits>0&&c.windowBits<16&&(c.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F1,this.strm.avail_out=0;let x=Hs.deflateInit2(this.strm,c.level,c.method,c.windowBits,c.memLevel,c.strategy);if(x!==cl)throw new Error(Jn[x]);if(c.header&&Hs.deflateSetHeader(this.strm,c.header),c.dictionary){let w;if(typeof c.dictionary=="string"?w=Sa.string2buf(c.dictionary):O1.call(c.dictionary)==="[object ArrayBuffer]"?w=new Uint8Array(c.dictionary):w=c.dictionary,x=Hs.deflateSetDictionary(this.strm,w),x!==cl)throw new Error(Jn[x]);this._dict_set=!0}}Ga.prototype.push=function(e,c){const x=this.strm,w=this.options.chunkSize;let P,F;if(this.ended)return!1;for(c===~~c?F=c:F=c===!0?B3:D3,typeof e=="string"?x.input=Sa.string2buf(e):O1.call(e)==="[object ArrayBuffer]"?x.input=new Uint8Array(e):x.input=e,x.next_in=0,x.avail_in=x.input.length;;){if(x.avail_out===0&&(x.output=new Uint8Array(w),x.next_out=0,x.avail_out=w),(F===I3||F===N3)&&x.avail_out<=6){this.onData(x.output.subarray(0,x.next_out)),x.avail_out=0;continue}if(P=Hs.deflate(x,F),P===G3)return x.next_out>0&&this.onData(x.output.subarray(0,x.next_out)),P=Hs.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===cl;if(x.avail_out===0){this.onData(x.output);continue}if(F>0&&x.next_out>0){this.onData(x.output.subarray(0,x.next_out)),x.avail_out=0;continue}if(x.avail_in===0)break}return!0};Ga.prototype.onData=function(e){this.chunks.push(e)};Ga.prototype.onEnd=function(e){e===cl&&(this.result=Hl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Wd(e,c){const x=new Ga(c);if(x.push(e,!0),x.err)throw x.msg||Jn[x.err];return x.result}function V3(e,c){return c=c||{},c.raw=!0,Wd(e,c)}function X3(e,c){return c=c||{},c.gzip=!0,Wd(e,c)}var Y3=Ga,W3=Wd,H3=V3,$3=X3,Z3=rs,K3={Deflate:Y3,deflate:W3,deflateRaw:H3,gzip:$3,constants:Z3};const co=16209,k3=16191;var j3=function(c,x){let w,P,F,p,S,t,l,g,h,a,s,i,r,u,n,o,f,d,v,m,T,E,y,C;const A=c.state;w=c.next_in,y=c.input,P=w+(c.avail_in-5),F=c.next_out,C=c.output,p=F-(x-c.avail_out),S=F+(c.avail_out-257),t=A.dmax,l=A.wsize,g=A.whave,h=A.wnext,a=A.window,s=A.hold,i=A.bits,r=A.lencode,u=A.distcode,n=(1<<A.lenbits)-1,o=(1<<A.distbits)-1;t:do{i<15&&(s+=y[w++]<<i,i+=8,s+=y[w++]<<i,i+=8),f=r[s&n];e:for(;;){if(d=f>>>24,s>>>=d,i-=d,d=f>>>16&255,d===0)C[F++]=f&65535;else if(d&16){v=f&65535,d&=15,d&&(i<d&&(s+=y[w++]<<i,i+=8),v+=s&(1<<d)-1,s>>>=d,i-=d),i<15&&(s+=y[w++]<<i,i+=8,s+=y[w++]<<i,i+=8),f=u[s&o];i:for(;;){if(d=f>>>24,s>>>=d,i-=d,d=f>>>16&255,d&16){if(m=f&65535,d&=15,i<d&&(s+=y[w++]<<i,i+=8,i<d&&(s+=y[w++]<<i,i+=8)),m+=s&(1<<d)-1,m>t){c.msg="invalid distance too far back",A.mode=co;break t}if(s>>>=d,i-=d,d=F-p,m>d){if(d=m-d,d>g&&A.sane){c.msg="invalid distance too far back",A.mode=co;break t}if(T=0,E=a,h===0){if(T+=l-d,d<v){v-=d;do C[F++]=a[T++];while(--d);T=F-m,E=C}}else if(h<d){if(T+=l+h-d,d-=h,d<v){v-=d;do C[F++]=a[T++];while(--d);if(T=0,h<v){d=h,v-=d;do C[F++]=a[T++];while(--d);T=F-m,E=C}}}else if(T+=h-d,d<v){v-=d;do C[F++]=a[T++];while(--d);T=F-m,E=C}for(;v>2;)C[F++]=E[T++],C[F++]=E[T++],C[F++]=E[T++],v-=3;v&&(C[F++]=E[T++],v>1&&(C[F++]=E[T++]))}else{T=F-m;do C[F++]=C[T++],C[F++]=C[T++],C[F++]=C[T++],v-=3;while(v>2);v&&(C[F++]=C[T++],v>1&&(C[F++]=C[T++]))}}else if(d&64){c.msg="invalid distance code",A.mode=co;break t}else{f=u[(f&65535)+(s&(1<<d)-1)];continue i}break}}else if(d&64)if(d&32){A.mode=k3;break t}else{c.msg="invalid literal/length code",A.mode=co;break t}else{f=r[(f&65535)+(s&(1<<d)-1)];continue e}break}}while(w<P&&F<S);v=i>>3,w-=v,i-=v<<3,s&=(1<<i)-1,c.next_in=w,c.next_out=F,c.avail_in=w<P?5+(P-w):5-(w-P),c.avail_out=F<S?257+(S-F):257-(F-S),A.hold=s,A.bits=i};const ur=15,fp=852,dp=592,cp=0,zh=1,vp=2,Q3=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),J3=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),q3=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_3=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),t6=(e,c,x,w,P,F,p,S)=>{const t=S.bits;let l=0,g=0,h=0,a=0,s=0,i=0,r=0,u=0,n=0,o=0,f,d,v,m,T,E=null,y;const C=new Uint16Array(ur+1),A=new Uint16Array(ur+1);let M=null,R,O,L;for(l=0;l<=ur;l++)C[l]=0;for(g=0;g<w;g++)C[c[x+g]]++;for(s=t,a=ur;a>=1&&C[a]===0;a--);if(s>a&&(s=a),a===0)return P[F++]=1<<24|64<<16|0,P[F++]=1<<24|64<<16|0,S.bits=1,0;for(h=1;h<a&&C[h]===0;h++);for(s<h&&(s=h),u=1,l=1;l<=ur;l++)if(u<<=1,u-=C[l],u<0)return-1;if(u>0&&(e===cp||a!==1))return-1;for(A[1]=0,l=1;l<ur;l++)A[l+1]=A[l]+C[l];for(g=0;g<w;g++)c[x+g]!==0&&(p[A[c[x+g]]++]=g);if(e===cp?(E=M=p,y=20):e===zh?(E=Q3,M=J3,y=257):(E=q3,M=_3,y=0),o=0,g=0,l=h,T=F,i=s,r=0,v=-1,n=1<<s,m=n-1,e===zh&&n>fp||e===vp&&n>dp)return 1;for(;;){R=l-r,p[g]+1<y?(O=0,L=p[g]):p[g]>=y?(O=M[p[g]-y],L=E[p[g]-y]):(O=32+64,L=0),f=1<<l-r,d=1<<i,h=d;do d-=f,P[T+(o>>r)+d]=R<<24|O<<16|L|0;while(d!==0);for(f=1<<l-1;o&f;)f>>=1;if(f!==0?(o&=f-1,o+=f):o=0,g++,--C[l]===0){if(l===a)break;l=c[x+p[g]]}if(l>s&&(o&m)!==v){for(r===0&&(r=s),T+=h,i=l-r,u=1<<i;i+r<a&&(u-=C[i+r],!(u<=0));)i++,u<<=1;if(n+=1<<i,e===zh&&n>fp||e===vp&&n>dp)return 1;v=o&m,P[v]=s<<24|i<<16|T-F|0}}return o!==0&&(P[T+o]=l-r<<24|64<<16|0),S.bits=s,0};var $s=t6;const e6=0,D1=1,I1=2,{Z_FINISH:pp,Z_BLOCK:i6,Z_TREES:vo,Z_OK:_n,Z_STREAM_END:n6,Z_NEED_DICT:r6,Z_STREAM_ERROR:je,Z_DATA_ERROR:N1,Z_MEM_ERROR:B1,Z_BUF_ERROR:s6,Z_DEFLATED:gp}=rs,$l=16180,mp=16181,xp=16182,yp=16183,Tp=16184,Sp=16185,Ep=16186,Cp=16187,Ap=16188,wp=16189,vl=16190,Si=16191,Uh=16192,Mp=16193,bh=16194,Pp=16195,Rp=16196,Lp=16197,Fp=16198,po=16199,go=16200,Op=16201,Dp=16202,Ip=16203,Np=16204,Bp=16205,Vh=16206,Gp=16207,zp=16208,Lt=16209,G1=16210,z1=16211,a6=852,o6=592,l6=15,h6=l6,Up=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function u6(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const sr=e=>{if(!e)return 1;const c=e.state;return!c||c.strm!==e||c.mode<$l||c.mode>z1?1:0},U1=e=>{if(sr(e))return je;const c=e.state;return e.total_in=e.total_out=c.total=0,e.msg="",c.wrap&&(e.adler=c.wrap&1),c.mode=$l,c.last=0,c.havedict=0,c.flags=-1,c.dmax=32768,c.head=null,c.hold=0,c.bits=0,c.lencode=c.lendyn=new Int32Array(a6),c.distcode=c.distdyn=new Int32Array(o6),c.sane=1,c.back=-1,_n},b1=e=>{if(sr(e))return je;const c=e.state;return c.wsize=0,c.whave=0,c.wnext=0,U1(e)},V1=(e,c)=>{let x;if(sr(e))return je;const w=e.state;return c<0?(x=0,c=-c):(x=(c>>4)+5,c<48&&(c&=15)),c&&(c<8||c>15)?je:(w.window!==null&&w.wbits!==c&&(w.window=null),w.wrap=x,w.wbits=c,b1(e))},X1=(e,c)=>{if(!e)return je;const x=new u6;e.state=x,x.strm=e,x.window=null,x.mode=$l;const w=V1(e,c);return w!==_n&&(e.state=null),w},f6=e=>X1(e,h6);let bp=!0,Xh,Yh;const d6=e=>{if(bp){Xh=new Int32Array(512),Yh=new Int32Array(32);let c=0;for(;c<144;)e.lens[c++]=8;for(;c<256;)e.lens[c++]=9;for(;c<280;)e.lens[c++]=7;for(;c<288;)e.lens[c++]=8;for($s(D1,e.lens,0,288,Xh,0,e.work,{bits:9}),c=0;c<32;)e.lens[c++]=5;$s(I1,e.lens,0,32,Yh,0,e.work,{bits:5}),bp=!1}e.lencode=Xh,e.lenbits=9,e.distcode=Yh,e.distbits=5},Y1=(e,c,x,w)=>{let P;const F=e.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new Uint8Array(F.wsize)),w>=F.wsize?(F.window.set(c.subarray(x-F.wsize,x),0),F.wnext=0,F.whave=F.wsize):(P=F.wsize-F.wnext,P>w&&(P=w),F.window.set(c.subarray(x-w,x-w+P),F.wnext),w-=P,w?(F.window.set(c.subarray(x-w,x),0),F.wnext=w,F.whave=F.wsize):(F.wnext+=P,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=P))),0},c6=(e,c)=>{let x,w,P,F,p,S,t,l,g,h,a,s,i,r,u=0,n,o,f,d,v,m,T,E;const y=new Uint8Array(4);let C,A;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(sr(e)||!e.output||!e.input&&e.avail_in!==0)return je;x=e.state,x.mode===Si&&(x.mode=Uh),p=e.next_out,P=e.output,t=e.avail_out,F=e.next_in,w=e.input,S=e.avail_in,l=x.hold,g=x.bits,h=S,a=t,E=_n;t:for(;;)switch(x.mode){case $l:if(x.wrap===0){x.mode=Uh;break}for(;g<16;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}if(x.wrap&2&&l===35615){x.wbits===0&&(x.wbits=15),x.check=0,y[0]=l&255,y[1]=l>>>8&255,x.check=Jt(x.check,y,2,0),l=0,g=0,x.mode=mp;break}if(x.head&&(x.head.done=!1),!(x.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",x.mode=Lt;break}if((l&15)!==gp){e.msg="unknown compression method",x.mode=Lt;break}if(l>>>=4,g-=4,T=(l&15)+8,x.wbits===0&&(x.wbits=T),T>15||T>x.wbits){e.msg="invalid window size",x.mode=Lt;break}x.dmax=1<<x.wbits,x.flags=0,e.adler=x.check=1,x.mode=l&512?wp:Si,l=0,g=0;break;case mp:for(;g<16;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}if(x.flags=l,(x.flags&255)!==gp){e.msg="unknown compression method",x.mode=Lt;break}if(x.flags&57344){e.msg="unknown header flags set",x.mode=Lt;break}x.head&&(x.head.text=l>>8&1),x.flags&512&&x.wrap&4&&(y[0]=l&255,y[1]=l>>>8&255,x.check=Jt(x.check,y,2,0)),l=0,g=0,x.mode=xp;case xp:for(;g<32;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}x.head&&(x.head.time=l),x.flags&512&&x.wrap&4&&(y[0]=l&255,y[1]=l>>>8&255,y[2]=l>>>16&255,y[3]=l>>>24&255,x.check=Jt(x.check,y,4,0)),l=0,g=0,x.mode=yp;case yp:for(;g<16;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}x.head&&(x.head.xflags=l&255,x.head.os=l>>8),x.flags&512&&x.wrap&4&&(y[0]=l&255,y[1]=l>>>8&255,x.check=Jt(x.check,y,2,0)),l=0,g=0,x.mode=Tp;case Tp:if(x.flags&1024){for(;g<16;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}x.length=l,x.head&&(x.head.extra_len=l),x.flags&512&&x.wrap&4&&(y[0]=l&255,y[1]=l>>>8&255,x.check=Jt(x.check,y,2,0)),l=0,g=0}else x.head&&(x.head.extra=null);x.mode=Sp;case Sp:if(x.flags&1024&&(s=x.length,s>S&&(s=S),s&&(x.head&&(T=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Uint8Array(x.head.extra_len)),x.head.extra.set(w.subarray(F,F+s),T)),x.flags&512&&x.wrap&4&&(x.check=Jt(x.check,w,s,F)),S-=s,F+=s,x.length-=s),x.length))break t;x.length=0,x.mode=Ep;case Ep:if(x.flags&2048){if(S===0)break t;s=0;do T=w[F+s++],x.head&&T&&x.length<65536&&(x.head.name+=String.fromCharCode(T));while(T&&s<S);if(x.flags&512&&x.wrap&4&&(x.check=Jt(x.check,w,s,F)),S-=s,F+=s,T)break t}else x.head&&(x.head.name=null);x.length=0,x.mode=Cp;case Cp:if(x.flags&4096){if(S===0)break t;s=0;do T=w[F+s++],x.head&&T&&x.length<65536&&(x.head.comment+=String.fromCharCode(T));while(T&&s<S);if(x.flags&512&&x.wrap&4&&(x.check=Jt(x.check,w,s,F)),S-=s,F+=s,T)break t}else x.head&&(x.head.comment=null);x.mode=Ap;case Ap:if(x.flags&512){for(;g<16;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}if(x.wrap&4&&l!==(x.check&65535)){e.msg="header crc mismatch",x.mode=Lt;break}l=0,g=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),e.adler=x.check=0,x.mode=Si;break;case wp:for(;g<32;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}e.adler=x.check=Up(l),l=0,g=0,x.mode=vl;case vl:if(x.havedict===0)return e.next_out=p,e.avail_out=t,e.next_in=F,e.avail_in=S,x.hold=l,x.bits=g,r6;e.adler=x.check=1,x.mode=Si;case Si:if(c===i6||c===vo)break t;case Uh:if(x.last){l>>>=g&7,g-=g&7,x.mode=Vh;break}for(;g<3;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}switch(x.last=l&1,l>>>=1,g-=1,l&3){case 0:x.mode=Mp;break;case 1:if(d6(x),x.mode=po,c===vo){l>>>=2,g-=2;break t}break;case 2:x.mode=Rp;break;case 3:e.msg="invalid block type",x.mode=Lt}l>>>=2,g-=2;break;case Mp:for(l>>>=g&7,g-=g&7;g<32;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",x.mode=Lt;break}if(x.length=l&65535,l=0,g=0,x.mode=bh,c===vo)break t;case bh:x.mode=Pp;case Pp:if(s=x.length,s){if(s>S&&(s=S),s>t&&(s=t),s===0)break t;P.set(w.subarray(F,F+s),p),S-=s,F+=s,t-=s,p+=s,x.length-=s;break}x.mode=Si;break;case Rp:for(;g<14;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}if(x.nlen=(l&31)+257,l>>>=5,g-=5,x.ndist=(l&31)+1,l>>>=5,g-=5,x.ncode=(l&15)+4,l>>>=4,g-=4,x.nlen>286||x.ndist>30){e.msg="too many length or distance symbols",x.mode=Lt;break}x.have=0,x.mode=Lp;case Lp:for(;x.have<x.ncode;){for(;g<3;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}x.lens[M[x.have++]]=l&7,l>>>=3,g-=3}for(;x.have<19;)x.lens[M[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,C={bits:x.lenbits},E=$s(e6,x.lens,0,19,x.lencode,0,x.work,C),x.lenbits=C.bits,E){e.msg="invalid code lengths set",x.mode=Lt;break}x.have=0,x.mode=Fp;case Fp:for(;x.have<x.nlen+x.ndist;){for(;u=x.lencode[l&(1<<x.lenbits)-1],n=u>>>24,o=u>>>16&255,f=u&65535,!(n<=g);){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}if(f<16)l>>>=n,g-=n,x.lens[x.have++]=f;else{if(f===16){for(A=n+2;g<A;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}if(l>>>=n,g-=n,x.have===0){e.msg="invalid bit length repeat",x.mode=Lt;break}T=x.lens[x.have-1],s=3+(l&3),l>>>=2,g-=2}else if(f===17){for(A=n+3;g<A;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}l>>>=n,g-=n,T=0,s=3+(l&7),l>>>=3,g-=3}else{for(A=n+7;g<A;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}l>>>=n,g-=n,T=0,s=11+(l&127),l>>>=7,g-=7}if(x.have+s>x.nlen+x.ndist){e.msg="invalid bit length repeat",x.mode=Lt;break}for(;s--;)x.lens[x.have++]=T}}if(x.mode===Lt)break;if(x.lens[256]===0){e.msg="invalid code -- missing end-of-block",x.mode=Lt;break}if(x.lenbits=9,C={bits:x.lenbits},E=$s(D1,x.lens,0,x.nlen,x.lencode,0,x.work,C),x.lenbits=C.bits,E){e.msg="invalid literal/lengths set",x.mode=Lt;break}if(x.distbits=6,x.distcode=x.distdyn,C={bits:x.distbits},E=$s(I1,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,C),x.distbits=C.bits,E){e.msg="invalid distances set",x.mode=Lt;break}if(x.mode=po,c===vo)break t;case po:x.mode=go;case go:if(S>=6&&t>=258){e.next_out=p,e.avail_out=t,e.next_in=F,e.avail_in=S,x.hold=l,x.bits=g,j3(e,a),p=e.next_out,P=e.output,t=e.avail_out,F=e.next_in,w=e.input,S=e.avail_in,l=x.hold,g=x.bits,x.mode===Si&&(x.back=-1);break}for(x.back=0;u=x.lencode[l&(1<<x.lenbits)-1],n=u>>>24,o=u>>>16&255,f=u&65535,!(n<=g);){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}if(o&&!(o&240)){for(d=n,v=o,m=f;u=x.lencode[m+((l&(1<<d+v)-1)>>d)],n=u>>>24,o=u>>>16&255,f=u&65535,!(d+n<=g);){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}l>>>=d,g-=d,x.back+=d}if(l>>>=n,g-=n,x.back+=n,x.length=f,o===0){x.mode=Bp;break}if(o&32){x.back=-1,x.mode=Si;break}if(o&64){e.msg="invalid literal/length code",x.mode=Lt;break}x.extra=o&15,x.mode=Op;case Op:if(x.extra){for(A=x.extra;g<A;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}x.length+=l&(1<<x.extra)-1,l>>>=x.extra,g-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=Dp;case Dp:for(;u=x.distcode[l&(1<<x.distbits)-1],n=u>>>24,o=u>>>16&255,f=u&65535,!(n<=g);){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}if(!(o&240)){for(d=n,v=o,m=f;u=x.distcode[m+((l&(1<<d+v)-1)>>d)],n=u>>>24,o=u>>>16&255,f=u&65535,!(d+n<=g);){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}l>>>=d,g-=d,x.back+=d}if(l>>>=n,g-=n,x.back+=n,o&64){e.msg="invalid distance code",x.mode=Lt;break}x.offset=f,x.extra=o&15,x.mode=Ip;case Ip:if(x.extra){for(A=x.extra;g<A;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}x.offset+=l&(1<<x.extra)-1,l>>>=x.extra,g-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){e.msg="invalid distance too far back",x.mode=Lt;break}x.mode=Np;case Np:if(t===0)break t;if(s=a-t,x.offset>s){if(s=x.offset-s,s>x.whave&&x.sane){e.msg="invalid distance too far back",x.mode=Lt;break}s>x.wnext?(s-=x.wnext,i=x.wsize-s):i=x.wnext-s,s>x.length&&(s=x.length),r=x.window}else r=P,i=p-x.offset,s=x.length;s>t&&(s=t),t-=s,x.length-=s;do P[p++]=r[i++];while(--s);x.length===0&&(x.mode=go);break;case Bp:if(t===0)break t;P[p++]=x.length,t--,x.mode=go;break;case Vh:if(x.wrap){for(;g<32;){if(S===0)break t;S--,l|=w[F++]<<g,g+=8}if(a-=t,e.total_out+=a,x.total+=a,x.wrap&4&&a&&(e.adler=x.check=x.flags?Jt(x.check,P,a,p-a):ya(x.check,P,a,p-a)),a=t,x.wrap&4&&(x.flags?l:Up(l))!==x.check){e.msg="incorrect data check",x.mode=Lt;break}l=0,g=0}x.mode=Gp;case Gp:if(x.wrap&&x.flags){for(;g<32;){if(S===0)break t;S--,l+=w[F++]<<g,g+=8}if(x.wrap&4&&l!==(x.total&4294967295)){e.msg="incorrect length check",x.mode=Lt;break}l=0,g=0}x.mode=zp;case zp:E=n6;break t;case Lt:E=N1;break t;case G1:return B1;case z1:default:return je}return e.next_out=p,e.avail_out=t,e.next_in=F,e.avail_in=S,x.hold=l,x.bits=g,(x.wsize||a!==e.avail_out&&x.mode<Lt&&(x.mode<Vh||c!==pp))&&Y1(e,e.output,e.next_out,a-e.avail_out),h-=e.avail_in,a-=e.avail_out,e.total_in+=h,e.total_out+=a,x.total+=a,x.wrap&4&&a&&(e.adler=x.check=x.flags?Jt(x.check,P,a,e.next_out-a):ya(x.check,P,a,e.next_out-a)),e.data_type=x.bits+(x.last?64:0)+(x.mode===Si?128:0)+(x.mode===po||x.mode===bh?256:0),(h===0&&a===0||c===pp)&&E===_n&&(E=s6),E},v6=e=>{if(sr(e))return je;let c=e.state;return c.window&&(c.window=null),e.state=null,_n},p6=(e,c)=>{if(sr(e))return je;const x=e.state;return x.wrap&2?(x.head=c,c.done=!1,_n):je},g6=(e,c)=>{const x=c.length;let w,P,F;return sr(e)||(w=e.state,w.wrap!==0&&w.mode!==vl)?je:w.mode===vl&&(P=1,P=ya(P,c,x,0),P!==w.check)?N1:(F=Y1(e,c,x,x),F?(w.mode=G1,B1):(w.havedict=1,_n))};var m6=b1,x6=V1,y6=U1,T6=f6,S6=X1,E6=c6,C6=v6,A6=p6,w6=g6,M6="pako inflate (from Nodeca project)",wi={inflateReset:m6,inflateReset2:x6,inflateResetKeep:y6,inflateInit:T6,inflateInit2:S6,inflate:E6,inflateEnd:C6,inflateGetHeader:A6,inflateSetDictionary:w6,inflateInfo:M6};function P6(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var R6=P6;const W1=Object.prototype.toString,{Z_NO_FLUSH:L6,Z_FINISH:F6,Z_OK:Ea,Z_STREAM_END:Wh,Z_NEED_DICT:Hh,Z_STREAM_ERROR:O6,Z_DATA_ERROR:Vp,Z_MEM_ERROR:D6}=rs;function za(e){this.options=Hl.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const c=this.options;c.raw&&c.windowBits>=0&&c.windowBits<16&&(c.windowBits=-c.windowBits,c.windowBits===0&&(c.windowBits=-15)),c.windowBits>=0&&c.windowBits<16&&!(e&&e.windowBits)&&(c.windowBits+=32),c.windowBits>15&&c.windowBits<48&&(c.windowBits&15||(c.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F1,this.strm.avail_out=0;let x=wi.inflateInit2(this.strm,c.windowBits);if(x!==Ea)throw new Error(Jn[x]);if(this.header=new R6,wi.inflateGetHeader(this.strm,this.header),c.dictionary&&(typeof c.dictionary=="string"?c.dictionary=Sa.string2buf(c.dictionary):W1.call(c.dictionary)==="[object ArrayBuffer]"&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(x=wi.inflateSetDictionary(this.strm,c.dictionary),x!==Ea)))throw new Error(Jn[x])}za.prototype.push=function(e,c){const x=this.strm,w=this.options.chunkSize,P=this.options.dictionary;let F,p,S;if(this.ended)return!1;for(c===~~c?p=c:p=c===!0?F6:L6,W1.call(e)==="[object ArrayBuffer]"?x.input=new Uint8Array(e):x.input=e,x.next_in=0,x.avail_in=x.input.length;;){for(x.avail_out===0&&(x.output=new Uint8Array(w),x.next_out=0,x.avail_out=w),F=wi.inflate(x,p),F===Hh&&P&&(F=wi.inflateSetDictionary(x,P),F===Ea?F=wi.inflate(x,p):F===Vp&&(F=Hh));x.avail_in>0&&F===Wh&&x.state.wrap>0&&e[x.next_in]!==0;)wi.inflateReset(x),F=wi.inflate(x,p);switch(F){case O6:case Vp:case Hh:case D6:return this.onEnd(F),this.ended=!0,!1}if(S=x.avail_out,x.next_out&&(x.avail_out===0||F===Wh))if(this.options.to==="string"){let t=Sa.utf8border(x.output,x.next_out),l=x.next_out-t,g=Sa.buf2string(x.output,t);x.next_out=l,x.avail_out=w-l,l&&x.output.set(x.output.subarray(t,t+l),0),this.onData(g)}else this.onData(x.output.length===x.next_out?x.output:x.output.subarray(0,x.next_out));if(!(F===Ea&&S===0)){if(F===Wh)return F=wi.inflateEnd(this.strm),this.onEnd(F),this.ended=!0,!0;if(x.avail_in===0)break}}return!0};za.prototype.onData=function(e){this.chunks.push(e)};za.prototype.onEnd=function(e){e===Ea&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Hl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Hd(e,c){const x=new za(c);if(x.push(e),x.err)throw x.msg||Jn[x.err];return x.result}function I6(e,c){return c=c||{},c.raw=!0,Hd(e,c)}var N6=za,B6=Hd,G6=I6,z6=Hd,U6=rs,b6={Inflate:N6,inflate:B6,inflateRaw:G6,ungzip:z6,constants:U6};const{Deflate:Vw,deflate:Xw,deflateRaw:Yw,gzip:V6}=K3,{Inflate:Ww,inflate:Hw,inflateRaw:$w,ungzip:X6}=b6;var Y6=V6,W6=X6,se=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},ve={searchParams:"URLSearchParams"in se,iterable:"Symbol"in se&&"iterator"in Symbol,blob:"FileReader"in se&&"Blob"in se&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in se,arrayBuffer:"ArrayBuffer"in se};function H6(e){return e&&DataView.prototype.isPrototypeOf(e)}if(ve.arrayBuffer)var $6=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Z6=ArrayBuffer.isView||function(e){return e&&$6.indexOf(Object.prototype.toString.call(e))>-1};function os(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function $d(e){return typeof e!="string"&&(e=String(e)),e}function Zd(e){var c={next:function(){var x=e.shift();return{done:x===void 0,value:x}}};return ve.iterable&&(c[Symbol.iterator]=function(){return c}),c}function Kt(e){this.map={},e instanceof Kt?e.forEach(function(c,x){this.append(x,c)},this):Array.isArray(e)?e.forEach(function(c){if(c.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+c.length);this.append(c[0],c[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(c){this.append(c,e[c])},this)}Kt.prototype.append=function(e,c){e=os(e),c=$d(c);var x=this.map[e];this.map[e]=x?x+", "+c:c};Kt.prototype.delete=function(e){delete this.map[os(e)]};Kt.prototype.get=function(e){return e=os(e),this.has(e)?this.map[e]:null};Kt.prototype.has=function(e){return this.map.hasOwnProperty(os(e))};Kt.prototype.set=function(e,c){this.map[os(e)]=$d(c)};Kt.prototype.forEach=function(e,c){for(var x in this.map)this.map.hasOwnProperty(x)&&e.call(c,this.map[x],x,this)};Kt.prototype.keys=function(){var e=[];return this.forEach(function(c,x){e.push(x)}),Zd(e)};Kt.prototype.values=function(){var e=[];return this.forEach(function(c){e.push(c)}),Zd(e)};Kt.prototype.entries=function(){var e=[];return this.forEach(function(c,x){e.push([x,c])}),Zd(e)};ve.iterable&&(Kt.prototype[Symbol.iterator]=Kt.prototype.entries);function $h(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function H1(e){return new Promise(function(c,x){e.onload=function(){c(e.result)},e.onerror=function(){x(e.error)}})}function K6(e){var c=new FileReader,x=H1(c);return c.readAsArrayBuffer(e),x}function k6(e){var c=new FileReader,x=H1(c),w=/charset=([A-Za-z0-9_-]+)/.exec(e.type),P=w?w[1]:"utf-8";return c.readAsText(e,P),x}function j6(e){for(var c=new Uint8Array(e),x=new Array(c.length),w=0;w<c.length;w++)x[w]=String.fromCharCode(c[w]);return x.join("")}function Xp(e){if(e.slice)return e.slice(0);var c=new Uint8Array(e.byteLength);return c.set(new Uint8Array(e)),c.buffer}function $1(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:ve.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:ve.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:ve.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():ve.arrayBuffer&&ve.blob&&H6(e)?(this._bodyArrayBuffer=Xp(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ve.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Z6(e))?this._bodyArrayBuffer=Xp(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ve.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ve.blob&&(this.blob=function(){var e=$h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=$h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(ve.blob)return this.blob().then(K6);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var e=$h(this);if(e)return e;if(this._bodyBlob)return k6(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j6(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ve.formData&&(this.formData=function(){return this.text().then(q6)}),this.json=function(){return this.text().then(JSON.parse)},this}var Q6=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function J6(e){var c=e.toUpperCase();return Q6.indexOf(c)>-1?c:e}function tr(e,c){if(!(this instanceof tr))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');c=c||{};var x=c.body;if(e instanceof tr){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,c.headers||(this.headers=new Kt(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!x&&e._bodyInit!=null&&(x=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=c.credentials||this.credentials||"same-origin",(c.headers||!this.headers)&&(this.headers=new Kt(c.headers)),this.method=J6(c.method||this.method||"GET"),this.mode=c.mode||this.mode||null,this.signal=c.signal||this.signal||function(){if("AbortController"in se){var F=new AbortController;return F.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&x)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(x),(this.method==="GET"||this.method==="HEAD")&&(c.cache==="no-store"||c.cache==="no-cache")){var w=/([?&])_=[^&]*/;if(w.test(this.url))this.url=this.url.replace(w,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}tr.prototype.clone=function(){return new tr(this,{body:this._bodyInit})};function q6(e){var c=new FormData;return e.trim().split("&").forEach(function(x){if(x){var w=x.split("="),P=w.shift().replace(/\+/g," "),F=w.join("=").replace(/\+/g," ");c.append(decodeURIComponent(P),decodeURIComponent(F))}}),c}function _6(e){var c=new Kt,x=e.replace(/\r?\n[\t ]+/g," ");return x.split("\r").map(function(w){return w.indexOf(`
`)===0?w.substr(1,w.length):w}).forEach(function(w){var P=w.split(":"),F=P.shift().trim();if(F){var p=P.join(":").trim();try{c.append(F,p)}catch(S){console.warn("Response "+S.message)}}}),c}$1.call(tr.prototype);function Ti(e,c){if(!(this instanceof Ti))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(c||(c={}),this.type="default",this.status=c.status===void 0?200:c.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=c.statusText===void 0?"":""+c.statusText,this.headers=new Kt(c.headers),this.url=c.url||"",this._initBody(e)}$1.call(Ti.prototype);Ti.prototype.clone=function(){return new Ti(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Kt(this.headers),url:this.url})};Ti.error=function(){var e=new Ti(null,{status:200,statusText:""});return e.status=0,e.type="error",e};var t5=[301,302,303,307,308];Ti.redirect=function(e,c){if(t5.indexOf(c)===-1)throw new RangeError("Invalid status code");return new Ti(null,{status:c,headers:{location:e}})};var Nn=se.DOMException;try{new Nn}catch{Nn=function(c,x){this.message=c,this.name=x;var w=Error(c);this.stack=w.stack},Nn.prototype=Object.create(Error.prototype),Nn.prototype.constructor=Nn}function Z1(e,c){return new Promise(function(x,w){var P=new tr(e,c);if(P.signal&&P.signal.aborted)return w(new Nn("Aborted","AbortError"));var F=new XMLHttpRequest;function p(){F.abort()}F.onload=function(){var l={statusText:F.statusText,headers:_6(F.getAllResponseHeaders()||"")};P.url.startsWith("file://")&&(F.status<200||F.status>599)?l.status=200:l.status=F.status,l.url="responseURL"in F?F.responseURL:l.headers.get("X-Request-URL");var g="response"in F?F.response:F.responseText;setTimeout(function(){x(new Ti(g,l))},0)},F.onerror=function(){setTimeout(function(){w(new TypeError("Network request failed"))},0)},F.ontimeout=function(){setTimeout(function(){w(new TypeError("Network request timed out"))},0)},F.onabort=function(){setTimeout(function(){w(new Nn("Aborted","AbortError"))},0)};function S(l){try{return l===""&&se.location.href?se.location.href:l}catch{return l}}if(F.open(P.method,S(P.url),!0),P.credentials==="include"?F.withCredentials=!0:P.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&(ve.blob?F.responseType="blob":ve.arrayBuffer&&(F.responseType="arraybuffer")),c&&typeof c.headers=="object"&&!(c.headers instanceof Kt||se.Headers&&c.headers instanceof se.Headers)){var t=[];Object.getOwnPropertyNames(c.headers).forEach(function(l){t.push(os(l)),F.setRequestHeader(l,$d(c.headers[l]))}),P.headers.forEach(function(l,g){t.indexOf(g)===-1&&F.setRequestHeader(g,l)})}else P.headers.forEach(function(l,g){F.setRequestHeader(g,l)});P.signal&&(P.signal.addEventListener("abort",p),F.onreadystatechange=function(){F.readyState===4&&P.signal.removeEventListener("abort",p)}),F.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}Z1.polyfill=!0;se.fetch||(se.fetch=Z1,se.Headers=Kt,se.Request=tr,se.Response=Ti);var e5=self.fetch.bind(self);const i5=Ff(e5);var K1={exports:{}};(function(e){(function(c,x,w){e.exports?e.exports=w():x[c]=w()})("urljoin",l0,function(){function c(x){var w=[];if(x.length===0)return"";if(typeof x[0]!="string")throw new TypeError("Url must be a string. Received "+x[0]);if(x[0].match(/^[^/:]+:\/*$/)&&x.length>1){var P=x.shift();x[0]=P+x[0]}x[0].match(/^file:\/\/\//)?x[0]=x[0].replace(/^([^/:]+):\/*/,"$1:///"):x[0]=x[0].replace(/^([^/:]+):\/*/,"$1://");for(var F=0;F<x.length;F++){var p=x[F];if(typeof p!="string")throw new TypeError("Url must be a string. Received "+p);p!==""&&(F>0&&(p=p.replace(/^[\/]+/,"")),F<x.length-1?p=p.replace(/[\/]+$/,""):p=p.replace(/[\/]+$/,"/"),w.push(p))}var S=w.join("/");S=S.replace(/\/(\?|&|#[^!])/g,"$1");var t=S.split("?");return S=t.shift()+(t.length>0?"?":"")+t.join("&"),S}return function(){var x;return typeof arguments[0]=="object"?x=arguments[0]:x=[].slice.call(arguments),c(x)}})})(K1);var n5=K1.exports;const k1=Ff(n5);var r5=Object.defineProperty,kt=(e,c)=>{for(var x in c)r5(e,x,{get:c[x],enumerable:!0})},s5={};kt(s5,{API_VERSION:()=>ax,BN_FEE_TRANSACTION_VERSION_1:()=>nx,BN_FEE_TRANSACTION_VERSION_2:()=>rx,BN_TRANSACTION_VERSION_1:()=>Qd,BN_TRANSACTION_VERSION_2:()=>Jd,BaseUrl:()=>ox,HEX_STR_TRANSACTION_VERSION_1:()=>ex,HEX_STR_TRANSACTION_VERSION_2:()=>ix,IS_BROWSER:()=>Zl,MASK_250:()=>sx,MASK_251:()=>u5,NetworkName:()=>lx,StarknetChainId:()=>hx,TEXT_TO_FELT_MAX_LEN:()=>jd,TransactionHashPrefix:()=>ux,UDC:()=>f5,ZERO:()=>Zs});var a5={};kt(a5,{IS_BROWSER:()=>Zl,addHexPrefix:()=>Se,arrayBufferToString:()=>kd,atobUniversal:()=>Q1,btoaUniversal:()=>J1,buf2hex:()=>o5,calcByteLength:()=>_1,padLeft:()=>q1,pascalToSnake:()=>vf,removeHexPrefix:()=>ls,sanitizeBytes:()=>tx,sanitizeHex:()=>h5,stringToArrayBuffer:()=>j1,utf8ToArray:()=>Ua});var Zl=typeof window<"u",Kd="0";function kd(e){return new Uint8Array(e).reduce((c,x)=>c+String.fromCharCode(x),"")}function j1(e){return Uint8Array.from(e,c=>c.charCodeAt(0))}function Q1(e){return Zl?j1(atob(e)):Buffer.from(e,"base64")}function J1(e){return Zl?btoa(kd(e)):Buffer.from(e).toString("base64")}function o5(e){return[...e].map(c=>c.toString(16).padStart(2,"0")).join("")}function ls(e){return e.replace(/^0x/i,"")}function Se(e){return`0x${ls(e)}`}function l5(e,c,x,w=Kd){const P=c-e.length;let F=e;if(P>0){const p=w.repeat(P);F=x?p+e:e+p}return F}function q1(e,c,x=Kd){return l5(e,c,!0,x)}function _1(e,c=8){const{length:x}=e,w=x%c;return w?(x-w)/c*c+c:x}function tx(e,c=8,x=Kd){return q1(e,_1(e,c),x)}function h5(e){return e=ls(e),e=tx(e,2),e&&(e=Se(e)),e}function Ua(e){return new TextEncoder().encode(e)}var vf=e=>/[a-z]/.test(e)?e.split(/(?=[A-Z])/).join("_").toUpperCase():e,jd=31,ex="0x1",ix="0x2",Qd=1n,Jd=2n,nx=2n**128n+Qd,rx=2n**128n+Jd,Zs=0n,sx=2n**250n-1n,u5=2n**251n,ax=Zs,ox=(e=>(e.SN_MAIN="https://alpha-mainnet.starknet.io",e.SN_GOERLI="https://alpha4.starknet.io",e))(ox||{}),lx=(e=>(e.SN_MAIN="SN_MAIN",e.SN_GOERLI="SN_GOERLI",e))(lx||{}),hx=(e=>(e.SN_MAIN="0x534e5f4d41494e",e.SN_GOERLI="0x534e5f474f45524c49",e))(hx||{}),ux=(e=>(e.DECLARE="0x6465636c617265",e.DEPLOY="0x6465706c6f79",e.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",e.INVOKE="0x696e766f6b65",e.L1_HANDLER="0x6c315f68616e646c6572",e))(ux||{}),f5={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},d5={};kt(d5,{BlockStatus:()=>xx,BlockTag:()=>tc,EntryPointType:()=>cx,Litteral:()=>_d,RPC:()=>Bn,SIMULATION_FLAG:()=>fx,Sequencer:()=>v5,TransactionExecutionStatus:()=>mx,TransactionFinalityStatus:()=>gx,TransactionStatus:()=>px,TransactionType:()=>vx,Uint:()=>qd,ValidateType:()=>dx});var fx=(e=>(e.SKIP_VALIDATE="SKIP_VALIDATE",e.SKIP_EXECUTE="SKIP_EXECUTE",e))(fx||{}),dx=(e=>(e.DEPLOY="DEPLOY",e.CALL="CALL",e.INVOKE="INVOKE",e))(dx||{}),qd=(e=>(e.u8="core::integer::u8",e.u16="core::integer::u16",e.u32="core::integer::u32",e.u64="core::integer::u64",e.u128="core::integer::u128",e.u256="core::integer::u256",e))(qd||{}),_d=(e=>(e.ClassHash="core::starknet::class_hash::ClassHash",e.ContractAddress="core::starknet::contract_address::ContractAddress",e))(_d||{}),cx=(e=>(e.EXTERNAL="EXTERNAL",e.L1_HANDLER="L1_HANDLER",e.CONSTRUCTOR="CONSTRUCTOR",e))(cx||{}),vx=(e=>(e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",e.INVOKE="INVOKE_FUNCTION",e))(vx||{}),px=(e=>(e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.REJECTED="REJECTED",e.REVERTED="REVERTED",e))(px||{}),gx=(e=>(e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(gx||{}),mx=(e=>(e.REJECTED="REJECTED",e.REVERTED="REVERTED",e.SUCCEEDED="SUCCEEDED",e))(mx||{}),xx=(e=>(e.PENDING="PENDING",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.REJECTED="REJECTED",e))(xx||{}),tc=(e=>(e.pending="pending",e.latest="latest",e))(tc||{}),Bn={};kt(Bn,{SimulationFlag:()=>pf,TransactionExecutionStatus:()=>mf,TransactionFinalityStatus:()=>gf,TransactionType:()=>c5});var yx=(e=>(e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",e.INVOKE="INVOKE",e.L1_HANDLER="L1_HANDLER",e))(yx||{}),Tx=(e=>(e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(Tx||{}),Sx=(e=>(e.SUCCEEDED="SUCCEEDED",e.REVERTED="REVERTED",e))(Sx||{}),Ex=(e=>(e.SKIP_VALIDATE="SKIP_VALIDATE",e.SKIP_FEE_CHARGE="SKIP_FEE_CHARGE",e))(Ex||{}),c5=yx,pf=Ex,gf=Tx,mf=Sx,v5={};function Gt(e,c){if(!e)throw new Error(c||"Assertion failure")}var Cx={};kt(Cx,{assertInRange:()=>g5,bigNumberishArrayToDecimalStringArray:()=>Mx,bigNumberishArrayToHexadecimalStringArray:()=>Px,cleanHex:()=>p5,getDecimalString:()=>Rx,getHexString:()=>ic,getHexStringArray:()=>Lx,hexToBytes:()=>Fx,hexToDecimalString:()=>wx,isBigInt:()=>Kl,isHex:()=>si,isStringWholeNumber:()=>hs,toBigInt:()=>gt,toCairoBool:()=>m5,toHex:()=>ut,toHexString:()=>ec,toStorageKey:()=>Ax});function si(e){return/^0x[0-9a-f]*$/i.test(e)}function gt(e){return BigInt(e)}function Kl(e){return typeof e=="bigint"}function ut(e){return Se(gt(e).toString(16))}var ec=ut;function Ax(e){return Se(gt(e).toString(16).padStart(64,"0"))}function wx(e){return BigInt(Se(e)).toString(10)}var p5=e=>e.toLowerCase().replace(/^(0x)0+/,"$1");function g5(e,c,x,w=""){const P=w===""?"invalid length":`invalid ${w} length`,F=BigInt(e),p=BigInt(c),S=BigInt(x);Gt(F>=p&&F<=S,`Message not signable, ${P}.`)}function Mx(e){return e.map(c=>gt(c).toString(10))}function Px(e){return e.map(c=>ut(c))}var hs=e=>/^\d+$/.test(e);function Rx(e){if(si(e))return wx(e);if(hs(e))return e;throw new Error(`${e} need to be hex-string or whole-number-string`)}function ic(e){if(si(e))return e;if(hs(e))return ec(e);throw new Error(`${e} need to be hex-string or whole-number-string`)}function Lx(e){return e.map(c=>ic(c))}var m5=e=>(+e).toString();function Fx(e){if(!si(e))throw new Error(`${e} need to be a hex-string`);let c=ls(e);return c.length%2!==0&&(c=`0${c}`),vn(c)}var Ox={};kt(Ox,{getSelector:()=>rc,getSelectorFromName:()=>ai,keccakBn:()=>Dx,starknetKeccak:()=>nc});function Dx(e){const c=ls(ut(BigInt(e))),x=c.length%2===0?c:`0${c}`;return Se(is(Fx(Se(x))).toString(16))}function x5(e){return Se(is(Ua(e)).toString(16))}function nc(e){return BigInt(x5(e))&sx}function ai(e){return ut(nc(e))}function rc(e){return si(e)?e:hs(e)?ec(e):ai(e)}var y5={};kt(y5,{decodeShortString:()=>lc,encodeShortString:()=>Cn,isASCII:()=>sc,isDecimalString:()=>Ix,isLongText:()=>ac,isShortString:()=>ba,isShortText:()=>T5,isText:()=>Va,splitLongString:()=>oc});function sc(e){return/^[\x00-\x7F]*$/.test(e)}function ba(e){return e.length<=jd}function Ix(e){return/^[0-9]*$/i.test(e)}function Va(e){return typeof e=="string"&&!si(e)&&!hs(e)}var T5=e=>Va(e)&&ba(e),ac=e=>Va(e)&&!ba(e);function oc(e){const c=RegExp(`[^]{1,${jd}}`,"g");return e.match(c)||[]}function Cn(e){if(!sc(e))throw new Error(`${e} is not an ASCII string`);if(!ba(e))throw new Error(`${e} is too long`);return Se(e.replace(/./g,c=>c.charCodeAt(0).toString(16)))}function lc(e){if(!sc(e))throw new Error(`${e} is not an ASCII string`);if(si(e))return ls(e).replace(/.{2}/g,c=>String.fromCharCode(parseInt(c,16)));if(Ix(e))return lc("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}var S5={};kt(S5,{felt:()=>Pe,getAbiContractVersion:()=>ql,getArrayType:()=>Qr,isCairo1Abi:()=>zx,isCairo1Type:()=>xn,isLen:()=>er,isTypeArray:()=>gn,isTypeBool:()=>Jl,isTypeContractAddress:()=>A5,isTypeEnum:()=>ar,isTypeEthAddress:()=>Gx,isTypeFelt:()=>pl,isTypeLitteral:()=>dc,isTypeNamedTuple:()=>Bx,isTypeOption:()=>jl,isTypeResult:()=>Ql,isTypeStruct:()=>Xa,isTypeTuple:()=>An,isTypeUint:()=>fc,isTypeUint256:()=>mn,tuple:()=>w5,uint256:()=>cc});var E5={};kt(E5,{UINT_128_MAX:()=>hc,UINT_256_MAX:()=>Nx,bnToUint256:()=>C5,isUint256:()=>uc,uint256ToBN:()=>kl});var hc=(1n<<128n)-1n,Nx=(1n<<256n)-1n;function kl(e){return(gt(e.high)<<128n)+gt(e.low)}function uc(e){return gt(e)<=Nx}function C5(e){const c=gt(e);if(!uc(c))throw new Error("Number is too large");return{low:Se((c&hc).toString(16)),high:Se((c>>128n).toString(16))}}var er=e=>/_len$/.test(e),pl=e=>e==="felt"||e==="core::felt252",gn=e=>/\*/.test(e)||e.startsWith("core::array::Array::")||e.startsWith("core::array::Span::"),An=e=>/^\(.*\)$/i.test(e),Bx=e=>/\(.*\)/i.test(e)&&e.includes(":"),Xa=(e,c)=>e in c,ar=(e,c)=>e in c,jl=e=>e.startsWith("core::option::Option::"),Ql=e=>e.startsWith("core::result::Result::"),fc=e=>Object.values(qd).includes(e),dc=e=>Object.values(_d).includes(e),mn=e=>e==="core::integer::u256",Jl=e=>e==="core::bool",A5=e=>e==="core::starknet::contract_address::ContractAddress",Gx=e=>e==="core::starknet::eth_address::EthAddress",xn=e=>e.includes("::"),Qr=e=>xn(e)?e.substring(e.indexOf("<")+1,e.lastIndexOf(">")):e.replace("*","");function zx(e){const{cairo:c}=ql(e);if(c===void 0)throw Error("Unable to determine Cairo version");return c==="1"}function ql(e){if(e.find(w=>w.type==="interface"))return{cairo:"1",compiler:"2"};const c=e.find(w=>w.type==="function"&&(w.inputs.length||w.outputs.length));if(!c)return{cairo:void 0,compiler:void 0};const x=c.inputs.length?c.inputs:c.outputs;return xn(x[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}var cc=e=>{const c=BigInt(e);if(!uc(c))throw new Error("Number is too large");return{low:(c&hc).toString(10),high:(c>>128n).toString(10)}},w5=(...e)=>({...e});function Pe(e){if(Kl(e)||typeof e=="number"&&Number.isInteger(e))return e.toString();if(Va(e)){if(!ba(e))throw new Error(`${e} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);const c=Cn(e);return BigInt(c).toString()}if(typeof e=="string"&&si(e))return BigInt(e).toString();if(typeof e=="string"&&hs(e))return e;if(typeof e=="boolean")return`${+e}`;throw new Error(`${e} can't be computed by felt()`)}var Ux=class{constructor(e){const c=Object.values(e);if(c.length===0)throw new Error("This Enum must have a least 1 variant");if(c.filter(w=>typeof w<"u").length!==1)throw new Error("This Enum must have exactly one active variant");this.variant=e}unwrap(){const c=Object.entries(this.variant).find(x=>typeof x[1]<"u");if(!(typeof c>"u"))return c[1]}activeVariant(){const c=Object.entries(this.variant).find(x=>typeof x[1]<"u");return typeof c>"u"?"":c[0]}},bx=(e=>(e[e.Some=0]="Some",e[e.None=1]="None",e))(bx||{}),xf=class{constructor(e,c){if(!(e in bx))throw new Error("Wrong variant : should be CairoOptionVariant.Some or .None.");if(e===0){if(typeof c>"u")throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=c,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){if(!this.None)return this.Some}isSome(){return!(typeof this.Some>"u")}isNone(){return this.None===!0}},Vx=(e=>(e[e.Ok=0]="Ok",e[e.Err=1]="Err",e))(Vx||{}),yf=class{constructor(e,c){if(!(e in Vx))throw new Error("Wrong variant : should be CairoResultVariant.Ok or .Err.");e===0?(this.Ok=c,this.Err=void 0):(this.Ok=void 0,this.Err=c)}unwrap(){if(typeof this.Ok<"u")return this.Ok;if(typeof this.Err<"u")return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!(typeof this.Ok>"u")}isErr(){return!(typeof this.Err>"u")}},Zh={isBN:(e,c,x)=>{if(!Kl(e[x]))throw new Error(`Data and formatter mismatch on ${x}:${c[x]}, expected response data ${x}:${e[x]} to be BN instead it is ${typeof e[x]}`)},unknown:(e,c,x)=>{throw new Error(`Unhandled formatter type on ${x}:${c[x]} for data ${x}:${e[x]}`)}};function Bo(e,c,x){return Object.entries(e).reduce((w,[P,F])=>{const p=x??c[P];if(!(P in c)&&!x)return w[P]=F,w;if(p==="string"){if(Array.isArray(e[P])){const S=Bo(e[P],e[P].map(t=>p));return w[P]=Object.values(S).join(""),w}return Zh.isBN(e,c,P),w[P]=lc(F),w}if(p==="number")return Zh.isBN(e,c,P),w[P]=Number(F),w;if(typeof p=="function")return w[P]=p(F),w;if(Array.isArray(p)){const S=Bo(e[P],p,p[0]);return w[P]=Object.values(S),w}return typeof p=="object"?(w[P]=Bo(e[P],p),w):(Zh.unknown(e,c,P),w)},{})}var M5=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.reduce((c,x)=>er(x.name)?c:c+1,0)}getMethod(e){return this.abi.find(c=>c.name===e)}getLegacyFormat(){return this.abi}},P5=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.length}getMethod(e){return this.abi.find(x=>x.type==="interface").items.find(x=>x.name===e)}getLegacyFormat(){return this.abi.flatMap(e=>e.type==="interface"?e.items:e)}};function R5(e){const c=L5(e);if(c===0||c===1)return new M5(e);if(c===2)return new P5(e);throw Error(`Unsupported ABI version ${c}`)}function L5(e){return e.find(c=>c.type==="interface")?2:zx(e)?1:0}function Yp(e,c,x){return e==="constructor"&&!x&&!c.length}function F5(e){const c=e.substring(0,e.indexOf(":")),x=e.substring(c.length+1);return{name:c,type:x}}function Xx(e){if(!e.includes("("))return{subTuple:[],result:e};const c=[];let x="",w=0;for(;w<e.length;){if(e[w]==="("){let P=1;const F=w;for(w++;P;)e[w]===")"&&P--,e[w]==="("&&P++,w++;c.push(e.substring(F,w)),x+=" ",w--}else x+=e[w];w++}return{subTuple:c,result:x}}function O5(e){const c=e.replace(/\s/g,"").slice(1,-1),{subTuple:x,result:w}=Xx(c);let P=w.split(",").map(F=>x.length?F.replace(" ",x.shift()):F);return Bx(e)&&(P=P.reduce((F,p)=>F.concat(F5(p)),[])),P}function D5(e){const c=e.replace(/\s/g,"").slice(1,-1),{subTuple:x,result:w}=Xx(c);return w.split(",").map(F=>x.length?F.replace(" ",x.shift()):F)}function vc(e){return xn(e)?D5(e):O5(e)}function I5(e){return Error(`Your object includes the property : ${e}, containing an Uint256 object without the 'low' and 'high' keys.`)}function N5(e,c,x,w){const P=(g,h)=>{if(gn(h))return p(g,h);if(ar(h,w)){const a=w[h];return t(g,a)}if(An(h))return S(g,h);if(Gx(h))return g;if(mn(h)){const a=g;if(typeof a!="object")return a;if(!("low"in a&&"high"in a))throw I5(h);return{low:a.low,high:a.high}}if(Xa(h,x)){const a=x[h].members;return F(g,a)}return g},F=(g,h)=>h.reduce((s,i)=>{const r=u=>Object.defineProperty(s,i.name,{enumerable:!0,value:u??g[i.name]});if(g[i.name]==="undefined"&&(xn(i.type)||!er(i.name)))throw Error(`Your object needs a property with key : ${i.name} .`);return r(P(g[i.name],i.type)),s},{});function p(g,h){const a=Qr(h);return typeof g=="string"?g:g.map(s=>P(s,a))}function S(g,h){return vc(h).reduce((i,r,u)=>{const n=Object.keys(g),o=d=>Object.defineProperty(i,u.toString(),{enumerable:!0,value:d??g[n[u]]}),f=r!=null&&r.type?r.type:r;return o(P(g[n[u]],f)),i},{})}const t=(g,h)=>{if(Ql(h.name)){const r=g,u=h.name.substring(h.name.indexOf("<")+1,h.name.lastIndexOf(",")),n=h.name.substring(h.name.indexOf(",")+1,h.name.lastIndexOf(">"));return r.isOk()?new yf(0,P(g.unwrap(),u)):new yf(1,P(g.unwrap(),n))}if(jl(h.name)){const r=g,u=h.name.substring(h.name.indexOf("<")+1,h.name.lastIndexOf(">"));return r.isSome()?new xf(0,P(r.unwrap(),u)):new xf(1,{})}const a=g,i=Object.entries(a.variant).map(r=>{if(typeof r[1]>"u")return r;const u=h.type.substring(h.type.lastIndexOf("<")+1,h.type.lastIndexOf(">"));return u==="()"?r:[r[0],P(a.unwrap(),u)]});return new Ux(Object.fromEntries(i))};return c.reduce((g,h)=>{const a=s=>Object.defineProperty(g,h.name,{enumerable:!0,value:s});return er(h.name)&&!xn(h.type)||a(P(e[h.name],h.type)),g},{})}function gl(e,c){switch(!0){case mn(e):const x=cc(c);return[Pe(x.low),Pe(x.high)];default:return Pe(c)}}function B5(e,c){const x=vc(c),w=Object.values(e);if(w.length!==x.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${w} 
      expected: ${x}`);return x.map((P,F)=>({element:w[F],type:P.type??P}))}function Wp(e){if(typeof e=="object"){const{low:x,high:w}=e;return[Pe(x),Pe(w)]}const c=cc(e);return[Pe(c.low),Pe(c.high)]}function fi(e,c,x,w){if(e===void 0)throw Error(`Missing parameter for type ${c}`);if(Array.isArray(e)){const P=[];P.push(Pe(e.length));const F=Qr(c);return e.reduce((p,S)=>p.concat(fi(S,F,x,w)),P)}if(x[c]&&x[c].members.length){if(mn(c))return Wp(e);if(c==="core::starknet::eth_address::EthAddress")return gl(c,e);const{members:P}=x[c],F=e;return P.reduce((p,S)=>p.concat(fi(F[S.name],S.type,x,w)),[])}if(An(c))return B5(e,c).reduce((F,p)=>{const S=fi(p.element,p.type,x,w);return F.concat(S)},[]);if(mn(c))return Wp(e);if(ar(c,w)){const{variants:P}=w[c];if(jl(c)){const h=e;if(h.isSome()){const a=P.find(r=>r.name==="Some");if(typeof a>"u")throw Error("Error in abi : Option has no 'Some' variant.");const s=a.type;if(s==="()")return 0 .toString();const i=fi(h.unwrap(),s,x,w);return Array.isArray(i)?[0 .toString(),...i]:[0 .toString(),i]}return 1 .toString()}if(Ql(c)){const h=e;if(h.isOk()){const r=P.find(o=>o.name==="Ok");if(typeof r>"u")throw Error("Error in abi : Result has no 'Ok' variant.");const u=r.type;if(u==="()")return 0 .toString();const n=fi(h.unwrap(),u,x,w);return Array.isArray(n)?[0 .toString(),...n]:[0 .toString(),n]}const a=P.find(r=>r.name==="Err");if(typeof a>"u")throw Error("Error in abi : Result has no 'Err' variant.");const s=a.type;if(s==="()")return 1 .toString();const i=fi(h.unwrap(),s,x,w);return Array.isArray(i)?[1 .toString(),...i]:[1 .toString(),i]}const F=e,p=F.activeVariant(),S=P.find(h=>h.name===p);if(typeof S>"u")throw Error(`Not find in abi : Enum has no '${p}' variant.`);const t=S.type,l=P.findIndex(h=>h.name===p);if(t==="()")return l.toString();const g=fi(F.unwrap(),t,x,w);return Array.isArray(g)?[l.toString(),...g]:[l.toString(),g]}if(typeof e=="object")throw Error(`Parameter ${e} do not align with abi parameter ${c}`);return gl(c,e)}function G5(e,c,x,w){const{name:P,type:F}=c;let{value:p}=e.next();switch(!0){case gn(F):if(!Array.isArray(p)&&!Va(p))throw Error(`ABI expected parameter ${P} to be array or long string, got ${p}`);return typeof p=="string"&&(p=oc(p)),fi(p,c.type,x,w);case F==="core::starknet::eth_address::EthAddress":return gl(F,p);case(Xa(F,x)||An(F)||mn(F)):return fi(p,F,x,w);case ar(F,w):return fi(p,F,x,w);default:return gl(F,p)}}function Tf(e,c){let x;switch(!0){case Jl(e):return x=c.next().value,!!BigInt(x);case mn(e):const w=c.next().value,P=c.next().value;return kl({low:w,high:P});case e==="core::starknet::eth_address::EthAddress":return x=c.next().value,BigInt(x);default:return x=c.next().value,BigInt(x)}}function Pi(e,c,x,w){if(c.type==="()")return{};if(mn(c.type)){const P=e.next().value,F=e.next().value;return kl({low:P,high:F})}if(gn(c.type)){const P=[],F={name:"",type:Qr(c.type)},p=BigInt(e.next().value);for(;P.length<p;)P.push(Pi(e,F,x,w));return P}if(x&&c.type in x&&x[c.type])return c.type==="core::starknet::eth_address::EthAddress"?Tf(c.type,e):x[c.type].members.reduce((P,F)=>(P[F.name]=Pi(e,F,x,w),P),{});if(w&&c.type in w&&w[c.type]){const P=Number(e.next().value),F=w[c.type].variants.reduce((S,t,l)=>l===P?(S[t.name]=Pi(e,{name:"",type:t.type},x,w),S):(S[t.name]=void 0,S),{});if(c.type.startsWith("core::option::Option")){const S=P===0?F.Some:void 0;return new xf(P,S)}if(c.type.startsWith("core::result::Result")){let S;return P===0?S=F.Ok:S=F.Err,new yf(P,S)}return new Ux(F)}if(An(c.type))return vc(c.type).reduce((F,p,S)=>{const t=p!=null&&p.name?p.name:S,l=p!=null&&p.type?p.type:p,g={name:t,type:l};return F[t]=Pi(e,g,x,w),F},{});if(gn(c.type)){const P=[],F={name:"",type:Qr(c.type)},p=BigInt(e.next().value);for(;P.length<p;)P.push(Pi(e,F,x,w));return P}return Tf(c.type,e)}function Sf(e,c,x,w,P){const{name:F,type:p}=c;let S;switch(!0){case er(F):return S=e.next().value,BigInt(S);case(x&&p in x||An(p)):return Pi(e,c,x,w);case(w&&ar(p,w)):return Pi(e,c,x,w);case gn(p):if(xn(p))return Pi(e,c,x,w);const t=[];if(P&&P[`${F}_len`]){const l=P[`${F}_len`];for(;t.length<l;)t.push(Pi(e,{name:F,type:c.type.replace("*","")},x,w))}return t;default:return Tf(p,e)}}var Yx=(e,c)=>{if(Gt(typeof e=="string"||typeof e=="number"||typeof e=="bigint",`Validate: arg ${c.name} should be a felt typed as (String, Number or BigInt)`),typeof e=="string"&&!si(e))return;const x=BigInt(e.toString(10));Gt(x>=0n&&x<=2n**252n-1n,`Validate: arg ${c.name} cairo typed ${c.type} should be in range [0, 2^252-1]`)},pc=(e,c)=>{typeof e=="number"&&Gt(e<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is to large to be typed as Number use (BigInt or String)"),Gt(typeof e=="string"||typeof e=="number"||typeof e=="bigint"||typeof e=="object"&&"low"in e&&"high"in e,`Validate: arg ${c.name} of cairo type ${c.type} should be type (String, Number or BigInt), but is ${typeof e} ${e}.`);const x=typeof e=="object"?kl(e):gt(e);switch(c.type){case"core::integer::u8":Gt(x>=0n&&x<=255n,`Validate: arg ${c.name} cairo typed ${c.type} should be in range [0 - 255]`);break;case"core::integer::u16":Gt(x>=0n&&x<=65535n,`Validate: arg ${c.name} cairo typed ${c.type} should be in range [0, 65535]`);break;case"core::integer::u32":Gt(x>=0n&&x<=4294967295n,`Validate: arg ${c.name} cairo typed ${c.type} should be in range [0, 4294967295]`);break;case"core::integer::u64":Gt(x>=0n&&x<=2n**64n-1n,`Validate: arg ${c.name} cairo typed ${c.type} should be in range [0, 2^64-1]`);break;case"core::integer::u128":Gt(x>=0n&&x<=2n**128n-1n,`Validate: arg ${c.name} cairo typed ${c.type} should be in range [0, 2^128-1]`);break;case"core::integer::u256":Gt(x>=0n&&x<=2n**256n-1n,`Validate: arg ${c.name} is ${c.type} 0 - 2^256-1`);break;case"core::starknet::class_hash::ClassHash":Gt(x>=0n&&x<=2n**252n-1n,`Validate: arg ${c.name} cairo typed ${c.type} should be in range [0, 2^252-1]`);break;case"core::starknet::contract_address::ContractAddress":Gt(x>=0n&&x<=2n**252n-1n,`Validate: arg ${c.name} cairo typed ${c.type} should be in range [0, 2^252-1]`);break}},Wx=(e,c)=>{Gt(typeof e=="boolean",`Validate: arg ${c.name} of cairo type ${c.type} should be type (Boolean)`)},Hx=(e,c,x)=>{if(c.type==="core::integer::u256"){pc(e,c);return}if(c.type==="core::starknet::eth_address::EthAddress"){Gt(typeof e!="object",`EthAdress type is waiting a BigNumberish. Got ${e}`);const w=BigInt(e.toString(10));Gt(w>=0n&&w<=2n**160n-1n,`Validate: arg ${c.name} cairo typed ${c.type} should be in range [0, 2^160-1]`);return}Gt(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${c.name} is cairo type struct (${c.type}), and should be defined as js object (not array)`),x[c.type].members.forEach(({name:w})=>{Gt(Object.keys(e).includes(w),`Validate: arg ${c.name} should have a property ${w}`)})},$x=(e,c)=>{Gt(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${c.name} is cairo type Enum (${c.type}), and should be defined as js object (not array)`);const x=Object.getOwnPropertyNames(Object.getPrototypeOf(e)),w=[...Object.getOwnPropertyNames(e),...x];if(!(jl(c.type)&&w.includes("isSome")&&w.includes("isNone"))&&!(Ql(c.type)&&w.includes("isOk")&&w.includes("isErr"))&&!(w.includes("variant")&&w.includes("activeVariant")))throw new Error(`Validate Enum: argument ${c.name}, type ${c.type}, value received ${e}, is not an Enum.`)},Zx=(e,c)=>{Gt(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${c.name} should be a tuple (defined as object)`)},Kx=(e,c,x,w)=>{const P=Qr(c.type);if(!(pl(P)&&ac(e)))switch(Gt(Array.isArray(e),`Validate: arg ${c.name} should be an Array`),!0){case pl(P):e.forEach(F=>Yx(F,c));break;case An(P):e.forEach(F=>Zx(F,{name:c.name,type:P}));break;case gn(P):e.forEach(F=>Kx(F,{name:"",type:P},x,w));break;case Xa(P,x):e.forEach(F=>Hx(F,{name:c.name,type:P},x));break;case ar(P,w):e.forEach(F=>$x(F,{name:c.name,type:P}));break;case(fc(P)||dc(P)):e.forEach(F=>pc(F,c));break;case Jl(P):e.forEach(F=>Wx(F,c));break;default:throw new Error(`Validate Unhandled: argument ${c.name}, type ${c.type}, value ${e}`)}};function Hp(e,c,x,w){e.inputs.reduce((P,F)=>{const p=c[P];switch(!0){case er(F.name):return P;case pl(F.type):Yx(p,F);break;case(fc(F.type)||dc(F.type)):pc(p,F);break;case Jl(F.type):Wx(p,F);break;case gn(F.type):Kx(p,F,x,w);break;case Xa(F.type,x):Hx(p,F,x);break;case ar(F.type,w):$x(p,F);break;case An(F.type):Zx(p,F);break;default:throw new Error(`Validate Unhandled: argument ${F.name}, type ${F.type}, value ${p}`)}return P+1},0)}var Ut=class{constructor(e){this.structs=Ut.getAbiStruct(e),this.enums=Ut.getAbiEnum(e),this.parser=R5(e),this.abi=this.parser.getLegacyFormat()}validate(e,c,x=[]){if(e!=="DEPLOY"){const F=this.abi.filter(p=>{if(p.type!=="function")return!1;const S=p.stateMutability==="view"||p.state_mutability==="view";return e==="INVOKE"?!S:S}).map(p=>p.name);Gt(F.includes(c),`${e==="INVOKE"?"invocable":"viewable"} method not found in abi`)}const w=this.abi.find(F=>e==="DEPLOY"?F.name===c&&F.type==="constructor":F.name===c&&F.type==="function");if(Yp(c,x,w))return;const P=this.parser.methodInputsLength(w);if(x.length!==P)throw Error(`Invalid number of arguments, expected ${P} arguments, but got ${x.length}`);Hp(w,x,this.structs,this.enums)}compile(e,c){const x=this.abi.find(p=>p.name===e);if(Yp(e,c,x))return[];let w;if(Array.isArray(c))w=c;else{const p=N5(c,x.inputs,this.structs,this.enums);w=Object.values(p),Hp(x,w,this.structs,this.enums)}const P=w[Symbol.iterator](),F=x.inputs.reduce((p,S)=>er(S.name)&&!xn(S.type)?p:p.concat(G5(P,S,this.structs,this.enums)),[]);return Object.defineProperty(F,"__compiled__",{enumerable:!1,writable:!1,value:!0}),F}static compile(e){const c=w=>{const P=(p,S=".")=>{const t=Array.isArray(p)?[p.length.toString(),...p]:p;return Object.entries(t).flatMap(([l,g])=>{let h=g;ac(h)&&(h=oc(h)),l==="entrypoint"&&(h=ai(h));const a=Array.isArray(t)&&l==="0"?"$$len":l;if(Kl(h))return[[`${S}${a}`,Pe(h)]];if(Object(h)===h){const s=Object.getOwnPropertyNames(Object.getPrototypeOf(h)),i=[...Object.getOwnPropertyNames(h),...s];if(i.includes("isSome")&&i.includes("isNone")){const r=h,u=r.isSome()?0:1;return r.isSome()?P({0:u,1:r.unwrap()},`${S}${a}.`):[[`${S}${a}`,Pe(u)]]}if(i.includes("isOk")&&i.includes("isErr")){const r=h,u=r.isOk()?0:1;return P({0:u,1:r.unwrap()},`${S}${a}.`)}if(i.includes("variant")&&i.includes("activeVariant")){const r=h,u=r.activeVariant(),o=Object.keys(r.variant).findIndex(f=>f===u);return typeof r.unwrap()=="object"&&Object.keys(r.unwrap()).length===0?[[`${S}${a}`,Pe(o)]]:P({0:o,1:r.unwrap()},`${S}${a}.`)}return P(h,`${S}${a}.`)}return[[`${S}${a}`,Pe(h)]]})};return Object.fromEntries(P(w))};let x;if(Array.isArray(e)){const w={...e},P=c(w);x=Object.values(P)}else{const w=c(e);x=Object.values(w)}return Object.defineProperty(x,"__compiled__",{enumerable:!1,writable:!1,value:!0}),x}parse(e,c){const{outputs:x}=this.abi.find(F=>F.name===e),w=c.flat()[Symbol.iterator](),P=x.flat().reduce((F,p,S)=>{const t=p.name??S;return F[t]=Sf(w,p,this.structs,this.enums,F),F[t]&&F[`${t}_len`]&&delete F[`${t}_len`],F},{});return Object.keys(P).length===1&&0 in P?P[0]:P}format(e,c,x){const w=this.parse(e,c);return Bo(w,x)}static getAbiStruct(e){return e.filter(c=>c.type==="struct").reduce((c,x)=>({...c,[x.name]:x}),{})}static getAbiEnum(e){const c=e.filter(x=>x.type==="enum").reduce((x,w)=>({...x,[w.name]:w}),{});return delete c["core::bool"],c}static toCalldata(e=[]){return Ut.compile(e)}static toHex(e=[]){return Ut.compile(e).map(x=>ut(x))}},z5={};kt(z5,{calculateContractAddressFromHash:()=>$5,calculateDeclareTransactionHash:()=>Y5,calculateDeployAccountTransactionHash:()=>W5,calculateDeployTransactionHash:()=>X5,calculateTransactionHash:()=>H5,calculateTransactionHashCommon:()=>Ya,computeCompiledClassHash:()=>k5,computeContractClassHash:()=>Q5,computeHashOnElements:()=>me,computeLegacyContractClassHash:()=>_x,computeSierraContractClassHash:()=>ty,default:()=>qx,feeTransactionVersion:()=>Qx,feeTransactionVersion_2:()=>Jx,formatSpaces:()=>Ca,getSelector:()=>rc,getSelectorFromName:()=>ai,getVersionsByType:()=>xc,keccakBn:()=>Dx,poseidon:()=>VS,starknetKeccak:()=>nc,transactionVersion:()=>gc,transactionVersion_2:()=>mc});var kx={};kt(kx,{starkCurve:()=>cE,weierstrass:()=>kS});var U5={};kt(U5,{parse:()=>yn,parseAlwaysAsBig:()=>jx,stringify:()=>zi,stringifyAlwaysAsBig:()=>V5});var b5=e=>{if(!Ia(e))return parseFloat(e);const c=parseInt(e,10);return Number.isSafeInteger(c)?c:BigInt(e)},yn=e=>o1(String(e),void 0,b5),jx=e=>o1(String(e),void 0,LE),zi=(e,c,x,w)=>l1(e,c,x,w),V5=zi,gc=Qd,mc=Jd,Qx=nx,Jx=rx;function xc(e){return e==="fee"?{v1:Qx,v2:Jx}:{v1:gc,v2:mc}}function me(e){return[...e,e.length].reduce((c,x)=>Yl(gt(c),gt(x)),0).toString()}function Ya(e,c,x,w,P,F,p,S=[]){const t=me(P),l=[e,c,x,w,t,F,p,...S];return me(l)}function X5(e,c,x,w,P="constructor"){return Ya("0x6465706c6f79",x,e,ai(P),c,0,w)}function Y5(e,c,x,w,P,F,p){return Ya("0x6465636c617265",x,c,0,[e],w,P,[F,...p?[p]:[]])}function W5(e,c,x,w,P,F,p,S){const t=[c,w,...x];return Ya("0x6465706c6f795f6163636f756e74",P,e,0,t,F,p,[S])}function H5(e,c,x,w,P,F){return Ya("0x696e766f6b65",c,e,0,x,w,P,[F])}function $5(e,c,x,w){const P=Ut.compile(x),F=me(P),p=Pe("0x535441524b4e45545f434f4e54524143545f41444452455353");return me([p,w,e,c,F])}function Z5(e,c){return e==="attributes"||e==="accessible_scopes"?Array.isArray(c)&&c.length===0?void 0:c:e==="debug_info"?null:c===null?void 0:c}function Ca(e){let c=!1;const x=[];for(const w of e)w==='"'&&!(x.length>0&&x.slice(-1)[0]==="\\")&&(c=!c),c?x.push(w):x.push(w===":"?": ":w===","?", ":w);return x.join("")}function qx(e){const{abi:c,program:x}=e,P=Ca(zi({abi:c,program:x},Z5));return Se(is(Ua(P)).toString(16))}function _x(e){const c=typeof e=="string"?yn(e):e,x=ut(ax),w=me(c.entry_points_by_type.EXTERNAL.flatMap(l=>[l.selector,l.offset])),P=me(c.entry_points_by_type.L1_HANDLER.flatMap(l=>[l.selector,l.offset])),F=me(c.entry_points_by_type.CONSTRUCTOR.flatMap(l=>[l.selector,l.offset])),p=me(c.program.builtins.map(l=>Cn(l))),S=qx(c),t=me(c.program.data);return me([x,w,P,F,p,S,t])}function K5(e){return pn(e.flatMap(c=>BigInt(Cn(c))))}function Kh(e){const c=e.flatMap(x=>[BigInt(x.selector),BigInt(x.offset),K5(x.builtins)]);return pn(c)}function k5(e){const x=BigInt(Cn("COMPILED_CLASS_V1")),w=Kh(e.entry_points_by_type.EXTERNAL),P=Kh(e.entry_points_by_type.L1_HANDLER),F=Kh(e.entry_points_by_type.CONSTRUCTOR),p=pn(e.bytecode.map(S=>BigInt(S)));return ut(pn([x,w,P,F,p]))}function kh(e){const c=e.flatMap(x=>[BigInt(x.selector),BigInt(x.function_idx)]);return pn(c)}function j5(e){const c=Ca(zi(e.abi,null));return BigInt(Se(is(Ua(c)).toString(16)))}function ty(e){const x=BigInt(Cn("CONTRACT_CLASS_V0.1.0")),w=kh(e.entry_points_by_type.EXTERNAL),P=kh(e.entry_points_by_type.L1_HANDLER),F=kh(e.entry_points_by_type.CONSTRUCTOR),p=j5(e),S=pn(e.sierra_program.map(t=>BigInt(t)));return ut(pn([x,w,P,F,p,S]))}function Q5(e){const c=typeof e=="string"?yn(e):e;return"sierra_program"in c?ty(c):_x(c)}var J5={};kt(J5,{compressProgram:()=>yc,decompressProgram:()=>Ef,estimatedFeeToMaxFee:()=>Sc,formatSignature:()=>Tc,makeAddress:()=>q5,randomAddress:()=>ey,signatureToDecimalArray:()=>dr,signatureToHexArray:()=>cr});function yc(e){const c=typeof e=="string"?e:zi(e),x=Y6(c);return J1(x)}function Ef(e){if(Array.isArray(e))return e;const c=kd(W6(Q1(e)));return yn(c)}function ey(){const e=Jm.randomPrivateKey();return t1(e)}function q5(e){return Se(e).toLowerCase()}function Tc(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(c=>ut(c));try{const{r:c,s:x}=e;return[ut(c),ut(x)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function dr(e){return Mx(Tc(e))}function cr(e){return Px(Tc(e))}function Sc(e,c=.5){const x=Math.round((1+c)*100);return gt(e)*gt(x)/100n}function un(e){return"sierra_program"in(typeof e=="string"?yn(e):e)}var iy=typeof window<"u"&&window.fetch||typeof global<"u"&&global.fetch||i5,_5={};kt(_5,{createSierraContractClass:()=>ny,parseContract:()=>ry,wait:()=>ml});function ml(e){return new Promise(c=>{setTimeout(c,e)})}function ny(e){const c={...e};return delete c.sierra_program_debug_info,c.abi=Ca(zi(e.abi)),c.sierra_program=Ca(zi(e.sierra_program)),c.sierra_program=yc(c.sierra_program),c}function ry(e){const c=typeof e=="string"?yn(e):e;return un(e)?ny(c):{...c,..."program"in c&&{program:yc(c.program)}}}var tA=class{parseGetBlockResponse(e){return{timestamp:e.timestamp,block_hash:e.block_hash,block_number:e.block_number,new_root:e.new_root,parent_hash:e.parent_hash,status:e.status,transactions:e.transactions}}parseGetTransactionResponse(e){return{calldata:e.calldata||[],contract_address:e.contract_address,sender_address:e.contract_address,max_fee:e.max_fee,nonce:e.nonce,signature:e.signature||[],transaction_hash:e.transaction_hash,version:e.version}}parseFeeEstimateResponse(e){return{overall_fee:gt(e[0].overall_fee),gas_consumed:gt(e[0].gas_consumed),gas_price:gt(e[0].gas_price)}}parseFeeEstimateBulkResponse(e){return e.map(c=>({overall_fee:gt(c.overall_fee),gas_consumed:gt(c.gas_consumed),gas_price:gt(c.gas_price)}))}parseCallContractResponse(e){return{result:e}}parseSimulateTransactionResponse(e){return e.map(c=>({...c,suggestedMaxFee:Sc(BigInt(c.fee_estimation.overall_fee))}))}parseContractClassResponse(e){return{...e,abi:typeof e.abi=="string"?JSON.parse(e.abi):e.abi}}};function eA(e,c=e.constructor){const{captureStackTrace:x}=Error;x&&x(e,c)}function iA(e,c){const{setPrototypeOf:x}=Object;x?x(e,c):e.__proto__=c}var nA=class extends Error{constructor(e){super(e),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),iA(this,new.target.prototype),eA(this)}},Jr=class extends nA{},rA=class extends Jr{constructor(e,c){super(e),this.errorCode=c}},sA=class extends Jr{constructor(e,c){super(e),this.errorCode=c}},aA={};kt(aA,{StarknetIdContract:()=>oy,getStarknetIdContract:()=>Ec,useDecoded:()=>sy,useEncoded:()=>ay});var pi="abcdefghijklmnopqrstuvwxyz0123456789-",Mr=BigInt(pi.length+1),_t="这来",$p=BigInt(pi.length),Cf=BigInt(_t.length),Zp=BigInt(_t.length+1);function Af(e){let c=0;for(;e.endsWith(_t[_t.length-1]);)e=e.substring(0,e.length-1),c+=1;return[e,c]}function sy(e){let c="";return e.forEach(x=>{for(;x!==Zs;){const F=x%Mr;if(x/=Mr,F===BigInt(pi.length)){const p=x/Zp;if(p===Zs){const S=x%Zp;x=p,S===Zs?c+=pi[0]:c+=_t[Number(S)-1]}else{const S=x%Cf;c+=_t[Number(S)],x/=Cf}}else c+=pi[Number(F)]}const[w,P]=Af(c);P&&(c=w+(P%2===0?_t[_t.length-1].repeat(P/2-1)+_t[0]+pi[1]:_t[_t.length-1].repeat((P-1)/2+1))),c+="."}),c&&c.concat("stark")}function ay(e){let c=BigInt(0),x=BigInt(1);if(e.endsWith(_t[0]+pi[1])){const[w,P]=Af(e.substring(0,e.length-2));e=w+_t[_t.length-1].repeat(2*(P+1))}else{const[w,P]=Af(e);P&&(e=w+_t[_t.length-1].repeat(1+2*(P-1)))}for(let w=0;w<e.length;w+=1){const P=e[w],F=pi.indexOf(P),p=BigInt(pi.indexOf(P));if(F!==-1)w===e.length-1&&e[w]===pi[0]?(c+=x*$p,x*=Mr,x*=Mr):(c+=x*p,x*=Mr);else if(_t.indexOf(P)!==-1){c+=x*$p,x*=Mr;const S=(w===e.length-1?1:0)+_t.indexOf(P);c+=x*BigInt(S),x*=Cf}}return c}var oy=(e=>(e.MAINNET="0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",e.TESTNET="0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce",e))(oy||{});function Ec(e){switch(e){case"0x534e5f4d41494e":return"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678";case"0x534e5f474f45524c49":return"0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce";default:throw new Error("Starknet.id is not yet deployed on this network")}}async function Cc(e,c,x){const w=await e.getChainId(),P=x??Ec(w);try{const p=(await e.callContract({contractAddress:P,entrypoint:"address_to_domain",calldata:Ut.compile({address:c})})).result.map(t=>BigInt(t)).slice(1),S=sy(p);if(!S)throw Error("Starkname not found");return S}catch(F){throw F instanceof Error&&F.message==="Starkname not found"?F:Error("Could not get stark name")}}async function Ac(e,c,x){const w=await e.getChainId(),P=x??Ec(w);try{return(await e.callContract({contractAddress:P,entrypoint:"domain_to_address",calldata:Ut.compile({domain:[ay(c.replace(".stark","")).toString(10)]})})).result[0]}catch{throw Error("Could not get address from stark name")}}var oA=Object.values(tc),Ht=class{constructor(e){this.hash=null,this.number=null,this.tag=null,this.valueOf=()=>this.number,this.toString=()=>this.hash,this.setIdentifier(e)}setIdentifier(e){typeof e=="string"&&si(e)?this.hash=e:typeof e=="bigint"?this.hash=ut(e):typeof e=="number"?this.number=e:typeof e=="string"&&oA.includes(e)?this.tag=e:this.tag="pending"}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(e){this.setIdentifier(e)}get sequencerIdentifier(){return this.hash!==null?{blockHash:this.hash}:{blockNumber:this.number??this.tag}}},jh={headers:{"Content-Type":"application/json"},blockIdentifier:"pending",retries:200},Kp=class{constructor(e){this.responseParser=new tA;const{nodeUrl:c,retries:x,headers:w,blockIdentifier:P,chainId:F}=e;this.nodeUrl=c,this.retries=x||jh.retries,this.headers={...jh.headers,...w},this.blockIdentifier=P||jh.blockIdentifier,this.chainId=F,this.getChainId()}fetch(e,c){const x=zi({method:e,jsonrpc:"2.0",params:c,id:0});return iy(this.nodeUrl,{method:"POST",body:x,headers:this.headers})}errorHandler(e){if(e){const{code:c,message:x}=e;throw new Jr(`${c}: ${x}`)}}async fetchEndpoint(e,c){var x;try{const w=await this.fetch(e,c),{error:P,result:F}=await w.json();return this.errorHandler(P),F}catch(w){throw this.errorHandler((x=w==null?void 0:w.response)==null?void 0:x.data),w}}async getChainId(){return this.chainId??(this.chainId=await this.fetchEndpoint("starknet_chainId")),this.chainId}async getBlock(e=this.blockIdentifier){return this.getBlockWithTxHashes(e).then(this.responseParser.parseGetBlockResponse)}async getBlockHashAndNumber(){return this.fetchEndpoint("starknet_blockHashAndNumber")}async getBlockWithTxHashes(e=this.blockIdentifier){const c=new Ht(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:c})}async getBlockWithTxs(e=this.blockIdentifier){const c=new Ht(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:c})}async getClassHashAt(e,c=this.blockIdentifier){const x=new Ht(c).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:x,contract_address:e})}async getNonceForAddress(e,c=this.blockIdentifier){const x=new Ht(c).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:e,block_id:x})}async getPendingTransactions(){return this.fetchEndpoint("starknet_pendingTransactions")}async getProtocolVersion(){throw new Error("Pathfinder does not implement this rpc 0.1.0 method")}async getStateUpdate(e=this.blockIdentifier){const c=new Ht(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:c})}async getStorageAt(e,c,x=this.blockIdentifier){const w=Ax(c),P=new Ht(x).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:e,key:w,block_id:P})}async getTransaction(e){return this.getTransactionByHash(e).then(this.responseParser.parseGetTransactionResponse)}async getTransactionByHash(e){return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:e})}async getTransactionByBlockIdAndIndex(e,c){const x=new Ht(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:x,index:c})}async getTransactionReceipt(e){return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:e})}async getClassByHash(e){return this.getClass(e)}async getClass(e,c=this.blockIdentifier){const x=new Ht(c).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:e,block_id:x}).then(this.responseParser.parseContractClassResponse)}async getClassAt(e,c=this.blockIdentifier){const x=new Ht(c).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:x,contract_address:e}).then(this.responseParser.parseContractClassResponse)}async getCode(e,c){throw new Error("RPC does not implement getCode function")}async getContractVersion(e,c,{blockIdentifier:x=this.blockIdentifier,compiler:w=!0}={}){let P;if(e)P=await this.getClassAt(e,x);else if(c)P=await this.getClass(c,x);else throw Error("getContractVersion require contractAddress or classHash");return un(P)?w?{cairo:"1",compiler:ql(P.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getEstimateFee(e,c,x=this.blockIdentifier){return this.getInvokeEstimateFee(e,c,x)}async getInvokeEstimateFee(e,c,x=this.blockIdentifier){const w=new Ht(x).identifier,P=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...c},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[P],block_id:w}).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,c,x=this.blockIdentifier){const w=new Ht(x).identifier,P=this.buildTransaction({type:"DECLARE",...e,...c},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[P],block_id:w}).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,c,x=this.blockIdentifier){const w=new Ht(x).identifier,P=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...c},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[P],block_id:w}).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:c=this.blockIdentifier,skipValidate:x=!1}){x&&console.warn("getEstimateFeeBulk RPC does not support skipValidate");const w=new Ht(c).identifier;return this.fetchEndpoint("starknet_estimateFee",{request:e.map(P=>this.buildTransaction(P,"fee")),block_id:w}).then(this.responseParser.parseFeeEstimateBulkResponse)}async declareContract({contract:e,signature:c,senderAddress:x,compiledClassHash:w},P){return un(e)?this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:Bn.TransactionType.DECLARE,contract_class:{sierra_program:Ef(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},compiled_class_hash:w||"",version:ix,max_fee:ut(P.maxFee||0),signature:cr(c),sender_address:x,nonce:ut(P.nonce)}}):this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:Bn.TransactionType.DECLARE,contract_class:{program:e.program,entry_points_by_type:e.entry_points_by_type,abi:e.abi},version:ex,max_fee:ut(P.maxFee||0),signature:cr(c),sender_address:x,nonce:ut(P.nonce)}})}async deployAccountContract({classHash:e,constructorCalldata:c,addressSalt:x,signature:w},P){return this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:Ut.toHex(c||[]),class_hash:ut(e),contract_address_salt:ut(x||0),type:Bn.TransactionType.DEPLOY_ACCOUNT,max_fee:ut(P.maxFee||0),version:ut(P.version||0),signature:cr(w),nonce:ut(P.nonce)}})}async invokeFunction(e,c){return this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:e.contractAddress,calldata:Ut.toHex(e.calldata),type:Bn.TransactionType.INVOKE,max_fee:ut(c.maxFee||0),version:"0x1",signature:cr(e.signature),nonce:ut(c.nonce)}})}async callContract(e,c=this.blockIdentifier){const x=new Ht(c).identifier,w=await this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:ai(e.entrypoint),calldata:Ut.toHex(e.calldata)},block_id:x});return this.responseParser.parseCallContractResponse(w)}async traceTransaction(e){return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:e})}async traceBlockTransactions(e){return this.fetchEndpoint("starknet_traceBlockTransactions",{block_hash:e})}async waitForTransaction(e,c){let{retries:x}=this,w=!1,P=!1,F={};const p=(c==null?void 0:c.retryInterval)??5e3,S=(c==null?void 0:c.errorStates)??[mf.REVERTED],t=(c==null?void 0:c.successStates)??[mf.SUCCEEDED,gf.ACCEPTED_ON_L1,gf.ACCEPTED_ON_L2];for(;!w;){await ml(p);try{F=await this.getTransactionReceipt(e);const l=vf(F.execution_status),g=vf(F.finality_status);if(!l||!g)throw new Error("waiting for transaction status");if(t.includes(l)||t.includes(g))w=!0;else if(S.includes(l)||S.includes(g)){const h=`${l}: ${g}: ${F.revert_reason}`,a=new Error(h);throw a.response=F,P=!0,a}}catch(l){if(l instanceof Error&&P)throw l;if(x===0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}x-=1}return await ml(p),F}async getTransactionCount(e=this.blockIdentifier){const c=new Ht(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:c})}async getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}async getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}async getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}async getSimulateTransaction(e,{blockIdentifier:c=this.blockIdentifier,skipValidate:x=!1,skipExecute:w=!1,skipFeeCharge:P=!0}){const F=new Ht(c).identifier,p=[];return x&&p.push(pf.SKIP_VALIDATE),(w||P)&&p.push(pf.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:F,transactions:e.map(S=>this.buildTransaction(S)),simulation_flags:p}).then(this.responseParser.parseSimulateTransactionResponse)}async getStarkName(e,c){return Cc(this,e,c)}async getAddressFromStarkName(e,c){return Ac(this,e,c)}buildTransaction(e,c){const x=xc(c),w={signature:cr(e.signature),nonce:ut(e.nonce),max_fee:ut(e.maxFee||0)};if(e.type==="INVOKE_FUNCTION")return{type:Bn.TransactionType.INVOKE,sender_address:e.contractAddress,calldata:Ut.toHex(e.calldata),version:ut(e.version||x.v1),...w};if(e.type==="DECLARE")return un(e.contract)?{type:e.type,contract_class:{...e.contract,sierra_program:Ef(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:ut(e.version||x.v2),...w}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:ut(e.version||x.v1),...w};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:Ut.toHex(e.constructorCalldata||[]),class_hash:ut(e.classHash),contract_address_salt:ut(e.addressSalt||0),version:ut(e.version||x.v1),...w};throw Error("RPC buildTransaction received unknown TransactionType")}},lA=class{},hA=class extends lA{parseGetBlockResponse(e){return{...e,new_root:e.state_root,parent_hash:e.parent_block_hash,transactions:Object.values(e.transactions).map(c=>"transaction_hash"in c&&c.transaction_hash).filter(Boolean)}}parseGetTransactionResponse(e){if(e.status==="NOT_RECEIVED"&&e.finality_status==="NOT_RECEIVED")throw new Jr;return{...e,calldata:"calldata"in e.transaction?e.transaction.calldata:[],contract_class:"contract_class"in e.transaction?e.transaction.contract_class:void 0,entry_point_selector:"entry_point_selector"in e.transaction?e.transaction.entry_point_selector:void 0,max_fee:"max_fee"in e.transaction?e.transaction.max_fee:void 0,nonce:e.transaction.nonce,sender_address:"sender_address"in e.transaction?e.transaction.sender_address:void 0,signature:"signature"in e.transaction?e.transaction.signature:void 0,transaction_hash:"transaction_hash"in e.transaction?e.transaction.transaction_hash:void 0,version:"version"in e.transaction?e.transaction.version:void 0}}parseGetTransactionReceiptResponse(e){return{...e,messages_sent:e.l2_to_l1_messages,..."revert_error"in e&&{revert_reason:e.revert_error}}}parseFeeEstimateResponse(e){if("overall_fee"in e){let c={};try{c={gas_consumed:gt(e.gas_usage),gas_price:gt(e.gas_price)}}catch{}return{overall_fee:gt(e.overall_fee),...c}}return{overall_fee:gt(e.amount)}}parseFeeEstimateBulkResponse(e){return[].concat(e).map(c=>{if("overall_fee"in c){let x={};try{x={gas_consumed:gt(c.gas_usage),gas_price:gt(c.gas_price)}}catch{}return{overall_fee:gt(c.overall_fee),...x}}return{overall_fee:gt(c.amount)}})}parseSimulateTransactionResponse(e){const c="overall_fee"in e.fee_estimation?e.fee_estimation.overall_fee:e.fee_estimation.amount;return[{transaction_trace:e.trace,fee_estimation:e.fee_estimation,suggestedMaxFee:Sc(BigInt(c))}]}parseCallContractResponse(e){return{result:e.result}}parseInvokeFunctionResponse(e){return{transaction_hash:e.transaction_hash}}parseDeployContractResponse(e){return{transaction_hash:e.transaction_hash,contract_address:e.address}}parseDeclareContractResponse(e){return{transaction_hash:e.transaction_hash,class_hash:e.class_hash}}parseGetStateUpdateResponse(e){const c=Object.entries(e.state_diff.nonces).map(([w,P])=>({contract_address:w,nonce:P})),x=Object.entries(e.state_diff.storage_diffs).map(([w,P])=>({address:w,storage_entries:P}));return{...e,state_diff:{...e.state_diff,storage_diffs:x,nonces:c}}}parseContractClassResponse(e){const c=un(e)?e:ry(e);return{...c,abi:typeof c.abi=="string"?JSON.parse(c.abi):c.abi}}},uA=/^(?:\w+:)?\/\/(\S+)$/,fA=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,dA=/^[^\s.]+\.\S{2,}$/;function cA(e){if(!e||typeof e!="string")return!1;const c=e.match(uA);if(!c)return!1;const x=c[1];return x?!!(fA.test(x)||dA.test(x)):!1}function Ss(e,c,x){return cA(x)?x:k1(e,x??c)}function vA(e){return e===void 0||Object.keys(e).length===0||Object.keys(e).length===1&&Object.entries(e).every(([c,x])=>c==="blockIdentifier"&&x===null)}var kp={network:"SN_GOERLI",blockIdentifier:"pending"},Ks=class{constructor(e=kp){this.responseParser=new hA,"network"in e?(this.baseUrl=Ks.getNetworkFromName(e.network),this.feederGatewayUrl=Ss(this.baseUrl,"feeder_gateway"),this.gatewayUrl=Ss(this.baseUrl,"gateway")):(this.baseUrl=e.baseUrl,this.feederGatewayUrl=Ss(this.baseUrl,"feeder_gateway",e.feederGatewayUrl),this.gatewayUrl=Ss(this.baseUrl,"gateway",e.gatewayUrl)),this.chainId=(e==null?void 0:e.chainId)??Ks.getChainIdFromBaseUrl(this.baseUrl),this.headers=e.headers,this.blockIdentifier=(e==null?void 0:e.blockIdentifier)||kp.blockIdentifier}static getNetworkFromName(e){switch(e){case"SN_MAIN":case"0x534e5f4d41494e":return"https://alpha-mainnet.starknet.io";case"SN_GOERLI":case"0x534e5f474f45524c49":return"https://alpha4.starknet.io";default:throw new Error("Could not detect base url from NetworkName")}}static getChainIdFromBaseUrl(e){try{return new URL(e).host.includes("mainnet.starknet.io")?"0x534e5f4d41494e":"0x534e5f474f45524c49"}catch{return console.error(`Could not parse baseUrl: ${e}`),"0x534e5f474f45524c49"}}getFetchUrl(e){return["add_transaction"].includes(e)?this.gatewayUrl:this.feederGatewayUrl}getFetchMethod(e){return["add_transaction","call_contract","estimate_fee","estimate_message_fee","estimate_fee_bulk","simulate_transaction"].includes(e)?"POST":"GET"}getQueryString(e){return vA(e)?"":`?${Object.entries(e).map(([x,w])=>x==="blockIdentifier"?`${new Ht(w).queryIdentifier}`:`${x}=${w}`).join("&")}`}getHeaders(e){return e==="POST"?{"Content-Type":"application/json",...this.headers}:this.headers}async fetchEndpoint(e,...[c,x]){const w=this.getFetchUrl(e),P=this.getFetchMethod(e),F=this.getQueryString(c),p=k1(w,e,F);return this.fetch(p,{method:P,body:x})}async fetch(e,c){const x=Ss(this.baseUrl,"",e),w=(c==null?void 0:c.method)??"GET",P=this.getHeaders(w),F=zi(c==null?void 0:c.body);try{const p=await iy(x,{method:w,body:F,headers:P}),S=await p.text();if(!p.ok){let l;try{l=yn(S)}catch{throw new sA(p.statusText,p.status)}throw new rA(l.message,l.code)}return(c!=null&&c.parseAlwaysAsBigInt?jx:yn)(S)}catch(p){throw p instanceof Error&&!(p instanceof Jr)?Error(`Could not ${w} from endpoint \`${x}\`: ${p.message}`):p}}async getChainId(){return Promise.resolve(this.chainId)}async callContract({contractAddress:e,entrypoint:c,calldata:x=[]},w=this.blockIdentifier){return this.fetchEndpoint("call_contract",{blockIdentifier:w},{contract_address:e,entry_point_selector:ai(c),calldata:Ut.compile(x)}).then(this.responseParser.parseCallContractResponse)}async getBlock(e=this.blockIdentifier){return this.fetchEndpoint("get_block",{blockIdentifier:e}).then(this.responseParser.parseGetBlockResponse)}async getNonceForAddress(e,c=this.blockIdentifier){return this.fetchEndpoint("get_nonce",{contractAddress:e,blockIdentifier:c})}async getStorageAt(e,c,x=this.blockIdentifier){const w=gt(c).toString(10);return this.fetchEndpoint("get_storage_at",{blockIdentifier:x,contractAddress:e,key:w})}async getTransaction(e){const c=ut(e);return this.fetchEndpoint("get_transaction",{transactionHash:c}).then(x=>{if(Object.values(x).length===1)throw new Jr(x.status);return this.responseParser.parseGetTransactionResponse(x)})}async getTransactionReceipt(e){const c=ut(e);return this.fetchEndpoint("get_transaction_receipt",{transactionHash:c}).then(this.responseParser.parseGetTransactionReceiptResponse)}async getClassAt(e,c=this.blockIdentifier){return this.fetchEndpoint("get_full_contract",{blockIdentifier:c,contractAddress:e}).then(this.responseParser.parseContractClassResponse)}async getClassHashAt(e,c=this.blockIdentifier){return this.fetchEndpoint("get_class_hash_at",{blockIdentifier:c,contractAddress:e})}async getClassByHash(e,c=this.blockIdentifier){return this.fetchEndpoint("get_class_by_hash",{classHash:e,blockIdentifier:c}).then(this.responseParser.parseContractClassResponse)}async getCompiledClassByClassHash(e,c=this.blockIdentifier){return this.fetchEndpoint("get_compiled_class_by_class_hash",{classHash:e,blockIdentifier:c})}async getContractVersion(e,c,{blockIdentifier:x=this.blockIdentifier,compiler:w=!0}={}){let P;if(e)P=await this.getClassAt(e,x);else if(c)P=await this.getClassByHash(c,x);else throw Error("getContractVersion require contractAddress or classHash");return un(P)?w?{cairo:"1",compiler:ql(P.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async invokeFunction(e,c){return this.fetchEndpoint("add_transaction",void 0,{type:"INVOKE_FUNCTION",sender_address:e.contractAddress,calldata:Ut.compile(e.calldata??[]),signature:dr(e.signature),nonce:ut(c.nonce),max_fee:ut(c.maxFee||0),version:"0x1"}).then(this.responseParser.parseInvokeFunctionResponse)}async deployAccountContract({classHash:e,constructorCalldata:c,addressSalt:x,signature:w},P){return this.fetchEndpoint("add_transaction",void 0,{type:"DEPLOY_ACCOUNT",contract_address_salt:x??ey(),constructor_calldata:Ut.compile(c??[]),class_hash:ut(e),max_fee:ut(P.maxFee||0),version:ut(P.version||0),nonce:ut(P.nonce),signature:dr(w)}).then(this.responseParser.parseDeployContractResponse)}async declareContract({senderAddress:e,contract:c,signature:x,compiledClassHash:w},P){return un(c)?this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",sender_address:e,compiled_class_hash:w,contract_class:c,nonce:ut(P.nonce),signature:dr(x),max_fee:ut(P.maxFee||0),version:ut(mc)}).then(this.responseParser.parseDeclareContractResponse):this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",contract_class:c,nonce:ut(P.nonce),signature:dr(x),sender_address:e,max_fee:ut(P.maxFee||0),version:ut(gc)}).then(this.responseParser.parseDeclareContractResponse)}async getEstimateFee(e,c,x=this.blockIdentifier,w=!1){return this.getInvokeEstimateFee(e,c,x,w)}async getInvokeEstimateFee(e,c,x=this.blockIdentifier,w=!1){const P=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...c},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:x,skipValidate:w},P).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,c,x=this.blockIdentifier,w=!1){const P=this.buildTransaction({type:"DECLARE",...e,...c},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:x,skipValidate:w},P).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,c,x=this.blockIdentifier,w=!1){const P=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...c},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:x,skipValidate:w},P).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:c=this.blockIdentifier,skipValidate:x=!1}){const w=e.map(P=>this.buildTransaction(P,"fee"));return this.fetchEndpoint("estimate_fee_bulk",{blockIdentifier:c,skipValidate:x},w).then(this.responseParser.parseFeeEstimateBulkResponse)}async getCode(e,c=this.blockIdentifier){return this.fetchEndpoint("get_code",{contractAddress:e,blockIdentifier:c})}async waitForTransaction(e,c){let x,w=!1,P=0;const F=(c==null?void 0:c.retryInterval)??5e3,p=(c==null?void 0:c.errorStates)??["REJECTED","NOT_RECEIVED","REVERTED"],S=(c==null?void 0:c.successStates)??["SUCCEEDED","ACCEPTED_ON_L1","ACCEPTED_ON_L2"];for(;!w;)if(await ml(F),x=await this.getTransactionStatus(e),x.finality_status==="NOT_RECEIVED"&&P<3)P+=1;else if(S.includes(x.finality_status)||S.includes(x.execution_status))w=!0;else if(p.includes(x.finality_status)||p.includes(x.execution_status)){let l;x.tx_failure_reason?l=`${x.tx_status}: ${x.tx_failure_reason.code}
${x.tx_failure_reason.error_message}`:x.tx_revert_reason?l=`${x.tx_status}: ${x.tx_revert_reason}`:l=x.tx_status;const g=new Error(l);throw g.response=x,g}return await this.getTransactionReceipt(e)}async getTransactionStatus(e){const c=ut(e);return this.fetchEndpoint("get_transaction_status",{transactionHash:c})}async getContractAddresses(){return this.fetchEndpoint("get_contract_addresses")}async getTransactionTrace(e){const c=ut(e);return this.fetchEndpoint("get_transaction_trace",{transactionHash:c})}async estimateMessageFee({from_address:e,to_address:c,entry_point_selector:x,payload:w},P=this.blockIdentifier){const F={from_address:Rx(e),to_address:ic(c),entry_point_selector:rc(x),payload:Lx(w)};return this.fetchEndpoint("estimate_message_fee",{blockIdentifier:P},F)}async getSimulateTransaction(e,{blockIdentifier:c=this.blockIdentifier,skipValidate:x=!1,skipExecute:w=!1}){e.length>1&&console.warn("Sequencer simulate process only first element from invocations list"),w&&console.warn("Sequencer can't skip account __execute__");const P=this.buildTransaction(e[0]);return this.fetchEndpoint("simulate_transaction",{blockIdentifier:c,skipValidate:x??!1},P).then(this.responseParser.parseSimulateTransactionResponse)}async getStateUpdate(e=this.blockIdentifier){const c=new Ht(e).sequencerIdentifier;return this.fetchEndpoint("get_state_update",{...c}).then(this.responseParser.parseGetStateUpdateResponse)}async getBlockTraces(e=this.blockIdentifier){const c=new Ht(e).sequencerIdentifier;return this.fetchEndpoint("get_block_traces",{...c})}async getStarkName(e,c){return Cc(this,e,c)}async getAddressFromStarkName(e,c){return Ac(this,e,c)}buildTransaction(e,c){const x=xc(c),w={signature:dr(e.signature),nonce:ut(e.nonce)};if(e.type==="INVOKE_FUNCTION")return{type:e.type,sender_address:e.contractAddress,calldata:Ut.compile(e.calldata??[]),version:ut(e.version||x.v1),...w};if(e.type==="DECLARE")return un(e.contract)?{type:e.type,contract_class:e.contract,compiled_class_hash:e.compiledClassHash,sender_address:e.senderAddress,version:ut(e.version||x.v2),...w}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:ut(e.version||x.v1),...w};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:Ut.compile(e.constructorCalldata||[]),class_hash:ut(e.classHash),contract_address_salt:ut(e.addressSalt||0),version:ut(e.version||x.v1),...w};throw Error("Sequencer buildTransaction received unknown TransactionType")}},ly=class{constructor(e){e instanceof ly?this.provider=e.provider:e instanceof Kp||e instanceof Ks?this.provider=e:e&&"rpc"in e?this.provider=new Kp(e.rpc):e&&"sequencer"in e?this.provider=new Ks(e.sequencer):this.provider=new Ks}async getChainId(){return this.provider.getChainId()}async getBlock(e){return this.provider.getBlock(e)}async getClassAt(e,c){return this.provider.getClassAt(e,c)}async getClassHashAt(e,c){return this.provider.getClassHashAt(e,c)}getClassByHash(e){return this.provider.getClassByHash(e)}async getEstimateFee(e,c,x){return this.provider.getEstimateFee(e,c,x)}async getInvokeEstimateFee(e,c,x,w){return this.provider.getInvokeEstimateFee(e,c,x,w)}async getEstimateFeeBulk(e,c){return this.provider.getEstimateFeeBulk(e,c)}async getNonceForAddress(e,c){return this.provider.getNonceForAddress(e,c)}async getStorageAt(e,c,x){return this.provider.getStorageAt(e,c,x)}async getTransaction(e){return this.provider.getTransaction(e)}async getTransactionReceipt(e){return this.provider.getTransactionReceipt(e)}async callContract(e,c){return this.provider.callContract(e,c)}async invokeFunction(e,c){return this.provider.invokeFunction(e,c)}async deployAccountContract(e,c){return this.provider.deployAccountContract(e,c)}async declareContract(e,c){return this.provider.declareContract(e,c)}async getDeclareEstimateFee(e,c,x,w){return this.provider.getDeclareEstimateFee(e,c,x,w)}getDeployAccountEstimateFee(e,c,x,w){return this.provider.getDeployAccountEstimateFee(e,c,x,w)}async getCode(e,c){return this.provider.getCode(e,c)}async waitForTransaction(e,c){return this.provider.waitForTransaction(e,c)}async getSimulateTransaction(e,c){return this.provider.getSimulateTransaction(e,c)}async getStateUpdate(e){return this.provider.getStateUpdate(e)}async getStarkName(e,c){return Cc(this,e,c)}async getAddressFromStarkName(e,c){return Ac(this,e,c)}async getContractVersion(e,c,x){return this.provider.getContractVersion(e,c,x)}},pA={};kt(pA,{fromCallsToExecuteCalldata:()=>wc,fromCallsToExecuteCalldataWithNonce:()=>gA,fromCallsToExecuteCalldata_cairo1:()=>uy,getExecuteCalldata:()=>xA,transformCallsToMulticallArrays:()=>hy,transformCallsToMulticallArrays_cairo1:()=>mA});var hy=e=>{const c=[],x=[];return e.forEach(w=>{const P=Ut.compile(w.calldata||[]);c.push({to:gt(w.contractAddress).toString(10),selector:gt(ai(w.entrypoint)).toString(10),data_offset:x.length.toString(),data_len:P.length.toString()}),x.push(...P)}),{callArray:c,calldata:Ut.compile({calldata:x})}},wc=e=>{const{callArray:c,calldata:x}=hy(e);return[...Ut.compile({callArray:c}),...x]},gA=(e,c)=>[...wc(e),gt(c).toString()],mA=e=>e.map(x=>({to:gt(x.contractAddress).toString(10),selector:gt(ai(x.entrypoint)).toString(10),calldata:Ut.compile(x.calldata||[])})),uy=e=>{const c=e.map(x=>({contractAddress:x.contractAddress,entrypoint:x.entrypoint,calldata:x.calldata}));return Ut.compile({orderCalls:c})},xA=(e,c="0")=>c==="1"?uy(e):wc(e),yA={};kt(yA,{encodeData:()=>gy,encodeType:()=>vy,encodeValue:()=>Pc,getDependencies:()=>Mc,getMessageHash:()=>AA,getStructHash:()=>Aa,getTypeHash:()=>py,isMerkleTreeType:()=>cy,prepareSelector:()=>dy});var TA={};kt(TA,{MerkleTree:()=>Nr,proofMerklePath:()=>fy});var Nr=class{constructor(e){this.branches=[],this.leaves=e,this.root=this.build(e)}build(e){if(e.length===1)return e[0];e.length!==this.leaves.length&&this.branches.push(e);const c=[];for(let x=0;x<e.length;x+=2)x+1===e.length?c.push(Nr.hash(e[x],"0x0")):c.push(Nr.hash(e[x],e[x+1]));return this.build(c)}static hash(e,c){const[x,w]=[gt(e),gt(c)].sort((P,F)=>P>=F?1:-1);return Yl(x,w)}getProof(e,c=this.leaves,x=[]){const w=c.indexOf(e);if(w===-1)throw new Error("leaf not found");if(c.length===1)return x;const P=w%2===0,F=(P?c[w+1]:c[w-1])??"0x0",p=[...x,F],S=this.leaves.length===c.length?-1:this.branches.findIndex(l=>l.length===c.length),t=this.branches[S+1]??[this.root];return this.getProof(Nr.hash(P?e:F,P?F:e),t,p)}};function fy(e,c,x){if(x.length===0)return e===c;const[w,...P]=x;return fy(e,Nr.hash(c,w),P)}function SA(e){try{return ut(e)}catch{if(typeof e=="string")return ut(Cn(e));throw new Error(`Invalid BigNumberish: ${e}`)}}var EA=e=>{const c=e;return!!(c.types&&c.primaryType&&c.message)};function dy(e){return si(e)?e:ai(e)}function cy(e){return e.type==="merkletree"}var Mc=(e,c,x=[])=>(c[c.length-1]==="*"&&(c=c.slice(0,-1)),x.includes(c)||!e[c]?x:[c,...e[c].reduce((w,P)=>[...w,...Mc(e,P.type,w).filter(F=>!w.includes(F))],[])]);function CA(e,c){if(c.parent&&c.key){const w=e[c.parent].find(F=>F.name===c.key);if(!cy(w))throw new Error(`${c.key} is not a merkle tree`);if(w.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${c.key}`);return w.contains}return"raw"}var vy=(e,c)=>{const[x,...w]=Mc(e,c);return(x?[x,...w.sort()]:[]).map(F=>`${F}(${e[F].map(p=>`${p.name}:${p.type}`)})`).join("")},py=(e,c)=>ai(vy(e,c)),Pc=(e,c,x,w={})=>{if(e[c])return[c,Aa(e,c,x)];if(Object.keys(e).map(P=>`${P}*`).includes(c)){const P=x.map(F=>Aa(e,c.slice(0,-1),F));return[c,me(P)]}if(c==="merkletree"){const P=CA(e,w),F=x.map(S=>Pc(e,P,S)[1]),{root:p}=new Nr(F);return["felt",p]}return c==="felt*"?["felt*",me(x)]:c==="selector"?["felt",dy(x)]:[c,SA(x)]},gy=(e,c,x)=>{const[w,P]=e[c].reduce(([F,p],S)=>{if(x[S.name]===void 0||x[S.name]===null)throw new Error(`Cannot encode data: missing data for '${S.name}'`);const t=x[S.name],[l,g]=Pc(e,S.type,t,{parent:c,key:S.name});return[[...F,l],[...p,g]]},[["felt"],[py(e,c)]]);return[w,P]},Aa=(e,c,x)=>me(gy(e,c,x)[1]),AA=(e,c)=>{if(!EA(e))throw new Error("Typed data does not match JSON schema");const x=[Cn("StarkNet Message"),Aa(e.types,"StarkNetDomain",e.domain),c,Aa(e.types,e.primaryType,e.message)];return me(x)};new ly;var wA={};kt(wA,{getAbiEvents:()=>MA,parseEvents:()=>PA});function MA(e){return e.filter(c=>c.type==="event"&&(c.size||c.kind!=="enum")).reduce((c,x)=>{const w=x.name.slice(x.name.lastIndexOf(":")+1),P={...x};return P.name=w,{...c,[Se(is(Ua(w)).toString(16))]:P}},{})}function PA(e,c,x,w){return e.flat().reduce((F,p)=>{var s,i;const S=c[p.keys[0]];if(!S)return F;const t={};t[S.name]={},p.keys.shift();const l=p.keys[Symbol.iterator](),g=p.data[Symbol.iterator](),h=((s=S.members)==null?void 0:s.filter(r=>r.kind==="key"))||S.keys,a=((i=S.members)==null?void 0:i.filter(r=>r.kind==="data"))||S.data;return h.forEach(r=>{t[S.name][r.name]=Sf(l,r,x,w,t[S.name])}),a.forEach(r=>{t[S.name][r.name]=Sf(g,r,x,w,t[S.name])}),F.push(t),F},[])}const RA={rpc:"https://starknet-goerli.g.alchemy.com/v2/Sxk1XpE0frZCVi3kHq9rESWNwP3dCHYC/"},wf={WORLD:"0x1cabeaae9e57c1358c1f2392362cc2f3f6b869f548959455222d8446f9f21a9",CREATURE_SYSTEM:"0x069ac89ab195e0118a55964ba9534b5c9487fd2b918564f47e5836bd561142da",ERC721:"0x05e3959b4351e1ac488e240eb97d52e25ed3b22d3e600976afa711e7f444ed0f"};class LA{async callContract(c,x,w=[]){wf[c]&&(c=wf[c]),w=w.map(p=>Cx.toHexString(p));const P=Ox.getSelectorFromName(x);return await(await fetch(RA.rpc,{body:JSON.stringify({id:1,jsonrpc:"2.0",method:"starknet_call",params:[{contract_address:c,entry_point_selector:P,calldata:w},"latest"]}),method:"POST"})).json()}async operate(c,x,w,P){return console.log({contractAddress:x,entrypoint:w,calldata:P}),c.account.execute({contractAddress:x,entrypoint:w,calldata:P})}}const Rc=new LA;function FA(e,c){return kx.starkCurve.pedersen(e,c)}const Dn={SYNC:"pending",CREATURE_SEED:"0x11AFF90B0A83462164ED0A7A06A6F5C1",PROBABILITY:"0x1000"};async function OA(){if(Dn.SYNC!="pending")return;Dn.SYNC="fetching";const e=await Rc.callContract("CREATURE_SYSTEM","creature_reveal_data");e!=null&&e.result&&(e==null?void 0:e.result.length)===2?(Dn.CREATURE_SEED=e==null?void 0:e.result[0],Dn.PROBABILITY=e==null?void 0:e.result[1],Dn.SYNC="done"):Dn.SYNC="pending"}function DA(e){return e=e.replace("0x",""),{high:"0x"+e.slice(0,-32),low:"0x"+e.slice(-32)}}function IA(e,c,x,w){const P=BigInt(x)*BigInt(4294967296)+BigInt(w),F=FA(BigInt(e),P),{high:p,low:S}=DA(F);return BigInt(1)===BigInt(S)%BigInt(c)}function my(e,c){const{CREATURE_SEED:x,PROBABILITY:w}=Dn;return IA(x,w,e,c)}async function NA(e,c){return my(e,c)?await Rc.callContract("CREATURE_SYSTEM","creature_on_coordinates",[e,c]):null}var Fs=(e=>(e.NORMAL="normal",e.RARE="rare",e.UNIQUE="unique",e.LEGENDARY="legendary",e))(Fs||{});function BA(e,c){return my(Math.round(e),Math.round(c))}async function GA(e,c){return typeof e!="string"&&(e=e.toString()),typeof c!="string"&&(c=c.toString()),await NA(e,c)}function zA(e){if(e<=1e4)return Fs.NORMAL;if(e<=11e3)return Fs.RARE;if(e<=12500)return Fs.UNIQUE;Fs.LEGENDARY}function UA(e){if(!e)return;let c="";for(let x=0;x<e.length;x+=2){const w=parseInt(e.substring(x,x+2),16);c+=String.fromCharCode(w)}return c.slice(1)}class bA extends Phaser.Scene{constructor(x,w){super("GameScene");Qt(this,"showDebug",!1);Qt(this,"player",null);Qt(this,"wallet",null);Qt(this,"helpText",null);Qt(this,"debugGraphics",null);Qt(this,"cursors",null);Qt(this,"map",null);Qt(this,"graphics",null);Qt(this,"square",null);Qt(this,"prevPlayerPosition",null);Qt(this,"spaceKey",null);Qt(this,"creatureLookupTimer",0);Qt(this,"spawnCoords",{x:0,y:0});Qt(this,"creaturesAtCoords",[]);Qt(this,"lookupsDone",{});Qt(this,"showModal",()=>{});Qt(this,"feedbackText",null);this.wallet=x,this.showModal=w}preload(){this.load.image("tiles","assets/catastrophi_tiles_32.png"),this.load.tilemapCSV("map","assets/catastrophi_level2.csv"),this.load.spritesheet("player","assets/spaceman.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("creatures","assets/question-mark.png",{frameWidth:32,frameHeight:32})}createAnimations(){this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("player",{start:8,end:9}),frameRate:10,repeat:-1}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("player",{start:1,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"up",frames:this.anims.generateFrameNumbers("player",{start:11,end:13}),frameRate:10,repeat:-1}),this.anims.create({key:"down",frames:this.anims.generateFrameNumbers("player",{start:4,end:6}),frameRate:10,repeat:-1})}create(){this.spawnCoords={x:256+Math.random()*65536,y:256+Math.random()*65536},this.spawnCoords={x:5051-12,y:10-5},this.map=this.make.tilemap({key:"map",tileWidth:32,tileHeight:32});const x=this.map.addTilesetImage("tiles");this.map.createLayer(0,x,0,0),this.graphics=this.add.graphics({lineStyle:{width:2,color:16711680},fillStyle:{color:16711680}}),this.feedbackText=this.add.text(400,300,"",{fontSize:"24px",fill:"#ffffff",align:"left"}).setOrigin(.9,-10).setVisible(!1),this.player=this.physics.add.sprite(400,300,"player",1),this.createAnimations(),this.cameras.main.setBounds(0,0,this.map.widthInPixels,this.map.heightInPixels),this.cameras.main.startFollow(this.player),this.cursors=this.input.keyboard.createCursorKeys(),this.spaceKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.spaceKey.on("down",this.handleSpacePress,this)}update(x,w){this.updatePlayer(),this.updateMap(),this.lookUpCreatureOnPlayerPosition(),this.renderLookedUpCreatures()}updateMap(){const x=this.map.getTileAtWorldXY(this.player.x,this.player.y);this.map.forEachTile(w=>{const P=Phaser.Math.Distance.Snake(x.x,x.y,w.x,w.y);w.setAlpha(1-.1*P)})}updatePlayer(){this.player.body.setVelocity(0),this.cursors.left.isDown?this.player.body.setVelocityX(-100):this.cursors.right.isDown?this.player.body.setVelocityX(100):this.cursors.up.isDown?this.player.body.setVelocityY(-100):this.cursors.down.isDown&&this.player.body.setVelocityY(100),this.cursors.left.isDown?this.player.anims.play("left",!0):this.cursors.right.isDown?this.player.anims.play("right",!0):this.cursors.up.isDown?this.player.anims.play("up",!0):this.cursors.down.isDown?this.player.anims.play("down",!0):this.player.anims.stop()}lookUpCreatureOnPlayerPosition(){const x=Date.now();if(x-this.creatureLookupTimer<500)return;this.creatureLookupTimer=x;let{x:w,y:P}=this.map.getTileAtWorldXY(this.player.x,this.player.y);w+=this.spawnCoords.x,P+=this.spawnCoords.y;const F=10;for(let p=w-F;p<=w+F;p++)for(let S=P-F;S<=P+F;S++)this.lookupsDone[p]=this.lookupsDone[p]||{},this.lookupsDone[p][S]||(BA(p,S)&&this.creaturesAtCoords.push({x:p-this.spawnCoords.x,y:S-this.spawnCoords.y}),this.lookupsDone[p][S]=1);window.creaturesAtCoords=this.creaturesAtCoords,window.lookupsDone=this.lookupsDone}renderLookedUpCreatures(){const{x,y:w,pixelX:P,pixelY:F,width:p,height:S}=this.map.getTileAtWorldXY(this.player.x,this.player.y);this.creaturesAtCoords.forEach(({x:t,y:l})=>{const g=P+(t-x)*p,h=F+(l-w)*S;this.physics.add.sprite(g+p/2,h+S/2,"creatures")})}async handleSpacePress(){let{x,y:w}=this.map.getTileAtWorldXY(this.player.x,this.player.y);x+=this.spawnCoords.x,w+=this.spawnCoords.y,console.log(x,w),this.setFeedbackText("Checking Starkmon details...");const{result:P}=await GA(x,w);if(P){const[F,p,S,t]=P,l=UA(S),g=zA(parseInt(t,16));this.showModal(!0,{id:F,name:l==null?void 0:l.toString(),stat:t,tier:g,x,y:w})}}setFeedbackText(x){this.feedbackText.setText(x),this.feedbackText.setVisible(!0),this.time.delayedCall(2e3,()=>{this.feedbackText&&this.feedbackText.setVisible(!1)},null,this)}}function qr(){}function xy(e){return e()}function jp(){return Object.create(null)}function or(e){e.forEach(xy)}function VA(e){return typeof e=="function"}function XA(e,c){return e!=e?c==c:e!==c||e&&typeof e=="object"||typeof e=="function"}let mo;function Mf(e,c){return mo||(mo=document.createElement("a")),mo.href=c,e===mo.href}function YA(e){return Object.keys(e).length===0}function Qh(e){return e??""}function re(e,c){e.appendChild(c)}function WA(e,c,x){const w=HA(e);if(!w.getElementById(c)){const P=Ne("style");P.id=c,P.textContent=x,$A(w,P)}}function HA(e){if(!e)return document;const c=e.getRootNode?e.getRootNode():e.ownerDocument;return c&&c.host?c:e.ownerDocument}function $A(e,c){re(e.head||e,c)}function Wa(e,c,x){e.insertBefore(c,x||null)}function us(e){e.parentNode.removeChild(e)}function Qp(e,c){for(let x=0;x<e.length;x+=1)e[x]&&e[x].d(c)}function Ne(e){return document.createElement(e)}function xl(e){return document.createTextNode(e)}function Br(){return xl(" ")}function di(e,c,x,w){return e.addEventListener(c,x,w),()=>e.removeEventListener(c,x,w)}function Tt(e,c,x){x==null?e.removeAttribute(c):e.getAttribute(c)!==x&&e.setAttribute(c,x)}function ZA(e){return Array.from(e.childNodes)}function KA(e,c){c=""+c,e.wholeText!==c&&(e.data=c)}let wa;function ks(e){wa=e}function kA(){if(!wa)throw new Error("Function called outside component initialization");return wa}function jA(e){kA().$$.on_mount.push(e)}const Os=[],Jp=[],Go=[],qp=[],QA=Promise.resolve();let Pf=!1;function JA(){Pf||(Pf=!0,QA.then(yy))}function Rf(e){Go.push(e)}const Jh=new Set;let xo=0;function yy(){const e=wa;do{for(;xo<Os.length;){const c=Os[xo];xo++,ks(c),qA(c.$$)}for(ks(null),Os.length=0,xo=0;Jp.length;)Jp.pop()();for(let c=0;c<Go.length;c+=1){const x=Go[c];Jh.has(x)||(Jh.add(x),x())}Go.length=0}while(Os.length);for(;qp.length;)qp.pop()();Pf=!1,Jh.clear(),ks(e)}function qA(e){if(e.fragment!==null){e.update(),or(e.before_update);const c=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,c),e.after_update.forEach(Rf)}}const _A=new Set;function tw(e,c){e&&e.i&&(_A.delete(e),e.i(c))}function ew(e,c,x,w){const{fragment:P,on_mount:F,on_destroy:p,after_update:S}=e.$$;P&&P.m(c,x),w||Rf(()=>{const t=F.map(xy).filter(VA);p?p.push(...t):or(t),e.$$.on_mount=[]}),S.forEach(Rf)}function iw(e,c){const x=e.$$;x.fragment!==null&&(or(x.on_destroy),x.fragment&&x.fragment.d(c),x.on_destroy=x.fragment=null,x.ctx=[])}function nw(e,c){e.$$.dirty[0]===-1&&(Os.push(e),JA(),e.$$.dirty.fill(0)),e.$$.dirty[c/31|0]|=1<<c%31}function rw(e,c,x,w,P,F,p,S=[-1]){const t=wa;ks(e);const l=e.$$={fragment:null,ctx:null,props:F,update:qr,not_equal:P,bound:jp(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(t?t.$$.context:[])),callbacks:jp(),dirty:S,skip_bound:!1,root:c.target||t.$$.root};p&&p(l.root);let g=!1;if(l.ctx=x?x(e,c.props||{},(h,a,...s)=>{const i=s.length?s[0]:a;return l.ctx&&P(l.ctx[h],l.ctx[h]=i)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](i),g&&nw(e,h)),a}):[],l.update(),g=!0,or(l.before_update),l.fragment=w?w(l.ctx):!1,c.target){if(c.hydrate){const h=ZA(c.target);l.fragment&&l.fragment.l(h),h.forEach(us)}else l.fragment&&l.fragment.c();c.intro&&tw(e.$$.fragment),ew(e,c.target,c.anchor,c.customElement),yy()}ks(t)}class sw{$destroy(){iw(this,1),this.$destroy=qr}$on(c,x){const w=this.$$.callbacks[c]||(this.$$.callbacks[c]=[]);return w.push(x),()=>{const P=w.indexOf(x);P!==-1&&w.splice(P,1)}}$set(c){this.$$set&&!YA(c)&&(this.$$.skip_bound=!0,this.$$set(c),this.$$.skip_bound=!1)}}function aw(e){WA(e,"svelte-1mtuslq",`.sr-only.svelte-1mtuslq.svelte-1mtuslq{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.fixed.svelte-1mtuslq.svelte-1mtuslq{position:fixed}.inset-0.svelte-1mtuslq.svelte-1mtuslq{top:0px;right:0px;bottom:0px;left:0px}.z-40.svelte-1mtuslq.svelte-1mtuslq{z-index:40}.z-50.svelte-1mtuslq.svelte-1mtuslq{z-index:50}.mx-6.svelte-1mtuslq.svelte-1mtuslq{margin-left:1.5rem;margin-right:1.5rem}.mb-4.svelte-1mtuslq.svelte-1mtuslq{margin-bottom:1rem}.flex.svelte-1mtuslq.svelte-1mtuslq{display:flex}.h-8.svelte-1mtuslq.svelte-1mtuslq{height:2rem}.w-full.svelte-1mtuslq.svelte-1mtuslq{width:100%}.w-8.svelte-1mtuslq.svelte-1mtuslq{width:2rem}.max-w-\\[500px\\].svelte-1mtuslq.svelte-1mtuslq{max-width:500px}@keyframes svelte-1mtuslq-spin{to{transform:rotate(360deg)}}.animate-spin.svelte-1mtuslq.svelte-1mtuslq{animation:svelte-1mtuslq-spin 1s linear infinite}.cursor-pointer.svelte-1mtuslq.svelte-1mtuslq{cursor:pointer}.flex-col.svelte-1mtuslq.svelte-1mtuslq{flex-direction:column}.items-center.svelte-1mtuslq.svelte-1mtuslq{align-items:center}.justify-center.svelte-1mtuslq.svelte-1mtuslq{justify-content:center}.justify-between.svelte-1mtuslq.svelte-1mtuslq{justify-content:space-between}.gap-3.svelte-1mtuslq.svelte-1mtuslq{gap:0.75rem}.rounded-md.svelte-1mtuslq.svelte-1mtuslq{border-radius:0.375rem}.rounded-full.svelte-1mtuslq.svelte-1mtuslq{border-radius:9999px}.bg-black\\/25.svelte-1mtuslq.svelte-1mtuslq{background-color:rgb(0 0 0 / 0.25)}.bg-slate-50.svelte-1mtuslq.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity))}.bg-slate-100.svelte-1mtuslq.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.fill-neutral-600.svelte-1mtuslq.svelte-1mtuslq{fill:#525252}.p-4.svelte-1mtuslq.svelte-1mtuslq{padding:1rem}.p-3.svelte-1mtuslq.svelte-1mtuslq{padding:0.75rem}.text-center.svelte-1mtuslq.svelte-1mtuslq{text-align:center}.text-xl.svelte-1mtuslq.svelte-1mtuslq{font-size:1.25rem;line-height:1.75rem}.text-neutral-300.svelte-1mtuslq.svelte-1mtuslq{--tw-text-opacity:1;color:rgb(212 212 212 / var(--tw-text-opacity))}.antialiased.svelte-1mtuslq.svelte-1mtuslq{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow.svelte-1mtuslq.svelte-1mtuslq{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm.svelte-1mtuslq.svelte-1mtuslq{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.filter.svelte-1mtuslq.svelte-1mtuslq{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm.svelte-1mtuslq.svelte-1mtuslq{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-colors.svelte-1mtuslq.svelte-1mtuslq{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.svelte-1mtuslq.svelte-1mtuslq,.svelte-1mtuslq.svelte-1mtuslq::before,.svelte-1mtuslq.svelte-1mtuslq::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}.svelte-1mtuslq.svelte-1mtuslq::before,.svelte-1mtuslq.svelte-1mtuslq::after{--tw-content:''}h1.svelte-1mtuslq.svelte-1mtuslq{font-size:inherit;font-weight:inherit}a.svelte-1mtuslq.svelte-1mtuslq{color:inherit;text-decoration:inherit}.svelte-1mtuslq.svelte-1mtuslq:-moz-focusring{outline:auto}.svelte-1mtuslq.svelte-1mtuslq:-moz-ui-invalid{box-shadow:none}.svelte-1mtuslq.svelte-1mtuslq::-webkit-inner-spin-button,.svelte-1mtuslq.svelte-1mtuslq::-webkit-outer-spin-button{height:auto}.svelte-1mtuslq.svelte-1mtuslq::-webkit-search-decoration{-webkit-appearance:none}.svelte-1mtuslq.svelte-1mtuslq::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h1.svelte-1mtuslq.svelte-1mtuslq{margin:0}ul.svelte-1mtuslq.svelte-1mtuslq{list-style:none;margin:0;padding:0}[role="button"].svelte-1mtuslq.svelte-1mtuslq{cursor:pointer}.svelte-1mtuslq.svelte-1mtuslq:disabled{cursor:default}img.svelte-1mtuslq.svelte-1mtuslq,svg.svelte-1mtuslq.svelte-1mtuslq{display:block;vertical-align:middle}img.svelte-1mtuslq.svelte-1mtuslq{max-width:100%;height:auto}.svelte-1mtuslq.svelte-1mtuslq,.svelte-1mtuslq.svelte-1mtuslq::before,.svelte-1mtuslq.svelte-1mtuslq::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }.svelte-1mtuslq.svelte-1mtuslq::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }.svelte-1mtuslq.svelte-1mtuslq{font-family:Nunito, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,
      Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue,
      sans-serif;-webkit-font-smoothing:antialiased}.hover\\:bg-slate-200.svelte-1mtuslq.svelte-1mtuslq:hover{--tw-bg-opacity:1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.dark.svelte-1mtuslq .dark\\:border-neutral-600.svelte-1mtuslq{--tw-border-opacity:1;border-color:rgb(82 82 82 / var(--tw-border-opacity))}.dark.svelte-1mtuslq .dark\\:bg-neutral-900.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(23 23 23 / var(--tw-bg-opacity))}.dark.svelte-1mtuslq .dark\\:bg-neutral-800.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(38 38 38 / var(--tw-bg-opacity))}.dark.svelte-1mtuslq .dark\\:fill-neutral-300.svelte-1mtuslq{fill:#d4d4d4}.dark.svelte-1mtuslq .dark\\:text-white.svelte-1mtuslq{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))}.dark.svelte-1mtuslq .dark\\:text-neutral-600.svelte-1mtuslq{--tw-text-opacity:1;color:rgb(82 82 82 / var(--tw-text-opacity))}.dark.svelte-1mtuslq .dark\\:hover\\:bg-neutral-700.svelte-1mtuslq:hover{--tw-bg-opacity:1;background-color:rgb(64 64 64 / var(--tw-bg-opacity))}`)}function _p(e,c,x){const w=e.slice();return w[20]=c[x],w}function t0(e,c,x){const w=e.slice();return w[23]=c[x],w}function ow(e){let c,x;return{c(){c=Ne("img"),Tt(c,"alt",e[23].name),Mf(c.src,x=e[23].icon)||Tt(c,"src",x),Tt(c,"class","w-8 h-8 rounded-full svelte-1mtuslq")},m(w,P){Wa(w,c,P)},p:qr,d(w){w&&us(c)}}}function lw(e){let c;return{c(){c=Ne("div"),c.innerHTML=`<svg aria-hidden="true" class="w-8 h-8 text-neutral-300 animate-spin dark:text-neutral-600 fill-neutral-600 dark:fill-neutral-300 svelte-1mtuslq" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor" class="svelte-1mtuslq"></path><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill" class="svelte-1mtuslq"></path></svg> 
              <span class="sr-only svelte-1mtuslq">Loading...</span>`,Tt(c,"role","status"),Tt(c,"class","svelte-1mtuslq")},m(x,w){Wa(x,c,w)},p:qr,d(x){x&&us(c)}}}function e0(e){let c,x=e[23].name+"",w,P,F,p;function S(a,s){return a[1]===a[23].id?lw:ow}let t=S(e),l=t(e);function g(){return e[12](e[23])}function h(...a){return e[13](e[23],...a)}return{c(){c=Ne("li"),w=xl(x),P=Br(),l.c(),Tt(c,"class","flex justify-between items-center p-3 bg-slate-100 rounded-md cursor-pointer shadow-sm hover:bg-slate-200 transition-colors dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:border-neutral-600 dark:text-white svelte-1mtuslq")},m(a,s){Wa(a,c,s),re(c,w),re(c,P),l.m(c,null),F||(p=[di(c,"click",g),di(c,"keyup",h)],F=!0)},p(a,s){e=a,t===(t=S(e))&&l?l.p(e,s):(l.d(1),l=t(e),l&&(l.c(),l.m(c,null)))},d(a){a&&us(c),l.d(),F=!1,or(p)}}}function i0(e){let c,x,w,P=e[20].name+"",F,p,S,t,l,g,h,a,s,i;return{c(){c=Ne("a"),x=Ne("li"),w=xl("Install "),F=xl(P),p=Br(),S=Ne("img"),g=Br(),Tt(S,"alt",t=e[20].name),Mf(S.src,l=e[20].icon)||Tt(S,"src",l),Tt(S,"class","w-8 h-8 rounded-full svelte-1mtuslq"),Tt(x,"class","flex justify-between items-center p-3 bg-slate-100 rounded-md shadow-sm cursor-pointer hover:bg-slate-200 transition-colors dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:border-neutral-600 dark:text-white svelte-1mtuslq"),Tt(c,"alt",h=e[20].name+" download link"),Tt(c,"href",a=e[20].download),Tt(c,"target","_blank"),Tt(c,"rel","noopener noreferrer"),Tt(c,"class","svelte-1mtuslq")},m(r,u){Wa(r,c,u),re(c,x),re(x,w),re(x,F),re(x,p),re(x,S),re(c,g),s||(i=[di(x,"click",e[14]),di(x,"keyup",e[15])],s=!0)},p(r,u){u&1&&P!==(P=r[20].name+"")&&KA(F,P),u&1&&t!==(t=r[20].name)&&Tt(S,"alt",t),u&1&&!Mf(S.src,l=r[20].icon)&&Tt(S,"src",l),u&1&&h!==(h=r[20].name+" download link")&&Tt(c,"alt",h),u&1&&a!==(a=r[20].download)&&Tt(c,"href",a)},d(r){r&&us(c),s=!1,or(i)}}}function hw(e){let c,x,w,P,F,p,S,t,l,g,h,a,s=e[4],i=[];for(let n=0;n<s.length;n+=1)i[n]=e0(t0(e,s,n));let r=e[0],u=[];for(let n=0;n<r.length;n+=1)u[n]=i0(_p(e,r,n));return{c(){c=Ne("div"),x=Ne("main"),w=Ne("header"),P=Ne("h1"),P.textContent="Connect a wallet",F=Br(),p=Ne("span"),p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" width="24px" viewBox="0 0 24 24" fill="currentColor" class="svelte-1mtuslq"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z" class="svelte-1mtuslq"></path></svg>',S=Br(),t=Ne("ul");for(let n=0;n<i.length;n+=1)i[n].c();l=Br();for(let n=0;n<u.length;n+=1)u[n].c();Tt(P,"class","text-xl svelte-1mtuslq"),Tt(p,"role","button"),Tt(p,"alt","Close"),Tt(p,"class","cursor-pointer svelte-1mtuslq"),Tt(w,"class","flex items-center justify-between mb-4 svelte-1mtuslq"),Tt(t,"class","flex flex-col gap-3 svelte-1mtuslq"),Tt(x,"role","dialog"),Tt(x,"class",Qh("bg-slate-50 rounded-md shadow w-full max-w-[500px] mx-6 p-4 text-center z-50 dark:bg-neutral-900 dark:text-white")+" svelte-1mtuslq"),Tt(c,"class",g=Qh("backdrop-blur-sm fixed inset-0 flex items-center justify-center bg-black/25 z-40 "+e[2])+" svelte-1mtuslq")},m(n,o){Wa(n,c,o),re(c,x),re(x,w),re(w,P),re(w,F),re(w,p),re(x,S),re(x,t);for(let f=0;f<i.length;f+=1)i[f].m(t,null);re(t,l);for(let f=0;f<u.length;f+=1)u[f].m(t,null);h||(a=[di(p,"click",e[10]),di(p,"keyup",e[11]),di(x,"click",uw),di(x,"keyup",fw),di(c,"click",e[16]),di(c,"keyup",e[17])],h=!0)},p(n,[o]){if(o&26){s=n[4];let f;for(f=0;f<s.length;f+=1){const d=t0(n,s,f);i[f]?i[f].p(d,o):(i[f]=e0(d),i[f].c(),i[f].m(t,l))}for(;f<i.length;f+=1)i[f].d(1);i.length=s.length}if(o&9){r=n[0];let f;for(f=0;f<r.length;f+=1){const d=_p(n,r,f);u[f]?u[f].p(d,o):(u[f]=i0(d),u[f].c(),u[f].m(t,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=r.length}o&4&&g!==(g=Qh("backdrop-blur-sm fixed inset-0 flex items-center justify-center bg-black/25 z-40 "+n[2])+" svelte-1mtuslq")&&Tt(c,"class",g)},i:qr,o:qr,d(n){n&&us(c),Qp(i,n),Qp(u,n),h=!1,or(a)}}}const uw=e=>e.stopPropagation(),fw=e=>e.stopPropagation();function dw(e,c,x){const w=typeof window<"u"?window:null;let{lastWallet:P=null}=c,{installedWallets:F=[]}=c,{preAuthorizedWallets:p=[]}=c,{discoveryWallets:S=[]}=c,{callback:t=async()=>{}}=c,{theme:l=null}=c,g=!1,h=async T=>{var E;x(1,g=(E=T==null?void 0:T.id)!=null?E:!1),await t(T).catch(()=>{}),x(1,g=!1)},a="";l==="dark"||l===null&&(w!=null&&w.matchMedia("(prefers-color-scheme: dark)").matches)?a="dark":a="";const s=T=>{x(2,a=T.matches?"dark":"")};jA(()=>{if(l===null)return w==null||w.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",s),()=>{w==null||w.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",s)}});const i=[P,...p,...F].filter(Boolean),r=()=>h(null),u=T=>{T.key==="Enter"&&h(null)},n=T=>h(T),o=(T,E)=>{E.key==="Enter"&&h(T)},f=()=>h(null),d=T=>{T.key==="Enter"&&h(null)},v=()=>h(null),m=T=>{T.key==="Escape"&&h(null)};return e.$$set=T=>{"lastWallet"in T&&x(5,P=T.lastWallet),"installedWallets"in T&&x(6,F=T.installedWallets),"preAuthorizedWallets"in T&&x(7,p=T.preAuthorizedWallets),"discoveryWallets"in T&&x(0,S=T.discoveryWallets),"callback"in T&&x(8,t=T.callback),"theme"in T&&x(9,l=T.theme)},[S,g,a,h,i,P,F,p,t,l,r,u,n,o,f,d,v,m]}class cw extends sw{constructor(c){super(),rw(this,c,dw,hw,XA,{lastWallet:5,installedWallets:6,preAuthorizedWallets:7,discoveryWallets:0,callback:8,theme:9},aw)}}function qh(e,c){return e.filter(x=>!c.some(w=>w.id===x.id))}async function vw({discoveryWallets:e,installedWallets:c,lastWallet:x,preAuthorizedWallets:w,enable:P,modalOptions:F}){return new Promise(p=>{var S;const t=[x].filter(Boolean);w=qh(w,t),c=qh(c,[...t,...w]),e=qh(e,[...t,...c,...w]);const l=new cw({target:document.body,props:{callback:async g=>{var h;const a=(h=await(P==null?void 0:P(g)))!=null?h:g;l.$destroy(),p(a)},lastWallet:x,installedWallets:c,preAuthorizedWallets:w,discoveryWallets:e,theme:(F==null?void 0:F.theme)==="system"?null:(S=F==null?void 0:F.theme)!=null?S:null}})})}const pw={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Ty={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},bt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ce={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Wi={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class et{static getFirstMatch(c,x){const w=x.match(c);return w&&w.length>0&&w[1]||""}static getSecondMatch(c,x){const w=x.match(c);return w&&w.length>1&&w[2]||""}static matchAndReturnConst(c,x,w){if(c.test(x))return w}static getWindowsVersionName(c){switch(c){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(c){const x=c.split(".").splice(0,2).map(w=>parseInt(w,10)||0);if(x.push(0),x[0]===10)switch(x[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(c){const x=c.split(".").splice(0,2).map(w=>parseInt(w,10)||0);if(x.push(0),!(x[0]===1&&x[1]<5)){if(x[0]===1&&x[1]<6)return"Cupcake";if(x[0]===1&&x[1]>=6)return"Donut";if(x[0]===2&&x[1]<2)return"Eclair";if(x[0]===2&&x[1]===2)return"Froyo";if(x[0]===2&&x[1]>2)return"Gingerbread";if(x[0]===3)return"Honeycomb";if(x[0]===4&&x[1]<1)return"Ice Cream Sandwich";if(x[0]===4&&x[1]<4)return"Jelly Bean";if(x[0]===4&&x[1]>=4)return"KitKat";if(x[0]===5)return"Lollipop";if(x[0]===6)return"Marshmallow";if(x[0]===7)return"Nougat";if(x[0]===8)return"Oreo";if(x[0]===9)return"Pie"}}static getVersionPrecision(c){return c.split(".").length}static compareVersions(c,x,w=!1){const P=et.getVersionPrecision(c),F=et.getVersionPrecision(x);let p=Math.max(P,F),S=0;const t=et.map([c,x],l=>{const g=p-et.getVersionPrecision(l),h=l+new Array(g+1).join(".0");return et.map(h.split("."),a=>new Array(20-a.length).join("0")+a).reverse()});for(w&&(S=p-Math.min(P,F)),p-=1;p>=S;){if(t[0][p]>t[1][p])return 1;if(t[0][p]===t[1][p]){if(p===S)return 0;p-=1}else if(t[0][p]<t[1][p])return-1}}static map(c,x){const w=[];let P;if(Array.prototype.map)return Array.prototype.map.call(c,x);for(P=0;P<c.length;P+=1)w.push(x(c[P]));return w}static find(c,x){let w,P;if(Array.prototype.find)return Array.prototype.find.call(c,x);for(w=0,P=c.length;w<P;w+=1){const F=c[w];if(x(F,w))return F}}static assign(c,...x){const w=c;let P,F;if(Object.assign)return Object.assign(c,...x);for(P=0,F=x.length;P<F;P+=1){const p=x[P];typeof p=="object"&&p!==null&&Object.keys(p).forEach(S=>{w[S]=p[S]})}return c}static getBrowserAlias(c){return pw[c]}static getBrowserTypeByAlias(c){return Ty[c]||""}}const Et=/version\/(\d+(\.?_?\d+)+)/i,gw=[{test:[/googlebot/i],describe(e){const c={name:"Googlebot"},x=et.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/opera/i],describe(e){const c={name:"Opera"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/opr\/|opios/i],describe(e){const c={name:"Opera"},x=et.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/SamsungBrowser/i],describe(e){const c={name:"Samsung Internet for Android"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/Whale/i],describe(e){const c={name:"NAVER Whale Browser"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/MZBrowser/i],describe(e){const c={name:"MZ Browser"},x=et.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/focus/i],describe(e){const c={name:"Focus"},x=et.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/swing/i],describe(e){const c={name:"Swing"},x=et.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/coast/i],describe(e){const c={name:"Opera Coast"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const c={name:"Opera Touch"},x=et.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/yabrowser/i],describe(e){const c={name:"Yandex Browser"},x=et.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/ucbrowser/i],describe(e){const c={name:"UC Browser"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/Maxthon|mxios/i],describe(e){const c={name:"Maxthon"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/epiphany/i],describe(e){const c={name:"Epiphany"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/puffin/i],describe(e){const c={name:"Puffin"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/sleipnir/i],describe(e){const c={name:"Sleipnir"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/k-meleon/i],describe(e){const c={name:"K-Meleon"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/micromessenger/i],describe(e){const c={name:"WeChat"},x=et.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/qqbrowser/i],describe(e){const c={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},x=et.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/msie|trident/i],describe(e){const c={name:"Internet Explorer"},x=et.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/\sedg\//i],describe(e){const c={name:"Microsoft Edge"},x=et.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/edg([ea]|ios)/i],describe(e){const c={name:"Microsoft Edge"},x=et.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/vivaldi/i],describe(e){const c={name:"Vivaldi"},x=et.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/seamonkey/i],describe(e){const c={name:"SeaMonkey"},x=et.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/sailfish/i],describe(e){const c={name:"Sailfish"},x=et.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return x&&(c.version=x),c}},{test:[/silk/i],describe(e){const c={name:"Amazon Silk"},x=et.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/phantom/i],describe(e){const c={name:"PhantomJS"},x=et.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/slimerjs/i],describe(e){const c={name:"SlimerJS"},x=et.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const c={name:"BlackBerry"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/(web|hpw)[o0]s/i],describe(e){const c={name:"WebOS Browser"},x=et.getFirstMatch(Et,e)||et.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/bada/i],describe(e){const c={name:"Bada"},x=et.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/tizen/i],describe(e){const c={name:"Tizen"},x=et.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/qupzilla/i],describe(e){const c={name:"QupZilla"},x=et.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/firefox|iceweasel|fxios/i],describe(e){const c={name:"Firefox"},x=et.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/electron/i],describe(e){const c={name:"Electron"},x=et.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/MiuiBrowser/i],describe(e){const c={name:"Miui"},x=et.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/chromium/i],describe(e){const c={name:"Chromium"},x=et.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/chrome|crios|crmo/i],describe(e){const c={name:"Chrome"},x=et.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/GSA/i],describe(e){const c={name:"Google Search"},x=et.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test(e){const c=!e.test(/like android/i),x=e.test(/android/i);return c&&x},describe(e){const c={name:"Android Browser"},x=et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/playstation 4/i],describe(e){const c={name:"PlayStation 4"},x=et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/safari|applewebkit/i],describe(e){const c={name:"Safari"},x=et.getFirstMatch(Et,e);return x&&(c.version=x),c}},{test:[/.*/i],describe(e){const c=/^(.*)\/(.*) /,x=/^(.*)\/(.*)[ \t]\((.*)/,w=e.search("\\(")!==-1?x:c;return{name:et.getFirstMatch(w,e),version:et.getSecondMatch(w,e)}}}],mw=[{test:[/Roku\/DVP/],describe(e){const c=et.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:ce.Roku,version:c}}},{test:[/windows phone/i],describe(e){const c=et.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:ce.WindowsPhone,version:c}}},{test:[/windows /i],describe(e){const c=et.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),x=et.getWindowsVersionName(c);return{name:ce.Windows,version:c,versionName:x}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const c={name:ce.iOS},x=et.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return x&&(c.version=x),c}},{test:[/macintosh/i],describe(e){const c=et.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),x=et.getMacOSVersionName(c),w={name:ce.MacOS,version:c};return x&&(w.versionName=x),w}},{test:[/(ipod|iphone|ipad)/i],describe(e){const c=et.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:ce.iOS,version:c}}},{test(e){const c=!e.test(/like android/i),x=e.test(/android/i);return c&&x},describe(e){const c=et.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),x=et.getAndroidVersionName(c),w={name:ce.Android,version:c};return x&&(w.versionName=x),w}},{test:[/(web|hpw)[o0]s/i],describe(e){const c=et.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),x={name:ce.WebOS};return c&&c.length&&(x.version=c),x}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const c=et.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||et.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||et.getFirstMatch(/\bbb(\d+)/i,e);return{name:ce.BlackBerry,version:c}}},{test:[/bada/i],describe(e){const c=et.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:ce.Bada,version:c}}},{test:[/tizen/i],describe(e){const c=et.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:ce.Tizen,version:c}}},{test:[/linux/i],describe(){return{name:ce.Linux}}},{test:[/CrOS/],describe(){return{name:ce.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const c=et.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:ce.PlayStation4,version:c}}}],xw=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const c=et.getFirstMatch(/(can-l01)/i,e)&&"Nova",x={type:bt.mobile,vendor:"Huawei"};return c&&(x.model=c),x}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:bt.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:bt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:bt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:bt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:bt.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:bt.tablet}}},{test(e){const c=e.test(/ipod|iphone/i),x=e.test(/like (ipod|iphone)/i);return c&&!x},describe(e){const c=et.getFirstMatch(/(ipod|iphone)/i,e);return{type:bt.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:bt.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:bt.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:bt.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:bt.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:bt.mobile,vendor:"Microsoft"}}},{test(e){const c=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&c>=3},describe(){return{type:bt.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:bt.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:bt.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:bt.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:bt.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:bt.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:bt.tv}}}],yw=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:Wi.Blink};const c=et.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Wi.EdgeHTML,version:c}}},{test:[/trident/i],describe(e){const c={name:Wi.Trident},x=et.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test(e){return e.test(/presto/i)},describe(e){const c={name:Wi.Presto},x=et.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test(e){const c=e.test(/gecko/i),x=e.test(/like gecko/i);return c&&!x},describe(e){const c={name:Wi.Gecko},x=et.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Wi.Blink}}},{test:[/(apple)?webkit/i],describe(e){const c={name:Wi.WebKit},x=et.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return x&&(c.version=x),c}}];class n0{constructor(c,x=!1){if(c==null||c==="")throw new Error("UserAgent parameter can't be empty");this._ua=c,this.parsedResult={},x!==!0&&this.parse()}getUA(){return this._ua}test(c){return c.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const c=et.find(gw,x=>{if(typeof x.test=="function")return x.test(this);if(x.test instanceof Array)return x.test.some(w=>this.test(w));throw new Error("Browser's test function is not valid")});return c&&(this.parsedResult.browser=c.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(c){return c?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const c=et.find(mw,x=>{if(typeof x.test=="function")return x.test(this);if(x.test instanceof Array)return x.test.some(w=>this.test(w));throw new Error("Browser's test function is not valid")});return c&&(this.parsedResult.os=c.describe(this.getUA())),this.parsedResult.os}getOSName(c){const{name:x}=this.getOS();return c?String(x).toLowerCase()||"":x||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(c=!1){const{type:x}=this.getPlatform();return c?String(x).toLowerCase()||"":x||""}parsePlatform(){this.parsedResult.platform={};const c=et.find(xw,x=>{if(typeof x.test=="function")return x.test(this);if(x.test instanceof Array)return x.test.some(w=>this.test(w));throw new Error("Browser's test function is not valid")});return c&&(this.parsedResult.platform=c.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(c){return c?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const c=et.find(yw,x=>{if(typeof x.test=="function")return x.test(this);if(x.test instanceof Array)return x.test.some(w=>this.test(w));throw new Error("Browser's test function is not valid")});return c&&(this.parsedResult.engine=c.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return et.assign({},this.parsedResult)}satisfies(c){const x={};let w=0;const P={};let F=0;if(Object.keys(c).forEach(p=>{const S=c[p];typeof S=="string"?(P[p]=S,F+=1):typeof S=="object"&&(x[p]=S,w+=1)}),w>0){const p=Object.keys(x),S=et.find(p,l=>this.isOS(l));if(S){const l=this.satisfies(x[S]);if(l!==void 0)return l}const t=et.find(p,l=>this.isPlatform(l));if(t){const l=this.satisfies(x[t]);if(l!==void 0)return l}}if(F>0){const p=Object.keys(P),S=et.find(p,t=>this.isBrowser(t,!0));if(S!==void 0)return this.compareVersion(P[S])}}isBrowser(c,x=!1){const w=this.getBrowserName().toLowerCase();let P=c.toLowerCase();const F=et.getBrowserTypeByAlias(P);return x&&F&&(P=F.toLowerCase()),P===w}compareVersion(c){let x=[0],w=c,P=!1;const F=this.getBrowserVersion();if(typeof F=="string")return c[0]===">"||c[0]==="<"?(w=c.substr(1),c[1]==="="?(P=!0,w=c.substr(2)):x=[],c[0]===">"?x.push(1):x.push(-1)):c[0]==="="?w=c.substr(1):c[0]==="~"&&(P=!0,w=c.substr(1)),x.indexOf(et.compareVersions(F,w,P))>-1}isOS(c){return this.getOSName(!0)===String(c).toLowerCase()}isPlatform(c){return this.getPlatformType(!0)===String(c).toLowerCase()}isEngine(c){return this.getEngineName(!0)===String(c).toLowerCase()}is(c,x=!1){return this.isBrowser(c,x)||this.isOS(c)||this.isPlatform(c)}some(c=[]){return c.some(x=>this.is(x))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Tw{static getParser(c,x=!1){if(typeof c!="string")throw new Error("UserAgent should be a string");return new n0(c,x)}static parse(c){return new n0(c).getResult()}static get BROWSER_MAP(){return Ty}static get ENGINE_MAP(){return Wi}static get OS_MAP(){return ce}static get PLATFORMS_MAP(){return bt}}var Sw=Object.defineProperty,Ew=(e,c,x)=>c in e?Sw(e,c,{enumerable:!0,configurable:!0,writable:!0,value:x}):e[c]=x,Cw=(e,c,x)=>(Ew(e,typeof c!="symbol"?c+"":c,x),x),Lc=(e,c,x)=>{if(!c.has(e))throw TypeError("Cannot "+x)},ti=(e,c,x)=>(Lc(e,c,"read from private field"),x?x.call(e):c.get(e)),Es=(e,c,x)=>{if(c.has(e))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(e):c.set(e,x)},yl=(e,c,x,w)=>(Lc(e,c,"write to private field"),w?w.call(e,x):c.set(e,x),x),yo=(e,c,x)=>(Lc(e,c,"access private method"),x);const Aw=[{id:"argentX",name:"Argent X",icon:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjQwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgNDAgMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNC43NTgyIC0zLjk3MzY0ZS0wN0gxNC42MjM4QzE0LjI4NTEgLTMuOTczNjRlLTA3IDE0LjAxMzggMC4yODExNzggMTQuMDA2NCAwLjYzMDY4M0MxMy44MDE3IDEwLjQ1NDkgOC44MjIzNCAxOS43NzkyIDAuMjUxODkzIDI2LjM4MzdDLTAuMDIwMjA0NiAyNi41OTMzIC0wLjA4MjE5NDYgMjYuOTg3MiAwLjExNjczNCAyNy4yNzA5TDYuMDQ2MjMgMzUuNzM0QzYuMjQ3OTYgMzYuMDIyIDYuNjQwOTkgMzYuMDg3IDYuOTE3NjYgMzUuODc1NEMxMi4yNzY1IDMxLjc3MjggMTYuNTg2OSAyNi44MjM2IDE5LjY5MSAyMS4zMzhDMjIuNzk1MSAyNi44MjM2IDI3LjEwNTcgMzEuNzcyOCAzMi40NjQ2IDM1Ljg3NTRDMzIuNzQxIDM2LjA4NyAzMy4xMzQxIDM2LjAyMiAzMy4zMzYxIDM1LjczNEwzOS4yNjU2IDI3LjI3MDlDMzkuNDY0MiAyNi45ODcyIDM5LjQwMjIgMjYuNTkzMyAzOS4xMzA0IDI2LjM4MzdDMzAuNTU5NyAxOS43NzkyIDI1LjU4MDQgMTAuNDU0OSAyNS4zNzU5IDAuNjMwNjgzQzI1LjM2ODUgMC4yODExNzggMjUuMDk2OSAtMy45NzM2NGUtMDcgMjQuNzU4MiAtMy45NzM2NGUtMDdaIiBmaWxsPSIjRkY4NzVCIi8+Cjwvc3ZnPgo=",downloads:{chrome:"https://chrome.google.com/webstore/detail/argent-x-starknet-wallet/dlcobpjiigpikoobohmabehhmhfoodbb",firefox:"https://addons.mozilla.org/en-US/firefox/addon/argent-x"}},{id:"braavos",name:"Braavos",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aAogICAgICAgIGQ9Ik02Mi43MDUgMTMuOTExNkM2Mi44MzU5IDE0LjEzMzMgNjIuNjYyMSAxNC40MDcgNjIuNDAzOSAxNC40MDdDNTcuMTgwNyAxNC40MDcgNTIuOTM0OCAxOC41NDI3IDUyLjgzNTEgMjMuNjgxN0M1MS4wNDY1IDIzLjM0NzcgNDkuMTkzMyAyMy4zMjI2IDQ3LjM2MjYgMjMuNjMxMUM0Ny4yMzYxIDE4LjUxNTYgNDMuMDAwOSAxNC40MDcgMzcuNzk0OCAxNC40MDdDMzcuNTM2NSAxNC40MDcgMzcuMzYyNSAxNC4xMzMxIDM3LjQ5MzUgMTMuOTExMkM0MC4wMjE3IDkuNjI4MDkgNDQuNzIwNCA2Ljc1IDUwLjA5OTEgNi43NUM1NS40NzgxIDYuNzUgNjAuMTc2OSA5LjYyODI2IDYyLjcwNSAxMy45MTE2WiIKICAgICAgICBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMzcyXzQwMjU5KSIgLz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTc4Ljc2MDYgNDUuODcxOEM4MC4yNzI1IDQ2LjMyOTcgODEuNzAyNSA0NS4wMDU1IDgxLjE3MTQgNDMuNTIyMkM3Ni40MTM3IDMwLjIzMzQgNjEuMzkxMSAyNC44MDM5IDUwLjAyNzcgMjQuODAzOUMzOC42NDQyIDI0LjgwMzkgMjMuMjg2OCAzMC40MDcgMTguODc1NCA0My41OTEyQzE4LjM4MjQgNDUuMDY0NSAxOS44MDgzIDQ2LjM0NDYgMjEuMjk3OCA0NS44ODgxTDQ4Ljg3MiAzNy40MzgxQzQ5LjUzMzEgMzcuMjM1NSA1MC4yMzk5IDM3LjIzNDQgNTAuOTAxNyAzNy40MzQ4TDc4Ljc2MDYgNDUuODcxOFoiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xOC44MTMyIDQ4LjE3MDdMNDguODkzNSAzOS4wNDcyQzQ5LjU1MDYgMzguODQ3OCA1MC4yNTI0IDM4Ljg0NzMgNTAuOTA5OCAzOS4wNDU2TDgxLjE3ODEgNDguMTc1MkM4My42OTEyIDQ4LjkzMzIgODUuNDExIDUxLjI0ODMgODUuNDExIDUzLjg3MzVWODEuMjIzM0M4NS4yOTQ0IDg3Ljg5OTEgNzkuMjk3NyA5My4yNSA3Mi42MjQ1IDkzLjI1SDYxLjU0MDZDNjAuNDQ0OSA5My4yNSA1OS41NTc3IDkyLjM2MzcgNTkuNTU3NyA5MS4yNjhWODEuNjc4OUM1OS41NTc3IDc3LjkwMzEgNjEuNzkyMSA3NC40ODU1IDY1LjI0OTggNzIuOTcyOUM2OS44ODQ5IDcwLjk0NTQgNzUuMzY4MSA2OC4yMDI4IDc2LjM5OTQgNjIuNjk5MkM3Ni43MzIzIDYwLjkyMjkgNzUuNTc0MSA1OS4yMDk0IDczLjgwMjQgNTguODU3M0M2OS4zMjI2IDU3Ljk2NjcgNjQuMzU2MiA1OC4zMTA3IDYwLjE1NjQgNjAuMTg5M0M1NS4zODg3IDYyLjMyMTkgNTQuMTQxNSA2NS44Njk0IDUzLjY3OTcgNzAuNjMzN0w1My4xMjAxIDc1Ljc2NjJDNTIuOTQ5MSA3Ny4zMzQ5IDUxLjQ3ODUgNzguNTM2NiA0OS45MDE0IDc4LjUzNjZDNDguMjY5OSA3OC41MzY2IDQ3LjA0NjUgNzcuMjk0IDQ2Ljg2OTYgNzUuNjcxMkw0Ni4zMjA0IDcwLjYzMzdDNDUuOTI0OSA2Ni41NTI5IDQ1LjIwNzkgNjIuNTg4NyA0MC45ODk1IDYwLjcwMThDMzYuMTc3NiA1OC41NDk0IDMxLjM0MTkgNTcuODM0NyAyNi4xOTc2IDU4Ljg1NzNDMjQuNDI2IDU5LjIwOTQgMjMuMjY3OCA2MC45MjI5IDIzLjYwMDcgNjIuNjk5MkMyNC42NDEgNjguMjUwNyAzMC4wODEyIDcwLjkzMDUgMzQuNzUwMyA3Mi45NzI5QzM4LjIwOCA3NC40ODU1IDQwLjQ0MjQgNzcuOTAzMSA0MC40NDI0IDgxLjY3ODlWOTEuMjY2M0M0MC40NDI0IDkyLjM2MiAzOS41NTU1IDkzLjI1IDM4LjQ1OTkgOTMuMjVIMjcuMzc1NkMyMC43MDI0IDkzLjI1IDE0LjcwNTcgODcuODk5MSAxNC41ODkxIDgxLjIyMzNWNTMuODY2M0MxNC41ODkxIDUxLjI0NDYgMTYuMzA0NSA0OC45MzE2IDE4LjgxMzIgNDguMTcwN1oiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDJfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMzcyXzQwMjU5IiB4MT0iNDkuMzA1NyIgeTE9IjIuMDc5IiB4Mj0iODAuMzYyNyIgeTI9IjkzLjY1OTciCiAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIgLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRkY5NjAwIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3Ml80MDI1OSIgeDE9IjQ5LjMwNTciIHkxPSIyLjA3OSIgeDI9IjgwLjM2MjciIHkyPSI5My42NTk3IgogICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNUQ0NUUiIC8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGOTYwMCIgLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl8zNzJfNDAyNTkiIHgxPSI0OS4zMDU3IiB5MT0iMi4wNzkiIHgyPSI4MC4zNjI3IiB5Mj0iOTMuNjU5NyIKICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjVENDVFIiAvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiIC8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KPC9zdmc+",downloads:{chrome:"https://chrome.google.com/webstore/detail/braavos-wallet/jnlgamecbpmbajjfhmmmlhejkemejdma",firefox:"https://addons.mozilla.org/en-US/firefox/addon/braavos-wallet",edge:"https://microsoftedge.microsoft.com/addons/detail/braavos-wallet/hkkpjehhcnhgefhbdcgfkeegglpjchdc"}}],ww=()=>`${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,r0=e=>{for(let c=e.length-1;c>0;c--){const x=Math.floor(Math.random()*(c+1));[e[c],e[x]]=[e[x],e[c]]}return e};function _h(...e){return c=>e.reduce((x,w)=>x.then(w),Promise.resolve(c))}var Wn,Ri,js,Lf,Sy,Ds,zo;class Mw{constructor(c){Es(this,Lf),Es(this,Ds),Es(this,Wn,!1),Es(this,Ri,void 0),Es(this,js,void 0),Cw(this,"value"),yl(this,js,c),yo(this,Ds,zo).call(this)}set(c){return!ti(this,Wn)&&!yo(this,Ds,zo).call(this)?!1:(this.delete(),this.value=c,c&&(yl(this,Ri,`${ti(this,js)}-${ww()}`),localStorage.setItem(ti(this,Ri),c)),!0)}get(){return yo(this,Lf,Sy).call(this),this.value}delete(){return!ti(this,Wn)&&!yo(this,Ds,zo).call(this)?!1:(this.value=null,ti(this,Ri)&&localStorage.removeItem(ti(this,Ri)),!0)}}Wn=new WeakMap,Ri=new WeakMap,js=new WeakMap,Lf=new WeakSet,Sy=function(){this.value&&this.set(this.value)},Ds=new WeakSet,zo=function(){try{!ti(this,Wn)&&typeof window<"u"&&(yl(this,Ri,Object.keys(localStorage).find(e=>e.startsWith(ti(this,js)))),yl(this,Wn,!0),ti(this,Ri)&&this.set(localStorage.getItem(ti(this,Ri))))}catch(e){console.warn(e)}return ti(this,Wn)};function tu(e,c){var x,w;if((x=c==null?void 0:c.include)!=null&&x.length){const P=new Set(c.include);return e.filter(F=>P.has(F.id))}if((w=c==null?void 0:c.exclude)!=null&&w.length){const P=new Set(c.exclude);return e.filter(F=>!P.has(F.id))}return e}const s0=async e=>{const c=await Promise.all(e.map(x=>x.isPreauthorized().catch(()=>!1)));return e.filter((x,w)=>c[w])},Pw=e=>{try{return e&&["request","isConnected","provider","enable","isPreauthorized","on","off","version","id","name","icon"].every(c=>c in e)}catch{}return!1};function eu(e,c){return Object.values(Object.getOwnPropertyNames(e).reduce((x,w)=>{if(w.startsWith("starknet")){const P=e[w];c(P)&&!x[P.id]&&(x[P.id]=P)}return x},{}))}const iu=(e,c)=>{if(c&&Array.isArray(c)){e.sort((w,P)=>c.indexOf(w.id)-c.indexOf(P.id));const x=e.length-c.length;return[...e.slice(x),...r0(e.slice(0,x))]}else return r0(e)},Rw=typeof window<"u"?window:{},Lw={windowObject:Rw,isWalletObject:Pw,storageFactoryImplementation:e=>new Mw(e)};function Fw(e={}){const{storageFactoryImplementation:c,windowObject:x,isWalletObject:w}={...Lw,...e},P=c("gsw-last");return{getAvailableWallets:async(F={})=>{const p=eu(x,w);return _h(S=>tu(S,F),S=>iu(S,F.sort))(p)},getPreAuthorizedWallets:async(F={})=>{const p=eu(x,w);return _h(S=>s0(S),S=>tu(S,F),S=>iu(S,F.sort))(p)},getDiscoveryWallets:async(F={})=>_h(p=>tu(p,F),p=>iu(p,F.sort))(Aw),getLastConnectedWallet:async()=>{const F=P.get(),p=eu(x,w).find(t=>t.id===F),[S]=await s0(p?[p]:[]);return S||(P.delete(),null)},enable:async(F,p)=>{if(await F.enable(p??{starknetVersion:"v5"}),!F.isConnected)throw new Error("Failed to connect to wallet");return P.set(F.id),F},disconnect:async({clearLastWallet:F}={})=>{F&&P.delete()}}}const Is=Fw(),a0=typeof window<"u"?window:null;function Ow(){var e;switch((e=Tw.getParser(a0==null?void 0:a0.navigator.userAgent).getBrowserName())==null?void 0:e.toLowerCase()){case"firefox":return"firefox";case"microsoft edge":return"edge";case"android browser":case"chrome":case"chromium":case"electron":case"opera":case"vivaldi":return"chrome";default:return null}}const nu=async e=>e?Is.enable(e,{starknetVersion:"v5"}).catch(()=>null):null,o0=async({modalMode:e="canAsk",storeVersion:c=Ow(),modalTheme:x,...w}={})=>{var P,F;const p=await Is.getPreAuthorizedWallets({...w}),S=await Is.getLastConnectedWallet();if(e==="neverAsk"){const g=(P=p.find(h=>h.id===(S==null?void 0:S.id)))!=null?P:p[0];return nu(g)}const t=await Is.getAvailableWallets(w);if(e==="canAsk"&&S){const g=((F=p.find(h=>h.id===(S==null?void 0:S.id)))!=null?F:t.length===1)?t[0]:void 0;if(g)return nu(g)}const l=(await Is.getDiscoveryWallets(w)).filter(g=>!!g.downloads[c]).map(({downloads:g,...h})=>({...h,download:g[c]}));return vw({lastWallet:S,preAuthorizedWallets:p,installedWallets:t,discoveryWallets:l,enable:nu,modalOptions:{theme:x}})},Dw="_modalOverlay_syi1i_1",Iw="_modalContent_syi1i_13",Nw="_closeButton_syi1i_21",Bw="_claimButton_syi1i_51",To={modalOverlay:Dw,modalContent:Iw,closeButton:Nw,claimButton:Bw};function Gw({show:e,onClose:c,creatureDetails:x,handleClaim:w}){const[P,F]=Mi.useState(!1);if(!e)return null;const p=()=>{w&&(w(),F(!0))},S=()=>P?Ct.jsx(Ct.Fragment,{children:Ct.jsxs("div",{children:[Ct.jsx("h4",{children:"Starkmon is being claimed..."}),Ct.jsx("p",{children:"You can continue your game after accept or decline to claim"})]})}):Ct.jsxs(Ct.Fragment,{children:[Ct.jsx("img",{style:{backgroundImage:`url(http://localhost:5173/assets/starkmons/${t}.png)`},width:256,height:256}),Ct.jsxs("div",{children:[Ct.jsx("h4",{children:"Starkmon Details"}),Ct.jsxs("p",{children:["Name: ",t]}),Ct.jsxs("p",{children:["Tier: ",l]})]}),Ct.jsx("button",{onClick:p,className:To.claimButton,children:"Claim"})]}),{name:t,tier:l}=x;return Ct.jsx("div",{className:To.modalOverlay,children:Ct.jsxs("div",{className:To.modalContent,children:[Ct.jsx("button",{onClick:c,className:To.closeButton}),S()]})})}function zw(){const e=Mi.useRef(null),[c,x]=Mi.useState(null),[w,P]=Mi.useState(!1),[F,p]=Mi.useState(),S=(t,l)=>{P(t),p(l)};return Mi.useEffect(()=>{if(e.current){c||o0({modalMode:"neverAsk"}).then(async g=>{x(g),await OA()});const t={type:bv.AUTO,width:800,height:600,pixelArt:!0,physics:{default:"arcade"},scene:[new bA(c,S)],parent:e.current},l=new bv.Game(t);return()=>{l.destroy(!0)}}},[e,c]),Ct.jsxs("div",{className:"App",children:[!c||!c.isConnected?Ct.jsxs(Ct.Fragment,{children:[Ct.jsx("h4",{children:"Wallet not connected, exploration only mode."}),Ct.jsx("button",{onClick:()=>o0(),children:"Connect wallet"})]}):Ct.jsx(Ct.Fragment,{}),w&&Ct.jsx(Gw,{show:w,onClose:()=>S(!1,F),creatureDetails:F,handleClaim:()=>{c&&Rc.operate(c,wf.CREATURE_SYSTEM,"claim_creature_on_coordinates",[F.x,F.y])}}),Ct.jsx("div",{ref:e})]})}ru.createRoot(document.getElementById("root")).render(Ct.jsx(by.StrictMode,{children:Ct.jsx(zw,{})}));
